{"version":3,"file":"main.js","sources":["webpack://marketplace-api/../../node_modules/.bun/@module-federation+error-codes@0.19.1/node_modules/@module-federation/error-codes/dist/index.cjs.js","webpack://marketplace-api/../../node_modules/.bun/@zorsh+zorsh@0.4.0/node_modules/@zorsh/zorsh/dist/src/binary-io.js","webpack://marketplace-api/../../node_modules/.bun/@zorsh+zorsh@0.4.0/node_modules/@zorsh/zorsh/dist/src/index.js","webpack://marketplace-api/../../node_modules/.bun/@zorsh+zorsh@0.4.0/node_modules/@zorsh/zorsh/dist/src/registry.js","webpack://marketplace-api/../../node_modules/.bun/@zorsh+zorsh@0.4.0/node_modules/@zorsh/zorsh/dist/src/schema.js","webpack://marketplace-api/../../node_modules/.bun/call-bind-apply-helpers@1.0.2/node_modules/call-bind-apply-helpers/actualApply.js","webpack://marketplace-api/../../node_modules/.bun/call-bind-apply-helpers@1.0.2/node_modules/call-bind-apply-helpers/functionApply.js","webpack://marketplace-api/../../node_modules/.bun/call-bind-apply-helpers@1.0.2/node_modules/call-bind-apply-helpers/functionCall.js","webpack://marketplace-api/../../node_modules/.bun/call-bind-apply-helpers@1.0.2/node_modules/call-bind-apply-helpers/index.js","webpack://marketplace-api/../../node_modules/.bun/call-bind-apply-helpers@1.0.2/node_modules/call-bind-apply-helpers/reflectApply.js","webpack://marketplace-api/../../node_modules/.bun/call-bound@1.0.4/node_modules/call-bound/index.js","webpack://marketplace-api/../../node_modules/.bun/dunder-proto@1.0.1/node_modules/dunder-proto/get.js","webpack://marketplace-api/../../node_modules/.bun/es-define-property@1.0.1/node_modules/es-define-property/index.js","webpack://marketplace-api/../../node_modules/.bun/es-errors@1.3.0/node_modules/es-errors/eval.js","webpack://marketplace-api/../../node_modules/.bun/es-errors@1.3.0/node_modules/es-errors/index.js","webpack://marketplace-api/../../node_modules/.bun/es-errors@1.3.0/node_modules/es-errors/range.js","webpack://marketplace-api/../../node_modules/.bun/es-errors@1.3.0/node_modules/es-errors/ref.js","webpack://marketplace-api/../../node_modules/.bun/es-errors@1.3.0/node_modules/es-errors/syntax.js","webpack://marketplace-api/../../node_modules/.bun/es-errors@1.3.0/node_modules/es-errors/type.js","webpack://marketplace-api/../../node_modules/.bun/es-errors@1.3.0/node_modules/es-errors/uri.js","webpack://marketplace-api/../../node_modules/.bun/es-object-atoms@1.1.1/node_modules/es-object-atoms/index.js","webpack://marketplace-api/../../node_modules/.bun/function-bind@1.1.2/node_modules/function-bind/implementation.js","webpack://marketplace-api/../../node_modules/.bun/function-bind@1.1.2/node_modules/function-bind/index.js","webpack://marketplace-api/../../node_modules/.bun/get-intrinsic@1.3.0/node_modules/get-intrinsic/index.js","webpack://marketplace-api/../../node_modules/.bun/get-proto@1.0.1/node_modules/get-proto/Object.getPrototypeOf.js","webpack://marketplace-api/../../node_modules/.bun/get-proto@1.0.1/node_modules/get-proto/Reflect.getPrototypeOf.js","webpack://marketplace-api/../../node_modules/.bun/get-proto@1.0.1/node_modules/get-proto/index.js","webpack://marketplace-api/../../node_modules/.bun/gopd@1.2.0/node_modules/gopd/gOPD.js","webpack://marketplace-api/../../node_modules/.bun/gopd@1.2.0/node_modules/gopd/index.js","webpack://marketplace-api/../../node_modules/.bun/has-symbols@1.1.0/node_modules/has-symbols/index.js","webpack://marketplace-api/../../node_modules/.bun/has-symbols@1.1.0/node_modules/has-symbols/shams.js","webpack://marketplace-api/../../node_modules/.bun/hasown@2.0.2/node_modules/hasown/index.js","webpack://marketplace-api/../../node_modules/.bun/math-intrinsics@1.1.0/node_modules/math-intrinsics/abs.js","webpack://marketplace-api/../../node_modules/.bun/math-intrinsics@1.1.0/node_modules/math-intrinsics/floor.js","webpack://marketplace-api/../../node_modules/.bun/math-intrinsics@1.1.0/node_modules/math-intrinsics/isNaN.js","webpack://marketplace-api/../../node_modules/.bun/math-intrinsics@1.1.0/node_modules/math-intrinsics/max.js","webpack://marketplace-api/../../node_modules/.bun/math-intrinsics@1.1.0/node_modules/math-intrinsics/min.js","webpack://marketplace-api/../../node_modules/.bun/math-intrinsics@1.1.0/node_modules/math-intrinsics/pow.js","webpack://marketplace-api/../../node_modules/.bun/math-intrinsics@1.1.0/node_modules/math-intrinsics/round.js","webpack://marketplace-api/../../node_modules/.bun/math-intrinsics@1.1.0/node_modules/math-intrinsics/sign.js","webpack://marketplace-api/../../node_modules/.bun/object-inspect@1.13.4/node_modules/object-inspect/index.js","webpack://marketplace-api/../../node_modules/.bun/object-inspect@1.13.4/node_modules/object-inspect/util.inspect.js","webpack://marketplace-api/../../node_modules/.bun/qs@6.14.0/node_modules/qs/lib/formats.js","webpack://marketplace-api/../../node_modules/.bun/qs@6.14.0/node_modules/qs/lib/index.js","webpack://marketplace-api/../../node_modules/.bun/qs@6.14.0/node_modules/qs/lib/parse.js","webpack://marketplace-api/../../node_modules/.bun/qs@6.14.0/node_modules/qs/lib/stringify.js","webpack://marketplace-api/../../node_modules/.bun/qs@6.14.0/node_modules/qs/lib/utils.js","webpack://marketplace-api/../../node_modules/.bun/side-channel-list@1.0.0/node_modules/side-channel-list/index.js","webpack://marketplace-api/../../node_modules/.bun/side-channel-map@1.0.1/node_modules/side-channel-map/index.js","webpack://marketplace-api/../../node_modules/.bun/side-channel-weakmap@1.0.2/node_modules/side-channel-weakmap/index.js","webpack://marketplace-api/../../node_modules/.bun/side-channel@1.1.0/node_modules/side-channel/index.js","webpack://marketplace-api/./src/schema.ts","webpack://marketplace-api/./src/contract.ts","webpack://marketplace-api/./src/service.ts","webpack://marketplace-api/./src/data/products.ts","webpack://marketplace-api/./src/services/products.ts","webpack://marketplace-api/./src/services/orders.ts","webpack://marketplace-api/./src/services/stripe.ts","webpack://marketplace-api/./src/services/fulfillment.ts","webpack://marketplace-api/./src/index.ts","webpack://marketplace-api/==\"undefined\"};if(isValidValue(singleton)){shareConfig.singleton=singleton}if(isValidValue(requiredVersion)){shareConfig.requiredVersion=requiredVersion}if(isValidValue(eager)){shareConfig.eager=eager}if(isValidValue(strictVersion)){shareConfig.strictVersion=strictVersion}const options={version,scope:[scope],shareConfig,get:factory};if(shared[name]){shared[name].push(options)}else{shared[name]=[options]}}}}return shared});merge(__webpack_require__.federation.initOptions,\"remotes\",()=>Object.values(__module_federation_remote_infos__).flat().filter(remote=>remote.externalType===\"script\"));merge(__webpack_require__.federation.initOptions,\"plugins\",()=>__module_federation_runtime_plugins__);early(__webpack_require__.federation,\"bundlerRuntimeOptions\",()=>({}));early(__webpack_require__.federation.bundlerRuntimeOptions,\"remotes\",()=>({}));early(__webpack_require__.federation.bundlerRuntimeOptions.remotes,\"chunkMapping\",()=>remotesLoadingChunkMapping);early(__webpack_require__.federation.bundlerRuntimeOptions.remotes,\"remoteInfos\",()=>__module_federation_remote_infos__);early(__webpack_require__.federation.bundlerRuntimeOptions.remotes,\"idToExternalAndNameMapping\",()=>{const remotesLoadingIdToExternalAndNameMappingMapping={};for(let[moduleId,data]of Object.entries(remotesLoadingModuleIdToRemoteDataMapping)){remotesLoadingIdToExternalAndNameMappingMapping[moduleId]=[data.shareScope,data.name,data.externalModuleId,data.remoteName]}return remotesLoadingIdToExternalAndNameMappingMapping});early(__webpack_require__.federation.bundlerRuntimeOptions.remotes,\"webpackRequire\",()=>__webpack_require__);merge(__webpack_require__.federation.bundlerRuntimeOptions.remotes,\"idToRemoteMap\",()=>{const idToRemoteMap={};for(let[id,remoteData]of Object.entries(remotesLoadingModuleIdToRemoteDataMapping)){const info=__module_federation_remote_infos__[remoteData.remoteName];if(info)idToRemoteMap[id]=info}return idToRemoteMap});override(__webpack_require__,\"S\",__webpack_require__.federation.bundlerRuntime.S);if(__webpack_require__.federation.attachShareScopeMap){__webpack_require__.federation.attachShareScopeMap(__webpack_require__)}override(__webpack_require__.f,\"remotes\",(chunkId,promises)=>__webpack_require__.federation.bundlerRuntime.remotes({chunkId,promises,chunkMapping:remotesLoadingChunkMapping,idToExternalAndNameMapping:__webpack_require__.federation.bundlerRuntimeOptions.remotes.idToExternalAndNameMapping,idToRemoteMap:__webpack_require__.federation.bundlerRuntimeOptions.remotes.idToRemoteMap,webpackRequire:__webpack_require__}));override(__webpack_require__.f,\"consumes\",(chunkId,promises)=>__webpack_require__.federation.bundlerRuntime.consumes({chunkId,promises,chunkMapping:consumesLoadingChunkMapping,moduleToHandlerMapping:__webpack_require__.federation.consumesLoadingModuleToHandlerMapping,installedModules:consumesLoadinginstalledModules,webpackRequire:__webpack_require__}));override(__webpack_require__,\"I\",(name,initScope)=>__webpack_require__.federation.bundlerRuntime.I({shareScopeName:name,initScope,initPromises:initializeSharingInitPromises,initTokens:initializeSharingInitTokens,webpackRequire:__webpack_require__}));override(__webpack_require__,\"initContainer\",(shareScope,initScope,remoteEntryInitOptions)=>__webpack_require__.federation.bundlerRuntime.initContainerEntry({shareScope,initScope,remoteEntryInitOptions,shareScopeKey:containerShareScope,webpackRequire:__webpack_require__}));override(__webpack_require__,\"getContainer\",(module1,getScope)=>{var moduleMap=__webpack_require__.initializeExposesData.moduleMap;__webpack_require__.R=getScope;getScope=Object.prototype.hasOwnProperty.call(moduleMap,module1)","webpack://marketplace-api/../../node_modules/.bun/@module-federation+node@2.7.25+98a3e88a56febe0f/node_modules/@module-federation/node/dist/src/runtimePlugin.js","webpack://marketplace-api/../../node_modules/.bun/@module-federation+runtime-core@0.19.1/node_modules/@module-federation/runtime-core/dist/index.cjs.cjs","webpack://marketplace-api/../../node_modules/.bun/@module-federation+runtime-core@0.19.1/node_modules/@module-federation/runtime-core/dist/polyfills.cjs.cjs","webpack://marketplace-api/../../node_modules/.bun/@module-federation+runtime@0.19.1/node_modules/@module-federation/runtime/dist/index.cjs.cjs","webpack://marketplace-api/../../node_modules/.bun/@module-federation+runtime@0.19.1/node_modules/@module-federation/runtime/dist/utils.cjs.cjs","webpack://marketplace-api/../../node_modules/.bun/@module-federation+sdk@0.19.1/node_modules/@module-federation/sdk/dist/index.cjs.cjs","webpack://marketplace-api/../../node_modules/.bun/@module-federation+sdk@0.19.1/node_modules/@module-federation/sdk/dist/polyfills.cjs.cjs","webpack://marketplace-api/../../node_modules/.bun/@module-federation+webpack-bundler-runtime@0.19.1/node_modules/@module-federation/webpack-bundler-runtime/dist/constant.cjs.cjs","webpack://marketplace-api/../../node_modules/.bun/@module-federation+webpack-bundler-runtime@0.19.1/node_modules/@module-federation/webpack-bundler-runtime/dist/index.cjs.cjs","webpack://marketplace-api/../../node_modules/.bun/@orpc+standard-server-fetch@1.12.2/node_modules/@orpc/standard-server-fetch/dist/index.mjs","webpack://marketplace-api/../../node_modules/.bun/@orpc+client@1.12.2/node_modules/@orpc/client/dist/shared/client.EX0cvH1U.mjs","webpack://marketplace-api/../../node_modules/.bun/@orpc+client@1.12.2/node_modules/@orpc/client/dist/shared/client.BLtwTQUg.mjs","webpack://marketplace-api/../../node_modules/.bun/@orpc+client@1.12.2/node_modules/@orpc/client/dist/shared/client.J7pEE4Uw.mjs","webpack://marketplace-api/../../node_modules/.bun/@orpc+experimental-publisher@1.12.2+26e186e5fab098e3/node_modules/@orpc/experimental-publisher/dist/adapters/ioredis.mjs","webpack://marketplace-api/../../node_modules/.bun/@orpc+experimental-publisher@1.12.2+26e186e5fab098e3/node_modules/@orpc/experimental-publisher/dist/adapters/memory.mjs","webpack://marketplace-api/../../node_modules/.bun/@orpc+experimental-publisher@1.12.2+26e186e5fab098e3/node_modules/@orpc/experimental-publisher/dist/adapters/upstash-redis.mjs","webpack://marketplace-api/../../node_modules/.bun/@orpc+experimental-publisher@1.12.2+26e186e5fab098e3/node_modules/@orpc/experimental-publisher/dist/shared/experimental-publisher.BtlOkhPO.mjs","webpack://marketplace-api/../../node_modules/.bun/@orpc+shared@1.12.2/node_modules/@orpc/shared/dist/index.mjs","webpack://marketplace-api/../../node_modules/.bun/@orpc+standard-server@1.12.2/node_modules/@orpc/standard-server/dist/index.mjs","webpack://marketplace-api/../../node_modules/.bun/every-plugin@0.6.2+9b2b6995065541f2/node_modules/every-plugin/dist/_virtual/rolldown_runtime.mjs","webpack://marketplace-api/../../node_modules/.bun/every-plugin@0.6.2+9b2b6995065541f2/node_modules/every-plugin/dist/zod.mjs","webpack://marketplace-api/../../node_modules/.bun/@scure+base@2.0.0/node_modules/@scure/base/index.js","webpack://marketplace-api/../../node_modules/.bun/@noble+hashes@2.0.1/node_modules/@noble/hashes/_u64.js","webpack://marketplace-api/../../node_modules/.bun/@noble+hashes@2.0.1/node_modules/@noble/hashes/utils.js","webpack://marketplace-api/../../node_modules/.bun/@noble+hashes@2.0.1/node_modules/@noble/hashes/sha3.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/types.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/utils/state-init.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/schema.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/actions.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/contracts/contract.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/errors/index.js","webpack://marketplace-api/../../node_modules/.bun/@noble+hashes@2.0.1/node_modules/@noble/hashes/_md.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/keys/credential-schemas.js","webpack://marketplace-api/../../node_modules/.bun/@noble+hashes@2.0.1/node_modules/@noble/hashes/sha2.js","webpack://marketplace-api/../../node_modules/.bun/@noble+curves@2.0.1/node_modules/@noble/curves/utils.js","webpack://marketplace-api/../../node_modules/.bun/@noble+curves@2.0.1/node_modules/@noble/curves/abstract/modular.js","webpack://marketplace-api/../../node_modules/.bun/@noble+curves@2.0.1/node_modules/@noble/curves/abstract/curve.js","webpack://marketplace-api/../../node_modules/.bun/@noble+curves@2.0.1/node_modules/@noble/curves/abstract/edwards.js","webpack://marketplace-api/../../node_modules/.bun/@noble+curves@2.0.1/node_modules/@noble/curves/ed25519.js","webpack://marketplace-api/../../node_modules/.bun/@noble+hashes@2.0.1/node_modules/@noble/hashes/hmac.js","webpack://marketplace-api/../../node_modules/.bun/@noble+curves@2.0.1/node_modules/@noble/curves/abstract/weierstrass.js","webpack://marketplace-api/../../node_modules/.bun/@noble+curves@2.0.1/node_modules/@noble/curves/secp256k1.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/constants.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/utils/nep413.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/utils/key.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/keys/in-memory-keystore.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/utils/amount.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/utils/gas.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/utils/validation.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/config-schemas.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/rpc/rpc-schemas.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/rpc/rpc-error-handler.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/rpc/rpc.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/nonce-manager.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/transaction.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/near.js","webpack://marketplace-api/../../node_modules/.bun/near-social-js@2.0.3+3a301246db8c8d19/node_modules/near-social-js/dist/chunk-35XQS2E7.mjs","webpack://marketplace-api/../../node_modules/.bun/near-social-js@2.0.3+3a301246db8c8d19/node_modules/near-social-js/dist/chunk-G2Z3ZTTP.mjs","webpack://marketplace-api/../../node_modules/.bun/bignumber.js@9.3.1/node_modules/bignumber.js/bignumber.mjs","webpack://marketplace-api/../../node_modules/.bun/near-social-js@2.0.3+3a301246db8c8d19/node_modules/near-social-js/dist/chunk-H7IJBNMA.mjs","webpack://marketplace-api/../../node_modules/.bun/near-social-js@2.0.3+3a301246db8c8d19/node_modules/near-social-js/dist/chunk-4C2DNQLY.mjs","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/crypto/CryptoProvider.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/crypto/NodeCryptoProvider.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/net/HttpClient.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/net/NodeHttpClient.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/utils.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/net/FetchHttpClient.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/crypto/SubtleCryptoProvider.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/platform/PlatformFunctions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/Error.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/platform/NodePlatformFunctions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/RequestSender.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/autoPagination.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/StripeMethod.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/StripeResource.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/StripeContext.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/Webhooks.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/apiVersion.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/ResourceNamespace.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/FinancialConnections/Accounts.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Entitlements/ActiveEntitlements.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Billing/Alerts.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Tax/Associations.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Issuing/Authorizations.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Issuing/Authorizations.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Tax/Calculations.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Issuing/Cardholders.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Issuing/Cards.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Issuing/Cards.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/BillingPortal/Configurations.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Terminal/Configurations.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/ConfirmationTokens.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Terminal/ConnectionTokens.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Billing/CreditBalanceSummary.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Billing/CreditBalanceTransactions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Billing/CreditGrants.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Treasury/CreditReversals.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Customers.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Treasury/DebitReversals.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Issuing/Disputes.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Radar/EarlyFraudWarnings.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/V2/Core/EventDestinations.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/V2/Core/Events.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Entitlements/Features.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Treasury/FinancialAccounts.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Treasury/InboundTransfers.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Treasury/InboundTransfers.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Terminal/Locations.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Billing/MeterEventAdjustments.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/V2/Billing/MeterEventAdjustments.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/V2/Billing/MeterEventSession.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/V2/Billing/MeterEventStream.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Billing/MeterEvents.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/V2/Billing/MeterEvents.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Billing/Meters.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Terminal/OnboardingLinks.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Climate/Orders.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Treasury/OutboundPayments.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Treasury/OutboundPayments.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Treasury/OutboundTransfers.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Treasury/OutboundTransfers.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Issuing/PersonalizationDesigns.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Issuing/PersonalizationDesigns.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Issuing/PhysicalBundles.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Climate/Products.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Terminal/Readers.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Terminal/Readers.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Treasury/ReceivedCredits.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Treasury/ReceivedCredits.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Treasury/ReceivedDebits.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Treasury/ReceivedDebits.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Refunds.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Tax/Registrations.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Reporting/ReportRuns.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Reporting/ReportTypes.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Forwarding/Requests.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Sigma/ScheduledQueryRuns.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Apps/Secrets.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/BillingPortal/Sessions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Checkout/Sessions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/FinancialConnections/Sessions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Tax/Settings.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Climate/Suppliers.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/TestClocks.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Issuing/Tokens.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Treasury/TransactionEntries.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/FinancialConnections/Transactions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Issuing/Transactions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Tax/Transactions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Issuing/Transactions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Treasury/Transactions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Radar/ValueListItems.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Radar/ValueLists.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Identity/VerificationReports.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Identity/VerificationSessions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Accounts.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/AccountLinks.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/AccountSessions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/ApplePayDomains.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/ApplicationFees.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Balance.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/BalanceSettings.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/BalanceTransactions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Charges.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/ConfirmationTokens.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/CountrySpecs.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Coupons.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/CreditNotes.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/CustomerSessions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Customers.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Disputes.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/EphemeralKeys.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Events.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/ExchangeRates.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/FileLinks.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/multipart.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Files.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/InvoiceItems.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/InvoicePayments.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/InvoiceRenderingTemplates.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Invoices.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Mandates.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/OAuth.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/PaymentAttemptRecords.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/PaymentIntents.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/PaymentLinks.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/PaymentMethodConfigurations.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/PaymentMethodDomains.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/PaymentMethods.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/PaymentRecords.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Payouts.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Plans.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Prices.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Products.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/PromotionCodes.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Quotes.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Refunds.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Reviews.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/SetupAttempts.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/SetupIntents.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/ShippingRates.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Sources.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/SubscriptionItems.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/SubscriptionSchedules.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Subscriptions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TaxCodes.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TaxIds.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TaxRates.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Tokens.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Topups.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Transfers.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/WebhookEndpoints.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/stripe.core.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/stripe.esm.node.js","webpack://marketplace-api/module_federation/runtime","webpack://marketplace-api/webpack/runtime/compat_get_default_export","webpack://marketplace-api/webpack/runtime/create_fake_namespace_object","webpack://marketplace-api/webpack/runtime/define_property_getters","webpack://marketplace-api/webpack/runtime/ensure_chunk","webpack://marketplace-api/webpack/runtime/get javascript chunk filename","webpack://marketplace-api/webpack/runtime/has_own_property","webpack://marketplace-api/webpack/runtime/make_namespace_object","webpack://marketplace-api/webpack/runtime/sharing","webpack://marketplace-api/webpack/runtime/consumes_loading","webpack://marketplace-api/webpack/runtime/readfile_chunk_loading","webpack://marketplace-api/webpack/runtime/embed_federation_runtime"],"sourcesContent":["'use strict';\n\nconst RUNTIME_001 = 'RUNTIME-001';\nconst RUNTIME_002 = 'RUNTIME-002';\nconst RUNTIME_003 = 'RUNTIME-003';\nconst RUNTIME_004 = 'RUNTIME-004';\nconst RUNTIME_005 = 'RUNTIME-005';\nconst RUNTIME_006 = 'RUNTIME-006';\nconst RUNTIME_007 = 'RUNTIME-007';\nconst RUNTIME_008 = 'RUNTIME-008';\nconst RUNTIME_009 = 'RUNTIME-009';\nconst TYPE_001 = 'TYPE-001';\nconst BUILD_001 = 'BUILD-001';\nconst BUILD_002 = 'BUILD-002';\n\nconst getDocsUrl = (errorCode)=>{\n    const type = errorCode.split('-')[0].toLowerCase();\n    return `View the docs to see how to solve: https://module-federation.io/guide/troubleshooting/${type}/${errorCode}`;\n};\nconst getShortErrorMsg = (errorCode, errorDescMap, args, originalErrorMsg)=>{\n    const msg = [\n        `${[\n            errorDescMap[errorCode]\n        ]} #${errorCode}`\n    ];\n    args && msg.push(`args: ${JSON.stringify(args)}`);\n    msg.push(getDocsUrl(errorCode));\n    originalErrorMsg && msg.push(`Original Error Message:\\n ${originalErrorMsg}`);\n    return msg.join('\\n');\n};\n\nfunction _extends() {\n    _extends = Object.assign || function assign(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    };\n    return _extends.apply(this, arguments);\n}\n\nconst runtimeDescMap = {\n    [RUNTIME_001]: 'Failed to get remoteEntry exports.',\n    [RUNTIME_002]: 'The remote entry interface does not contain \"init\"',\n    [RUNTIME_003]: 'Failed to get manifest.',\n    [RUNTIME_004]: 'Failed to locate remote.',\n    [RUNTIME_005]: 'Invalid loadShareSync function call from bundler runtime',\n    [RUNTIME_006]: 'Invalid loadShareSync function call from runtime',\n    [RUNTIME_007]: 'Failed to get remote snapshot.',\n    [RUNTIME_008]: 'Failed to load script resources.',\n    [RUNTIME_009]: 'Please call createInstance first.'\n};\nconst typeDescMap = {\n    [TYPE_001]: 'Failed to generate type declaration. Execute the below cmd to reproduce and fix the error.'\n};\nconst buildDescMap = {\n    [BUILD_001]: 'Failed to find expose module.',\n    [BUILD_002]: 'PublicPath is required in prod mode.'\n};\nconst errorDescMap = _extends({}, runtimeDescMap, typeDescMap, buildDescMap);\n\nexports.BUILD_001 = BUILD_001;\nexports.BUILD_002 = BUILD_002;\nexports.RUNTIME_001 = RUNTIME_001;\nexports.RUNTIME_002 = RUNTIME_002;\nexports.RUNTIME_003 = RUNTIME_003;\nexports.RUNTIME_004 = RUNTIME_004;\nexports.RUNTIME_005 = RUNTIME_005;\nexports.RUNTIME_006 = RUNTIME_006;\nexports.RUNTIME_007 = RUNTIME_007;\nexports.RUNTIME_008 = RUNTIME_008;\nexports.RUNTIME_009 = RUNTIME_009;\nexports.TYPE_001 = TYPE_001;\nexports.buildDescMap = buildDescMap;\nexports.errorDescMap = errorDescMap;\nexports.getShortErrorMsg = getShortErrorMsg;\nexports.runtimeDescMap = runtimeDescMap;\nexports.typeDescMap = typeDescMap;\n//# sourceMappingURL=index.cjs.js.map\n","\"use strict\";\n// Core binary reading/writing utilities\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BinaryReader = exports.BinaryWriter = void 0;\nclass BinaryWriter {\n    buffer;\n    view;\n    offset = 0;\n    constructor(initialSize = 1024) {\n        this.buffer = new Uint8Array(initialSize);\n        this.view = new DataView(this.buffer.buffer);\n    }\n    ensureCapacity(additionalBytes) {\n        const requiredSize = this.offset + additionalBytes;\n        if (requiredSize <= this.buffer.length) {\n            return;\n        }\n        // Double the buffer size until it's large enough\n        let newSize = this.buffer.length;\n        while (newSize < requiredSize) {\n            newSize *= 2;\n        }\n        const newBuffer = new Uint8Array(newSize);\n        newBuffer.set(this.buffer);\n        this.buffer = newBuffer;\n        this.view = new DataView(this.buffer.buffer);\n    }\n    // Unsigned integers\n    writeUint8(value) {\n        this.ensureCapacity(1);\n        this.view.setUint8(this.offset, value);\n        this.offset += 1;\n    }\n    writeUint16(value) {\n        this.ensureCapacity(2);\n        this.view.setUint16(this.offset, value, true);\n        this.offset += 2;\n    }\n    writeUint32(value) {\n        this.ensureCapacity(4);\n        this.view.setUint32(this.offset, value, true);\n        this.offset += 4;\n    }\n    writeUint64(value) {\n        this.ensureCapacity(8);\n        this.view.setBigUint64(this.offset, value, true);\n        this.offset += 8;\n    }\n    writeUint128(value) {\n        this.ensureCapacity(16);\n        const low = value & BigInt(\"0xFFFFFFFFFFFFFFFF\");\n        const high = value >> BigInt(64);\n        this.writeUint64(low);\n        this.writeUint64(high);\n    }\n    // Signed integers\n    writeInt8(value) {\n        this.ensureCapacity(1);\n        this.view.setInt8(this.offset, value);\n        this.offset += 1;\n    }\n    writeInt16(value) {\n        this.ensureCapacity(2);\n        this.view.setInt16(this.offset, value, true);\n        this.offset += 2;\n    }\n    writeInt32(value) {\n        this.ensureCapacity(4);\n        this.view.setInt32(this.offset, value, true);\n        this.offset += 4;\n    }\n    writeInt64(value) {\n        this.ensureCapacity(8);\n        this.view.setBigInt64(this.offset, value, true);\n        this.offset += 8;\n    }\n    writeInt128(value) {\n        this.ensureCapacity(16);\n        const low = value & BigInt(\"0xFFFFFFFFFFFFFFFF\");\n        const high = value >> BigInt(64);\n        this.writeInt64(low);\n        this.writeInt64(high);\n    }\n    // Floating point\n    writeFloat32(value) {\n        this.ensureCapacity(4);\n        this.view.setFloat32(this.offset, value, true);\n        this.offset += 4;\n    }\n    writeFloat64(value) {\n        this.ensureCapacity(8);\n        this.view.setFloat64(this.offset, value, true);\n        this.offset += 8;\n    }\n    writeBool(value) {\n        this.writeUint8(value ? 1 : 0);\n    }\n    writeString(value) {\n        const bytes = new TextEncoder().encode(value);\n        this.writeUint32(bytes.length);\n        this.ensureCapacity(bytes.length);\n        this.buffer.set(bytes, this.offset);\n        this.offset += bytes.length;\n    }\n    getBuffer() {\n        return this.buffer.slice(0, this.offset);\n    }\n}\nexports.BinaryWriter = BinaryWriter;\nclass BinaryReader {\n    buffer;\n    view;\n    offset = 0;\n    constructor(buffer) {\n        this.buffer = buffer;\n        this.view = new DataView(buffer.buffer, buffer.byteOffset, buffer.byteLength);\n    }\n    // Unsigned integers\n    readUint8() {\n        const value = this.view.getUint8(this.offset);\n        this.offset += 1;\n        return value;\n    }\n    readUint16() {\n        const value = this.view.getUint16(this.offset, true);\n        this.offset += 2;\n        return value;\n    }\n    readUint32() {\n        const value = this.view.getUint32(this.offset, true);\n        this.offset += 4;\n        return value;\n    }\n    readUint64() {\n        const value = this.view.getBigUint64(this.offset, true);\n        this.offset += 8;\n        return value;\n    }\n    readUint128() {\n        const low = this.readUint64();\n        const high = this.readUint64();\n        return (high << BigInt(64)) | low;\n    }\n    // Signed integers\n    readInt8() {\n        const value = this.view.getInt8(this.offset);\n        this.offset += 1;\n        return value;\n    }\n    readInt16() {\n        const value = this.view.getInt16(this.offset, true);\n        this.offset += 2;\n        return value;\n    }\n    readInt32() {\n        const value = this.view.getInt32(this.offset, true);\n        this.offset += 4;\n        return value;\n    }\n    readInt64() {\n        const value = this.view.getBigInt64(this.offset, true);\n        this.offset += 8;\n        return value;\n    }\n    readInt128() {\n        const low = this.readUint64(); // Read as unsigned to preserve bit pattern\n        const high = this.readInt64(); // Read high bits as signed\n        return (high << BigInt(64)) | low;\n    }\n    // Floating point\n    readFloat32() {\n        const value = this.view.getFloat32(this.offset, true);\n        this.offset += 4;\n        return value;\n    }\n    readFloat64() {\n        const value = this.view.getFloat64(this.offset, true);\n        this.offset += 8;\n        return value;\n    }\n    readBool() {\n        return Boolean(this.readUint8());\n    }\n    readString() {\n        const length = this.readUint32();\n        const bytes = this.buffer.slice(this.offset, this.offset + length);\n        this.offset += length;\n        return new TextDecoder().decode(bytes);\n    }\n    getOffset() {\n        return this.offset;\n    }\n}\nexports.BinaryReader = BinaryReader;\n//# sourceMappingURL=binary-io.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Schema = exports.b = void 0;\nvar schema_1 = require(\"./schema\");\nObject.defineProperty(exports, \"b\", { enumerable: true, get: function () { return schema_1.b; } });\nObject.defineProperty(exports, \"Schema\", { enumerable: true, get: function () { return schema_1.Schema; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.registry = exports.TypeRegistry = void 0;\nclass TypeRegistry {\n    handlers = new Map();\n    register(type, handler) {\n        this.handlers.set(type, handler);\n    }\n    getHandler(type) {\n        const handler = this.handlers.get(type);\n        if (!handler) {\n            throw new Error(`No handler registered for type: ${type}`);\n        }\n        return handler;\n    }\n}\nexports.TypeRegistry = TypeRegistry;\n// Create and initialize the global registry with primitive types\nexports.registry = new TypeRegistry();\n// Register all primitive type handlers\n// Unsigned integers\nexports.registry.register(\"u8\", {\n    write: (writer, value) => {\n        if (value < 0 || value > 255 || !Number.isInteger(value)) {\n            throw new Error(\"Value out of range for u8\");\n        }\n        writer.writeUint8(value);\n    },\n    read: (reader) => reader.readUint8(),\n});\nexports.registry.register(\"u16\", {\n    write: (writer, value) => {\n        if (value < 0 || value > 65535 || !Number.isInteger(value)) {\n            throw new Error(\"Value out of range for u16\");\n        }\n        writer.writeUint16(value);\n    },\n    read: (reader) => reader.readUint16(),\n});\nexports.registry.register(\"u32\", {\n    write: (writer, value) => {\n        if (value < 0 || value > 4294967295 || !Number.isInteger(value)) {\n            throw new Error(\"Value out of range for u32\");\n        }\n        writer.writeUint32(value);\n    },\n    read: (reader) => reader.readUint32(),\n});\nexports.registry.register(\"u64\", {\n    write: (writer, value) => {\n        if (value < 0n || value > 18446744073709551615n) {\n            throw new Error(\"Value out of range for u64\");\n        }\n        writer.writeUint64(value);\n    },\n    read: (reader) => reader.readUint64(),\n});\nexports.registry.register(\"u128\", {\n    write: (writer, value) => {\n        if (value < 0n || value > 340282366920938463463374607431768211455n) {\n            throw new Error(\"Value out of range for u128\");\n        }\n        writer.writeUint128(value);\n    },\n    read: (reader) => reader.readUint128(),\n});\n// Signed integers\nexports.registry.register(\"i8\", {\n    write: (writer, value) => {\n        if (value < -128 || value > 127 || !Number.isInteger(value)) {\n            throw new Error(\"Value out of range for i8\");\n        }\n        writer.writeInt8(value);\n    },\n    read: (reader) => reader.readInt8(),\n});\nexports.registry.register(\"i16\", {\n    write: (writer, value) => {\n        if (value < -32768 || value > 32767 || !Number.isInteger(value)) {\n            throw new Error(\"Value out of range for i16\");\n        }\n        writer.writeInt16(value);\n    },\n    read: (reader) => reader.readInt16(),\n});\nexports.registry.register(\"i32\", {\n    write: (writer, value) => {\n        if (value < -2147483648 || value > 2147483647 || !Number.isInteger(value)) {\n            throw new Error(\"Value out of range for i32\");\n        }\n        writer.writeInt32(value);\n    },\n    read: (reader) => reader.readInt32(),\n});\nexports.registry.register(\"i64\", {\n    write: (writer, value) => {\n        if (value < -9223372036854775808n || value > 9223372036854775807n) {\n            throw new Error(\"Value out of range for i64\");\n        }\n        writer.writeInt64(value);\n    },\n    read: (reader) => reader.readInt64(),\n});\nexports.registry.register(\"i128\", {\n    write: (writer, value) => {\n        if (value < -170141183460469231731687303715884105728n ||\n            value > 170141183460469231731687303715884105727n) {\n            throw new Error(\"Value out of range for i128\");\n        }\n        writer.writeInt128(value);\n    },\n    read: (reader) => reader.readInt128(),\n});\n// Floating point\nexports.registry.register(\"f32\", {\n    write: (writer, value) => writer.writeFloat32(value),\n    read: (reader) => reader.readFloat32(),\n});\nexports.registry.register(\"f64\", {\n    write: (writer, value) => {\n        if (Number.isNaN(value)) {\n            throw new Error(\"For portability reasons we do not allow serializing NaN values.\");\n        }\n        writer.writeFloat64(value);\n    },\n    read: (reader) => reader.readFloat64(),\n});\n// Boolean, string and unit type\nexports.registry.register(\"bool\", {\n    write: (writer, value) => writer.writeBool(value),\n    read: (reader) => reader.readBool(),\n});\nexports.registry.register(\"string\", {\n    write: (writer, value) => writer.writeString(value),\n    read: (reader) => reader.readString(),\n});\nexports.registry.register(\"unit\", {\n    write: () => { }, // Unit type takes up no space\n    read: () => ({}),\n});\nexports.registry.register(\"struct\", {\n    write: (writer, value, fields) => {\n        if (!fields)\n            return;\n        for (const [field, def] of Object.entries(fields)) {\n            const handler = exports.registry.getHandler(def.type);\n            handler.write(writer, value[field], def.options);\n        }\n    },\n    read: (reader, fields) => {\n        if (!fields)\n            return {};\n        const result = {};\n        for (const [field, def] of Object.entries(fields)) {\n            const handler = exports.registry.getHandler(def.type);\n            result[field] = handler.read(reader, def.options);\n        }\n        return result;\n    },\n});\nexports.registry.register(\"vec\", {\n    write: (writer, value, options) => {\n        if (!options)\n            return;\n        const { elementType, elementOptions } = options;\n        // Handle TypedArrays and regular arrays\n        const length = ArrayBuffer.isView(value) ? value.length : value.length;\n        writer.writeUint32(length);\n        const handler = exports.registry.getHandler(elementType);\n        if (ArrayBuffer.isView(value)) {\n            for (let i = 0; i < length; i++) {\n                handler.write(writer, value[i], elementOptions);\n            }\n        }\n        else {\n            for (const item of value) {\n                handler.write(writer, item, elementOptions);\n            }\n        }\n    },\n    read: (reader, options) => {\n        if (!options)\n            return [];\n        const { elementType, elementOptions } = options;\n        const length = reader.readUint32();\n        const handler = exports.registry.getHandler(elementType);\n        // Create array of raw values first\n        const values = Array.from({ length }, () => handler.read(reader, elementOptions));\n        // Convert to appropriate TypedArray if needed\n        switch (elementType) {\n            case \"u8\":\n                return new Uint8Array(values);\n            case \"u16\":\n                return new Uint16Array(values);\n            case \"u32\":\n                return new Uint32Array(values);\n            case \"i8\":\n                return new Int8Array(values);\n            case \"i16\":\n                return new Int16Array(values);\n            case \"i32\":\n                return new Int32Array(values);\n            case \"i64\":\n                return new BigInt64Array(values);\n            case \"f32\":\n                return new Float32Array(values);\n            case \"f64\":\n                return new Float64Array(values);\n            default:\n                return values;\n        }\n    },\n});\nexports.registry.register(\"set\", {\n    write: (writer, value, options) => {\n        if (!options)\n            return;\n        const { elementType, elementOptions } = options;\n        const array = Array.from(value).sort();\n        writer.writeUint32(array.length);\n        const handler = exports.registry.getHandler(elementType);\n        for (const item of array) {\n            handler.write(writer, item, elementOptions);\n        }\n    },\n    read: (reader, options) => {\n        if (!options)\n            return new Set();\n        const { elementType, elementOptions } = options;\n        const length = reader.readUint32();\n        const handler = exports.registry.getHandler(elementType);\n        const items = Array.from({ length }, () => handler.read(reader, elementOptions));\n        return new Set(items);\n    },\n});\nexports.registry.register(\"map\", {\n    write: (writer, value, options) => {\n        if (!options)\n            return;\n        const { keyType, keyOptions, valueType, valueOptions } = options;\n        const entries = Array.from(value.entries()).sort();\n        writer.writeUint32(entries.length);\n        const keyHandler = exports.registry.getHandler(keyType);\n        const valueHandler = exports.registry.getHandler(valueType);\n        for (const [key, val] of entries) {\n            keyHandler.write(writer, key, keyOptions);\n            valueHandler.write(writer, val, valueOptions);\n        }\n    },\n    read: (reader, options) => {\n        if (!options)\n            return new Map();\n        const { keyType, keyOptions, valueType, valueOptions } = options;\n        const length = reader.readUint32();\n        const keyHandler = exports.registry.getHandler(keyType);\n        const valueHandler = exports.registry.getHandler(valueType);\n        const entries = Array.from({ length }, () => {\n            const key = keyHandler.read(reader, keyOptions);\n            const value = valueHandler.read(reader, valueOptions);\n            return [key, value];\n        });\n        return new Map(entries);\n    },\n});\nexports.registry.register(\"option\", {\n    write: (writer, value, options) => {\n        if (!options)\n            return;\n        const { valueType, valueOptions } = options;\n        const isSome = value !== null;\n        writer.writeUint8(isSome ? 1 : 0);\n        if (isSome) {\n            const handler = exports.registry.getHandler(valueType);\n            handler.write(writer, value, valueOptions);\n        }\n    },\n    read: (reader, options) => {\n        if (!options)\n            return null;\n        const { valueType, valueOptions } = options;\n        const isSome = reader.readUint8() === 1;\n        if (isSome) {\n            const handler = exports.registry.getHandler(valueType);\n            return handler.read(reader, valueOptions);\n        }\n        return null;\n    },\n});\nexports.registry.register(\"enum\", {\n    write: (writer, value, options) => {\n        if (!options)\n            return;\n        // Get the variant name (should be the only key in the object)\n        const variantName = Object.keys(value)[0];\n        // Assert variantName exists and is a string key of the value object\n        const variantValue = value[variantName];\n        // Find the variant definition\n        const variant = options.variants.find((v) => v.name === variantName);\n        if (!variant) {\n            throw new Error(`Unknown enum variant: ${variantName}`);\n        }\n        // Write variant index\n        writer.writeUint8(variant.index);\n        // Write variant value if it has associated data\n        if (variant.type !== \"unit\") {\n            const handler = exports.registry.getHandler(variant.type);\n            handler.write(writer, variantValue, variant.options);\n        }\n    },\n    read: (reader, options) => {\n        if (!options)\n            return {};\n        const index = reader.readUint8();\n        const variant = options.variants.find((v) => v.index === index);\n        if (!variant) {\n            throw new Error(`Unknown enum variant index: ${index}`);\n        }\n        // Return early for unit type\n        if (variant.type === \"unit\") {\n            return { [variant.name]: {} };\n        }\n        // Handle non-unit types\n        const handler = exports.registry.getHandler(variant.type);\n        const value = handler.read(reader, variant.options);\n        return { [variant.name]: value };\n    },\n});\n// Add the tuple handler to the registry\nexports.registry.register(\"tuple\", {\n    write: (writer, value, types) => {\n        if (!types)\n            return;\n        if (value.length !== types.length) {\n            throw new Error(`Tuple length mismatch: expected ${types.length}, got ${value.length}`);\n        }\n        for (let i = 0; i < types.length; i++) {\n            const typeInfo = types[i];\n            if (!typeInfo) {\n                throw new Error(`Missing type information for tuple element at index ${i}`);\n            }\n            const handler = exports.registry.getHandler(typeInfo.type);\n            handler.write(writer, value[i], typeInfo.options);\n        }\n    },\n    read: (reader, types) => {\n        if (!types)\n            return [];\n        const result = [];\n        for (const type of types) {\n            const handler = exports.registry.getHandler(type.type);\n            result.push(handler.read(reader, type.options));\n        }\n        return result;\n    },\n});\nexports.registry.register(\"array\", {\n    write: (writer, value, options) => {\n        if (!options)\n            return;\n        const { elementType, elementOptions, length } = options;\n        if (value.length !== length) {\n            throw new Error(`Array length mismatch: expected ${length}, got ${value.length}`);\n        }\n        const handler = exports.registry.getHandler(elementType);\n        for (const item of value) {\n            handler.write(writer, item, elementOptions);\n        }\n    },\n    read: (reader, options) => {\n        if (!options)\n            return [];\n        const { elementType, elementOptions, length } = options;\n        const handler = exports.registry.getHandler(elementType);\n        return Array.from({ length }, () => handler.read(reader, elementOptions));\n    },\n});\nexports.registry.register(\"bytes\", {\n    write: (writer, value, options) => {\n        const length = value.length;\n        if (options?.length != null) {\n            if (length !== options.length) {\n                throw new Error(`Bytes length mismatch: expected ${options.length}, got ${length}`);\n            }\n            for (let i = 0; i < length; i++) {\n                writer.writeUint8(value[i]);\n            }\n        }\n        else {\n            writer.writeUint32(length);\n            for (let i = 0; i < length; i++) {\n                writer.writeUint8(value[i]);\n            }\n        }\n    },\n    read: (reader, options) => {\n        const length = options?.length != null ? options.length : reader.readUint32();\n        const bytes = new Uint8Array(length);\n        for (let i = 0; i < length; i++) {\n            bytes[i] = reader.readUint8();\n        }\n        return bytes;\n    },\n});\n// Add native TypeScript enum handler\nexports.registry.register(\"nativeEnum\", {\n    write: (writer, value, options) => {\n        if (!options)\n            return;\n        const { valueToIndexMap } = options;\n        // Cast to string | number to satisfy TypeScript\n        const enumValue = value;\n        const index = valueToIndexMap.get(enumValue);\n        if (index === undefined) {\n            throw new Error(`Invalid enum value: ${String(value)}`);\n        }\n        // Always encode enum variant as u8, per Borsh spec\n        writer.writeUint8(index);\n    },\n    read: (reader, options) => {\n        if (!options)\n            return null;\n        const { indexToValueMap } = options;\n        const index = reader.readUint8();\n        const value = indexToValueMap.get(index);\n        if (value === undefined) {\n            throw new Error(`Invalid enum index: ${index}`);\n        }\n        return value;\n    },\n});\n//# sourceMappingURL=registry.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.b = exports.Schema = void 0;\nconst binary_io_1 = require(\"./binary-io\");\nconst registry_1 = require(\"./registry\");\nclass Schema {\n    type;\n    options;\n    registry;\n    constructor(type, options, registry) {\n        this.type = type;\n        this.options = options;\n        this.registry = registry;\n    }\n    serialize(value) {\n        const writer = new binary_io_1.BinaryWriter();\n        const handler = this.registry.getHandler(this.type);\n        handler.write(writer, value, this.options);\n        return writer.getBuffer();\n    }\n    deserialize(buffer) {\n        const reader = new binary_io_1.BinaryReader(buffer);\n        const handler = this.registry.getHandler(this.type);\n        return handler.read(reader, this.options);\n    }\n}\nexports.Schema = Schema;\n// Builder API\nexports.b = {\n    // Primitive types\n    // Unsigned integers\n    u8: () => new Schema(\"u8\", null, registry_1.registry),\n    u16: () => new Schema(\"u16\", null, registry_1.registry),\n    u32: () => new Schema(\"u32\", null, registry_1.registry),\n    u64: () => new Schema(\"u64\", null, registry_1.registry),\n    u128: () => new Schema(\"u128\", null, registry_1.registry),\n    // Signed integers\n    i8: () => new Schema(\"i8\", null, registry_1.registry),\n    i16: () => new Schema(\"i16\", null, registry_1.registry),\n    i32: () => new Schema(\"i32\", null, registry_1.registry),\n    i64: () => new Schema(\"i64\", null, registry_1.registry),\n    i128: () => new Schema(\"i128\", null, registry_1.registry),\n    // Floating point\n    f32: () => new Schema(\"f32\", null, registry_1.registry),\n    f64: () => new Schema(\"f64\", null, registry_1.registry),\n    // Other primitives\n    bool: () => new Schema(\"bool\", null, registry_1.registry),\n    string: () => new Schema(\"string\", null, registry_1.registry),\n    unit: () => new Schema(\"unit\", null, registry_1.registry),\n    // Complex container types\n    vec: (elementSchema) => {\n        return new Schema(\"vec\", {\n            elementType: elementSchema.type,\n            elementOptions: elementSchema.options,\n        }, registry_1.registry);\n    },\n    hashSet: (elementSchema) => {\n        return new Schema(\"set\", {\n            elementType: elementSchema.type,\n            elementOptions: elementSchema.options,\n        }, registry_1.registry);\n    },\n    hashMap: (keySchema, valueSchema) => {\n        return new Schema(\"map\", {\n            keyType: keySchema.type,\n            keyOptions: keySchema.options,\n            valueType: valueSchema.type,\n            valueOptions: valueSchema.options,\n        }, registry_1.registry);\n    },\n    option: (valueSchema) => {\n        return new Schema(\"option\", {\n            valueType: valueSchema.type,\n            valueOptions: valueSchema.options,\n        }, registry_1.registry);\n    },\n    array: (elementSchema, length) => {\n        return new Schema(\"array\", {\n            elementType: elementSchema.type,\n            elementOptions: elementSchema.options,\n            length,\n        }, registry_1.registry);\n    },\n    bytes: (length) => {\n        return new Schema(\"bytes\", length != null ? { length } : {}, registry_1.registry);\n    },\n    // Enum type\n    enum: (variants) => {\n        // Convert variants to array format with indices\n        const variantArray = Object.entries(variants).map(([name, schema], index) => ({\n            index,\n            name,\n            type: schema.type,\n            options: schema.options,\n        }));\n        return new Schema(\"enum\", { variants: variantArray }, registry_1.registry);\n    },\n    // Complex types\n    struct: (fields) => {\n        const fieldDefs = Object.fromEntries(Object.entries(fields).map(([key, schema]) => [\n            key,\n            { type: schema.type, options: schema.options },\n        ]));\n        return new Schema(\"struct\", fieldDefs, registry_1.registry);\n    },\n    // Tuple type\n    tuple: (...elements) => {\n        const types = elements.map((schema) => ({\n            type: schema.type,\n            options: schema.options,\n        }));\n        return new Schema(\"tuple\", types, registry_1.registry);\n    },\n    // Native TypeScript enum\n    nativeEnum: (enumObj) => {\n        // First, filter out numeric keys that TypeScript adds to enums\n        const enumEntries = Object.entries(enumObj).filter(([key]) => typeof key === \"string\" && Number.isNaN(Number(key)));\n        // Check for mixed enum types (string and numeric values)\n        const enumValues = enumEntries.map(([_, value]) => value);\n        const hasStringValues = enumValues.some((value) => typeof value === \"string\");\n        const hasNumericValues = enumValues.some((value) => typeof value === \"number\");\n        if (hasStringValues && hasNumericValues) {\n            throw new Error(\"Mixed string/numeric enums are not supported\");\n        }\n        // Create mappings between the enum values and their serialized indices\n        const valueToIndexMap = new Map();\n        const indexToValueMap = new Map();\n        // Process entries in the order they appear in the enum definition\n        enumEntries.forEach(([_key, value], index) => {\n            valueToIndexMap.set(value, index);\n            indexToValueMap.set(index, value);\n        });\n        // Check if we have too many variants\n        if (enumEntries.length > 255) {\n            throw new Error(\"Borsh only supports enums with up to 255 variants\");\n        }\n        return new Schema(\"nativeEnum\", {\n            enumObj,\n            valueToIndexMap,\n            indexToValueMap,\n        }, registry_1.registry);\n    },\n};\n//# sourceMappingURL=schema.js.map","'use strict';\n\nvar bind = require('function-bind');\n\nvar $apply = require('./functionApply');\nvar $call = require('./functionCall');\nvar $reflectApply = require('./reflectApply');\n\n/** @type {import('./actualApply')} */\nmodule.exports = $reflectApply || bind.call($call, $apply);\n","'use strict';\n\n/** @type {import('./functionApply')} */\nmodule.exports = Function.prototype.apply;\n","'use strict';\n\n/** @type {import('./functionCall')} */\nmodule.exports = Function.prototype.call;\n","'use strict';\n\nvar bind = require('function-bind');\nvar $TypeError = require('es-errors/type');\n\nvar $call = require('./functionCall');\nvar $actualApply = require('./actualApply');\n\n/** @type {(args: [Function, thisArg?: unknown, ...args: unknown[]]) => Function} TODO FIXME, find a way to use import('.') */\nmodule.exports = function callBindBasic(args) {\n\tif (args.length < 1 || typeof args[0] !== 'function') {\n\t\tthrow new $TypeError('a function is required');\n\t}\n\treturn $actualApply(bind, $call, args);\n};\n","'use strict';\n\n/** @type {import('./reflectApply')} */\nmodule.exports = typeof Reflect !== 'undefined' && Reflect && Reflect.apply;\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBindBasic = require('call-bind-apply-helpers');\n\n/** @type {(thisArg: string, searchString: string, position?: number) => number} */\nvar $indexOf = callBindBasic([GetIntrinsic('%String.prototype.indexOf%')]);\n\n/** @type {import('.')} */\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\t/* eslint no-extra-parens: 0 */\n\n\tvar intrinsic = /** @type {(this: unknown, ...args: unknown[]) => unknown} */ (GetIntrinsic(name, !!allowMissing));\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBindBasic(/** @type {const} */ ([intrinsic]));\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar callBind = require('call-bind-apply-helpers');\nvar gOPD = require('gopd');\n\nvar hasProtoAccessor;\ntry {\n\t// eslint-disable-next-line no-extra-parens, no-proto\n\thasProtoAccessor = /** @type {{ __proto__?: typeof Array.prototype }} */ ([]).__proto__ === Array.prototype;\n} catch (e) {\n\tif (!e || typeof e !== 'object' || !('code' in e) || e.code !== 'ERR_PROTO_ACCESS') {\n\t\tthrow e;\n\t}\n}\n\n// eslint-disable-next-line no-extra-parens\nvar desc = !!hasProtoAccessor && gOPD && gOPD(Object.prototype, /** @type {keyof typeof Object.prototype} */ ('__proto__'));\n\nvar $Object = Object;\nvar $getPrototypeOf = $Object.getPrototypeOf;\n\n/** @type {import('./get')} */\nmodule.exports = desc && typeof desc.get === 'function'\n\t? callBind([desc.get])\n\t: typeof $getPrototypeOf === 'function'\n\t\t? /** @type {import('./get')} */ function getDunder(value) {\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\treturn $getPrototypeOf(value == null ? value : $Object(value));\n\t\t}\n\t\t: false;\n","'use strict';\n\n/** @type {import('.')} */\nvar $defineProperty = Object.defineProperty || false;\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = false;\n\t}\n}\n\nmodule.exports = $defineProperty;\n","'use strict';\n\n/** @type {import('./eval')} */\nmodule.exports = EvalError;\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Error;\n","'use strict';\n\n/** @type {import('./range')} */\nmodule.exports = RangeError;\n","'use strict';\n\n/** @type {import('./ref')} */\nmodule.exports = ReferenceError;\n","'use strict';\n\n/** @type {import('./syntax')} */\nmodule.exports = SyntaxError;\n","'use strict';\n\n/** @type {import('./type')} */\nmodule.exports = TypeError;\n","'use strict';\n\n/** @type {import('./uri')} */\nmodule.exports = URIError;\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Object;\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar undefined;\n\nvar $Object = require('es-object-atoms');\n\nvar $Error = require('es-errors');\nvar $EvalError = require('es-errors/eval');\nvar $RangeError = require('es-errors/range');\nvar $ReferenceError = require('es-errors/ref');\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\nvar $URIError = require('es-errors/uri');\n\nvar abs = require('math-intrinsics/abs');\nvar floor = require('math-intrinsics/floor');\nvar max = require('math-intrinsics/max');\nvar min = require('math-intrinsics/min');\nvar pow = require('math-intrinsics/pow');\nvar round = require('math-intrinsics/round');\nvar sign = require('math-intrinsics/sign');\n\nvar $Function = Function;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = require('gopd');\nvar $defineProperty = require('es-define-property');\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = require('get-proto');\nvar $ObjectGPO = require('get-proto/Object.getPrototypeOf');\nvar $ReflectGPO = require('get-proto/Reflect.getPrototypeOf');\n\nvar $apply = require('call-bind-apply-helpers/functionApply');\nvar $call = require('call-bind-apply-helpers/functionCall');\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t__proto__: null,\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': $Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': $EvalError,\n\t'%Float16Array%': typeof Float16Array === 'undefined' ? undefined : Float16Array,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': $Object,\n\t'%Object.getOwnPropertyDescriptor%': $gOPD,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': $RangeError,\n\t'%ReferenceError%': $ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': $URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\n\t'%Function.prototype.call%': $call,\n\t'%Function.prototype.apply%': $apply,\n\t'%Object.defineProperty%': $defineProperty,\n\t'%Object.getPrototypeOf%': $ObjectGPO,\n\t'%Math.abs%': abs,\n\t'%Math.floor%': floor,\n\t'%Math.max%': max,\n\t'%Math.min%': min,\n\t'%Math.pow%': pow,\n\t'%Math.round%': round,\n\t'%Math.sign%': sign,\n\t'%Reflect.getPrototypeOf%': $ReflectGPO\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t__proto__: null,\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call($call, Array.prototype.concat);\nvar $spliceApply = bind.call($apply, Array.prototype.splice);\nvar $replace = bind.call($call, String.prototype.replace);\nvar $strSlice = bind.call($call, String.prototype.slice);\nvar $exec = bind.call($call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar $Object = require('es-object-atoms');\n\n/** @type {import('./Object.getPrototypeOf')} */\nmodule.exports = $Object.getPrototypeOf || null;\n","'use strict';\n\n/** @type {import('./Reflect.getPrototypeOf')} */\nmodule.exports = (typeof Reflect !== 'undefined' && Reflect.getPrototypeOf) || null;\n","'use strict';\n\nvar reflectGetProto = require('./Reflect.getPrototypeOf');\nvar originalGetProto = require('./Object.getPrototypeOf');\n\nvar getDunderProto = require('dunder-proto/get');\n\n/** @type {import('.')} */\nmodule.exports = reflectGetProto\n\t? function getProto(O) {\n\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\treturn reflectGetProto(O);\n\t}\n\t: originalGetProto\n\t\t? function getProto(O) {\n\t\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\t\tthrow new TypeError('getProto: not an object');\n\t\t\t}\n\t\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\t\treturn originalGetProto(O);\n\t\t}\n\t\t: getDunderProto\n\t\t\t? function getProto(O) {\n\t\t\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\t\t\treturn getDunderProto(O);\n\t\t\t}\n\t\t\t: null;\n","'use strict';\n\n/** @type {import('./gOPD')} */\nmodule.exports = Object.getOwnPropertyDescriptor;\n","'use strict';\n\n/** @type {import('.')} */\nvar $gOPD = require('./gOPD');\n\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\n/** @type {import('.')} */\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/** @type {import('./shams')} */\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\t/** @type {{ [k in symbol]?: unknown }} */\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (var _ in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\t// eslint-disable-next-line no-extra-parens\n\t\tvar descriptor = /** @type {PropertyDescriptor} */ (Object.getOwnPropertyDescriptor(obj, sym));\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar call = Function.prototype.call;\nvar $hasOwn = Object.prototype.hasOwnProperty;\nvar bind = require('function-bind');\n\n/** @type {import('.')} */\nmodule.exports = bind.call(call, $hasOwn);\n","'use strict';\n\n/** @type {import('./abs')} */\nmodule.exports = Math.abs;\n","'use strict';\n\n/** @type {import('./floor')} */\nmodule.exports = Math.floor;\n","'use strict';\n\n/** @type {import('./isNaN')} */\nmodule.exports = Number.isNaN || function isNaN(a) {\n\treturn a !== a;\n};\n","'use strict';\n\n/** @type {import('./max')} */\nmodule.exports = Math.max;\n","'use strict';\n\n/** @type {import('./min')} */\nmodule.exports = Math.min;\n","'use strict';\n\n/** @type {import('./pow')} */\nmodule.exports = Math.pow;\n","'use strict';\n\n/** @type {import('./round')} */\nmodule.exports = Math.round;\n","'use strict';\n\nvar $isNaN = require('./isNaN');\n\n/** @type {import('./sign')} */\nmodule.exports = function sign(number) {\n\tif ($isNaN(number) || number === 0) {\n\t\treturn number;\n\t}\n\treturn number < 0 ? -1 : +1;\n};\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nvar quotes = {\n    __proto__: null,\n    'double': '\"',\n    single: \"'\"\n};\nvar quoteREs = {\n    __proto__: null,\n    'double': /([\"\\\\])/g,\n    single: /(['\\\\])/g\n};\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && !has(quotes, opts.quoteStyle)) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        if (mapForEach) {\n            mapForEach.call(obj, function (value, key) {\n                mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n            });\n        }\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        if (setForEach) {\n            setForEach.call(obj, function (value) {\n                setParts.push(inspect(value, obj));\n            });\n        }\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    // note: in IE 8, sometimes `global !== window` but both are the prototypes of each other\n    /* eslint-env browser */\n    if (typeof window !== 'undefined' && obj === window) {\n        return '{ [object Window] }';\n    }\n    if (\n        (typeof globalThis !== 'undefined' && obj === globalThis)\n        || (typeof global !== 'undefined' && obj === global)\n    ) {\n        return '{ [object globalThis] }';\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var style = opts.quoteStyle || defaultStyle;\n    var quoteChar = quotes[style];\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction canTrustToString(obj) {\n    return !toStringTag || !(typeof obj === 'object' && (toStringTag in obj || typeof obj[toStringTag] !== 'undefined'));\n}\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && canTrustToString(obj); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && canTrustToString(obj); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && canTrustToString(obj); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && canTrustToString(obj); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && canTrustToString(obj); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && canTrustToString(obj); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && canTrustToString(obj); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    var quoteRE = quoteREs[opts.quoteStyle || 'single'];\n    quoteRE.lastIndex = 0;\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, quoteRE, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n","module.exports = require('util').inspect;\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowEmptyArrays: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decodeDotInKeys: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    duplicates: 'combine',\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictDepth: false,\n    strictNullHandling: false,\n    throwOnLimitExceeded: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options, currentArrayLength) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    if (options.throwOnLimitExceeded && currentArrayLength >= options.arrayLimit) {\n        throw new RangeError('Array limit exceeded. Only ' + options.arrayLimit + ' element' + (options.arrayLimit === 1 ? '' : 's') + ' allowed in an array.');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the  character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the  character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = { __proto__: null };\n\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    cleanStr = cleanStr.replace(/%5B/gi, '[').replace(/%5D/gi, ']');\n\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(\n        options.delimiter,\n        options.throwOnLimitExceeded ? limit + 1 : limit\n    );\n\n    if (options.throwOnLimitExceeded && parts.length > limit) {\n        throw new RangeError('Parameter limit exceeded. Only ' + limit + ' parameter' + (limit === 1 ? '' : 's') + ' allowed.');\n    }\n\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key;\n        var val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n\n            val = utils.maybeMap(\n                parseArrayValue(\n                    part.slice(pos + 1),\n                    options,\n                    isArray(obj[key]) ? obj[key].length : 0\n                ),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(String(val));\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        var existing = has.call(obj, key);\n        if (existing && options.duplicates === 'combine') {\n            obj[key] = utils.combine(obj[key], val);\n        } else if (!existing || options.duplicates === 'last') {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var currentArrayLength = 0;\n    if (chain.length > 0 && chain[chain.length - 1] === '[]') {\n        var parentKey = chain.slice(0, -1).join('');\n        currentArrayLength = Array.isArray(val) && val[parentKey] ? val[parentKey].length : 0;\n    }\n\n    var leaf = valuesParsed ? val : parseArrayValue(val, options, currentArrayLength);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = options.allowEmptyArrays && (leaf === '' || (options.strictNullHandling && leaf === null))\n                ? []\n                : utils.combine([], leaf);\n        } else {\n            obj = options.plainObjects ? { __proto__: null } : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var decodedRoot = options.decodeDotInKeys ? cleanRoot.replace(/%2E/g, '.') : cleanRoot;\n            var index = parseInt(decodedRoot, 10);\n            if (!options.parseArrays && decodedRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== decodedRoot\n                && String(index) === decodedRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (decodedRoot !== '__proto__') {\n                obj[decodedRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, check strictDepth option for throw, else just add whatever is left\n\n    if (segment) {\n        if (options.strictDepth === true) {\n            throw new RangeError('Input depth exceeded depth option of ' + options.depth + ' and strictDepth is true');\n        }\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.decodeDotInKeys !== 'undefined' && typeof opts.decodeDotInKeys !== 'boolean') {\n        throw new TypeError('`decodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.decoder !== null && typeof opts.decoder !== 'undefined' && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    if (typeof opts.throwOnLimitExceeded !== 'undefined' && typeof opts.throwOnLimitExceeded !== 'boolean') {\n        throw new TypeError('`throwOnLimitExceeded` option must be a boolean');\n    }\n\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    var duplicates = typeof opts.duplicates === 'undefined' ? defaults.duplicates : opts.duplicates;\n\n    if (duplicates !== 'combine' && duplicates !== 'first' && duplicates !== 'last') {\n        throw new TypeError('The duplicates option must be either combine, first, or last');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.decodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decodeDotInKeys: typeof opts.decodeDotInKeys === 'boolean' ? opts.decodeDotInKeys : defaults.decodeDotInKeys,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        duplicates: duplicates,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictDepth: typeof opts.strictDepth === 'boolean' ? !!opts.strictDepth : defaults.strictDepth,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling,\n        throwOnLimitExceeded: typeof opts.throwOnLimitExceeded === 'boolean' ? opts.throwOnLimitExceeded : false\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? { __proto__: null } : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? { __proto__: null } : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    allowEmptyArrays: false,\n    arrayFormat: 'indices',\n    charset: 'utf-8',\n    charsetSentinel: false,\n    commaRoundTrip: false,\n    delimiter: '&',\n    encode: true,\n    encodeDotInKeys: false,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    filter: void undefined,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar sentinel = {};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    commaRoundTrip,\n    allowEmptyArrays,\n    strictNullHandling,\n    skipNulls,\n    encodeDotInKeys,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    var tmpSc = sideChannel;\n    var step = 0;\n    var findFlag = false;\n    while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {\n        // Where object last appeared in the ref tree\n        var pos = tmpSc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            } else {\n                findFlag = true; // Break while\n            }\n        }\n        if (typeof tmpSc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        if (encodeValuesOnly && encoder) {\n            obj = utils.maybeMap(obj, encoder);\n        }\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    var encodedPrefix = encodeDotInKeys ? String(prefix).replace(/\\./g, '%2E') : String(prefix);\n\n    var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? encodedPrefix + '[]' : encodedPrefix;\n\n    if (allowEmptyArrays && isArray(obj) && obj.length === 0) {\n        return adjustedPrefix + '[]';\n    }\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && key && typeof key.value !== 'undefined'\n            ? key.value\n            : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var encodedKey = allowDots && encodeDotInKeys ? String(key).replace(/\\./g, '%2E') : String(key);\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, encodedKey) : adjustedPrefix\n            : adjustedPrefix + (allowDots ? '.' + encodedKey : '[' + encodedKey + ']');\n\n        sideChannel.set(object, step);\n        var valueSideChannel = getSideChannel();\n        valueSideChannel.set(sentinel, sideChannel);\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            commaRoundTrip,\n            allowEmptyArrays,\n            strictNullHandling,\n            skipNulls,\n            encodeDotInKeys,\n            generateArrayPrefix === 'comma' && encodeValuesOnly && isArray(obj) ? null : encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.encodeDotInKeys !== 'undefined' && typeof opts.encodeDotInKeys !== 'boolean') {\n        throw new TypeError('`encodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    var arrayFormat;\n    if (opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if ('indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = defaults.arrayFormat;\n    }\n\n    if ('commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.encodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        arrayFormat: arrayFormat,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        commaRoundTrip: !!opts.commaRoundTrip,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encodeDotInKeys: typeof opts.encodeDotInKeys === 'boolean' ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[options.arrayFormat];\n    var commaRoundTrip = generateArrayPrefix === 'comma' && options.commaRoundTrip;\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n        var value = obj[key];\n\n        if (options.skipNulls && value === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            value,\n            key,\n            generateArrayPrefix,\n            commaRoundTrip,\n            options.allowEmptyArrays,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encodeDotInKeys,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? { __proto__: null } : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object' && typeof source !== 'function') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if (\n                (options && (options.plainObjects || options.allowPrototypes))\n                || !has.call(Object.prototype, source)\n            ) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, defaultDecoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar limit = 1024;\n\n/* eslint operator-linebreak: [2, \"before\"] */\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var j = 0; j < string.length; j += limit) {\n        var segment = string.length >= limit ? string.slice(j, j + limit) : string;\n        var arr = [];\n\n        for (var i = 0; i < segment.length; ++i) {\n            var c = segment.charCodeAt(i);\n            if (\n                c === 0x2D // -\n                || c === 0x2E // .\n                || c === 0x5F // _\n                || c === 0x7E // ~\n                || (c >= 0x30 && c <= 0x39) // 0-9\n                || (c >= 0x41 && c <= 0x5A) // a-z\n                || (c >= 0x61 && c <= 0x7A) // A-Z\n                || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n            ) {\n                arr[arr.length] = segment.charAt(i);\n                continue;\n            }\n\n            if (c < 0x80) {\n                arr[arr.length] = hexTable[c];\n                continue;\n            }\n\n            if (c < 0x800) {\n                arr[arr.length] = hexTable[0xC0 | (c >> 6)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            if (c < 0xD800 || c >= 0xE000) {\n                arr[arr.length] = hexTable[0xE0 | (c >> 12)]\n                    + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            i += 1;\n            c = 0x10000 + (((c & 0x3FF) << 10) | (segment.charCodeAt(i) & 0x3FF));\n\n            arr[arr.length] = hexTable[0xF0 | (c >> 18)]\n                + hexTable[0x80 | ((c >> 12) & 0x3F)]\n                + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                + hexTable[0x80 | (c & 0x3F)];\n        }\n\n        out += arr.join('');\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","'use strict';\n\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\n\n/*\n* This function traverses the list returning the node corresponding to the given key.\n*\n* That node is also moved to the head of the list, so that if it's accessed again we don't need to traverse the whole list.\n* By doing so, all the recently used nodes can be accessed relatively quickly.\n*/\n/** @type {import('./list.d.ts').listGetNode} */\n// eslint-disable-next-line consistent-return\nvar listGetNode = function (list, key, isDelete) {\n\t/** @type {typeof list | NonNullable<(typeof list)['next']>} */\n\tvar prev = list;\n\t/** @type {(typeof list)['next']} */\n\tvar curr;\n\t// eslint-disable-next-line eqeqeq\n\tfor (; (curr = prev.next) != null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\tif (!isDelete) {\n\t\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\t\tcurr.next = /** @type {NonNullable<typeof list.next>} */ (list.next);\n\t\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\t}\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\n/** @type {import('./list.d.ts').listGet} */\nvar listGet = function (objects, key) {\n\tif (!objects) {\n\t\treturn void undefined;\n\t}\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\n/** @type {import('./list.d.ts').listSet} */\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = /** @type {import('./list.d.ts').ListNode<typeof value, typeof key>} */ ({ // eslint-disable-line no-param-reassign, no-extra-parens\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t});\n\t}\n};\n/** @type {import('./list.d.ts').listHas} */\nvar listHas = function (objects, key) {\n\tif (!objects) {\n\t\treturn false;\n\t}\n\treturn !!listGetNode(objects, key);\n};\n/** @type {import('./list.d.ts').listDelete} */\n// eslint-disable-next-line consistent-return\nvar listDelete = function (objects, key) {\n\tif (objects) {\n\t\treturn listGetNode(objects, key, true);\n\t}\n};\n\n/** @type {import('.')} */\nmodule.exports = function getSideChannelList() {\n\t/** @typedef {ReturnType<typeof getSideChannelList>} Channel */\n\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t/** @type {import('./list.d.ts').RootNode<V, K> | undefined} */ var $o;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\tvar root = $o && $o.next;\n\t\t\tvar deletedNode = listDelete($o, key);\n\t\t\tif (deletedNode && root && root === deletedNode) {\n\t\t\t\t$o = void undefined;\n\t\t\t}\n\t\t\treturn !!deletedNode;\n\t\t},\n\t\tget: function (key) {\n\t\t\treturn listGet($o, key);\n\t\t},\n\t\thas: function (key) {\n\t\t\treturn listHas($o, key);\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$o) {\n\t\t\t\t// Initialize the linked list as an empty node, so that we don't have to special-case handling of the first node: we can always refer to it as (previous node).next, instead of something like (list).head\n\t\t\t\t$o = {\n\t\t\t\t\tnext: void undefined\n\t\t\t\t};\n\t\t\t}\n\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\tlistSet(/** @type {NonNullable<typeof $o>} */ ($o), key, value);\n\t\t}\n\t};\n\t// @ts-expect-error TODO: figure out why this is erroring\n\treturn channel;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\nvar $Map = GetIntrinsic('%Map%', true);\n\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => V} */\nvar $mapGet = callBound('Map.prototype.get', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K, value: V) => void} */\nvar $mapSet = callBound('Map.prototype.set', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => boolean} */\nvar $mapHas = callBound('Map.prototype.has', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => boolean} */\nvar $mapDelete = callBound('Map.prototype.delete', true);\n/** @type {<K, V>(thisArg: Map<K, V>) => number} */\nvar $mapSize = callBound('Map.prototype.size', true);\n\n/** @type {import('.')} */\nmodule.exports = !!$Map && /** @type {Exclude<import('.'), false>} */ function getSideChannelMap() {\n\t/** @typedef {ReturnType<typeof getSideChannelMap>} Channel */\n\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t/** @type {Map<K, V> | undefined} */ var $m;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\tif ($m) {\n\t\t\t\tvar result = $mapDelete($m, key);\n\t\t\t\tif ($mapSize($m) === 0) {\n\t\t\t\t\t$m = void undefined;\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($m) {\n\t\t\t\treturn $mapGet($m, key);\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($m) {\n\t\t\t\treturn $mapHas($m, key);\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$m) {\n\t\t\t\t// @ts-expect-error TS can't handle narrowing a variable inside a closure\n\t\t\t\t$m = new $Map();\n\t\t\t}\n\t\t\t$mapSet($m, key, value);\n\t\t}\n\t};\n\n\t// @ts-expect-error TODO: figure out why TS is erroring here\n\treturn channel;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bound');\nvar inspect = require('object-inspect');\nvar getSideChannelMap = require('side-channel-map');\n\nvar $TypeError = require('es-errors/type');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\n\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => V} */\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K, value: V) => void} */\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => boolean} */\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => boolean} */\nvar $weakMapDelete = callBound('WeakMap.prototype.delete', true);\n\n/** @type {import('.')} */\nmodule.exports = $WeakMap\n\t? /** @type {Exclude<import('.'), false>} */ function getSideChannelWeakMap() {\n\t\t/** @typedef {ReturnType<typeof getSideChannelWeakMap>} Channel */\n\t\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t\t/** @type {WeakMap<K & object, V> | undefined} */ var $wm;\n\t\t/** @type {Channel | undefined} */ var $m;\n\n\t\t/** @type {Channel} */\n\t\tvar channel = {\n\t\t\tassert: function (key) {\n\t\t\t\tif (!channel.has(key)) {\n\t\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t\t}\n\t\t\t},\n\t\t\t'delete': function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapDelete($wm, key);\n\t\t\t\t\t}\n\t\t\t\t} else if (getSideChannelMap) {\n\t\t\t\t\tif ($m) {\n\t\t\t\t\t\treturn $m['delete'](key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tget: function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn $m && $m.get(key);\n\t\t\t},\n\t\t\thas: function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!$m && $m.has(key);\n\t\t\t},\n\t\t\tset: function (key, value) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif (!$wm) {\n\t\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t\t}\n\t\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t\t} else if (getSideChannelMap) {\n\t\t\t\t\tif (!$m) {\n\t\t\t\t\t\t$m = getSideChannelMap();\n\t\t\t\t\t}\n\t\t\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\t\t\t/** @type {NonNullable<typeof $m>} */ ($m).set(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// @ts-expect-error TODO: figure out why this is erroring\n\t\treturn channel;\n\t}\n\t: getSideChannelMap;\n","'use strict';\n\nvar $TypeError = require('es-errors/type');\nvar inspect = require('object-inspect');\nvar getSideChannelList = require('side-channel-list');\nvar getSideChannelMap = require('side-channel-map');\nvar getSideChannelWeakMap = require('side-channel-weakmap');\n\nvar makeChannel = getSideChannelWeakMap || getSideChannelMap || getSideChannelList;\n\n/** @type {import('.')} */\nmodule.exports = function getSideChannel() {\n\t/** @typedef {ReturnType<typeof getSideChannel>} Channel */\n\n\t/** @type {Channel | undefined} */ var $channelData;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\treturn !!$channelData && $channelData['delete'](key);\n\t\t},\n\t\tget: function (key) {\n\t\t\treturn $channelData && $channelData.get(key);\n\t\t},\n\t\thas: function (key) {\n\t\t\treturn !!$channelData && $channelData.has(key);\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$channelData) {\n\t\t\t\t$channelData = makeChannel();\n\t\t\t}\n\n\t\t\t$channelData.set(key, value);\n\t\t}\n\t};\n\t// @ts-expect-error TODO: figure out why this is erroring\n\treturn channel;\n};\n","import { z } from 'every-plugin/zod';\nexport var ConnectInputSchema = z.object({\n    accountId: z.string().min(1, 'Account ID is required').describe('The account ID to ensure storage deposit for')\n});\nexport var ConnectOutputSchema = z.object({\n    accountId: z.string().describe('The account ID that was connected'),\n    hasStorage: z.boolean().describe('Whether the account already had storage'),\n    depositTxHash: z.string().optional().describe('Transaction hash if a deposit was made')\n});\nexport var PublishInputSchema = z.object({\n    payload: z.string().min(1, 'Payload is required').describe('Base64 encoded signed delegate action')\n});\nexport var PublishOutputSchema = z.object({\n    hash: z.string().describe('Transaction hash')\n});\nexport var ProductCategorySchema = z.enum([\n    'Men',\n    'Women',\n    'Accessories',\n    'Exclusives'\n]);\nexport var ProductSchema = z.object({\n    id: z.string(),\n    name: z.string(),\n    description: z.string().optional(),\n    price: z.number(),\n    currency: z.string().default('USD'),\n    category: ProductCategorySchema,\n    image: z.string(),\n    productUid: z.string().optional(),\n    fileUrl: z.string().optional()\n});\nexport var CollectionSchema = z.object({\n    slug: z.string(),\n    name: z.string(),\n    description: z.string().optional()\n});\nexport var ShippingAddressSchema = z.object({\n    companyName: z.string().optional(),\n    firstName: z.string().min(1),\n    lastName: z.string().min(1),\n    addressLine1: z.string().min(1),\n    addressLine2: z.string().optional(),\n    city: z.string().min(1),\n    state: z.string().min(1),\n    postCode: z.string().min(1),\n    country: z.string().length(2),\n    email: z.string().email(),\n    phone: z.string().min(1).optional()\n});\nexport var DeliveryEstimateSchema = z.object({\n    minDeliveryDate: z.string(),\n    maxDeliveryDate: z.string()\n});\nexport var OrderStatusSchema = z.enum([\n    'pending',\n    'paid',\n    'processing',\n    'printing',\n    'shipped',\n    'delivered',\n    'cancelled'\n]);\nexport var TrackingInfoSchema = z.object({\n    trackingCode: z.string(),\n    trackingUrl: z.string(),\n    shipmentMethodName: z.string(),\n    shipmentMethodUid: z.string().optional(),\n    fulfillmentCountry: z.string().optional(),\n    fulfillmentStateProvince: z.string().optional(),\n    fulfillmentFacilityId: z.string().optional()\n});\nexport var OrderSchema = z.object({\n    id: z.string(),\n    userId: z.string(),\n    productId: z.string(),\n    productName: z.string(),\n    quantity: z.number(),\n    totalAmount: z.number(),\n    currency: z.string(),\n    status: OrderStatusSchema,\n    checkoutSessionId: z.string().optional(),\n    checkoutProvider: z.enum([\n        'stripe',\n        'near'\n    ]).optional(),\n    fulfillmentOrderId: z.string().optional(),\n    fulfillmentReferenceId: z.string().optional(),\n    shippingAddress: ShippingAddressSchema.optional(),\n    trackingInfo: z.array(TrackingInfoSchema).optional(),\n    deliveryEstimate: DeliveryEstimateSchema.optional(),\n    createdAt: z.string().datetime(),\n    updatedAt: z.string().datetime()\n});\nexport var CreateCheckoutInputSchema = z.object({\n    productId: z.string(),\n    quantity: z.number().int().positive().default(1),\n    successUrl: z.string().url(),\n    cancelUrl: z.string().url()\n});\nexport var CreateCheckoutOutputSchema = z.object({\n    checkoutSessionId: z.string(),\n    checkoutUrl: z.string().url(),\n    orderId: z.string()\n});\nexport var WebhookResponseSchema = z.object({\n    received: z.boolean()\n});\n","import { oc } from 'every-plugin/orpc';\nimport { z } from 'every-plugin/zod';\nimport { ConnectInputSchema, ConnectOutputSchema, PublishInputSchema, PublishOutputSchema, ProductSchema, ProductCategorySchema, CollectionSchema, OrderSchema, CreateCheckoutInputSchema, CreateCheckoutOutputSchema, WebhookResponseSchema } from './schema';\nexport var contract = oc.router({\n    connect: oc.route({\n        method: 'POST',\n        path: '/connect',\n        summary: 'Connect to contract',\n        description: 'Ensures the account has storage deposit on the contract. If not, makes a deposit on behalf of the user.',\n        tags: [\n            'Relayer'\n        ]\n    }).input(ConnectInputSchema).output(ConnectOutputSchema),\n    publish: oc.route({\n        method: 'POST',\n        path: '/publish',\n        summary: 'Publish a signed delegate action',\n        description: 'Submits a signed delegate action (meta-transaction) to the network. Used for gasless social posts and profile updates.',\n        tags: [\n            'Relayer'\n        ]\n    }).input(PublishInputSchema).output(PublishOutputSchema),\n    ping: oc.route({\n        method: 'GET',\n        path: '/ping',\n        summary: 'Health check',\n        description: 'Simple ping endpoint to verify the API is responding.',\n        tags: [\n            'Health'\n        ]\n    }).output(z.object({\n        status: z.literal('ok'),\n        timestamp: z.string().datetime()\n    })),\n    getProducts: oc.route({\n        method: 'GET',\n        path: '/products',\n        summary: 'List all products',\n        description: 'Returns a list of all available products.',\n        tags: [\n            'Products'\n        ]\n    }).input(z.object({\n        category: ProductCategorySchema.optional(),\n        limit: z.number().int().positive().max(100).default(50),\n        offset: z.number().int().min(0).default(0)\n    })).output(z.object({\n        products: z.array(ProductSchema),\n        total: z.number()\n    })),\n    getProduct: oc.route({\n        method: 'GET',\n        path: '/products/{id}',\n        summary: 'Get product by ID',\n        description: 'Returns a single product by its ID.',\n        tags: [\n            'Products'\n        ]\n    }).input(z.object({\n        id: z.string()\n    })).output(z.object({\n        product: ProductSchema\n    })),\n    searchProducts: oc.route({\n        method: 'GET',\n        path: '/products/search',\n        summary: 'Search products',\n        description: 'Search products by query string.',\n        tags: [\n            'Products'\n        ]\n    }).input(z.object({\n        query: z.string(),\n        category: ProductCategorySchema.optional(),\n        limit: z.number().int().positive().max(100).default(20)\n    })).output(z.object({\n        products: z.array(ProductSchema)\n    })),\n    getFeaturedProducts: oc.route({\n        method: 'GET',\n        path: '/products/featured',\n        summary: 'Get featured products',\n        description: 'Returns a curated list of featured products.',\n        tags: [\n            'Products'\n        ]\n    }).input(z.object({\n        limit: z.number().int().positive().max(20).default(8)\n    })).output(z.object({\n        products: z.array(ProductSchema)\n    })),\n    getCollections: oc.route({\n        method: 'GET',\n        path: '/collections',\n        summary: 'List all collections',\n        description: 'Returns a list of all product collections/categories.',\n        tags: [\n            'Collections'\n        ]\n    }).output(z.object({\n        collections: z.array(CollectionSchema)\n    })),\n    getCollection: oc.route({\n        method: 'GET',\n        path: '/collections/{slug}',\n        summary: 'Get collection by slug',\n        description: 'Returns a collection with its products.',\n        tags: [\n            'Collections'\n        ]\n    }).input(z.object({\n        slug: z.string()\n    })).output(z.object({\n        collection: CollectionSchema,\n        products: z.array(ProductSchema)\n    })),\n    createCheckout: oc.route({\n        method: 'POST',\n        path: '/checkout',\n        summary: 'Create checkout session',\n        description: 'Creates a new checkout session for purchasing a product.',\n        tags: [\n            'Checkout'\n        ]\n    }).input(CreateCheckoutInputSchema).output(CreateCheckoutOutputSchema),\n    getOrders: oc.route({\n        method: 'GET',\n        path: '/orders',\n        summary: 'List user orders',\n        description: 'Returns a list of orders for the authenticated user.',\n        tags: [\n            'Orders'\n        ]\n    }).input(z.object({\n        limit: z.number().int().positive().max(100).default(10),\n        offset: z.number().int().min(0).default(0)\n    })).output(z.object({\n        orders: z.array(OrderSchema),\n        total: z.number()\n    })),\n    getOrder: oc.route({\n        method: 'GET',\n        path: '/orders/{id}',\n        summary: 'Get order by ID',\n        description: 'Returns a single order by its ID.',\n        tags: [\n            'Orders'\n        ]\n    }).input(z.object({\n        id: z.string()\n    })).output(z.object({\n        order: OrderSchema\n    })),\n    stripeWebhook: oc.route({\n        method: 'POST',\n        path: '/webhooks/stripe',\n        summary: 'Stripe webhook',\n        description: 'Handles Stripe webhook events for payment processing.',\n        tags: [\n            'Webhooks'\n        ]\n    }).input(z.object({\n        body: z.string(),\n        signature: z.string()\n    })).output(WebhookResponseSchema),\n    fulfillmentWebhook: oc.route({\n        method: 'POST',\n        path: '/webhooks/fulfillment',\n        summary: 'Fulfillment webhook',\n        description: 'Handles fulfillment provider webhook events (Gelato).',\n        tags: [\n            'Webhooks'\n        ]\n    }).input(z.object({\n        body: z.string(),\n        signature: z.string()\n    })).output(WebhookResponseSchema)\n});\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _async_to_generator(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\nfunction _class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _ts_generator(thisArg, body) {\n    var f, y, t, _ = {\n        label: 0,\n        sent: function() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    }, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g;\n    function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(g && (g = 0, op[0] && (_ = 0)), _)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    }\n}\nimport { decodeSignedDelegateAction } from 'near-kit';\nimport { Graph } from 'near-social-js';\nvar DEFAULT_STORAGE_DEPOSIT = '500000000000000000000000';\nvar DEFAULT_CONTRACT_ID = 'social.near';\nexport var RelayerService = /*#__PURE__*/ function() {\n    \"use strict\";\n    function RelayerService(near, relayerAccountId) {\n        var contractId = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : DEFAULT_CONTRACT_ID;\n        _class_call_check(this, RelayerService);\n        _define_property(this, \"near\", void 0);\n        _define_property(this, \"graph\", void 0);\n        _define_property(this, \"relayerAccountId\", void 0);\n        _define_property(this, \"contractId\", void 0);\n        this.near = near;\n        this.relayerAccountId = relayerAccountId;\n        this.contractId = contractId;\n        this.graph = new Graph({\n            near: near,\n            contractId: contractId\n        });\n    }\n    _create_class(RelayerService, [\n        {\n            key: \"ensureStorageDeposit\",\n            value: function ensureStorageDeposit(accountId) {\n                return _async_to_generator(function() {\n                    var storageBalance, hasStorage, result;\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                return [\n                                    4,\n                                    this.graph.storageBalanceOf(accountId)\n                                ];\n                            case 1:\n                                storageBalance = _state.sent();\n                                hasStorage = storageBalance !== null && BigInt(storageBalance.total) > 0n;\n                                if (hasStorage) {\n                                    return [\n                                        2,\n                                        {\n                                            accountId: accountId,\n                                            hasStorage: true\n                                        }\n                                    ];\n                                }\n                                return [\n                                    4,\n                                    this.near.transaction(this.relayerAccountId).functionCall(this.contractId, 'storage_deposit', {\n                                        account_id: accountId\n                                    }, {\n                                        gas: '30 Tgas',\n                                        attachedDeposit: BigInt(DEFAULT_STORAGE_DEPOSIT)\n                                    }).send()\n                                ];\n                            case 2:\n                                result = _state.sent();\n                                return [\n                                    2,\n                                    {\n                                        accountId: accountId,\n                                        hasStorage: false,\n                                        depositTxHash: result.transaction.hash\n                                    }\n                                ];\n                        }\n                    });\n                }).call(this);\n            }\n        },\n        {\n            key: \"submitDelegateAction\",\n            value: function submitDelegateAction(payload) {\n                return _async_to_generator(function() {\n                    var signedDelegateAction, result;\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                signedDelegateAction = decodeSignedDelegateAction(payload);\n                                console.debug(\"[Relayer] signed delegate submitted to \".concat(this.relayerAccountId));\n                                return [\n                                    4,\n                                    this.near.transaction(this.relayerAccountId).signedDelegateAction(signedDelegateAction).send()\n                                ];\n                            case 1:\n                                result = _state.sent();\n                                return [\n                                    2,\n                                    {\n                                        hash: result.transaction.hash\n                                    }\n                                ];\n                        }\n                    });\n                }).call(this);\n            }\n        }\n    ]);\n    return RelayerService;\n}();\n","export var COLLECTIONS = [\n    {\n        slug: 'men',\n        name: 'Men',\n        description: 'Men\\'s apparel and accessories'\n    },\n    {\n        slug: 'women',\n        name: 'Women',\n        description: 'Women\\'s apparel and accessories'\n    },\n    {\n        slug: 'accessories',\n        name: 'Accessories',\n        description: 'Bags, hats, and more'\n    },\n    {\n        slug: 'exclusives',\n        name: 'Exclusives',\n        description: 'Limited edition items'\n    }\n];\nexport var PRODUCTS = [\n    {\n        id: '1',\n        category: 'Men',\n        name: 'NEAR Protocol Hoodie',\n        price: 65,\n        currency: 'USD',\n        image: '/images/product-1.png'\n    },\n    {\n        id: '2',\n        category: 'Women',\n        name: 'Classic NEAR Tee',\n        price: 35,\n        currency: 'USD',\n        image: '/images/product-2.png'\n    },\n    {\n        id: '3',\n        category: 'Accessories',\n        name: 'NEAR Snapback Cap',\n        price: 28,\n        currency: 'USD',\n        image: '/images/product-3.png'\n    },\n    {\n        id: '4',\n        category: 'Accessories',\n        name: 'Protocol Tote Bag',\n        price: 22,\n        currency: 'USD',\n        image: '/images/product-4.png'\n    },\n    {\n        id: '5',\n        category: 'Accessories',\n        name: 'NEAR Coffee Mug',\n        price: 18,\n        currency: 'USD',\n        image: '/images/product-5.png'\n    },\n    {\n        id: '6',\n        category: 'Exclusives',\n        name: 'Sticker Pack',\n        price: 12,\n        currency: 'USD',\n        image: '/images/product-6.png'\n    },\n    {\n        id: '7',\n        category: 'Men',\n        name: \"Men's Essential Tee - Black\",\n        price: 32,\n        currency: 'USD',\n        image: 'https://images.unsplash.com/photo-1667744565777-fa2eb22adeeb?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080'\n    },\n    {\n        id: '8',\n        category: 'Men',\n        name: \"Men's Oversized Tee\",\n        price: 38,\n        currency: 'USD',\n        image: '/images/product-8.png'\n    },\n    {\n        id: '9',\n        category: 'Women',\n        name: \"Women's Crop Tee\",\n        price: 30,\n        currency: 'USD',\n        image: '/images/product-9.png'\n    },\n    {\n        id: '10',\n        category: 'Men',\n        name: \"Men's Polo Shirt\",\n        price: 45,\n        currency: 'USD',\n        image: '/images/product-10.png'\n    },\n    {\n        id: '11',\n        category: 'Women',\n        name: \"Women's Fitted Tee\",\n        price: 30,\n        currency: 'USD',\n        image: '/images/product-11.png'\n    },\n    {\n        id: '12',\n        category: 'Exclusives',\n        name: \"Founder's Edition Tee\",\n        price: 40,\n        currency: 'USD',\n        image: '/images/product-12.png'\n    },\n    {\n        id: '13',\n        category: 'Women',\n        name: \"Women's Crop Tee\",\n        price: 30,\n        currency: 'USD',\n        image: '/images/product-13.png'\n    },\n    {\n        id: '14',\n        category: 'Men',\n        name: \"Men's Oversized Tee\",\n        price: 38,\n        currency: 'USD',\n        image: '/images/product-14.png'\n    },\n    {\n        id: '15',\n        category: 'Exclusives',\n        name: 'Limited Edition Black Tee',\n        price: 45,\n        currency: 'USD',\n        image: '/images/product-15.png'\n    },\n    {\n        id: '16',\n        category: 'Women',\n        name: \"Women's Hoodie\",\n        price: 68,\n        currency: 'USD',\n        image: '/images/product-16.png'\n    },\n    {\n        id: '17',\n        category: 'Accessories',\n        name: 'NEAR Backpack',\n        price: 75,\n        currency: 'USD',\n        image: '/images/product-17.png'\n    },\n    {\n        id: '18',\n        category: 'Accessories',\n        name: 'NEAR Water Bottle',\n        price: 20,\n        currency: 'USD',\n        image: '/images/product-18.png'\n    }\n];\nexport function getProductById(id) {\n    return PRODUCTS.find(function(p) {\n        return p.id === id;\n    });\n}\nexport function getProductsByCategory(category) {\n    return PRODUCTS.filter(function(p) {\n        return p.category === category;\n    });\n}\nexport function searchProducts(query, category) {\n    var lowerQuery = query.toLowerCase();\n    return PRODUCTS.filter(function(p) {\n        var matchesQuery = !query || p.name.toLowerCase().includes(lowerQuery);\n        var matchesCategory = !category || p.category === category;\n        return matchesQuery && matchesCategory;\n    });\n}\nexport function getFeaturedProducts() {\n    var limit = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 8;\n    return PRODUCTS.slice(0, limit);\n}\nexport function getCollectionBySlug(slug) {\n    return COLLECTIONS.find(function(c) {\n        return c.slug === slug;\n    });\n}\nexport function categoryFromSlug(slug) {\n    var map = {\n        men: 'Men',\n        women: 'Women',\n        accessories: 'Accessories',\n        exclusives: 'Exclusives'\n    };\n    return map[slug];\n}\n","function _class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _ts_generator(thisArg, body) {\n    var f, y, t, _ = {\n        label: 0,\n        sent: function() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    }, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g;\n    function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(g && (g = 0, op[0] && (_ = 0)), _)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    }\n}\nfunction _ts_values(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function() {\n            if (o && i >= o.length) o = void 0;\n            return {\n                value: o && o[i++],\n                done: !o\n            };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nimport { Effect } from 'every-plugin/effect';\nimport { PRODUCTS, COLLECTIONS, getProductById, getProductsByCategory, searchProducts as searchProductsData, getFeaturedProducts as getFeaturedProductsData, getCollectionBySlug, categoryFromSlug } from '../data/products';\nexport var ProductService = /*#__PURE__*/ function() {\n    \"use strict\";\n    function ProductService() {\n        _class_call_check(this, ProductService);\n    }\n    _create_class(ProductService, [\n        {\n            key: \"getProducts\",\n            value: function getProducts(options) {\n                return Effect.sync(function() {\n                    var category = options.category, _options_limit = options.limit, limit = _options_limit === void 0 ? 50 : _options_limit, _options_offset = options.offset, offset = _options_offset === void 0 ? 0 : _options_offset;\n                    var products = category ? getProductsByCategory(category) : PRODUCTS;\n                    var total = products.length;\n                    products = products.slice(offset, offset + limit);\n                    return {\n                        products: products,\n                        total: total\n                    };\n                });\n            }\n        },\n        {\n            key: \"getProduct\",\n            value: function getProduct(id) {\n                return Effect.gen(function() {\n                    var product;\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                product = getProductById(id);\n                                if (!!product) return [\n                                    3,\n                                    2\n                                ];\n                                return [\n                                    5,\n                                    _ts_values(Effect.fail(new Error(\"Product not found: \".concat(id))))\n                                ];\n                            case 1:\n                                return [\n                                    2,\n                                    _state.sent()\n                                ];\n                            case 2:\n                                return [\n                                    2,\n                                    {\n                                        product: product\n                                    }\n                                ];\n                        }\n                    });\n                });\n            }\n        },\n        {\n            key: \"searchProducts\",\n            value: function searchProducts(options) {\n                return Effect.sync(function() {\n                    var query = options.query, category = options.category, _options_limit = options.limit, limit = _options_limit === void 0 ? 20 : _options_limit;\n                    var products = searchProductsData(query, category).slice(0, limit);\n                    return {\n                        products: products\n                    };\n                });\n            }\n        },\n        {\n            key: \"getFeaturedProducts\",\n            value: function getFeaturedProducts() {\n                var limit = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 8;\n                return Effect.sync(function() {\n                    var products = getFeaturedProductsData(limit);\n                    return {\n                        products: products\n                    };\n                });\n            }\n        },\n        {\n            key: \"getCollections\",\n            value: function getCollections() {\n                return Effect.sync(function() {\n                    return {\n                        collections: COLLECTIONS\n                    };\n                });\n            }\n        },\n        {\n            key: \"getCollection\",\n            value: function getCollection(slug) {\n                return Effect.gen(function() {\n                    var collection, category, products;\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                collection = getCollectionBySlug(slug);\n                                if (!!collection) return [\n                                    3,\n                                    2\n                                ];\n                                return [\n                                    5,\n                                    _ts_values(Effect.fail(new Error(\"Collection not found: \".concat(slug))))\n                                ];\n                            case 1:\n                                return [\n                                    2,\n                                    _state.sent()\n                                ];\n                            case 2:\n                                category = categoryFromSlug(slug);\n                                products = category ? getProductsByCategory(category) : [];\n                                return [\n                                    2,\n                                    {\n                                        collection: collection,\n                                        products: products\n                                    }\n                                ];\n                        }\n                    });\n                });\n            }\n        }\n    ]);\n    return ProductService;\n}();\n","function _class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _ts_generator(thisArg, body) {\n    var f, y, t, _ = {\n        label: 0,\n        sent: function() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    }, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g;\n    function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(g && (g = 0, op[0] && (_ = 0)), _)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    }\n}\nfunction _ts_values(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function() {\n            if (o && i >= o.length) o = void 0;\n            return {\n                value: o && o[i++],\n                done: !o\n            };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nimport { Effect } from 'every-plugin/effect';\nexport var OrderService = /*#__PURE__*/ function() {\n    \"use strict\";\n    function OrderService() {\n        _class_call_check(this, OrderService);\n        _define_property(this, \"orders\", new Map());\n    }\n    _create_class(OrderService, [\n        {\n            key: \"createOrder\",\n            value: function createOrder(params) {\n                var _this = this;\n                return Effect.sync(function() {\n                    var now = new Date().toISOString();\n                    var order = {\n                        id: crypto.randomUUID(),\n                        userId: params.userId,\n                        productId: params.productId,\n                        productName: params.productName,\n                        quantity: params.quantity,\n                        totalAmount: params.totalAmount,\n                        currency: params.currency,\n                        status: 'pending',\n                        fulfillmentReferenceId: \"order_\".concat(Date.now(), \"_\").concat(params.userId),\n                        createdAt: now,\n                        updatedAt: now\n                    };\n                    _this.orders.set(order.id, order);\n                    return order;\n                });\n            }\n        },\n        {\n            key: \"getOrder\",\n            value: function getOrder(orderId, userId) {\n                return Effect.gen(this, function() {\n                    var order;\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                order = this.orders.get(orderId);\n                                if (!!order) return [\n                                    3,\n                                    2\n                                ];\n                                return [\n                                    5,\n                                    _ts_values(Effect.fail(new Error('Order not found')))\n                                ];\n                            case 1:\n                                return [\n                                    2,\n                                    _state.sent()\n                                ];\n                            case 2:\n                                if (!(userId && order.userId !== userId)) return [\n                                    3,\n                                    4\n                                ];\n                                return [\n                                    5,\n                                    _ts_values(Effect.fail(new Error('Unauthorized')))\n                                ];\n                            case 3:\n                                return [\n                                    2,\n                                    _state.sent()\n                                ];\n                            case 4:\n                                return [\n                                    2,\n                                    {\n                                        order: order\n                                    }\n                                ];\n                        }\n                    });\n                });\n            }\n        },\n        {\n            key: \"getOrders\",\n            value: function getOrders(userId, options) {\n                var _this = this;\n                return Effect.sync(function() {\n                    var _options_limit = options.limit, limit = _options_limit === void 0 ? 10 : _options_limit, _options_offset = options.offset, offset = _options_offset === void 0 ? 0 : _options_offset;\n                    var userOrders = Array.from(_this.orders.values()).filter(function(o) {\n                        return o.userId === userId;\n                    }).sort(function(a, b) {\n                        return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();\n                    });\n                    var total = userOrders.length;\n                    var orders = userOrders.slice(offset, offset + limit);\n                    return {\n                        orders: orders,\n                        total: total\n                    };\n                });\n            }\n        },\n        {\n            key: \"updateOrderCheckout\",\n            value: function updateOrderCheckout(orderId, checkoutSessionId, checkoutProvider) {\n                return Effect.gen(this, function() {\n                    var order;\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                order = this.orders.get(orderId);\n                                if (!!order) return [\n                                    3,\n                                    2\n                                ];\n                                return [\n                                    5,\n                                    _ts_values(Effect.fail(new Error('Order not found')))\n                                ];\n                            case 1:\n                                return [\n                                    2,\n                                    _state.sent()\n                                ];\n                            case 2:\n                                order.checkoutSessionId = checkoutSessionId;\n                                order.checkoutProvider = checkoutProvider;\n                                order.updatedAt = new Date().toISOString();\n                                return [\n                                    2,\n                                    order\n                                ];\n                        }\n                    });\n                });\n            }\n        },\n        {\n            key: \"updateOrderStatus\",\n            value: function updateOrderStatus(orderId, status) {\n                return Effect.gen(this, function() {\n                    var order;\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                order = this.orders.get(orderId);\n                                if (!!order) return [\n                                    3,\n                                    2\n                                ];\n                                return [\n                                    5,\n                                    _ts_values(Effect.fail(new Error('Order not found')))\n                                ];\n                            case 1:\n                                return [\n                                    2,\n                                    _state.sent()\n                                ];\n                            case 2:\n                                order.status = status;\n                                order.updatedAt = new Date().toISOString();\n                                return [\n                                    2,\n                                    order\n                                ];\n                        }\n                    });\n                });\n            }\n        },\n        {\n            key: \"updateOrderShipping\",\n            value: function updateOrderShipping(orderId, shippingAddress) {\n                return Effect.gen(this, function() {\n                    var order;\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                order = this.orders.get(orderId);\n                                if (!!order) return [\n                                    3,\n                                    2\n                                ];\n                                return [\n                                    5,\n                                    _ts_values(Effect.fail(new Error('Order not found')))\n                                ];\n                            case 1:\n                                return [\n                                    2,\n                                    _state.sent()\n                                ];\n                            case 2:\n                                order.shippingAddress = shippingAddress;\n                                order.updatedAt = new Date().toISOString();\n                                return [\n                                    2,\n                                    order\n                                ];\n                        }\n                    });\n                });\n            }\n        },\n        {\n            key: \"updateOrderFulfillment\",\n            value: function updateOrderFulfillment(orderId, fulfillmentOrderId) {\n                return Effect.gen(this, function() {\n                    var order;\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                order = this.orders.get(orderId);\n                                if (!!order) return [\n                                    3,\n                                    2\n                                ];\n                                return [\n                                    5,\n                                    _ts_values(Effect.fail(new Error('Order not found')))\n                                ];\n                            case 1:\n                                return [\n                                    2,\n                                    _state.sent()\n                                ];\n                            case 2:\n                                order.fulfillmentOrderId = fulfillmentOrderId;\n                                order.status = 'processing';\n                                order.updatedAt = new Date().toISOString();\n                                return [\n                                    2,\n                                    order\n                                ];\n                        }\n                    });\n                });\n            }\n        },\n        {\n            key: \"updateOrderTracking\",\n            value: function updateOrderTracking(orderId, trackingInfo) {\n                return Effect.gen(this, function() {\n                    var order;\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                order = this.orders.get(orderId);\n                                if (!!order) return [\n                                    3,\n                                    2\n                                ];\n                                return [\n                                    5,\n                                    _ts_values(Effect.fail(new Error('Order not found')))\n                                ];\n                            case 1:\n                                return [\n                                    2,\n                                    _state.sent()\n                                ];\n                            case 2:\n                                order.trackingInfo = trackingInfo;\n                                order.updatedAt = new Date().toISOString();\n                                return [\n                                    2,\n                                    order\n                                ];\n                        }\n                    });\n                });\n            }\n        },\n        {\n            key: \"updateOrderDeliveryEstimate\",\n            value: function updateOrderDeliveryEstimate(orderId, deliveryEstimate) {\n                return Effect.gen(this, function() {\n                    var order;\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                order = this.orders.get(orderId);\n                                if (!!order) return [\n                                    3,\n                                    2\n                                ];\n                                return [\n                                    5,\n                                    _ts_values(Effect.fail(new Error('Order not found')))\n                                ];\n                            case 1:\n                                return [\n                                    2,\n                                    _state.sent()\n                                ];\n                            case 2:\n                                order.deliveryEstimate = deliveryEstimate;\n                                order.updatedAt = new Date().toISOString();\n                                return [\n                                    2,\n                                    order\n                                ];\n                        }\n                    });\n                });\n            }\n        },\n        {\n            key: \"getOrderByFulfillmentReference\",\n            value: function getOrderByFulfillmentReference(fulfillmentReferenceId) {\n                var _this = this;\n                return Effect.sync(function() {\n                    var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                    try {\n                        for(var _iterator = _this.orders.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                            var order = _step.value;\n                            if (order.fulfillmentReferenceId === fulfillmentReferenceId) {\n                                return order;\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError = true;\n                        _iteratorError = err;\n                    } finally{\n                        try {\n                            if (!_iteratorNormalCompletion && _iterator.return != null) {\n                                _iterator.return();\n                            }\n                        } finally{\n                            if (_didIteratorError) {\n                                throw _iteratorError;\n                            }\n                        }\n                    }\n                    return undefined;\n                });\n            }\n        },\n        {\n            key: \"getOrderByCheckoutSession\",\n            value: function getOrderByCheckoutSession(checkoutSessionId) {\n                var _this = this;\n                return Effect.sync(function() {\n                    var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                    try {\n                        for(var _iterator = _this.orders.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                            var order = _step.value;\n                            if (order.checkoutSessionId === checkoutSessionId) {\n                                return order;\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError = true;\n                        _iteratorError = err;\n                    } finally{\n                        try {\n                            if (!_iteratorNormalCompletion && _iterator.return != null) {\n                                _iterator.return();\n                            }\n                        } finally{\n                            if (_didIteratorError) {\n                                throw _iteratorError;\n                            }\n                        }\n                    }\n                    return undefined;\n                });\n            }\n        }\n    ]);\n    return OrderService;\n}();\n","function _array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction _array_with_holes(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _async_to_generator(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\nfunction _class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _instanceof(left, right) {\n    if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n        return !!right[Symbol.hasInstance](left);\n    } else {\n        return left instanceof right;\n    }\n}\nfunction _iterable_to_array(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _non_iterable_rest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _object_spread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction _to_array(arr) {\n    return _array_with_holes(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array(arr) || _non_iterable_rest();\n}\nfunction _unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);\n}\nfunction _ts_generator(thisArg, body) {\n    var f, y, t, _ = {\n        label: 0,\n        sent: function() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    }, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g;\n    function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(g && (g = 0, op[0] && (_ = 0)), _)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    }\n}\nimport { Effect } from 'every-plugin/effect';\nimport Stripe from 'stripe';\nimport { ShippingAddressSchema } from '../schema';\nexport var StripeService = /*#__PURE__*/ function() {\n    \"use strict\";\n    function StripeService(secretKey, webhookSecret) {\n        _class_call_check(this, StripeService);\n        _define_property(this, \"stripe\", void 0);\n        _define_property(this, \"webhookSecret\", void 0);\n        this.stripe = new Stripe(secretKey, {\n            apiVersion: '2025-11-17.clover'\n        });\n        this.webhookSecret = webhookSecret;\n    }\n    _create_class(StripeService, [\n        {\n            key: \"createCheckoutSession\",\n            value: function createCheckoutSession(params) {\n                var _this = this;\n                return Effect.tryPromise({\n                    try: function() {\n                        return _async_to_generator(function() {\n                            var session;\n                            return _ts_generator(this, function(_state) {\n                                switch(_state.label){\n                                    case 0:\n                                        return [\n                                            4,\n                                            this.stripe.checkout.sessions.create({\n                                                payment_method_types: [\n                                                    'card'\n                                                ],\n                                                shipping_address_collection: {\n                                                    allowed_countries: [\n                                                        'US',\n                                                        'CA',\n                                                        'GB',\n                                                        'AU',\n                                                        'DE',\n                                                        'FR',\n                                                        'IT',\n                                                        'ES',\n                                                        'NL',\n                                                        'SE',\n                                                        'NO',\n                                                        'FI',\n                                                        'DK',\n                                                        'BE',\n                                                        'AT',\n                                                        'CH',\n                                                        'PT',\n                                                        'IE',\n                                                        'NZ',\n                                                        'SG',\n                                                        'JP'\n                                                    ]\n                                                },\n                                                shipping_options: [\n                                                    {\n                                                        shipping_rate_data: {\n                                                            type: 'fixed_amount',\n                                                            fixed_amount: {\n                                                                amount: 0,\n                                                                currency: params.currency.toLowerCase()\n                                                            },\n                                                            display_name: 'Free Shipping',\n                                                            delivery_estimate: {\n                                                                minimum: {\n                                                                    unit: 'business_day',\n                                                                    value: 5\n                                                                },\n                                                                maximum: {\n                                                                    unit: 'business_day',\n                                                                    value: 10\n                                                                }\n                                                            }\n                                                        }\n                                                    }\n                                                ],\n                                                line_items: [\n                                                    {\n                                                        price_data: {\n                                                            currency: params.currency.toLowerCase(),\n                                                            product_data: {\n                                                                name: params.productName,\n                                                                description: params.productDescription,\n                                                                images: params.productImage ? [\n                                                                    params.productImage\n                                                                ] : undefined\n                                                            },\n                                                            unit_amount: params.unitAmount\n                                                        },\n                                                        quantity: params.quantity\n                                                    }\n                                                ],\n                                                mode: 'payment',\n                                                success_url: \"\".concat(params.successUrl, \"?session_id={CHECKOUT_SESSION_ID}\"),\n                                                cancel_url: params.cancelUrl,\n                                                customer_email: params.customerEmail,\n                                                metadata: _object_spread({\n                                                    orderId: params.orderId\n                                                }, params.metadata)\n                                            })\n                                        ];\n                                    case 1:\n                                        session = _state.sent();\n                                        return [\n                                            2,\n                                            {\n                                                sessionId: session.id,\n                                                url: session.url\n                                            }\n                                        ];\n                                }\n                            });\n                        }).call(_this);\n                    },\n                    catch: function(error) {\n                        return new Error(\"Stripe checkout failed: \".concat(_instanceof(error, Error) ? error.message : String(error)));\n                    }\n                });\n            }\n        },\n        {\n            key: \"verifyWebhookSignature\",\n            value: function verifyWebhookSignature(body, signature) {\n                var _this = this;\n                return Effect.tryPromise({\n                    try: function() {\n                        return _async_to_generator(function() {\n                            var event;\n                            return _ts_generator(this, function(_state) {\n                                switch(_state.label){\n                                    case 0:\n                                        return [\n                                            4,\n                                            this.stripe.webhooks.constructEventAsync(body, signature, this.webhookSecret)\n                                        ];\n                                    case 1:\n                                        event = _state.sent();\n                                        return [\n                                            2,\n                                            event\n                                        ];\n                                }\n                            });\n                        }).call(_this);\n                    },\n                    catch: function(error) {\n                        return new Error(\"Webhook verification failed: \".concat(_instanceof(error, Error) ? error.message : String(error)));\n                    }\n                });\n            }\n        },\n        {\n            key: \"getCheckoutSession\",\n            value: function getCheckoutSession(sessionId) {\n                var _this = this;\n                return Effect.tryPromise({\n                    try: function() {\n                        return _async_to_generator(function() {\n                            var session;\n                            return _ts_generator(this, function(_state) {\n                                switch(_state.label){\n                                    case 0:\n                                        return [\n                                            4,\n                                            this.stripe.checkout.sessions.retrieve(sessionId)\n                                        ];\n                                    case 1:\n                                        session = _state.sent();\n                                        return [\n                                            2,\n                                            session\n                                        ];\n                                }\n                            });\n                        }).call(_this);\n                    },\n                    catch: function(error) {\n                        return new Error(\"Failed to retrieve session: \".concat(_instanceof(error, Error) ? error.message : String(error)));\n                    }\n                });\n            }\n        },\n        {\n            key: \"extractShippingAddress\",\n            value: function extractShippingAddress(session) {\n                var _session_collected_information, _shippingDetails_name;\n                var shippingDetails = (_session_collected_information = session.collected_information) === null || _session_collected_information === void 0 ? void 0 : _session_collected_information.shipping_details;\n                if (!shippingDetails) return null;\n                var _ref = _to_array(((_shippingDetails_name = shippingDetails.name) === null || _shippingDetails_name === void 0 ? void 0 : _shippingDetails_name.split(' ')) || [\n                    '',\n                    ''\n                ]), firstName = _ref[0], lastNameParts = _ref.slice(1);\n                try {\n                    var _shippingDetails_address, _shippingDetails_address1, _shippingDetails_address2, _shippingDetails_address3, _shippingDetails_address4, _shippingDetails_address5;\n                    return ShippingAddressSchema.parse({\n                        firstName: firstName,\n                        lastName: lastNameParts.join(' '),\n                        addressLine1: ((_shippingDetails_address = shippingDetails.address) === null || _shippingDetails_address === void 0 ? void 0 : _shippingDetails_address.line1) || '',\n                        addressLine2: ((_shippingDetails_address1 = shippingDetails.address) === null || _shippingDetails_address1 === void 0 ? void 0 : _shippingDetails_address1.line2) || undefined,\n                        city: ((_shippingDetails_address2 = shippingDetails.address) === null || _shippingDetails_address2 === void 0 ? void 0 : _shippingDetails_address2.city) || '',\n                        state: ((_shippingDetails_address3 = shippingDetails.address) === null || _shippingDetails_address3 === void 0 ? void 0 : _shippingDetails_address3.state) || '',\n                        postCode: ((_shippingDetails_address4 = shippingDetails.address) === null || _shippingDetails_address4 === void 0 ? void 0 : _shippingDetails_address4.postal_code) || '',\n                        country: ((_shippingDetails_address5 = shippingDetails.address) === null || _shippingDetails_address5 === void 0 ? void 0 : _shippingDetails_address5.country) || '',\n                        email: 'orders@demo.everything.market',\n                        phone: undefined\n                    });\n                } catch (e) {\n                    return null;\n                }\n            }\n        }\n    ]);\n    return StripeService;\n}();\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _async_to_generator(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\nfunction _class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _instanceof(left, right) {\n    if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n        return !!right[Symbol.hasInstance](left);\n    } else {\n        return left instanceof right;\n    }\n}\nfunction _ts_generator(thisArg, body) {\n    var f, y, t, _ = {\n        label: 0,\n        sent: function() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    }, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g;\n    function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(g && (g = 0, op[0] && (_ = 0)), _)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    }\n}\nimport { Effect } from 'every-plugin/effect';\nvar ORDER_STATUS_MAP = {\n    passed: 'processing',\n    completed: 'processing',\n    printing: 'printing',\n    shipped: 'shipped',\n    delivered: 'delivered',\n    cancelled: 'cancelled',\n    canceled: 'cancelled'\n};\nexport function mapFulfillmentStatus(status) {\n    return ORDER_STATUS_MAP[status.toLowerCase()] || 'processing';\n}\nexport function parseTrackingInfo(items) {\n    var trackingInfos = [];\n    var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n    try {\n        for(var _iterator = (items || [])[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n            var item = _step.value;\n            var _iteratorNormalCompletion1 = true, _didIteratorError1 = false, _iteratorError1 = undefined;\n            try {\n                for(var _iterator1 = (item.fulfillments || [])[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true){\n                    var fulfillment = _step1.value;\n                    trackingInfos.push({\n                        trackingCode: fulfillment.trackingCode,\n                        trackingUrl: fulfillment.trackingUrl,\n                        shipmentMethodName: fulfillment.shipmentMethodName,\n                        shipmentMethodUid: fulfillment.shipmentMethodUid,\n                        fulfillmentCountry: fulfillment.fulfillmentCountry,\n                        fulfillmentStateProvince: fulfillment.fulfillmentStateProvince,\n                        fulfillmentFacilityId: fulfillment.fulfillmentFacilityId\n                    });\n                }\n            } catch (err) {\n                _didIteratorError1 = true;\n                _iteratorError1 = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion1 && _iterator1.return != null) {\n                        _iterator1.return();\n                    }\n                } finally{\n                    if (_didIteratorError1) {\n                        throw _iteratorError1;\n                    }\n                }\n            }\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally{\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n                _iterator.return();\n            }\n        } finally{\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n    return trackingInfos;\n}\nexport var GelatoFulfillmentService = /*#__PURE__*/ function() {\n    \"use strict\";\n    function GelatoFulfillmentService(apiKey, webhookSecret) {\n        _class_call_check(this, GelatoFulfillmentService);\n        _define_property(this, \"apiKey\", void 0);\n        _define_property(this, \"webhookSecret\", void 0);\n        _define_property(this, \"baseUrl\", 'https://order.gelatoapis.com/v4');\n        this.apiKey = apiKey;\n        this.webhookSecret = webhookSecret;\n    }\n    _create_class(GelatoFulfillmentService, [\n        {\n            key: \"createOrder\",\n            value: function createOrder(data) {\n                var _this = this;\n                return Effect.tryPromise({\n                    try: function() {\n                        return _async_to_generator(function() {\n                            var response, errorBody, result;\n                            return _ts_generator(this, function(_state) {\n                                switch(_state.label){\n                                    case 0:\n                                        return [\n                                            4,\n                                            fetch(\"\".concat(this.baseUrl, \"/orders\"), {\n                                                method: 'POST',\n                                                headers: {\n                                                    'Content-Type': 'application/json',\n                                                    'X-API-KEY': this.apiKey\n                                                },\n                                                body: JSON.stringify(data)\n                                            })\n                                        ];\n                                    case 1:\n                                        response = _state.sent();\n                                        if (!!response.ok) return [\n                                            3,\n                                            3\n                                        ];\n                                        return [\n                                            4,\n                                            response.text()\n                                        ];\n                                    case 2:\n                                        errorBody = _state.sent();\n                                        console.error('Gelato API error response:', errorBody);\n                                        throw new Error(\"Gelato API error: \".concat(response.status, \" \").concat(response.statusText));\n                                    case 3:\n                                        return [\n                                            4,\n                                            response.json()\n                                        ];\n                                    case 4:\n                                        result = _state.sent();\n                                        return [\n                                            2,\n                                            {\n                                                id: result.id\n                                            }\n                                        ];\n                                }\n                            });\n                        }).call(_this);\n                    },\n                    catch: function(error) {\n                        return new Error(\"Fulfillment order failed: \".concat(_instanceof(error, Error) ? error.message : String(error)));\n                    }\n                });\n            }\n        },\n        {\n            key: \"verifyWebhookSignature\",\n            value: function verifyWebhookSignature(body, signature) {\n                var _this = this;\n                return Effect.sync(function() {\n                    return signature === _this.webhookSecret;\n                });\n            }\n        },\n        {\n            key: \"getReturnAddress\",\n            value: function getReturnAddress() {\n                return {\n                    firstName: 'Returns',\n                    lastName: 'Department',\n                    companyName: 'Demo Company',\n                    addressLine1: '456 Return Street',\n                    city: 'Return City',\n                    state: 'CA',\n                    postCode: '67890',\n                    country: 'US',\n                    email: 'returns@example.com',\n                    phone: '0987654321'\n                };\n            }\n        },\n        {\n            key: \"buildOrderData\",\n            value: function buildOrderData(params) {\n                return {\n                    orderReferenceId: params.fulfillmentReferenceId,\n                    customerReferenceId: params.userId,\n                    currency: params.currency,\n                    items: [\n                        {\n                            itemReferenceId: \"item_\".concat(params.orderId),\n                            productUid: params.productUid,\n                            files: [\n                                {\n                                    type: 'default',\n                                    url: params.fileUrl\n                                }\n                            ],\n                            quantity: params.quantity\n                        }\n                    ],\n                    shipmentMethodUid: 'express',\n                    shippingAddress: params.shippingAddress,\n                    returnAddress: this.getReturnAddress()\n                };\n            }\n        }\n    ]);\n    return GelatoFulfillmentService;\n}();\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _async_to_generator(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _object_spread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction _ts_generator(thisArg, body) {\n    var f, y, t, _ = {\n        label: 0,\n        sent: function() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    }, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g;\n    function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(g && (g = 0, op[0] && (_ = 0)), _)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    }\n}\nfunction _ts_values(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function() {\n            if (o && i >= o.length) o = void 0;\n            return {\n                value: o && o[i++],\n                done: !o\n            };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nimport { createPlugin } from 'every-plugin';\nimport { Effect } from 'every-plugin/effect';\nimport { z } from 'every-plugin/zod';\nimport { Near, InMemoryKeyStore, parseKey } from 'near-kit';\nimport { contract } from './contract';\nimport { RelayerService } from './service';\nimport { ProductService } from './services/products';\nimport { OrderService } from './services/orders';\nimport { StripeService } from './services/stripe';\nimport { GelatoFulfillmentService, mapFulfillmentStatus, parseTrackingInfo } from './services/fulfillment';\nimport { getProductById } from './data/products';\nexport * from './schema';\nvar DEMO_PRODUCT = {\n    productUid: 'apparel_product_gca_t-shirt_gsc_crewneck_gcu_unisex_gqa_classic_gsi_s_gco_white_gpr_4-4',\n    fileUrl: 'https://cdn-origin.gelato-api-dashboard.ie.live.gelato.tech/docs/sample-print-files/logo.png'\n};\nexport default createPlugin({\n    variables: z.object({\n        network: z.enum([\n            'mainnet',\n            'testnet'\n        ]).default('mainnet'),\n        contractId: z.string().default('social.near'),\n        nodeUrl: z.string().optional()\n    }),\n    secrets: z.object({\n        relayerAccountId: z.string().min(1, 'Relayer account ID is required'),\n        relayerPrivateKey: z.string().min(1, 'Relayer private key is required'),\n        STRIPE_SECRET_KEY: z.string().optional(),\n        STRIPE_WEBHOOK_SECRET: z.string().optional(),\n        GELATO_API_KEY: z.string().optional(),\n        GELATO_WEBHOOK_SECRET: z.string().optional()\n    }),\n    contract: contract,\n    initialize: function(config) {\n        return Effect.gen(function() {\n            var networkConfig, keyStore, near, relayerService, productService, orderService, stripeService, fulfillmentService;\n            return _ts_generator(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        networkConfig = config.variables.nodeUrl ? {\n                            networkId: config.variables.network,\n                            rpcUrl: config.variables.nodeUrl\n                        } : config.variables.network;\n                        console.log(\"[API Init] relayerAccountId: \".concat(config.secrets.relayerAccountId));\n                        console.log(\"[API Init] network: \".concat(config.variables.network));\n                        console.log(\"[API Init] contractId: \".concat(config.variables.contractId));\n                        keyStore = new InMemoryKeyStore();\n                        return [\n                            5,\n                            _ts_values(Effect.promise(function() {\n                                return keyStore.add(config.secrets.relayerAccountId, parseKey(config.secrets.relayerPrivateKey));\n                            }))\n                        ];\n                    case 1:\n                        _state.sent();\n                        near = new Near({\n                            network: networkConfig,\n                            keyStore: keyStore,\n                            defaultSignerId: config.secrets.relayerAccountId,\n                            defaultWaitUntil: 'FINAL'\n                        });\n                        relayerService = new RelayerService(near, config.secrets.relayerAccountId, config.variables.contractId);\n                        productService = new ProductService();\n                        orderService = new OrderService();\n                        stripeService = config.secrets.STRIPE_SECRET_KEY && config.secrets.STRIPE_WEBHOOK_SECRET ? new StripeService(config.secrets.STRIPE_SECRET_KEY, config.secrets.STRIPE_WEBHOOK_SECRET) : null;\n                        fulfillmentService = config.secrets.GELATO_API_KEY && config.secrets.GELATO_WEBHOOK_SECRET ? new GelatoFulfillmentService(config.secrets.GELATO_API_KEY, config.secrets.GELATO_WEBHOOK_SECRET) : null;\n                        console.debug('[API Init] Services initialized');\n                        return [\n                            2,\n                            {\n                                relayerService: relayerService,\n                                productService: productService,\n                                orderService: orderService,\n                                stripeService: stripeService,\n                                fulfillmentService: fulfillmentService\n                            }\n                        ];\n                }\n            });\n        });\n    },\n    shutdown: function() {\n        return Effect.void;\n    },\n    createRouter: function(context, builder) {\n        var relayerService = context.relayerService, productService = context.productService, orderService = context.orderService, stripeService = context.stripeService, fulfillmentService = context.fulfillmentService;\n        return {\n            connect: builder.connect.handler(function(param) {\n                var input = param.input;\n                return _async_to_generator(function() {\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                return [\n                                    4,\n                                    relayerService.ensureStorageDeposit(input.accountId)\n                                ];\n                            case 1:\n                                return [\n                                    2,\n                                    _state.sent()\n                                ];\n                        }\n                    });\n                })();\n            }),\n            publish: builder.publish.handler(function(param) {\n                var input = param.input;\n                return _async_to_generator(function() {\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                return [\n                                    4,\n                                    relayerService.submitDelegateAction(input.payload)\n                                ];\n                            case 1:\n                                return [\n                                    2,\n                                    _state.sent()\n                                ];\n                        }\n                    });\n                })();\n            }),\n            ping: builder.ping.handler(function() {\n                return _async_to_generator(function() {\n                    return _ts_generator(this, function(_state) {\n                        return [\n                            2,\n                            {\n                                status: 'ok',\n                                timestamp: new Date().toISOString()\n                            }\n                        ];\n                    });\n                })();\n            }),\n            getProducts: builder.getProducts.handler(function(param) {\n                var input = param.input;\n                return _async_to_generator(function() {\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                return [\n                                    4,\n                                    Effect.runPromise(productService.getProducts(input))\n                                ];\n                            case 1:\n                                return [\n                                    2,\n                                    _state.sent()\n                                ];\n                        }\n                    });\n                })();\n            }),\n            getProduct: builder.getProduct.handler(function(param) {\n                var input = param.input;\n                return _async_to_generator(function() {\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                return [\n                                    4,\n                                    Effect.runPromise(productService.getProduct(input.id))\n                                ];\n                            case 1:\n                                return [\n                                    2,\n                                    _state.sent()\n                                ];\n                        }\n                    });\n                })();\n            }),\n            searchProducts: builder.searchProducts.handler(function(param) {\n                var input = param.input;\n                return _async_to_generator(function() {\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                return [\n                                    4,\n                                    Effect.runPromise(productService.searchProducts(input))\n                                ];\n                            case 1:\n                                return [\n                                    2,\n                                    _state.sent()\n                                ];\n                        }\n                    });\n                })();\n            }),\n            getFeaturedProducts: builder.getFeaturedProducts.handler(function(param) {\n                var input = param.input;\n                return _async_to_generator(function() {\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                return [\n                                    4,\n                                    Effect.runPromise(productService.getFeaturedProducts(input.limit))\n                                ];\n                            case 1:\n                                return [\n                                    2,\n                                    _state.sent()\n                                ];\n                        }\n                    });\n                })();\n            }),\n            getCollections: builder.getCollections.handler(function() {\n                return _async_to_generator(function() {\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                return [\n                                    4,\n                                    Effect.runPromise(productService.getCollections())\n                                ];\n                            case 1:\n                                return [\n                                    2,\n                                    _state.sent()\n                                ];\n                        }\n                    });\n                })();\n            }),\n            getCollection: builder.getCollection.handler(function(param) {\n                var input = param.input;\n                return _async_to_generator(function() {\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                return [\n                                    4,\n                                    Effect.runPromise(productService.getCollection(input.slug))\n                                ];\n                            case 1:\n                                return [\n                                    2,\n                                    _state.sent()\n                                ];\n                        }\n                    });\n                })();\n            }),\n            createCheckout: builder.createCheckout.handler(function(param) {\n                var input = param.input;\n                return _async_to_generator(function() {\n                    var product, userId, totalAmount, order, checkout;\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                if (!stripeService) {\n                                    throw new Error('Stripe is not configured');\n                                }\n                                product = getProductById(input.productId);\n                                if (!product) {\n                                    throw new Error(\"Product not found: \".concat(input.productId));\n                                }\n                                userId = 'demo-user';\n                                totalAmount = product.price * 100 * input.quantity;\n                                return [\n                                    4,\n                                    Effect.runPromise(orderService.createOrder({\n                                        userId: userId,\n                                        productId: product.id,\n                                        productName: product.name,\n                                        quantity: input.quantity,\n                                        totalAmount: totalAmount,\n                                        currency: product.currency || 'USD'\n                                    }))\n                                ];\n                            case 1:\n                                order = _state.sent();\n                                return [\n                                    4,\n                                    Effect.runPromise(stripeService.createCheckoutSession({\n                                        orderId: order.id,\n                                        productName: product.name,\n                                        productDescription: product.description,\n                                        productImage: product.image,\n                                        unitAmount: product.price * 100,\n                                        currency: product.currency || 'USD',\n                                        quantity: input.quantity,\n                                        successUrl: input.successUrl,\n                                        cancelUrl: input.cancelUrl\n                                    }))\n                                ];\n                            case 2:\n                                checkout = _state.sent();\n                                return [\n                                    4,\n                                    Effect.runPromise(orderService.updateOrderCheckout(order.id, checkout.sessionId, 'stripe'))\n                                ];\n                            case 3:\n                                _state.sent();\n                                return [\n                                    2,\n                                    {\n                                        checkoutSessionId: checkout.sessionId,\n                                        checkoutUrl: checkout.url,\n                                        orderId: order.id\n                                    }\n                                ];\n                        }\n                    });\n                })();\n            }),\n            getOrders: builder.getOrders.handler(function(param) {\n                var input = param.input;\n                return _async_to_generator(function() {\n                    var userId;\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                userId = 'demo-user';\n                                return [\n                                    4,\n                                    Effect.runPromise(orderService.getOrders(userId, input))\n                                ];\n                            case 1:\n                                return [\n                                    2,\n                                    _state.sent()\n                                ];\n                        }\n                    });\n                })();\n            }),\n            getOrder: builder.getOrder.handler(function(param) {\n                var input = param.input;\n                return _async_to_generator(function() {\n                    var userId;\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                userId = 'demo-user';\n                                return [\n                                    4,\n                                    Effect.runPromise(orderService.getOrder(input.id, userId))\n                                ];\n                            case 1:\n                                return [\n                                    2,\n                                    _state.sent()\n                                ];\n                        }\n                    });\n                })();\n            }),\n            stripeWebhook: builder.stripeWebhook.handler(function(param) {\n                var input = param.input;\n                return _async_to_generator(function() {\n                    var event, _session_metadata, session, orderId, fullSession, shippingAddress, orderResult, order, orderData, fulfillmentResult, error;\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                if (!stripeService || !fulfillmentService) {\n                                    throw new Error('Stripe or fulfillment service not configured');\n                                }\n                                return [\n                                    4,\n                                    Effect.runPromise(stripeService.verifyWebhookSignature(input.body, input.signature))\n                                ];\n                            case 1:\n                                event = _state.sent();\n                                if (!(event.type === 'checkout.session.completed')) return [\n                                    3,\n                                    13\n                                ];\n                                session = event.data.object;\n                                orderId = (_session_metadata = session.metadata) === null || _session_metadata === void 0 ? void 0 : _session_metadata.orderId;\n                                if (!orderId) return [\n                                    3,\n                                    13\n                                ];\n                                return [\n                                    4,\n                                    Effect.runPromise(stripeService.getCheckoutSession(session.id))\n                                ];\n                            case 2:\n                                fullSession = _state.sent();\n                                shippingAddress = stripeService.extractShippingAddress(fullSession);\n                                if (!shippingAddress) return [\n                                    3,\n                                    11\n                                ];\n                                return [\n                                    4,\n                                    Effect.runPromise(orderService.updateOrderShipping(orderId, shippingAddress))\n                                ];\n                            case 3:\n                                _state.sent();\n                                return [\n                                    4,\n                                    Effect.runPromise(orderService.updateOrderStatus(orderId, 'paid'))\n                                ];\n                            case 4:\n                                _state.sent();\n                                return [\n                                    4,\n                                    Effect.runPromise(orderService.getOrder(orderId))\n                                ];\n                            case 5:\n                                orderResult = _state.sent();\n                                order = orderResult.order;\n                                orderData = fulfillmentService.buildOrderData({\n                                    orderId: order.id,\n                                    userId: order.userId,\n                                    productUid: DEMO_PRODUCT.productUid,\n                                    fileUrl: DEMO_PRODUCT.fileUrl,\n                                    quantity: order.quantity,\n                                    currency: order.currency,\n                                    shippingAddress: shippingAddress,\n                                    fulfillmentReferenceId: order.fulfillmentReferenceId\n                                });\n                                _state.label = 6;\n                            case 6:\n                                _state.trys.push([\n                                    6,\n                                    9,\n                                    ,\n                                    10\n                                ]);\n                                return [\n                                    4,\n                                    Effect.runPromise(fulfillmentService.createOrder(orderData))\n                                ];\n                            case 7:\n                                fulfillmentResult = _state.sent();\n                                return [\n                                    4,\n                                    Effect.runPromise(orderService.updateOrderFulfillment(orderId, fulfillmentResult.id))\n                                ];\n                            case 8:\n                                _state.sent();\n                                return [\n                                    3,\n                                    10\n                                ];\n                            case 9:\n                                error = _state.sent();\n                                console.error('Failed to create fulfillment order:', error);\n                                return [\n                                    3,\n                                    10\n                                ];\n                            case 10:\n                                return [\n                                    3,\n                                    13\n                                ];\n                            case 11:\n                                return [\n                                    4,\n                                    Effect.runPromise(orderService.updateOrderStatus(orderId, 'paid'))\n                                ];\n                            case 12:\n                                _state.sent();\n                                _state.label = 13;\n                            case 13:\n                                return [\n                                    2,\n                                    {\n                                        received: true\n                                    }\n                                ];\n                        }\n                    });\n                })();\n            }),\n            fulfillmentWebhook: builder.fulfillmentWebhook.handler(function(param) {\n                var input = param.input;\n                return _async_to_generator(function() {\n                    var isValid, event, _, orderReferenceId, fulfillmentStatus, items, order, status, trackingInfo, orderReferenceId1, trackingCode, trackingUrl, shipmentMethodName, order1, existingTracking, newTracking, existingIndex, orderReferenceId2, minDeliveryDate, maxDeliveryDate, order2;\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                if (!fulfillmentService) {\n                                    throw new Error('Fulfillment service not configured');\n                                }\n                                return [\n                                    4,\n                                    Effect.runPromise(fulfillmentService.verifyWebhookSignature(input.body, input.signature))\n                                ];\n                            case 1:\n                                isValid = _state.sent();\n                                if (!isValid) {\n                                    throw new Error('Invalid webhook signature');\n                                }\n                                event = JSON.parse(input.body);\n                                _ = event.event;\n                                switch(_){\n                                    case 'order_status_updated':\n                                        return [\n                                            3,\n                                            2\n                                        ];\n                                    case 'order_item_tracking_code_updated':\n                                        return [\n                                            3,\n                                            7\n                                        ];\n                                    case 'order_delivery_estimate_updated':\n                                        return [\n                                            3,\n                                            12\n                                        ];\n                                }\n                                return [\n                                    3,\n                                    16\n                                ];\n                            case 2:\n                                orderReferenceId = event.orderReferenceId, fulfillmentStatus = event.fulfillmentStatus, items = event.items;\n                                return [\n                                    4,\n                                    Effect.runPromise(orderService.getOrderByFulfillmentReference(orderReferenceId))\n                                ];\n                            case 3:\n                                order = _state.sent();\n                                if (!order) return [\n                                    3,\n                                    6\n                                ];\n                                status = mapFulfillmentStatus(fulfillmentStatus);\n                                return [\n                                    4,\n                                    Effect.runPromise(orderService.updateOrderStatus(order.id, status))\n                                ];\n                            case 4:\n                                _state.sent();\n                                trackingInfo = parseTrackingInfo(items);\n                                if (!(trackingInfo.length > 0)) return [\n                                    3,\n                                    6\n                                ];\n                                return [\n                                    4,\n                                    Effect.runPromise(orderService.updateOrderTracking(order.id, trackingInfo))\n                                ];\n                            case 5:\n                                _state.sent();\n                                _state.label = 6;\n                            case 6:\n                                return [\n                                    3,\n                                    16\n                                ];\n                            case 7:\n                                orderReferenceId1 = event.orderReferenceId, trackingCode = event.trackingCode, trackingUrl = event.trackingUrl, shipmentMethodName = event.shipmentMethodName;\n                                return [\n                                    4,\n                                    Effect.runPromise(orderService.getOrderByFulfillmentReference(orderReferenceId1))\n                                ];\n                            case 8:\n                                order1 = _state.sent();\n                                if (!order1) return [\n                                    3,\n                                    11\n                                ];\n                                existingTracking = order1.trackingInfo || [];\n                                newTracking = {\n                                    trackingCode: trackingCode,\n                                    trackingUrl: trackingUrl,\n                                    shipmentMethodName: shipmentMethodName\n                                };\n                                existingIndex = existingTracking.findIndex(function(t) {\n                                    return t.trackingCode === trackingCode;\n                                });\n                                if (existingIndex >= 0) {\n                                    existingTracking[existingIndex] = _object_spread({}, existingTracking[existingIndex], newTracking);\n                                } else {\n                                    existingTracking.push(newTracking);\n                                }\n                                return [\n                                    4,\n                                    Effect.runPromise(orderService.updateOrderTracking(order1.id, existingTracking))\n                                ];\n                            case 9:\n                                _state.sent();\n                                return [\n                                    4,\n                                    Effect.runPromise(orderService.updateOrderStatus(order1.id, 'shipped'))\n                                ];\n                            case 10:\n                                _state.sent();\n                                _state.label = 11;\n                            case 11:\n                                return [\n                                    3,\n                                    16\n                                ];\n                            case 12:\n                                orderReferenceId2 = event.orderReferenceId, minDeliveryDate = event.minDeliveryDate, maxDeliveryDate = event.maxDeliveryDate;\n                                return [\n                                    4,\n                                    Effect.runPromise(orderService.getOrderByFulfillmentReference(orderReferenceId2))\n                                ];\n                            case 13:\n                                order2 = _state.sent();\n                                if (!order2) return [\n                                    3,\n                                    15\n                                ];\n                                return [\n                                    4,\n                                    Effect.runPromise(orderService.updateOrderDeliveryEstimate(order2.id, {\n                                        minDeliveryDate: minDeliveryDate,\n                                        maxDeliveryDate: maxDeliveryDate\n                                    }))\n                                ];\n                            case 14:\n                                _state.sent();\n                                _state.label = 15;\n                            case 15:\n                                return [\n                                    3,\n                                    16\n                                ];\n                            case 16:\n                                return [\n                                    2,\n                                    {\n                                        received: true\n                                    }\n                                ];\n                        }\n                    });\n                })();\n            })\n        };\n    }\n});\n","import __module_federation_bundler_runtime__ from \"/Users/ebraem/workspace/everything/marketplace-demo/node_modules/.bun/@module-federation+webpack-bundler-runtime@0.19.1/node_modules/@module-federation/webpack-bundler-runtime/dist/index.cjs.cjs\";import __module_federation_runtime_plugin_0__ from \"/Users/ebraem/workspace/everything/marketplace-demo/node_modules/.bun/@module-federation+node@2.7.25+98a3e88a56febe0f/node_modules/@module-federation/node/dist/src/runtimePlugin.js\";const __module_federation_runtime_plugins__ = [__module_federation_runtime_plugin_0__(undefined)];const __module_federation_remote_infos__ = {};const __module_federation_container_name__ = \"marketplace-api\";const __module_federation_share_strategy__ = \"version-first\";if((__webpack_require__.initializeSharingData||__webpack_require__.initializeExposesData)&&__webpack_require__.federation){var __webpack_require___remotesLoadingData,__webpack_require___remotesLoadingData1,__webpack_require___initializeSharingData,__webpack_require___consumesLoadingData,__webpack_require___consumesLoadingData1,__webpack_require___initializeExposesData,__webpack_require___consumesLoadingData2;const override=(obj,key,value)=>{if(!obj)return;if(obj[key])obj[key]=value};const merge=(obj,key,fn)=>{const value=fn();if(Array.isArray(value)){var _obj,_key;var _;(_=(_obj=obj)[_key=key])!==null&&_!==void 0?_:_obj[_key]=[];obj[key].push(...value)}else if(typeof value===\"object\"&&value!==null){var _obj1,_key1;var _1;(_1=(_obj1=obj)[_key1=key])!==null&&_1!==void 0?_1:_obj1[_key1]={};Object.assign(obj[key],value)}};const early=(obj,key,initial)=>{var _obj,_key;var _;(_=(_obj=obj)[_key=key])!==null&&_!==void 0?_:_obj[_key]=initial()};var __webpack_require___remotesLoadingData_chunkMapping;const remotesLoadingChunkMapping=(__webpack_require___remotesLoadingData_chunkMapping=(__webpack_require___remotesLoadingData=__webpack_require__.remotesLoadingData)===null||__webpack_require___remotesLoadingData===void 0?void 0:__webpack_require___remotesLoadingData.chunkMapping)!==null&&__webpack_require___remotesLoadingData_chunkMapping!==void 0?__webpack_require___remotesLoadingData_chunkMapping:{};var __webpack_require___remotesLoadingData_moduleIdToRemoteDataMapping;const remotesLoadingModuleIdToRemoteDataMapping=(__webpack_require___remotesLoadingData_moduleIdToRemoteDataMapping=(__webpack_require___remotesLoadingData1=__webpack_require__.remotesLoadingData)===null||__webpack_require___remotesLoadingData1===void 0?void 0:__webpack_require___remotesLoadingData1.moduleIdToRemoteDataMapping)!==null&&__webpack_require___remotesLoadingData_moduleIdToRemoteDataMapping!==void 0?__webpack_require___remotesLoadingData_moduleIdToRemoteDataMapping:{};var __webpack_require___initializeSharingData_scopeToSharingDataMapping;const initializeSharingScopeToInitDataMapping=(__webpack_require___initializeSharingData_scopeToSharingDataMapping=(__webpack_require___initializeSharingData=__webpack_require__.initializeSharingData)===null||__webpack_require___initializeSharingData===void 0?void 0:__webpack_require___initializeSharingData.scopeToSharingDataMapping)!==null&&__webpack_require___initializeSharingData_scopeToSharingDataMapping!==void 0?__webpack_require___initializeSharingData_scopeToSharingDataMapping:{};var __webpack_require___consumesLoadingData_chunkMapping;const consumesLoadingChunkMapping=(__webpack_require___consumesLoadingData_chunkMapping=(__webpack_require___consumesLoadingData=__webpack_require__.consumesLoadingData)===null||__webpack_require___consumesLoadingData===void 0?void 0:__webpack_require___consumesLoadingData.chunkMapping)!==null&&__webpack_require___consumesLoadingData_chunkMapping!==void 0?__webpack_require___consumesLoadingData_chunkMapping:{};var __webpack_require___consumesLoadingData_moduleIdToConsumeDataMapping;const consumesLoadingModuleToConsumeDataMapping=(__webpack_require___consumesLoadingData_moduleIdToConsumeDataMapping=(__webpack_require___consumesLoadingData1=__webpack_require__.consumesLoadingData)===null||__webpack_require___consumesLoadingData1===void 0?void 0:__webpack_require___consumesLoadingData1.moduleIdToConsumeDataMapping)!==null&&__webpack_require___consumesLoadingData_moduleIdToConsumeDataMapping!==void 0?__webpack_require___consumesLoadingData_moduleIdToConsumeDataMapping:{};const consumesLoadinginstalledModules={};const initializeSharingInitPromises=[];const initializeSharingInitTokens={};const containerShareScope=(__webpack_require___initializeExposesData=__webpack_require__.initializeExposesData)===null||__webpack_require___initializeExposesData===void 0?void 0:__webpack_require___initializeExposesData.shareScope;for(const key in __module_federation_bundler_runtime__){__webpack_require__.federation[key]=__module_federation_bundler_runtime__[key]}early(__webpack_require__.federation,\"consumesLoadingModuleToHandlerMapping\",()=>{const consumesLoadingModuleToHandlerMapping={};for(let[moduleId,data]of Object.entries(consumesLoadingModuleToConsumeDataMapping)){consumesLoadingModuleToHandlerMapping[moduleId]={getter:data.fallback,shareInfo:{shareConfig:{fixedDependencies:false,requiredVersion:data.requiredVersion,strictVersion:data.strictVersion,singleton:data.singleton,eager:data.eager},scope:[data.shareScope]},shareKey:data.shareKey}}return consumesLoadingModuleToHandlerMapping});early(__webpack_require__.federation,\"initOptions\",()=>({}));early(__webpack_require__.federation.initOptions,\"name\",()=>__module_federation_container_name__);early(__webpack_require__.federation.initOptions,\"shareStrategy\",()=>__module_federation_share_strategy__);early(__webpack_require__.federation.initOptions,\"shared\",()=>{const shared={};for(let[scope,stages]of Object.entries(initializeSharingScopeToInitDataMapping)){for(let stage of stages){if(typeof stage===\"object\"&&stage!==null){const{name,version,factory,eager,singleton,requiredVersion,strictVersion}=stage;const shareConfig={};const isValidValue=function(val){return typeof val!==\"undefined\"};if(isValidValue(singleton)){shareConfig.singleton=singleton}if(isValidValue(requiredVersion)){shareConfig.requiredVersion=requiredVersion}if(isValidValue(eager)){shareConfig.eager=eager}if(isValidValue(strictVersion)){shareConfig.strictVersion=strictVersion}const options={version,scope:[scope],shareConfig,get:factory};if(shared[name]){shared[name].push(options)}else{shared[name]=[options]}}}}return shared});merge(__webpack_require__.federation.initOptions,\"remotes\",()=>Object.values(__module_federation_remote_infos__).flat().filter(remote=>remote.externalType===\"script\"));merge(__webpack_require__.federation.initOptions,\"plugins\",()=>__module_federation_runtime_plugins__);early(__webpack_require__.federation,\"bundlerRuntimeOptions\",()=>({}));early(__webpack_require__.federation.bundlerRuntimeOptions,\"remotes\",()=>({}));early(__webpack_require__.federation.bundlerRuntimeOptions.remotes,\"chunkMapping\",()=>remotesLoadingChunkMapping);early(__webpack_require__.federation.bundlerRuntimeOptions.remotes,\"remoteInfos\",()=>__module_federation_remote_infos__);early(__webpack_require__.federation.bundlerRuntimeOptions.remotes,\"idToExternalAndNameMapping\",()=>{const remotesLoadingIdToExternalAndNameMappingMapping={};for(let[moduleId,data]of Object.entries(remotesLoadingModuleIdToRemoteDataMapping)){remotesLoadingIdToExternalAndNameMappingMapping[moduleId]=[data.shareScope,data.name,data.externalModuleId,data.remoteName]}return remotesLoadingIdToExternalAndNameMappingMapping});early(__webpack_require__.federation.bundlerRuntimeOptions.remotes,\"webpackRequire\",()=>__webpack_require__);merge(__webpack_require__.federation.bundlerRuntimeOptions.remotes,\"idToRemoteMap\",()=>{const idToRemoteMap={};for(let[id,remoteData]of Object.entries(remotesLoadingModuleIdToRemoteDataMapping)){const info=__module_federation_remote_infos__[remoteData.remoteName];if(info)idToRemoteMap[id]=info}return idToRemoteMap});override(__webpack_require__,\"S\",__webpack_require__.federation.bundlerRuntime.S);if(__webpack_require__.federation.attachShareScopeMap){__webpack_require__.federation.attachShareScopeMap(__webpack_require__)}override(__webpack_require__.f,\"remotes\",(chunkId,promises)=>__webpack_require__.federation.bundlerRuntime.remotes({chunkId,promises,chunkMapping:remotesLoadingChunkMapping,idToExternalAndNameMapping:__webpack_require__.federation.bundlerRuntimeOptions.remotes.idToExternalAndNameMapping,idToRemoteMap:__webpack_require__.federation.bundlerRuntimeOptions.remotes.idToRemoteMap,webpackRequire:__webpack_require__}));override(__webpack_require__.f,\"consumes\",(chunkId,promises)=>__webpack_require__.federation.bundlerRuntime.consumes({chunkId,promises,chunkMapping:consumesLoadingChunkMapping,moduleToHandlerMapping:__webpack_require__.federation.consumesLoadingModuleToHandlerMapping,installedModules:consumesLoadinginstalledModules,webpackRequire:__webpack_require__}));override(__webpack_require__,\"I\",(name,initScope)=>__webpack_require__.federation.bundlerRuntime.I({shareScopeName:name,initScope,initPromises:initializeSharingInitPromises,initTokens:initializeSharingInitTokens,webpackRequire:__webpack_require__}));override(__webpack_require__,\"initContainer\",(shareScope,initScope,remoteEntryInitOptions)=>__webpack_require__.federation.bundlerRuntime.initContainerEntry({shareScope,initScope,remoteEntryInitOptions,shareScopeKey:containerShareScope,webpackRequire:__webpack_require__}));override(__webpack_require__,\"getContainer\",(module1,getScope)=>{var moduleMap=__webpack_require__.initializeExposesData.moduleMap;__webpack_require__.R=getScope;getScope=Object.prototype.hasOwnProperty.call(moduleMap,module1)?moduleMap[module1]():Promise.resolve().then(()=>{throw new Error('Module \"'+module1+'\" does not exist in container.')});__webpack_require__.R=undefined;return getScope});__webpack_require__.federation.instance=__webpack_require__.federation.runtime.init(__webpack_require__.federation.initOptions);if((__webpack_require___consumesLoadingData2=__webpack_require__.consumesLoadingData)===null||__webpack_require___consumesLoadingData2===void 0?void 0:__webpack_require___consumesLoadingData2.initialConsumes){__webpack_require__.federation.bundlerRuntime.installInitialConsumes({webpackRequire:__webpack_require__,installedModules:consumesLoadinginstalledModules,initialConsumes:__webpack_require__.consumesLoadingData.initialConsumes,moduleToHandlerMapping:__webpack_require__.federation.consumesLoadingModuleToHandlerMapping})}}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setupWebpackRequirePatching = exports.setupChunkHandler = exports.setupScriptLoader = exports.deleteChunk = exports.installChunk = exports.loadChunk = exports.resolveUrl = exports.fetchAndRun = exports.loadFromFs = exports.returnFromGlobalInstances = exports.returnFromCache = exports.resolveFile = exports.nodeRuntimeImportCache = void 0;\nexports.importNodeModule = importNodeModule;\nexports.default = default_1;\nexports.nodeRuntimeImportCache = new Map();\nfunction importNodeModule(name) {\n    if (!name) {\n        throw new Error('import specifier is required');\n    }\n    // Check cache to prevent infinite recursion\n    if (exports.nodeRuntimeImportCache.has(name)) {\n        return exports.nodeRuntimeImportCache.get(name);\n    }\n    const importModule = new Function('name', `return import(name)`);\n    const promise = importModule(name)\n        .then((res) => res.default)\n        .catch((error) => {\n        console.error(`Error importing module ${name}:`, error);\n        // Remove from cache on error so it can be retried\n        exports.nodeRuntimeImportCache.delete(name);\n        throw error;\n    });\n    // Cache the promise to prevent recursive calls\n    exports.nodeRuntimeImportCache.set(name, promise);\n    return promise;\n}\n// Hoisted utility function to resolve file paths for chunks\nconst resolveFile = (rootOutputDir, chunkId) => {\n    const path = __non_webpack_require__('path');\n    return path.join(__dirname, rootOutputDir + __webpack_require__.u(chunkId));\n};\nexports.resolveFile = resolveFile;\n// Hoisted utility function to get remote entry from cache\nconst returnFromCache = (remoteName) => {\n    const globalThisVal = new Function('return globalThis')();\n    const federationInstances = globalThisVal['__FEDERATION__']['__INSTANCES__'];\n    for (const instance of federationInstances) {\n        const moduleContainer = instance.moduleCache.get(remoteName);\n        if (moduleContainer?.remoteInfo)\n            return moduleContainer.remoteInfo.entry;\n    }\n    return null;\n};\nexports.returnFromCache = returnFromCache;\n// Hoisted utility function to get remote entry from global instances\nconst returnFromGlobalInstances = (remoteName) => {\n    const globalThisVal = new Function('return globalThis')();\n    const federationInstances = globalThisVal['__FEDERATION__']['__INSTANCES__'];\n    for (const instance of federationInstances) {\n        for (const remote of instance.options.remotes) {\n            if (remote.name === remoteName || remote.alias === remoteName) {\n                console.log('Backup remote entry found:', remote.entry);\n                return remote.entry;\n            }\n        }\n    }\n    return null;\n};\nexports.returnFromGlobalInstances = returnFromGlobalInstances;\n// Hoisted utility function to load chunks from filesystem\nconst loadFromFs = (filename, callback) => {\n    const fs = __non_webpack_require__('fs');\n    const path = __non_webpack_require__('path');\n    const vm = __non_webpack_require__('vm');\n    if (fs.existsSync(filename)) {\n        fs.readFile(filename, 'utf-8', (err, content) => {\n            if (err)\n                return callback(err, null);\n            const chunk = {};\n            try {\n                const script = new vm.Script(`(function(exports, require, __dirname, __filename) {${content}\\n})`, {\n                    filename,\n                    importModuleDynamically: \n                    //@ts-ignore\n                    vm.constants?.USE_MAIN_CONTEXT_DEFAULT_LOADER ?? importNodeModule,\n                });\n                script.runInThisContext()(chunk, __non_webpack_require__, path.dirname(filename), filename);\n                callback(null, chunk);\n            }\n            catch (e) {\n                console.log(\"'runInThisContext threw'\", e);\n                callback(e, null);\n            }\n        });\n    }\n    else {\n        callback(new Error(`File ${filename} does not exist`), null);\n    }\n};\nexports.loadFromFs = loadFromFs;\n// Hoisted utility function to fetch and execute chunks from remote URLs\nconst fetchAndRun = (url, chunkName, callback, args) => {\n    (typeof fetch === 'undefined'\n        ? importNodeModule('node-fetch').then((mod) => mod.default)\n        : Promise.resolve(fetch))\n        .then((fetchFunction) => {\n        return args.origin.loaderHook.lifecycle.fetch\n            .emit(url.href, {})\n            .then((res) => {\n            if (!res || !(res instanceof Response)) {\n                return fetchFunction(url.href).then((response) => response.text());\n            }\n            return res.text();\n        });\n    })\n        .then((data) => {\n        const chunk = {};\n        try {\n            eval(`(function(exports, require, __dirname, __filename) {${data}\\n})`)(chunk, __non_webpack_require__, url.pathname.split('/').slice(0, -1).join('/'), chunkName);\n            callback(null, chunk);\n        }\n        catch (e) {\n            callback(e, null);\n        }\n    })\n        .catch((err) => callback(err, null));\n};\nexports.fetchAndRun = fetchAndRun;\n// Hoisted utility function to resolve URLs for chunks\nconst resolveUrl = (remoteName, chunkName) => {\n    try {\n        return new URL(chunkName, __webpack_require__.p);\n    }\n    catch {\n        const entryUrl = (0, exports.returnFromCache)(remoteName) || (0, exports.returnFromGlobalInstances)(remoteName);\n        if (!entryUrl)\n            return null;\n        const url = new URL(entryUrl);\n        const path = __non_webpack_require__('path');\n        // Extract the directory path from the remote entry URL\n        // e.g., from \"http://url/static/js/remoteEntry.js\" to \"/static/js/\"\n        const urlPath = url.pathname;\n        const lastSlashIndex = urlPath.lastIndexOf('/');\n        const directoryPath = lastSlashIndex >= 0 ? urlPath.substring(0, lastSlashIndex + 1) : '/';\n        // Get rootDir from webpack configuration\n        const rootDir = __webpack_require__.federation.rootOutputDir || '';\n        // Use path.join to combine the paths properly while handling slashes\n        // Convert Windows-style paths to URL-style paths\n        const combinedPath = path\n            .join(directoryPath, rootDir, chunkName)\n            .replace(/\\\\/g, '/');\n        // Create the final URL\n        return new URL(combinedPath, url.origin);\n    }\n};\nexports.resolveUrl = resolveUrl;\n// Hoisted utility function to load chunks based on different strategies\nconst loadChunk = (strategy, chunkId, rootOutputDir, callback, args) => {\n    if (strategy === 'filesystem') {\n        return (0, exports.loadFromFs)((0, exports.resolveFile)(rootOutputDir, chunkId), callback);\n    }\n    const url = (0, exports.resolveUrl)(rootOutputDir, chunkId);\n    if (!url)\n        return callback(null, { modules: {}, ids: [], runtime: null });\n    // Using fetchAndRun directly with args\n    (0, exports.fetchAndRun)(url, chunkId, callback, args);\n};\nexports.loadChunk = loadChunk;\n// Hoisted utility function to install a chunk into webpack\nconst installChunk = (chunk, installedChunks) => {\n    for (const moduleId in chunk.modules) {\n        __webpack_require__.m[moduleId] = chunk.modules[moduleId];\n    }\n    if (chunk.runtime)\n        chunk.runtime(__webpack_require__);\n    for (const chunkId of chunk.ids) {\n        if (installedChunks[chunkId])\n            installedChunks[chunkId][0]();\n        installedChunks[chunkId] = 0;\n    }\n};\nexports.installChunk = installChunk;\n// Hoisted utility function to remove a chunk on fail\nconst deleteChunk = (chunkId, installedChunks) => {\n    delete installedChunks[chunkId];\n    return true;\n};\nexports.deleteChunk = deleteChunk;\n// Hoisted function to set up webpack script loader\nconst setupScriptLoader = () => {\n    __webpack_require__.l = (url, done, key, chunkId) => {\n        if (!key || chunkId)\n            throw new Error(`__webpack_require__.l name is required for ${url}`);\n        __webpack_require__.federation.runtime\n            .loadScriptNode(url, { attrs: { globalName: key } })\n            .then((res) => {\n            const enhancedRemote = __webpack_require__.federation.instance.initRawContainer(key, url, res);\n            new Function('return globalThis')()[key] = enhancedRemote;\n            done(enhancedRemote);\n        })\n            .catch(done);\n    };\n};\nexports.setupScriptLoader = setupScriptLoader;\n// Hoisted function to set up chunk handler\nconst setupChunkHandler = (installedChunks, args) => {\n    return (chunkId, promises) => {\n        let installedChunkData = installedChunks[chunkId];\n        if (installedChunkData !== 0) {\n            if (installedChunkData) {\n                promises.push(installedChunkData[2]);\n            }\n            else {\n                const matcher = __webpack_require__.federation.chunkMatcher\n                    ? __webpack_require__.federation.chunkMatcher(chunkId)\n                    : true;\n                if (matcher) {\n                    const promise = new Promise((resolve, reject) => {\n                        installedChunkData = installedChunks[chunkId] = [resolve, reject];\n                        const fs = typeof process !== 'undefined'\n                            ? __non_webpack_require__('fs')\n                            : false;\n                        const filename = typeof process !== 'undefined'\n                            ? (0, exports.resolveFile)(__webpack_require__.federation.rootOutputDir || '', chunkId)\n                            : false;\n                        if (fs && fs.existsSync(filename)) {\n                            (0, exports.loadChunk)('filesystem', chunkId, __webpack_require__.federation.rootOutputDir || '', (err, chunk) => {\n                                if (err)\n                                    return (0, exports.deleteChunk)(chunkId, installedChunks) && reject(err);\n                                if (chunk)\n                                    (0, exports.installChunk)(chunk, installedChunks);\n                                resolve(chunk);\n                            }, args);\n                        }\n                        else {\n                            const chunkName = __webpack_require__.u(chunkId);\n                            const loadingStrategy = typeof process === 'undefined' ? 'http-eval' : 'http-vm';\n                            (0, exports.loadChunk)(loadingStrategy, chunkName, __webpack_require__.federation.initOptions.name, (err, chunk) => {\n                                if (err)\n                                    return (0, exports.deleteChunk)(chunkId, installedChunks) && reject(err);\n                                if (chunk)\n                                    (0, exports.installChunk)(chunk, installedChunks);\n                                resolve(chunk);\n                            }, args);\n                        }\n                    });\n                    promises.push((installedChunkData[2] = promise));\n                }\n                else {\n                    installedChunks[chunkId] = 0;\n                }\n            }\n        }\n    };\n};\nexports.setupChunkHandler = setupChunkHandler;\n// Hoisted function to set up webpack require patching\nconst setupWebpackRequirePatching = (handle) => {\n    if (__webpack_require__.f) {\n        if (__webpack_require__.f.require) {\n            console.warn('\\x1b[33m%s\\x1b[0m', 'CAUTION: build target is not set to \"async-node\", attempting to patch additional chunk handlers. This may not work');\n            __webpack_require__.f.require = handle;\n        }\n        if (__webpack_require__.f.readFileVm) {\n            __webpack_require__.f.readFileVm = handle;\n        }\n    }\n};\nexports.setupWebpackRequirePatching = setupWebpackRequirePatching;\nfunction default_1() {\n    return {\n        name: 'node-federation-plugin',\n        beforeInit(args) {\n            // Patch webpack chunk loading handlers\n            (() => {\n                // Create the chunk tracking object\n                const installedChunks = {};\n                // Set up webpack script loader\n                (0, exports.setupScriptLoader)();\n                // Create and set up the chunk handler\n                const handle = (0, exports.setupChunkHandler)(installedChunks, args);\n                // Patch webpack require\n                (0, exports.setupWebpackRequirePatching)(handle);\n            })();\n            return args;\n        },\n    };\n}\n//# sourceMappingURL=runtimePlugin.js.map","'use strict';\n\nvar polyfills = require('./polyfills.cjs.cjs');\nvar sdk = require('@module-federation/sdk');\nvar errorCodes = require('@module-federation/error-codes');\n\nconst LOG_CATEGORY = '[ Federation Runtime ]';\n// FIXME: pre-bundle ?\nconst logger = sdk.createLogger(LOG_CATEGORY);\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction assert(condition, msg) {\n    if (!condition) {\n        error(msg);\n    }\n}\nfunction error(msg) {\n    if (msg instanceof Error) {\n        // Check if the message already starts with the log category to avoid duplication\n        if (!msg.message.startsWith(LOG_CATEGORY)) {\n            msg.message = `${LOG_CATEGORY}: ${msg.message}`;\n        }\n        throw msg;\n    }\n    throw new Error(`${LOG_CATEGORY}: ${msg}`);\n}\nfunction warn(msg) {\n    if (msg instanceof Error) {\n        // Check if the message already starts with the log category to avoid duplication\n        if (!msg.message.startsWith(LOG_CATEGORY)) {\n            msg.message = `${LOG_CATEGORY}: ${msg.message}`;\n        }\n        logger.warn(msg);\n    } else {\n        logger.warn(msg);\n    }\n}\n\nfunction addUniqueItem(arr, item) {\n    if (arr.findIndex((name)=>name === item) === -1) {\n        arr.push(item);\n    }\n    return arr;\n}\nfunction getFMId(remoteInfo) {\n    if ('version' in remoteInfo && remoteInfo.version) {\n        return `${remoteInfo.name}:${remoteInfo.version}`;\n    } else if ('entry' in remoteInfo && remoteInfo.entry) {\n        return `${remoteInfo.name}:${remoteInfo.entry}`;\n    } else {\n        return `${remoteInfo.name}`;\n    }\n}\nfunction isRemoteInfoWithEntry(remote) {\n    return typeof remote.entry !== 'undefined';\n}\nfunction isPureRemoteEntry(remote) {\n    return !remote.entry.includes('.json');\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nasync function safeWrapper(callback, disableWarn) {\n    try {\n        const res = await callback();\n        return res;\n    } catch (e) {\n        !disableWarn && warn(e);\n        return;\n    }\n}\nfunction isObject(val) {\n    return val && typeof val === 'object';\n}\nconst objectToString = Object.prototype.toString;\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction isPlainObject(val) {\n    return objectToString.call(val) === '[object Object]';\n}\nfunction isStaticResourcesEqual(url1, url2) {\n    const REG_EXP = /^(https?:)?\\/\\//i;\n    // Transform url1 and url2 into relative paths\n    const relativeUrl1 = url1.replace(REG_EXP, '').replace(/\\/$/, '');\n    const relativeUrl2 = url2.replace(REG_EXP, '').replace(/\\/$/, '');\n    // Check if the relative paths are identical\n    return relativeUrl1 === relativeUrl2;\n}\nfunction arrayOptions(options) {\n    return Array.isArray(options) ? options : [\n        options\n    ];\n}\nfunction getRemoteEntryInfoFromSnapshot(snapshot) {\n    const defaultRemoteEntryInfo = {\n        url: '',\n        type: 'global',\n        globalName: ''\n    };\n    if (sdk.isBrowserEnv() || sdk.isReactNativeEnv()) {\n        return 'remoteEntry' in snapshot ? {\n            url: snapshot.remoteEntry,\n            type: snapshot.remoteEntryType,\n            globalName: snapshot.globalName\n        } : defaultRemoteEntryInfo;\n    }\n    if ('ssrRemoteEntry' in snapshot) {\n        return {\n            url: snapshot.ssrRemoteEntry || defaultRemoteEntryInfo.url,\n            type: snapshot.ssrRemoteEntryType || defaultRemoteEntryInfo.type,\n            globalName: snapshot.globalName\n        };\n    }\n    return defaultRemoteEntryInfo;\n}\nconst processModuleAlias = (name, subPath)=>{\n    // @host/ ./button -> @host/button\n    let moduleName;\n    if (name.endsWith('/')) {\n        moduleName = name.slice(0, -1);\n    } else {\n        moduleName = name;\n    }\n    if (subPath.startsWith('.')) {\n        subPath = subPath.slice(1);\n    }\n    moduleName = moduleName + subPath;\n    return moduleName;\n};\n\nconst CurrentGlobal = typeof globalThis === 'object' ? globalThis : window;\nconst nativeGlobal = (()=>{\n    try {\n        // get real window (incase of sandbox)\n        return document.defaultView;\n    } catch (e) {\n        // node env\n        return CurrentGlobal;\n    }\n})();\nconst Global = nativeGlobal;\nfunction definePropertyGlobalVal(target, key, val) {\n    Object.defineProperty(target, key, {\n        value: val,\n        configurable: false,\n        writable: true\n    });\n}\nfunction includeOwnProperty(target, key) {\n    return Object.hasOwnProperty.call(target, key);\n}\n// This section is to prevent encapsulation by certain microfrontend frameworks. Due to reuse policies, sandbox escapes.\n// The sandbox in the microfrontend does not replicate the value of 'configurable'.\n// If there is no loading content on the global object, this section defines the loading object.\nif (!includeOwnProperty(CurrentGlobal, '__GLOBAL_LOADING_REMOTE_ENTRY__')) {\n    definePropertyGlobalVal(CurrentGlobal, '__GLOBAL_LOADING_REMOTE_ENTRY__', {});\n}\nconst globalLoading = CurrentGlobal.__GLOBAL_LOADING_REMOTE_ENTRY__;\nfunction setGlobalDefaultVal(target) {\n    var _target___FEDERATION__, _target___FEDERATION__1, _target___FEDERATION__2, _target___FEDERATION__3, _target___FEDERATION__4, _target___FEDERATION__5;\n    if (includeOwnProperty(target, '__VMOK__') && !includeOwnProperty(target, '__FEDERATION__')) {\n        definePropertyGlobalVal(target, '__FEDERATION__', target.__VMOK__);\n    }\n    if (!includeOwnProperty(target, '__FEDERATION__')) {\n        definePropertyGlobalVal(target, '__FEDERATION__', {\n            __GLOBAL_PLUGIN__: [],\n            __INSTANCES__: [],\n            moduleInfo: {},\n            __SHARE__: {},\n            __MANIFEST_LOADING__: {},\n            __PRELOADED_MAP__: new Map()\n        });\n        definePropertyGlobalVal(target, '__VMOK__', target.__FEDERATION__);\n    }\n    var ___GLOBAL_PLUGIN__;\n    (___GLOBAL_PLUGIN__ = (_target___FEDERATION__ = target.__FEDERATION__).__GLOBAL_PLUGIN__) != null ? ___GLOBAL_PLUGIN__ : _target___FEDERATION__.__GLOBAL_PLUGIN__ = [];\n    var ___INSTANCES__;\n    (___INSTANCES__ = (_target___FEDERATION__1 = target.__FEDERATION__).__INSTANCES__) != null ? ___INSTANCES__ : _target___FEDERATION__1.__INSTANCES__ = [];\n    var _moduleInfo;\n    (_moduleInfo = (_target___FEDERATION__2 = target.__FEDERATION__).moduleInfo) != null ? _moduleInfo : _target___FEDERATION__2.moduleInfo = {};\n    var ___SHARE__;\n    (___SHARE__ = (_target___FEDERATION__3 = target.__FEDERATION__).__SHARE__) != null ? ___SHARE__ : _target___FEDERATION__3.__SHARE__ = {};\n    var ___MANIFEST_LOADING__;\n    (___MANIFEST_LOADING__ = (_target___FEDERATION__4 = target.__FEDERATION__).__MANIFEST_LOADING__) != null ? ___MANIFEST_LOADING__ : _target___FEDERATION__4.__MANIFEST_LOADING__ = {};\n    var ___PRELOADED_MAP__;\n    (___PRELOADED_MAP__ = (_target___FEDERATION__5 = target.__FEDERATION__).__PRELOADED_MAP__) != null ? ___PRELOADED_MAP__ : _target___FEDERATION__5.__PRELOADED_MAP__ = new Map();\n}\nsetGlobalDefaultVal(CurrentGlobal);\nsetGlobalDefaultVal(nativeGlobal);\nfunction resetFederationGlobalInfo() {\n    CurrentGlobal.__FEDERATION__.__GLOBAL_PLUGIN__ = [];\n    CurrentGlobal.__FEDERATION__.__INSTANCES__ = [];\n    CurrentGlobal.__FEDERATION__.moduleInfo = {};\n    CurrentGlobal.__FEDERATION__.__SHARE__ = {};\n    CurrentGlobal.__FEDERATION__.__MANIFEST_LOADING__ = {};\n    Object.keys(globalLoading).forEach((key)=>{\n        delete globalLoading[key];\n    });\n}\nfunction setGlobalFederationInstance(FederationInstance) {\n    CurrentGlobal.__FEDERATION__.__INSTANCES__.push(FederationInstance);\n}\nfunction getGlobalFederationConstructor() {\n    return CurrentGlobal.__FEDERATION__.__DEBUG_CONSTRUCTOR__;\n}\nfunction setGlobalFederationConstructor(FederationConstructor, isDebug = sdk.isDebugMode()) {\n    if (isDebug) {\n        CurrentGlobal.__FEDERATION__.__DEBUG_CONSTRUCTOR__ = FederationConstructor;\n        CurrentGlobal.__FEDERATION__.__DEBUG_CONSTRUCTOR_VERSION__ = \"0.19.1\";\n    }\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction getInfoWithoutType(target, key) {\n    if (typeof key === 'string') {\n        const keyRes = target[key];\n        if (keyRes) {\n            return {\n                value: target[key],\n                key: key\n            };\n        } else {\n            const targetKeys = Object.keys(target);\n            for (const targetKey of targetKeys){\n                const [targetTypeOrName, _] = targetKey.split(':');\n                const nKey = `${targetTypeOrName}:${key}`;\n                const typeWithKeyRes = target[nKey];\n                if (typeWithKeyRes) {\n                    return {\n                        value: typeWithKeyRes,\n                        key: nKey\n                    };\n                }\n            }\n            return {\n                value: undefined,\n                key: key\n            };\n        }\n    } else {\n        throw new Error('key must be string');\n    }\n}\nconst getGlobalSnapshot = ()=>nativeGlobal.__FEDERATION__.moduleInfo;\nconst getTargetSnapshotInfoByModuleInfo = (moduleInfo, snapshot)=>{\n    // Check if the remote is included in the hostSnapshot\n    const moduleKey = getFMId(moduleInfo);\n    const getModuleInfo = getInfoWithoutType(snapshot, moduleKey).value;\n    // The remoteSnapshot might not include a version\n    if (getModuleInfo && !getModuleInfo.version && 'version' in moduleInfo && moduleInfo['version']) {\n        getModuleInfo.version = moduleInfo['version'];\n    }\n    if (getModuleInfo) {\n        return getModuleInfo;\n    }\n    // If the remote is not included in the hostSnapshot, deploy a micro app snapshot\n    if ('version' in moduleInfo && moduleInfo['version']) {\n        const { version } = moduleInfo, resModuleInfo = polyfills._object_without_properties_loose(moduleInfo, [\n            \"version\"\n        ]);\n        const moduleKeyWithoutVersion = getFMId(resModuleInfo);\n        const getModuleInfoWithoutVersion = getInfoWithoutType(nativeGlobal.__FEDERATION__.moduleInfo, moduleKeyWithoutVersion).value;\n        if ((getModuleInfoWithoutVersion == null ? void 0 : getModuleInfoWithoutVersion.version) === version) {\n            return getModuleInfoWithoutVersion;\n        }\n    }\n    return;\n};\nconst getGlobalSnapshotInfoByModuleInfo = (moduleInfo)=>getTargetSnapshotInfoByModuleInfo(moduleInfo, nativeGlobal.__FEDERATION__.moduleInfo);\nconst setGlobalSnapshotInfoByModuleInfo = (remoteInfo, moduleDetailInfo)=>{\n    const moduleKey = getFMId(remoteInfo);\n    nativeGlobal.__FEDERATION__.moduleInfo[moduleKey] = moduleDetailInfo;\n    return nativeGlobal.__FEDERATION__.moduleInfo;\n};\nconst addGlobalSnapshot = (moduleInfos)=>{\n    nativeGlobal.__FEDERATION__.moduleInfo = polyfills._extends({}, nativeGlobal.__FEDERATION__.moduleInfo, moduleInfos);\n    return ()=>{\n        const keys = Object.keys(moduleInfos);\n        for (const key of keys){\n            delete nativeGlobal.__FEDERATION__.moduleInfo[key];\n        }\n    };\n};\nconst getRemoteEntryExports = (name, globalName)=>{\n    const remoteEntryKey = globalName || `__FEDERATION_${name}:custom__`;\n    const entryExports = CurrentGlobal[remoteEntryKey];\n    return {\n        remoteEntryKey,\n        entryExports\n    };\n};\n// This function is used to register global plugins.\n// It iterates over the provided plugins and checks if they are already registered.\n// If a plugin is not registered, it is added to the global plugins.\n// If a plugin is already registered, a warning message is logged.\nconst registerGlobalPlugins = (plugins)=>{\n    const { __GLOBAL_PLUGIN__ } = nativeGlobal.__FEDERATION__;\n    plugins.forEach((plugin)=>{\n        if (__GLOBAL_PLUGIN__.findIndex((p)=>p.name === plugin.name) === -1) {\n            __GLOBAL_PLUGIN__.push(plugin);\n        } else {\n            warn(`The plugin ${plugin.name} has been registered.`);\n        }\n    });\n};\nconst getGlobalHostPlugins = ()=>nativeGlobal.__FEDERATION__.__GLOBAL_PLUGIN__;\nconst getPreloaded = (id)=>CurrentGlobal.__FEDERATION__.__PRELOADED_MAP__.get(id);\nconst setPreloaded = (id)=>CurrentGlobal.__FEDERATION__.__PRELOADED_MAP__.set(id, true);\n\nconst DEFAULT_SCOPE = 'default';\nconst DEFAULT_REMOTE_TYPE = 'global';\n\n// fork from https://github.com/originjs/vite-plugin-federation/blob/v1.1.12/packages/lib/src/utils/semver/index.ts\n// those constants are based on https://www.rubydoc.info/gems/semantic_range/3.0.0/SemanticRange#BUILDIDENTIFIER-constant\n// Copyright (c)\n// vite-plugin-federation is licensed under Mulan PSL v2.\n// You can use this software according to the terms and conditions of the Mulan PSL v2.\n// You may obtain a copy of Mulan PSL v2 at:\n//      http://license.coscl.org.cn/MulanPSL2\n// THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT, MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.\n// See the Mulan PSL v2 for more details.\nconst buildIdentifier = '[0-9A-Za-z-]+';\nconst build = `(?:\\\\+(${buildIdentifier}(?:\\\\.${buildIdentifier})*))`;\nconst numericIdentifier = '0|[1-9]\\\\d*';\nconst numericIdentifierLoose = '[0-9]+';\nconst nonNumericIdentifier = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*';\nconst preReleaseIdentifierLoose = `(?:${numericIdentifierLoose}|${nonNumericIdentifier})`;\nconst preReleaseLoose = `(?:-?(${preReleaseIdentifierLoose}(?:\\\\.${preReleaseIdentifierLoose})*))`;\nconst preReleaseIdentifier = `(?:${numericIdentifier}|${nonNumericIdentifier})`;\nconst preRelease = `(?:-(${preReleaseIdentifier}(?:\\\\.${preReleaseIdentifier})*))`;\nconst xRangeIdentifier = `${numericIdentifier}|x|X|\\\\*`;\nconst xRangePlain = `[v=\\\\s]*(${xRangeIdentifier})(?:\\\\.(${xRangeIdentifier})(?:\\\\.(${xRangeIdentifier})(?:${preRelease})?${build}?)?)?`;\nconst hyphenRange = `^\\\\s*(${xRangePlain})\\\\s+-\\\\s+(${xRangePlain})\\\\s*$`;\nconst mainVersionLoose = `(${numericIdentifierLoose})\\\\.(${numericIdentifierLoose})\\\\.(${numericIdentifierLoose})`;\nconst loosePlain = `[v=\\\\s]*${mainVersionLoose}${preReleaseLoose}?${build}?`;\nconst gtlt = '((?:<|>)?=?)';\nconst comparatorTrim = `(\\\\s*)${gtlt}\\\\s*(${loosePlain}|${xRangePlain})`;\nconst loneTilde = '(?:~>?)';\nconst tildeTrim = `(\\\\s*)${loneTilde}\\\\s+`;\nconst loneCaret = '(?:\\\\^)';\nconst caretTrim = `(\\\\s*)${loneCaret}\\\\s+`;\nconst star = '(<|>)?=?\\\\s*\\\\*';\nconst caret = `^${loneCaret}${xRangePlain}$`;\nconst mainVersion = `(${numericIdentifier})\\\\.(${numericIdentifier})\\\\.(${numericIdentifier})`;\nconst fullPlain = `v?${mainVersion}${preRelease}?${build}?`;\nconst tilde = `^${loneTilde}${xRangePlain}$`;\nconst xRange = `^${gtlt}\\\\s*${xRangePlain}$`;\nconst comparator = `^${gtlt}\\\\s*(${fullPlain})$|^$`;\n// copy from semver package\nconst gte0 = '^\\\\s*>=\\\\s*0.0.0\\\\s*$';\n\n// fork from https://github.com/originjs/vite-plugin-federation/blob/v1.1.12/packages/lib/src/utils/semver/index.ts\n// Copyright (c)\n// vite-plugin-federation is licensed under Mulan PSL v2.\n// You can use this software according to the terms and conditions of the Mulan PSL v2.\n// You may obtain a copy of Mulan PSL v2 at:\n//      http://license.coscl.org.cn/MulanPSL2\n// THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT, MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.\n// See the Mulan PSL v2 for more details.\nfunction parseRegex(source) {\n    return new RegExp(source);\n}\nfunction isXVersion(version) {\n    return !version || version.toLowerCase() === 'x' || version === '*';\n}\nfunction pipe(...fns) {\n    return (x)=>fns.reduce((v, f)=>f(v), x);\n}\nfunction extractComparator(comparatorString) {\n    return comparatorString.match(parseRegex(comparator));\n}\nfunction combineVersion(major, minor, patch, preRelease) {\n    const mainVersion = `${major}.${minor}.${patch}`;\n    if (preRelease) {\n        return `${mainVersion}-${preRelease}`;\n    }\n    return mainVersion;\n}\n\n// fork from https://github.com/originjs/vite-plugin-federation/blob/v1.1.12/packages/lib/src/utils/semver/index.ts\n// Copyright (c)\n// vite-plugin-federation is licensed under Mulan PSL v2.\n// You can use this software according to the terms and conditions of the Mulan PSL v2.\n// You may obtain a copy of Mulan PSL v2 at:\n//      http://license.coscl.org.cn/MulanPSL2\n// THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT, MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.\n// See the Mulan PSL v2 for more details.\nfunction parseHyphen(range) {\n    return range.replace(parseRegex(hyphenRange), (_range, from, fromMajor, fromMinor, fromPatch, _fromPreRelease, _fromBuild, to, toMajor, toMinor, toPatch, toPreRelease)=>{\n        if (isXVersion(fromMajor)) {\n            from = '';\n        } else if (isXVersion(fromMinor)) {\n            from = `>=${fromMajor}.0.0`;\n        } else if (isXVersion(fromPatch)) {\n            from = `>=${fromMajor}.${fromMinor}.0`;\n        } else {\n            from = `>=${from}`;\n        }\n        if (isXVersion(toMajor)) {\n            to = '';\n        } else if (isXVersion(toMinor)) {\n            to = `<${Number(toMajor) + 1}.0.0-0`;\n        } else if (isXVersion(toPatch)) {\n            to = `<${toMajor}.${Number(toMinor) + 1}.0-0`;\n        } else if (toPreRelease) {\n            to = `<=${toMajor}.${toMinor}.${toPatch}-${toPreRelease}`;\n        } else {\n            to = `<=${to}`;\n        }\n        return `${from} ${to}`.trim();\n    });\n}\nfunction parseComparatorTrim(range) {\n    return range.replace(parseRegex(comparatorTrim), '$1$2$3');\n}\nfunction parseTildeTrim(range) {\n    return range.replace(parseRegex(tildeTrim), '$1~');\n}\nfunction parseCaretTrim(range) {\n    return range.replace(parseRegex(caretTrim), '$1^');\n}\nfunction parseCarets(range) {\n    return range.trim().split(/\\s+/).map((rangeVersion)=>rangeVersion.replace(parseRegex(caret), (_, major, minor, patch, preRelease)=>{\n            if (isXVersion(major)) {\n                return '';\n            } else if (isXVersion(minor)) {\n                return `>=${major}.0.0 <${Number(major) + 1}.0.0-0`;\n            } else if (isXVersion(patch)) {\n                if (major === '0') {\n                    return `>=${major}.${minor}.0 <${major}.${Number(minor) + 1}.0-0`;\n                } else {\n                    return `>=${major}.${minor}.0 <${Number(major) + 1}.0.0-0`;\n                }\n            } else if (preRelease) {\n                if (major === '0') {\n                    if (minor === '0') {\n                        return `>=${major}.${minor}.${patch}-${preRelease} <${major}.${minor}.${Number(patch) + 1}-0`;\n                    } else {\n                        return `>=${major}.${minor}.${patch}-${preRelease} <${major}.${Number(minor) + 1}.0-0`;\n                    }\n                } else {\n                    return `>=${major}.${minor}.${patch}-${preRelease} <${Number(major) + 1}.0.0-0`;\n                }\n            } else {\n                if (major === '0') {\n                    if (minor === '0') {\n                        return `>=${major}.${minor}.${patch} <${major}.${minor}.${Number(patch) + 1}-0`;\n                    } else {\n                        return `>=${major}.${minor}.${patch} <${major}.${Number(minor) + 1}.0-0`;\n                    }\n                }\n                return `>=${major}.${minor}.${patch} <${Number(major) + 1}.0.0-0`;\n            }\n        })).join(' ');\n}\nfunction parseTildes(range) {\n    return range.trim().split(/\\s+/).map((rangeVersion)=>rangeVersion.replace(parseRegex(tilde), (_, major, minor, patch, preRelease)=>{\n            if (isXVersion(major)) {\n                return '';\n            } else if (isXVersion(minor)) {\n                return `>=${major}.0.0 <${Number(major) + 1}.0.0-0`;\n            } else if (isXVersion(patch)) {\n                return `>=${major}.${minor}.0 <${major}.${Number(minor) + 1}.0-0`;\n            } else if (preRelease) {\n                return `>=${major}.${minor}.${patch}-${preRelease} <${major}.${Number(minor) + 1}.0-0`;\n            }\n            return `>=${major}.${minor}.${patch} <${major}.${Number(minor) + 1}.0-0`;\n        })).join(' ');\n}\nfunction parseXRanges(range) {\n    return range.split(/\\s+/).map((rangeVersion)=>rangeVersion.trim().replace(parseRegex(xRange), (ret, gtlt, major, minor, patch, preRelease)=>{\n            const isXMajor = isXVersion(major);\n            const isXMinor = isXMajor || isXVersion(minor);\n            const isXPatch = isXMinor || isXVersion(patch);\n            if (gtlt === '=' && isXPatch) {\n                gtlt = '';\n            }\n            preRelease = '';\n            if (isXMajor) {\n                if (gtlt === '>' || gtlt === '<') {\n                    // nothing is allowed\n                    return '<0.0.0-0';\n                } else {\n                    // nothing is forbidden\n                    return '*';\n                }\n            } else if (gtlt && isXPatch) {\n                // replace X with 0\n                if (isXMinor) {\n                    minor = 0;\n                }\n                patch = 0;\n                if (gtlt === '>') {\n                    // >1 => >=2.0.0\n                    // >1.2 => >=1.3.0\n                    gtlt = '>=';\n                    if (isXMinor) {\n                        major = Number(major) + 1;\n                        minor = 0;\n                        patch = 0;\n                    } else {\n                        minor = Number(minor) + 1;\n                        patch = 0;\n                    }\n                } else if (gtlt === '<=') {\n                    // <=0.7.x is actually <0.8.0, since any 0.7.x should pass\n                    // Similarly, <=7.x is actually <8.0.0, etc.\n                    gtlt = '<';\n                    if (isXMinor) {\n                        major = Number(major) + 1;\n                    } else {\n                        minor = Number(minor) + 1;\n                    }\n                }\n                if (gtlt === '<') {\n                    preRelease = '-0';\n                }\n                return `${gtlt + major}.${minor}.${patch}${preRelease}`;\n            } else if (isXMinor) {\n                return `>=${major}.0.0${preRelease} <${Number(major) + 1}.0.0-0`;\n            } else if (isXPatch) {\n                return `>=${major}.${minor}.0${preRelease} <${major}.${Number(minor) + 1}.0-0`;\n            }\n            return ret;\n        })).join(' ');\n}\nfunction parseStar(range) {\n    return range.trim().replace(parseRegex(star), '');\n}\nfunction parseGTE0(comparatorString) {\n    return comparatorString.trim().replace(parseRegex(gte0), '');\n}\n\n// fork from https://github.com/originjs/vite-plugin-federation/blob/v1.1.12/packages/lib/src/utils/semver/index.ts\n// Copyright (c)\n// vite-plugin-federation is licensed under Mulan PSL v2.\n// You can use this software according to the terms and conditions of the Mulan PSL v2.\n// You may obtain a copy of Mulan PSL v2 at:\n//      http://license.coscl.org.cn/MulanPSL2\n// THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT, MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.\n// See the Mulan PSL v2 for more details.\nfunction compareAtom(rangeAtom, versionAtom) {\n    rangeAtom = Number(rangeAtom) || rangeAtom;\n    versionAtom = Number(versionAtom) || versionAtom;\n    if (rangeAtom > versionAtom) {\n        return 1;\n    }\n    if (rangeAtom === versionAtom) {\n        return 0;\n    }\n    return -1;\n}\nfunction comparePreRelease(rangeAtom, versionAtom) {\n    const { preRelease: rangePreRelease } = rangeAtom;\n    const { preRelease: versionPreRelease } = versionAtom;\n    if (rangePreRelease === undefined && Boolean(versionPreRelease)) {\n        return 1;\n    }\n    if (Boolean(rangePreRelease) && versionPreRelease === undefined) {\n        return -1;\n    }\n    if (rangePreRelease === undefined && versionPreRelease === undefined) {\n        return 0;\n    }\n    for(let i = 0, n = rangePreRelease.length; i <= n; i++){\n        const rangeElement = rangePreRelease[i];\n        const versionElement = versionPreRelease[i];\n        if (rangeElement === versionElement) {\n            continue;\n        }\n        if (rangeElement === undefined && versionElement === undefined) {\n            return 0;\n        }\n        if (!rangeElement) {\n            return 1;\n        }\n        if (!versionElement) {\n            return -1;\n        }\n        return compareAtom(rangeElement, versionElement);\n    }\n    return 0;\n}\nfunction compareVersion(rangeAtom, versionAtom) {\n    return compareAtom(rangeAtom.major, versionAtom.major) || compareAtom(rangeAtom.minor, versionAtom.minor) || compareAtom(rangeAtom.patch, versionAtom.patch) || comparePreRelease(rangeAtom, versionAtom);\n}\nfunction eq(rangeAtom, versionAtom) {\n    return rangeAtom.version === versionAtom.version;\n}\nfunction compare(rangeAtom, versionAtom) {\n    switch(rangeAtom.operator){\n        case '':\n        case '=':\n            return eq(rangeAtom, versionAtom);\n        case '>':\n            return compareVersion(rangeAtom, versionAtom) < 0;\n        case '>=':\n            return eq(rangeAtom, versionAtom) || compareVersion(rangeAtom, versionAtom) < 0;\n        case '<':\n            return compareVersion(rangeAtom, versionAtom) > 0;\n        case '<=':\n            return eq(rangeAtom, versionAtom) || compareVersion(rangeAtom, versionAtom) > 0;\n        case undefined:\n            {\n                // mean * or x -> all versions\n                return true;\n            }\n        default:\n            return false;\n    }\n}\n\n// fork from https://github.com/originjs/vite-plugin-federation/blob/v1.1.12/packages/lib/src/utils/semver/index.ts\n// Copyright (c)\n// vite-plugin-federation is licensed under Mulan PSL v2.\n// You can use this software according to the terms and conditions of the Mulan PSL v2.\n// You may obtain a copy of Mulan PSL v2 at:\n//      http://license.coscl.org.cn/MulanPSL2\n// THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT, MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.\n// See the Mulan PSL v2 for more details.\nfunction parseComparatorString(range) {\n    return pipe(// handle caret\n    // ^ --> * (any, kinda silly)\n    // ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n    // ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n    // ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n    // ^1.2.3 --> >=1.2.3 <2.0.0-0\n    // ^1.2.0 --> >=1.2.0 <2.0.0-0\n    parseCarets, // handle tilde\n    // ~, ~> --> * (any, kinda silly)\n    // ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n    // ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n    // ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n    // ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n    // ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n    parseTildes, parseXRanges, parseStar)(range);\n}\nfunction parseRange(range) {\n    return pipe(// handle hyphenRange\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    parseHyphen, // handle trim comparator\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    parseComparatorTrim, // handle trim tilde\n    // `~ 1.2.3` => `~1.2.3`\n    parseTildeTrim, // handle trim caret\n    // `^ 1.2.3` => `^1.2.3`\n    parseCaretTrim)(range.trim()).split(/\\s+/).join(' ');\n}\nfunction satisfy(version, range) {\n    if (!version) {\n        return false;\n    }\n    // Extract version details once\n    const extractedVersion = extractComparator(version);\n    if (!extractedVersion) {\n        // If the version string is invalid, it can't satisfy any range\n        return false;\n    }\n    const [, versionOperator, , versionMajor, versionMinor, versionPatch, versionPreRelease] = extractedVersion;\n    const versionAtom = {\n        operator: versionOperator,\n        version: combineVersion(versionMajor, versionMinor, versionPatch, versionPreRelease),\n        major: versionMajor,\n        minor: versionMinor,\n        patch: versionPatch,\n        preRelease: versionPreRelease == null ? void 0 : versionPreRelease.split('.')\n    };\n    // Split the range by || to handle OR conditions\n    const orRanges = range.split('||');\n    for (const orRange of orRanges){\n        const trimmedOrRange = orRange.trim();\n        if (!trimmedOrRange) {\n            // An empty range string signifies wildcard *, satisfy any valid version\n            // (We already checked if the version itself is valid)\n            return true;\n        }\n        // Handle simple wildcards explicitly before complex parsing\n        if (trimmedOrRange === '*' || trimmedOrRange === 'x') {\n            return true;\n        }\n        try {\n            // Apply existing parsing logic to the current OR sub-range\n            const parsedSubRange = parseRange(trimmedOrRange); // Handles hyphens, trims etc.\n            // Check if the result of initial parsing is empty, which can happen\n            // for some wildcard cases handled by parseRange/parseComparatorString.\n            // E.g. `parseStar` used in `parseComparatorString` returns ''.\n            if (!parsedSubRange.trim()) {\n                // If parsing results in empty string, treat as wildcard match\n                return true;\n            }\n            const parsedComparatorString = parsedSubRange.split(' ').map((rangeVersion)=>parseComparatorString(rangeVersion)) // Expands ^, ~\n            .join(' ');\n            // Check again if the comparator string became empty after specific parsing like ^ or ~\n            if (!parsedComparatorString.trim()) {\n                return true;\n            }\n            // Split the sub-range by space for implicit AND conditions\n            const comparators = parsedComparatorString.split(/\\s+/).map((comparator)=>parseGTE0(comparator))// Filter out empty strings that might result from multiple spaces\n            .filter(Boolean);\n            // If a sub-range becomes empty after parsing (e.g., invalid characters),\n            // it cannot be satisfied. This check might be redundant now but kept for safety.\n            if (comparators.length === 0) {\n                continue;\n            }\n            let subRangeSatisfied = true;\n            for (const comparator of comparators){\n                const extractedComparator = extractComparator(comparator);\n                // If any part of the AND sub-range is invalid, the sub-range is not satisfied\n                if (!extractedComparator) {\n                    subRangeSatisfied = false;\n                    break;\n                }\n                const [, rangeOperator, , rangeMajor, rangeMinor, rangePatch, rangePreRelease] = extractedComparator;\n                const rangeAtom = {\n                    operator: rangeOperator,\n                    version: combineVersion(rangeMajor, rangeMinor, rangePatch, rangePreRelease),\n                    major: rangeMajor,\n                    minor: rangeMinor,\n                    patch: rangePatch,\n                    preRelease: rangePreRelease == null ? void 0 : rangePreRelease.split('.')\n                };\n                // Check if the version satisfies this specific comparator in the AND chain\n                if (!compare(rangeAtom, versionAtom)) {\n                    subRangeSatisfied = false; // This part of the AND condition failed\n                    break; // No need to check further comparators in this sub-range\n                }\n            }\n            // If all AND conditions within this OR sub-range were met, the overall range is satisfied\n            if (subRangeSatisfied) {\n                return true;\n            }\n        } catch (e) {\n            // Log error and treat this sub-range as unsatisfied\n            console.error(`[semver] Error processing range part \"${trimmedOrRange}\":`, e);\n            continue;\n        }\n    }\n    // If none of the OR sub-ranges were satisfied\n    return false;\n}\n\nfunction formatShare(shareArgs, from, name, shareStrategy) {\n    let get;\n    if ('get' in shareArgs) {\n        // eslint-disable-next-line prefer-destructuring\n        get = shareArgs.get;\n    } else if ('lib' in shareArgs) {\n        get = ()=>Promise.resolve(shareArgs.lib);\n    } else {\n        get = ()=>Promise.resolve(()=>{\n                throw new Error(`Can not get shared '${name}'!`);\n            });\n    }\n    var _shareArgs_version, _shareArgs_scope, _shareArgs_strategy;\n    return polyfills._extends({\n        deps: [],\n        useIn: [],\n        from,\n        loading: null\n    }, shareArgs, {\n        shareConfig: polyfills._extends({\n            requiredVersion: `^${shareArgs.version}`,\n            singleton: false,\n            eager: false,\n            strictVersion: false\n        }, shareArgs.shareConfig),\n        get,\n        loaded: (shareArgs == null ? void 0 : shareArgs.loaded) || 'lib' in shareArgs ? true : undefined,\n        version: (_shareArgs_version = shareArgs.version) != null ? _shareArgs_version : '0',\n        scope: Array.isArray(shareArgs.scope) ? shareArgs.scope : [\n            (_shareArgs_scope = shareArgs.scope) != null ? _shareArgs_scope : 'default'\n        ],\n        strategy: ((_shareArgs_strategy = shareArgs.strategy) != null ? _shareArgs_strategy : shareStrategy) || 'version-first'\n    });\n}\nfunction formatShareConfigs(globalOptions, userOptions) {\n    const shareArgs = userOptions.shared || {};\n    const from = userOptions.name;\n    const shareInfos = Object.keys(shareArgs).reduce((res, pkgName)=>{\n        const arrayShareArgs = arrayOptions(shareArgs[pkgName]);\n        res[pkgName] = res[pkgName] || [];\n        arrayShareArgs.forEach((shareConfig)=>{\n            res[pkgName].push(formatShare(shareConfig, from, pkgName, userOptions.shareStrategy));\n        });\n        return res;\n    }, {});\n    const shared = polyfills._extends({}, globalOptions.shared);\n    Object.keys(shareInfos).forEach((shareKey)=>{\n        if (!shared[shareKey]) {\n            shared[shareKey] = shareInfos[shareKey];\n        } else {\n            shareInfos[shareKey].forEach((newUserSharedOptions)=>{\n                const isSameVersion = shared[shareKey].find((sharedVal)=>sharedVal.version === newUserSharedOptions.version);\n                if (!isSameVersion) {\n                    shared[shareKey].push(newUserSharedOptions);\n                }\n            });\n        }\n    });\n    return {\n        shared,\n        shareInfos\n    };\n}\nfunction versionLt(a, b) {\n    const transformInvalidVersion = (version)=>{\n        const isNumberVersion = !Number.isNaN(Number(version));\n        if (isNumberVersion) {\n            const splitArr = version.split('.');\n            let validVersion = version;\n            for(let i = 0; i < 3 - splitArr.length; i++){\n                validVersion += '.0';\n            }\n            return validVersion;\n        }\n        return version;\n    };\n    if (satisfy(transformInvalidVersion(a), `<=${transformInvalidVersion(b)}`)) {\n        return true;\n    } else {\n        return false;\n    }\n}\nconst findVersion = (shareVersionMap, cb)=>{\n    const callback = cb || function(prev, cur) {\n        return versionLt(prev, cur);\n    };\n    return Object.keys(shareVersionMap).reduce((prev, cur)=>{\n        if (!prev) {\n            return cur;\n        }\n        if (callback(prev, cur)) {\n            return cur;\n        }\n        // default version is '0' https://github.com/webpack/webpack/blob/main/lib/sharing/ProvideSharedModule.js#L136\n        if (prev === '0') {\n            return cur;\n        }\n        return prev;\n    }, 0);\n};\nconst isLoaded = (shared)=>{\n    return Boolean(shared.loaded) || typeof shared.lib === 'function';\n};\nconst isLoading = (shared)=>{\n    return Boolean(shared.loading);\n};\nfunction findSingletonVersionOrderByVersion(shareScopeMap, scope, pkgName) {\n    const versions = shareScopeMap[scope][pkgName];\n    const callback = function(prev, cur) {\n        return !isLoaded(versions[prev]) && versionLt(prev, cur);\n    };\n    return findVersion(shareScopeMap[scope][pkgName], callback);\n}\nfunction findSingletonVersionOrderByLoaded(shareScopeMap, scope, pkgName) {\n    const versions = shareScopeMap[scope][pkgName];\n    const callback = function(prev, cur) {\n        const isLoadingOrLoaded = (shared)=>{\n            return isLoaded(shared) || isLoading(shared);\n        };\n        if (isLoadingOrLoaded(versions[cur])) {\n            if (isLoadingOrLoaded(versions[prev])) {\n                return Boolean(versionLt(prev, cur));\n            } else {\n                return true;\n            }\n        }\n        if (isLoadingOrLoaded(versions[prev])) {\n            return false;\n        }\n        return versionLt(prev, cur);\n    };\n    return findVersion(shareScopeMap[scope][pkgName], callback);\n}\nfunction getFindShareFunction(strategy) {\n    if (strategy === 'loaded-first') {\n        return findSingletonVersionOrderByLoaded;\n    }\n    return findSingletonVersionOrderByVersion;\n}\nfunction getRegisteredShare(localShareScopeMap, pkgName, shareInfo, resolveShare) {\n    if (!localShareScopeMap) {\n        return;\n    }\n    const { shareConfig, scope = DEFAULT_SCOPE, strategy } = shareInfo;\n    const scopes = Array.isArray(scope) ? scope : [\n        scope\n    ];\n    for (const sc of scopes){\n        if (shareConfig && localShareScopeMap[sc] && localShareScopeMap[sc][pkgName]) {\n            const { requiredVersion } = shareConfig;\n            const findShareFunction = getFindShareFunction(strategy);\n            const maxOrSingletonVersion = findShareFunction(localShareScopeMap, sc, pkgName);\n            //@ts-ignore\n            const defaultResolver = ()=>{\n                if (shareConfig.singleton) {\n                    if (typeof requiredVersion === 'string' && !satisfy(maxOrSingletonVersion, requiredVersion)) {\n                        const msg = `Version ${maxOrSingletonVersion} from ${maxOrSingletonVersion && localShareScopeMap[sc][pkgName][maxOrSingletonVersion].from} of shared singleton module ${pkgName} does not satisfy the requirement of ${shareInfo.from} which needs ${requiredVersion})`;\n                        if (shareConfig.strictVersion) {\n                            error(msg);\n                        } else {\n                            warn(msg);\n                        }\n                    }\n                    return localShareScopeMap[sc][pkgName][maxOrSingletonVersion];\n                } else {\n                    if (requiredVersion === false || requiredVersion === '*') {\n                        return localShareScopeMap[sc][pkgName][maxOrSingletonVersion];\n                    }\n                    if (satisfy(maxOrSingletonVersion, requiredVersion)) {\n                        return localShareScopeMap[sc][pkgName][maxOrSingletonVersion];\n                    }\n                    for (const [versionKey, versionValue] of Object.entries(localShareScopeMap[sc][pkgName])){\n                        if (satisfy(versionKey, requiredVersion)) {\n                            return versionValue;\n                        }\n                    }\n                }\n            };\n            const params = {\n                shareScopeMap: localShareScopeMap,\n                scope: sc,\n                pkgName,\n                version: maxOrSingletonVersion,\n                GlobalFederation: Global.__FEDERATION__,\n                resolver: defaultResolver\n            };\n            const resolveShared = resolveShare.emit(params) || params;\n            return resolveShared.resolver();\n        }\n    }\n}\nfunction getGlobalShareScope() {\n    return Global.__FEDERATION__.__SHARE__;\n}\nfunction getTargetSharedOptions(options) {\n    const { pkgName, extraOptions, shareInfos } = options;\n    const defaultResolver = (sharedOptions)=>{\n        if (!sharedOptions) {\n            return undefined;\n        }\n        const shareVersionMap = {};\n        sharedOptions.forEach((shared)=>{\n            shareVersionMap[shared.version] = shared;\n        });\n        const callback = function(prev, cur) {\n            return !isLoaded(shareVersionMap[prev]) && versionLt(prev, cur);\n        };\n        const maxVersion = findVersion(shareVersionMap, callback);\n        return shareVersionMap[maxVersion];\n    };\n    var _extraOptions_resolver;\n    const resolver = (_extraOptions_resolver = extraOptions == null ? void 0 : extraOptions.resolver) != null ? _extraOptions_resolver : defaultResolver;\n    return Object.assign({}, resolver(shareInfos[pkgName]), extraOptions == null ? void 0 : extraOptions.customShareInfo);\n}\n\nfunction getBuilderId() {\n    //@ts-ignore\n    return typeof FEDERATION_BUILD_IDENTIFIER !== 'undefined' ? FEDERATION_BUILD_IDENTIFIER : '';\n}\n\n// Function to match a remote with its name and expose\n// id: pkgName(@federation/app1) + expose(button) = @federation/app1/button\n// id: alias(app1) + expose(button) = app1/button\n// id: alias(app1/utils) + expose(loadash/sort) = app1/utils/loadash/sort\nfunction matchRemoteWithNameAndExpose(remotes, id) {\n    for (const remote of remotes){\n        // match pkgName\n        const isNameMatched = id.startsWith(remote.name);\n        let expose = id.replace(remote.name, '');\n        if (isNameMatched) {\n            if (expose.startsWith('/')) {\n                const pkgNameOrAlias = remote.name;\n                expose = `.${expose}`;\n                return {\n                    pkgNameOrAlias,\n                    expose,\n                    remote\n                };\n            } else if (expose === '') {\n                return {\n                    pkgNameOrAlias: remote.name,\n                    expose: '.',\n                    remote\n                };\n            }\n        }\n        // match alias\n        const isAliasMatched = remote.alias && id.startsWith(remote.alias);\n        let exposeWithAlias = remote.alias && id.replace(remote.alias, '');\n        if (remote.alias && isAliasMatched) {\n            if (exposeWithAlias && exposeWithAlias.startsWith('/')) {\n                const pkgNameOrAlias = remote.alias;\n                exposeWithAlias = `.${exposeWithAlias}`;\n                return {\n                    pkgNameOrAlias,\n                    expose: exposeWithAlias,\n                    remote\n                };\n            } else if (exposeWithAlias === '') {\n                return {\n                    pkgNameOrAlias: remote.alias,\n                    expose: '.',\n                    remote\n                };\n            }\n        }\n    }\n    return;\n}\n// Function to match a remote with its name or alias\nfunction matchRemote(remotes, nameOrAlias) {\n    for (const remote of remotes){\n        const isNameMatched = nameOrAlias === remote.name;\n        if (isNameMatched) {\n            return remote;\n        }\n        const isAliasMatched = remote.alias && nameOrAlias === remote.alias;\n        if (isAliasMatched) {\n            return remote;\n        }\n    }\n    return;\n}\n\nfunction registerPlugins(plugins, instance) {\n    const globalPlugins = getGlobalHostPlugins();\n    const hookInstances = [\n        instance.hooks,\n        instance.remoteHandler.hooks,\n        instance.sharedHandler.hooks,\n        instance.snapshotHandler.hooks,\n        instance.loaderHook,\n        instance.bridgeHook\n    ];\n    // Incorporate global plugins\n    if (globalPlugins.length > 0) {\n        globalPlugins.forEach((plugin)=>{\n            if (plugins == null ? void 0 : plugins.find((item)=>item.name !== plugin.name)) {\n                plugins.push(plugin);\n            }\n        });\n    }\n    if (plugins && plugins.length > 0) {\n        plugins.forEach((plugin)=>{\n            hookInstances.forEach((hookInstance)=>{\n                hookInstance.applyPlugin(plugin, instance);\n            });\n        });\n    }\n    return plugins;\n}\n\nconst importCallback = '.then(callbacks[0]).catch(callbacks[1])';\nasync function loadEsmEntry({ entry, remoteEntryExports }) {\n    return new Promise((resolve, reject)=>{\n        try {\n            if (!remoteEntryExports) {\n                if (typeof FEDERATION_ALLOW_NEW_FUNCTION !== 'undefined') {\n                    new Function('callbacks', `import(\"${entry}\")${importCallback}`)([\n                        resolve,\n                        reject\n                    ]);\n                } else {\n                    import(/* webpackIgnore: true */ /* @vite-ignore */ entry).then(resolve).catch(reject);\n                }\n            } else {\n                resolve(remoteEntryExports);\n            }\n        } catch (e) {\n            reject(e);\n        }\n    });\n}\nasync function loadSystemJsEntry({ entry, remoteEntryExports }) {\n    return new Promise((resolve, reject)=>{\n        try {\n            if (!remoteEntryExports) {\n                //@ts-ignore\n                if (typeof __system_context__ === 'undefined') {\n                    //@ts-ignore\n                    System.import(entry).then(resolve).catch(reject);\n                } else {\n                    new Function('callbacks', `System.import(\"${entry}\")${importCallback}`)([\n                        resolve,\n                        reject\n                    ]);\n                }\n            } else {\n                resolve(remoteEntryExports);\n            }\n        } catch (e) {\n            reject(e);\n        }\n    });\n}\nfunction handleRemoteEntryLoaded(name, globalName, entry) {\n    const { remoteEntryKey, entryExports } = getRemoteEntryExports(name, globalName);\n    assert(entryExports, errorCodes.getShortErrorMsg(errorCodes.RUNTIME_001, errorCodes.runtimeDescMap, {\n        remoteName: name,\n        remoteEntryUrl: entry,\n        remoteEntryKey\n    }));\n    return entryExports;\n}\nasync function loadEntryScript({ name, globalName, entry, loaderHook, getEntryUrl }) {\n    const { entryExports: remoteEntryExports } = getRemoteEntryExports(name, globalName);\n    if (remoteEntryExports) {\n        return remoteEntryExports;\n    }\n    // if getEntryUrl is passed, use the getEntryUrl to get the entry url\n    const url = getEntryUrl ? getEntryUrl(entry) : entry;\n    return sdk.loadScript(url, {\n        attrs: {},\n        createScriptHook: (url, attrs)=>{\n            const res = loaderHook.lifecycle.createScript.emit({\n                url,\n                attrs\n            });\n            if (!res) return;\n            if (res instanceof HTMLScriptElement) {\n                return res;\n            }\n            if ('script' in res || 'timeout' in res) {\n                return res;\n            }\n            return;\n        }\n    }).then(()=>{\n        return handleRemoteEntryLoaded(name, globalName, entry);\n    }).catch((e)=>{\n        assert(undefined, errorCodes.getShortErrorMsg(errorCodes.RUNTIME_008, errorCodes.runtimeDescMap, {\n            remoteName: name,\n            resourceUrl: entry\n        }));\n        throw e;\n    });\n}\nasync function loadEntryDom({ remoteInfo, remoteEntryExports, loaderHook, getEntryUrl }) {\n    const { entry, entryGlobalName: globalName, name, type } = remoteInfo;\n    switch(type){\n        case 'esm':\n        case 'module':\n            return loadEsmEntry({\n                entry,\n                remoteEntryExports\n            });\n        case 'system':\n            return loadSystemJsEntry({\n                entry,\n                remoteEntryExports\n            });\n        default:\n            return loadEntryScript({\n                entry,\n                globalName,\n                name,\n                loaderHook,\n                getEntryUrl\n            });\n    }\n}\nasync function loadEntryNode({ remoteInfo, loaderHook }) {\n    const { entry, entryGlobalName: globalName, name, type } = remoteInfo;\n    const { entryExports: remoteEntryExports } = getRemoteEntryExports(name, globalName);\n    if (remoteEntryExports) {\n        return remoteEntryExports;\n    }\n    return sdk.loadScriptNode(entry, {\n        attrs: {\n            name,\n            globalName,\n            type\n        },\n        loaderHook: {\n            createScriptHook: (url, attrs = {})=>{\n                const res = loaderHook.lifecycle.createScript.emit({\n                    url,\n                    attrs\n                });\n                if (!res) return;\n                if ('url' in res) {\n                    return res;\n                }\n                return;\n            }\n        }\n    }).then(()=>{\n        return handleRemoteEntryLoaded(name, globalName, entry);\n    }).catch((e)=>{\n        throw e;\n    });\n}\nfunction getRemoteEntryUniqueKey(remoteInfo) {\n    const { entry, name } = remoteInfo;\n    return sdk.composeKeyWithSeparator(name, entry);\n}\nasync function getRemoteEntry(params) {\n    const { origin, remoteEntryExports, remoteInfo, getEntryUrl } = params;\n    const uniqueKey = getRemoteEntryUniqueKey(remoteInfo);\n    if (remoteEntryExports) {\n        return remoteEntryExports;\n    }\n    if (!globalLoading[uniqueKey]) {\n        const loadEntryHook = origin.remoteHandler.hooks.lifecycle.loadEntry;\n        const loaderHook = origin.loaderHook;\n        globalLoading[uniqueKey] = loadEntryHook.emit({\n            loaderHook,\n            remoteInfo,\n            remoteEntryExports\n        }).then((res)=>{\n            if (res) {\n                return res;\n            }\n            // Use ENV_TARGET if defined, otherwise fallback to isBrowserEnv, must keep this\n            const isWebEnvironment = typeof ENV_TARGET !== 'undefined' ? ENV_TARGET === 'web' : sdk.isBrowserEnv();\n            return isWebEnvironment ? loadEntryDom({\n                remoteInfo,\n                remoteEntryExports,\n                loaderHook,\n                getEntryUrl\n            }) : loadEntryNode({\n                remoteInfo,\n                loaderHook\n            });\n        });\n    }\n    return globalLoading[uniqueKey];\n}\nfunction getRemoteInfo(remote) {\n    return polyfills._extends({}, remote, {\n        entry: 'entry' in remote ? remote.entry : '',\n        type: remote.type || DEFAULT_REMOTE_TYPE,\n        entryGlobalName: remote.entryGlobalName || remote.name,\n        shareScope: remote.shareScope || DEFAULT_SCOPE\n    });\n}\n\nfunction defaultPreloadArgs(preloadConfig) {\n    return polyfills._extends({\n        resourceCategory: 'sync',\n        share: true,\n        depsRemote: true,\n        prefetchInterface: false\n    }, preloadConfig);\n}\nfunction formatPreloadArgs(remotes, preloadArgs) {\n    return preloadArgs.map((args)=>{\n        const remoteInfo = matchRemote(remotes, args.nameOrAlias);\n        assert(remoteInfo, `Unable to preload ${args.nameOrAlias} as it is not included in ${!remoteInfo && sdk.safeToString({\n            remoteInfo,\n            remotes\n        })}`);\n        return {\n            remote: remoteInfo,\n            preloadConfig: defaultPreloadArgs(args)\n        };\n    });\n}\nfunction normalizePreloadExposes(exposes) {\n    if (!exposes) {\n        return [];\n    }\n    return exposes.map((expose)=>{\n        if (expose === '.') {\n            return expose;\n        }\n        if (expose.startsWith('./')) {\n            return expose.replace('./', '');\n        }\n        return expose;\n    });\n}\nfunction preloadAssets(remoteInfo, host, assets, // It is used to distinguish preload from load remote parallel loading\nuseLinkPreload = true) {\n    const { cssAssets, jsAssetsWithoutEntry, entryAssets } = assets;\n    if (host.options.inBrowser) {\n        entryAssets.forEach((asset)=>{\n            const { moduleInfo } = asset;\n            const module = host.moduleCache.get(remoteInfo.name);\n            if (module) {\n                getRemoteEntry({\n                    origin: host,\n                    remoteInfo: moduleInfo,\n                    remoteEntryExports: module.remoteEntryExports\n                });\n            } else {\n                getRemoteEntry({\n                    origin: host,\n                    remoteInfo: moduleInfo,\n                    remoteEntryExports: undefined\n                });\n            }\n        });\n        if (useLinkPreload) {\n            const defaultAttrs = {\n                rel: 'preload',\n                as: 'style'\n            };\n            cssAssets.forEach((cssUrl)=>{\n                const { link: cssEl, needAttach } = sdk.createLink({\n                    url: cssUrl,\n                    cb: ()=>{\n                    // noop\n                    },\n                    attrs: defaultAttrs,\n                    createLinkHook: (url, attrs)=>{\n                        const res = host.loaderHook.lifecycle.createLink.emit({\n                            url,\n                            attrs\n                        });\n                        if (res instanceof HTMLLinkElement) {\n                            return res;\n                        }\n                        return;\n                    }\n                });\n                needAttach && document.head.appendChild(cssEl);\n            });\n        } else {\n            const defaultAttrs = {\n                rel: 'stylesheet',\n                type: 'text/css'\n            };\n            cssAssets.forEach((cssUrl)=>{\n                const { link: cssEl, needAttach } = sdk.createLink({\n                    url: cssUrl,\n                    cb: ()=>{\n                    // noop\n                    },\n                    attrs: defaultAttrs,\n                    createLinkHook: (url, attrs)=>{\n                        const res = host.loaderHook.lifecycle.createLink.emit({\n                            url,\n                            attrs\n                        });\n                        if (res instanceof HTMLLinkElement) {\n                            return res;\n                        }\n                        return;\n                    },\n                    needDeleteLink: false\n                });\n                needAttach && document.head.appendChild(cssEl);\n            });\n        }\n        if (useLinkPreload) {\n            const defaultAttrs = {\n                rel: 'preload',\n                as: 'script'\n            };\n            jsAssetsWithoutEntry.forEach((jsUrl)=>{\n                const { link: linkEl, needAttach } = sdk.createLink({\n                    url: jsUrl,\n                    cb: ()=>{\n                    // noop\n                    },\n                    attrs: defaultAttrs,\n                    createLinkHook: (url, attrs)=>{\n                        const res = host.loaderHook.lifecycle.createLink.emit({\n                            url,\n                            attrs\n                        });\n                        if (res instanceof HTMLLinkElement) {\n                            return res;\n                        }\n                        return;\n                    }\n                });\n                needAttach && document.head.appendChild(linkEl);\n            });\n        } else {\n            const defaultAttrs = {\n                fetchpriority: 'high',\n                type: (remoteInfo == null ? void 0 : remoteInfo.type) === 'module' ? 'module' : 'text/javascript'\n            };\n            jsAssetsWithoutEntry.forEach((jsUrl)=>{\n                const { script: scriptEl, needAttach } = sdk.createScript({\n                    url: jsUrl,\n                    cb: ()=>{\n                    // noop\n                    },\n                    attrs: defaultAttrs,\n                    createScriptHook: (url, attrs)=>{\n                        const res = host.loaderHook.lifecycle.createScript.emit({\n                            url,\n                            attrs\n                        });\n                        if (res instanceof HTMLScriptElement) {\n                            return res;\n                        }\n                        return;\n                    },\n                    needDeleteScript: true\n                });\n                needAttach && document.head.appendChild(scriptEl);\n            });\n        }\n    }\n}\n\nconst ShareUtils = {\n    getRegisteredShare,\n    getGlobalShareScope\n};\nconst GlobalUtils = {\n    Global,\n    nativeGlobal,\n    resetFederationGlobalInfo,\n    setGlobalFederationInstance,\n    getGlobalFederationConstructor,\n    setGlobalFederationConstructor,\n    getInfoWithoutType,\n    getGlobalSnapshot,\n    getTargetSnapshotInfoByModuleInfo,\n    getGlobalSnapshotInfoByModuleInfo,\n    setGlobalSnapshotInfoByModuleInfo,\n    addGlobalSnapshot,\n    getRemoteEntryExports,\n    registerGlobalPlugins,\n    getGlobalHostPlugins,\n    getPreloaded,\n    setPreloaded\n};\nvar helpers = {\n    global: GlobalUtils,\n    share: ShareUtils,\n    utils: {\n        matchRemoteWithNameAndExpose,\n        preloadAssets,\n        getRemoteInfo\n    }\n};\n\nlet Module = class Module {\n    async getEntry() {\n        if (this.remoteEntryExports) {\n            return this.remoteEntryExports;\n        }\n        let remoteEntryExports;\n        try {\n            remoteEntryExports = await getRemoteEntry({\n                origin: this.host,\n                remoteInfo: this.remoteInfo,\n                remoteEntryExports: this.remoteEntryExports\n            });\n        } catch (err) {\n            const uniqueKey = getRemoteEntryUniqueKey(this.remoteInfo);\n            const isScriptLoadError = err instanceof Error && err.message.includes(errorCodes.RUNTIME_008);\n            if (isScriptLoadError) {\n                remoteEntryExports = await this.host.loaderHook.lifecycle.loadEntryError.emit({\n                    getRemoteEntry,\n                    origin: this.host,\n                    remoteInfo: this.remoteInfo,\n                    remoteEntryExports: this.remoteEntryExports,\n                    globalLoading,\n                    uniqueKey\n                });\n            }\n        }\n        assert(remoteEntryExports, `remoteEntryExports is undefined \\n ${sdk.safeToString(this.remoteInfo)}`);\n        this.remoteEntryExports = remoteEntryExports;\n        return this.remoteEntryExports;\n    }\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n    async get(id, expose, options, remoteSnapshot) {\n        const { loadFactory = true } = options || {\n            loadFactory: true\n        };\n        // Get remoteEntry.js\n        const remoteEntryExports = await this.getEntry();\n        if (!this.inited) {\n            const localShareScopeMap = this.host.shareScopeMap;\n            const shareScopeKeys = Array.isArray(this.remoteInfo.shareScope) ? this.remoteInfo.shareScope : [\n                this.remoteInfo.shareScope\n            ];\n            if (!shareScopeKeys.length) {\n                shareScopeKeys.push('default');\n            }\n            shareScopeKeys.forEach((shareScopeKey)=>{\n                if (!localShareScopeMap[shareScopeKey]) {\n                    localShareScopeMap[shareScopeKey] = {};\n                }\n            });\n            // TODO: compate legacy init params, should use shareScopeMap if exist\n            const shareScope = localShareScopeMap[shareScopeKeys[0]];\n            const initScope = [];\n            const remoteEntryInitOptions = {\n                version: this.remoteInfo.version || '',\n                shareScopeKeys: Array.isArray(this.remoteInfo.shareScope) ? shareScopeKeys : this.remoteInfo.shareScope || 'default'\n            };\n            // Help to find host instance\n            Object.defineProperty(remoteEntryInitOptions, 'shareScopeMap', {\n                value: localShareScopeMap,\n                // remoteEntryInitOptions will be traversed and assigned during container init, ,so this attribute is not allowed to be traversed\n                enumerable: false\n            });\n            const initContainerOptions = await this.host.hooks.lifecycle.beforeInitContainer.emit({\n                shareScope,\n                // @ts-ignore shareScopeMap will be set by Object.defineProperty\n                remoteEntryInitOptions,\n                initScope,\n                remoteInfo: this.remoteInfo,\n                origin: this.host\n            });\n            if (typeof (remoteEntryExports == null ? void 0 : remoteEntryExports.init) === 'undefined') {\n                error(errorCodes.getShortErrorMsg(errorCodes.RUNTIME_002, errorCodes.runtimeDescMap, {\n                    hostName: this.host.name,\n                    remoteName: this.remoteInfo.name,\n                    remoteEntryUrl: this.remoteInfo.entry,\n                    remoteEntryKey: this.remoteInfo.entryGlobalName\n                }));\n            }\n            await remoteEntryExports.init(initContainerOptions.shareScope, initContainerOptions.initScope, initContainerOptions.remoteEntryInitOptions);\n            await this.host.hooks.lifecycle.initContainer.emit(polyfills._extends({}, initContainerOptions, {\n                id,\n                remoteSnapshot,\n                remoteEntryExports\n            }));\n        }\n        this.lib = remoteEntryExports;\n        this.inited = true;\n        let moduleFactory;\n        moduleFactory = await this.host.loaderHook.lifecycle.getModuleFactory.emit({\n            remoteEntryExports,\n            expose,\n            moduleInfo: this.remoteInfo\n        });\n        // get exposeGetter\n        if (!moduleFactory) {\n            moduleFactory = await remoteEntryExports.get(expose);\n        }\n        assert(moduleFactory, `${getFMId(this.remoteInfo)} remote don't export ${expose}.`);\n        // keep symbol for module name always one format\n        const symbolName = processModuleAlias(this.remoteInfo.name, expose);\n        const wrapModuleFactory = this.wraperFactory(moduleFactory, symbolName);\n        if (!loadFactory) {\n            return wrapModuleFactory;\n        }\n        const exposeContent = await wrapModuleFactory();\n        return exposeContent;\n    }\n    wraperFactory(moduleFactory, id) {\n        function defineModuleId(res, id) {\n            if (res && typeof res === 'object' && Object.isExtensible(res) && !Object.getOwnPropertyDescriptor(res, Symbol.for('mf_module_id'))) {\n                Object.defineProperty(res, Symbol.for('mf_module_id'), {\n                    value: id,\n                    enumerable: false\n                });\n            }\n        }\n        if (moduleFactory instanceof Promise) {\n            return async ()=>{\n                const res = await moduleFactory();\n                // This parameter is used for bridge debugging\n                defineModuleId(res, id);\n                return res;\n            };\n        } else {\n            return ()=>{\n                const res = moduleFactory();\n                // This parameter is used for bridge debugging\n                defineModuleId(res, id);\n                return res;\n            };\n        }\n    }\n    constructor({ remoteInfo, host }){\n        this.inited = false;\n        this.lib = undefined;\n        this.remoteInfo = remoteInfo;\n        this.host = host;\n    }\n};\n\nclass SyncHook {\n    on(fn) {\n        if (typeof fn === 'function') {\n            this.listeners.add(fn);\n        }\n    }\n    once(fn) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const self = this;\n        this.on(function wrapper(...args) {\n            self.remove(wrapper);\n            // eslint-disable-next-line prefer-spread\n            return fn.apply(null, args);\n        });\n    }\n    emit(...data) {\n        let result;\n        if (this.listeners.size > 0) {\n            // eslint-disable-next-line prefer-spread\n            this.listeners.forEach((fn)=>{\n                result = fn(...data);\n            });\n        }\n        return result;\n    }\n    remove(fn) {\n        this.listeners.delete(fn);\n    }\n    removeAll() {\n        this.listeners.clear();\n    }\n    constructor(type){\n        this.type = '';\n        this.listeners = new Set();\n        if (type) {\n            this.type = type;\n        }\n    }\n}\n\nclass AsyncHook extends SyncHook {\n    emit(...data) {\n        let result;\n        const ls = Array.from(this.listeners);\n        if (ls.length > 0) {\n            let i = 0;\n            const call = (prev)=>{\n                if (prev === false) {\n                    return false; // Abort process\n                } else if (i < ls.length) {\n                    return Promise.resolve(ls[i++].apply(null, data)).then(call);\n                } else {\n                    return prev;\n                }\n            };\n            result = call();\n        }\n        return Promise.resolve(result);\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction checkReturnData(originalData, returnedData) {\n    if (!isObject(returnedData)) {\n        return false;\n    }\n    if (originalData !== returnedData) {\n        // eslint-disable-next-line no-restricted-syntax\n        for(const key in originalData){\n            if (!(key in returnedData)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nclass SyncWaterfallHook extends SyncHook {\n    emit(data) {\n        if (!isObject(data)) {\n            error(`The data for the \"${this.type}\" hook should be an object.`);\n        }\n        for (const fn of this.listeners){\n            try {\n                const tempData = fn(data);\n                if (checkReturnData(data, tempData)) {\n                    data = tempData;\n                } else {\n                    this.onerror(`A plugin returned an unacceptable value for the \"${this.type}\" type.`);\n                    break;\n                }\n            } catch (e) {\n                warn(e);\n                this.onerror(e);\n            }\n        }\n        return data;\n    }\n    constructor(type){\n        super();\n        this.onerror = error;\n        this.type = type;\n    }\n}\n\nclass AsyncWaterfallHook extends SyncHook {\n    emit(data) {\n        if (!isObject(data)) {\n            error(`The response data for the \"${this.type}\" hook must be an object.`);\n        }\n        const ls = Array.from(this.listeners);\n        if (ls.length > 0) {\n            let i = 0;\n            const processError = (e)=>{\n                warn(e);\n                this.onerror(e);\n                return data;\n            };\n            const call = (prevData)=>{\n                if (checkReturnData(data, prevData)) {\n                    data = prevData;\n                    if (i < ls.length) {\n                        try {\n                            return Promise.resolve(ls[i++](data)).then(call, processError);\n                        } catch (e) {\n                            return processError(e);\n                        }\n                    }\n                } else {\n                    this.onerror(`A plugin returned an incorrect value for the \"${this.type}\" type.`);\n                }\n                return data;\n            };\n            return Promise.resolve(call(data));\n        }\n        return Promise.resolve(data);\n    }\n    constructor(type){\n        super();\n        this.onerror = error;\n        this.type = type;\n    }\n}\n\nclass PluginSystem {\n    applyPlugin(plugin, instance) {\n        assert(isPlainObject(plugin), 'Plugin configuration is invalid.');\n        // The plugin's name is mandatory and must be unique\n        const pluginName = plugin.name;\n        assert(pluginName, 'A name must be provided by the plugin.');\n        if (!this.registerPlugins[pluginName]) {\n            this.registerPlugins[pluginName] = plugin;\n            plugin.apply == null ? void 0 : plugin.apply.call(plugin, instance);\n            Object.keys(this.lifecycle).forEach((key)=>{\n                const pluginLife = plugin[key];\n                if (pluginLife) {\n                    this.lifecycle[key].on(pluginLife);\n                }\n            });\n        }\n    }\n    removePlugin(pluginName) {\n        assert(pluginName, 'A name is required.');\n        const plugin = this.registerPlugins[pluginName];\n        assert(plugin, `The plugin \"${pluginName}\" is not registered.`);\n        Object.keys(plugin).forEach((key)=>{\n            if (key !== 'name') {\n                this.lifecycle[key].remove(plugin[key]);\n            }\n        });\n    }\n    constructor(lifecycle){\n        this.registerPlugins = {};\n        this.lifecycle = lifecycle;\n        this.lifecycleKeys = Object.keys(lifecycle);\n    }\n}\n\nfunction assignRemoteInfo(remoteInfo, remoteSnapshot) {\n    const remoteEntryInfo = getRemoteEntryInfoFromSnapshot(remoteSnapshot);\n    if (!remoteEntryInfo.url) {\n        error(`The attribute remoteEntry of ${remoteInfo.name} must not be undefined.`);\n    }\n    let entryUrl = sdk.getResourceUrl(remoteSnapshot, remoteEntryInfo.url);\n    if (!sdk.isBrowserEnv() && !entryUrl.startsWith('http')) {\n        entryUrl = `https:${entryUrl}`;\n    }\n    remoteInfo.type = remoteEntryInfo.type;\n    remoteInfo.entryGlobalName = remoteEntryInfo.globalName;\n    remoteInfo.entry = entryUrl;\n    remoteInfo.version = remoteSnapshot.version;\n    remoteInfo.buildVersion = remoteSnapshot.buildVersion;\n}\nfunction snapshotPlugin() {\n    return {\n        name: 'snapshot-plugin',\n        async afterResolve (args) {\n            const { remote, pkgNameOrAlias, expose, origin, remoteInfo, id } = args;\n            if (!isRemoteInfoWithEntry(remote) || !isPureRemoteEntry(remote)) {\n                const { remoteSnapshot, globalSnapshot } = await origin.snapshotHandler.loadRemoteSnapshotInfo({\n                    moduleInfo: remote,\n                    id\n                });\n                assignRemoteInfo(remoteInfo, remoteSnapshot);\n                // preloading assets\n                const preloadOptions = {\n                    remote,\n                    preloadConfig: {\n                        nameOrAlias: pkgNameOrAlias,\n                        exposes: [\n                            expose\n                        ],\n                        resourceCategory: 'sync',\n                        share: false,\n                        depsRemote: false\n                    }\n                };\n                const assets = await origin.remoteHandler.hooks.lifecycle.generatePreloadAssets.emit({\n                    origin,\n                    preloadOptions,\n                    remoteInfo,\n                    remote,\n                    remoteSnapshot,\n                    globalSnapshot\n                });\n                if (assets) {\n                    preloadAssets(remoteInfo, origin, assets, false);\n                }\n                return polyfills._extends({}, args, {\n                    remoteSnapshot\n                });\n            }\n            return args;\n        }\n    };\n}\n\n// name\n// name:version\nfunction splitId(id) {\n    const splitInfo = id.split(':');\n    if (splitInfo.length === 1) {\n        return {\n            name: splitInfo[0],\n            version: undefined\n        };\n    } else if (splitInfo.length === 2) {\n        return {\n            name: splitInfo[0],\n            version: splitInfo[1]\n        };\n    } else {\n        return {\n            name: splitInfo[1],\n            version: splitInfo[2]\n        };\n    }\n}\n// Traverse all nodes in moduleInfo and traverse the entire snapshot\nfunction traverseModuleInfo(globalSnapshot, remoteInfo, traverse, isRoot, memo = {}, remoteSnapshot) {\n    const id = getFMId(remoteInfo);\n    const { value: snapshotValue } = getInfoWithoutType(globalSnapshot, id);\n    const effectiveRemoteSnapshot = remoteSnapshot || snapshotValue;\n    if (effectiveRemoteSnapshot && !sdk.isManifestProvider(effectiveRemoteSnapshot)) {\n        traverse(effectiveRemoteSnapshot, remoteInfo, isRoot);\n        if (effectiveRemoteSnapshot.remotesInfo) {\n            const remoteKeys = Object.keys(effectiveRemoteSnapshot.remotesInfo);\n            for (const key of remoteKeys){\n                if (memo[key]) {\n                    continue;\n                }\n                memo[key] = true;\n                const subRemoteInfo = splitId(key);\n                const remoteValue = effectiveRemoteSnapshot.remotesInfo[key];\n                traverseModuleInfo(globalSnapshot, {\n                    name: subRemoteInfo.name,\n                    version: remoteValue.matchedVersion\n                }, traverse, false, memo, undefined);\n            }\n        }\n    }\n}\nconst isExisted = (type, url)=>{\n    return document.querySelector(`${type}[${type === 'link' ? 'href' : 'src'}=\"${url}\"]`);\n};\n// eslint-disable-next-line max-lines-per-function\nfunction generatePreloadAssets(origin, preloadOptions, remote, globalSnapshot, remoteSnapshot) {\n    const cssAssets = [];\n    const jsAssets = [];\n    const entryAssets = [];\n    const loadedSharedJsAssets = new Set();\n    const loadedSharedCssAssets = new Set();\n    const { options } = origin;\n    const { preloadConfig: rootPreloadConfig } = preloadOptions;\n    const { depsRemote } = rootPreloadConfig;\n    const memo = {};\n    traverseModuleInfo(globalSnapshot, remote, (moduleInfoSnapshot, remoteInfo, isRoot)=>{\n        let preloadConfig;\n        if (isRoot) {\n            preloadConfig = rootPreloadConfig;\n        } else {\n            if (Array.isArray(depsRemote)) {\n                // eslint-disable-next-line array-callback-return\n                const findPreloadConfig = depsRemote.find((remoteConfig)=>{\n                    if (remoteConfig.nameOrAlias === remoteInfo.name || remoteConfig.nameOrAlias === remoteInfo.alias) {\n                        return true;\n                    }\n                    return false;\n                });\n                if (!findPreloadConfig) {\n                    return;\n                }\n                preloadConfig = defaultPreloadArgs(findPreloadConfig);\n            } else if (depsRemote === true) {\n                preloadConfig = rootPreloadConfig;\n            } else {\n                return;\n            }\n        }\n        const remoteEntryUrl = sdk.getResourceUrl(moduleInfoSnapshot, getRemoteEntryInfoFromSnapshot(moduleInfoSnapshot).url);\n        if (remoteEntryUrl) {\n            entryAssets.push({\n                name: remoteInfo.name,\n                moduleInfo: {\n                    name: remoteInfo.name,\n                    entry: remoteEntryUrl,\n                    type: 'remoteEntryType' in moduleInfoSnapshot ? moduleInfoSnapshot.remoteEntryType : 'global',\n                    entryGlobalName: 'globalName' in moduleInfoSnapshot ? moduleInfoSnapshot.globalName : remoteInfo.name,\n                    shareScope: '',\n                    version: 'version' in moduleInfoSnapshot ? moduleInfoSnapshot.version : undefined\n                },\n                url: remoteEntryUrl\n            });\n        }\n        let moduleAssetsInfo = 'modules' in moduleInfoSnapshot ? moduleInfoSnapshot.modules : [];\n        const normalizedPreloadExposes = normalizePreloadExposes(preloadConfig.exposes);\n        if (normalizedPreloadExposes.length && 'modules' in moduleInfoSnapshot) {\n            var _moduleInfoSnapshot_modules;\n            moduleAssetsInfo = moduleInfoSnapshot == null ? void 0 : (_moduleInfoSnapshot_modules = moduleInfoSnapshot.modules) == null ? void 0 : _moduleInfoSnapshot_modules.reduce((assets, moduleAssetInfo)=>{\n                if ((normalizedPreloadExposes == null ? void 0 : normalizedPreloadExposes.indexOf(moduleAssetInfo.moduleName)) !== -1) {\n                    assets.push(moduleAssetInfo);\n                }\n                return assets;\n            }, []);\n        }\n        function handleAssets(assets) {\n            const assetsRes = assets.map((asset)=>sdk.getResourceUrl(moduleInfoSnapshot, asset));\n            if (preloadConfig.filter) {\n                return assetsRes.filter(preloadConfig.filter);\n            }\n            return assetsRes;\n        }\n        if (moduleAssetsInfo) {\n            const assetsLength = moduleAssetsInfo.length;\n            for(let index = 0; index < assetsLength; index++){\n                const assetsInfo = moduleAssetsInfo[index];\n                const exposeFullPath = `${remoteInfo.name}/${assetsInfo.moduleName}`;\n                origin.remoteHandler.hooks.lifecycle.handlePreloadModule.emit({\n                    id: assetsInfo.moduleName === '.' ? remoteInfo.name : exposeFullPath,\n                    name: remoteInfo.name,\n                    remoteSnapshot: moduleInfoSnapshot,\n                    preloadConfig,\n                    remote: remoteInfo,\n                    origin\n                });\n                const preloaded = getPreloaded(exposeFullPath);\n                if (preloaded) {\n                    continue;\n                }\n                if (preloadConfig.resourceCategory === 'all') {\n                    cssAssets.push(...handleAssets(assetsInfo.assets.css.async));\n                    cssAssets.push(...handleAssets(assetsInfo.assets.css.sync));\n                    jsAssets.push(...handleAssets(assetsInfo.assets.js.async));\n                    jsAssets.push(...handleAssets(assetsInfo.assets.js.sync));\n                // eslint-disable-next-line no-constant-condition\n                } else if (preloadConfig.resourceCategory = 'sync') {\n                    cssAssets.push(...handleAssets(assetsInfo.assets.css.sync));\n                    jsAssets.push(...handleAssets(assetsInfo.assets.js.sync));\n                }\n                setPreloaded(exposeFullPath);\n            }\n        }\n    }, true, memo, remoteSnapshot);\n    if (remoteSnapshot.shared && remoteSnapshot.shared.length > 0) {\n        const collectSharedAssets = (shareInfo, snapshotShared)=>{\n            const registeredShared = getRegisteredShare(origin.shareScopeMap, snapshotShared.sharedName, shareInfo, origin.sharedHandler.hooks.lifecycle.resolveShare);\n            // If the global share does not exist, or the lib function does not exist, it means that the shared has not been loaded yet and can be preloaded.\n            if (registeredShared && typeof registeredShared.lib === 'function') {\n                snapshotShared.assets.js.sync.forEach((asset)=>{\n                    loadedSharedJsAssets.add(asset);\n                });\n                snapshotShared.assets.css.sync.forEach((asset)=>{\n                    loadedSharedCssAssets.add(asset);\n                });\n            }\n        };\n        remoteSnapshot.shared.forEach((shared)=>{\n            var _options_shared;\n            const shareInfos = (_options_shared = options.shared) == null ? void 0 : _options_shared[shared.sharedName];\n            if (!shareInfos) {\n                return;\n            }\n            // if no version, preload all shared\n            const sharedOptions = shared.version ? shareInfos.find((s)=>s.version === shared.version) : shareInfos;\n            if (!sharedOptions) {\n                return;\n            }\n            const arrayShareInfo = arrayOptions(sharedOptions);\n            arrayShareInfo.forEach((s)=>{\n                collectSharedAssets(s, shared);\n            });\n        });\n    }\n    const needPreloadJsAssets = jsAssets.filter((asset)=>!loadedSharedJsAssets.has(asset) && !isExisted('script', asset));\n    const needPreloadCssAssets = cssAssets.filter((asset)=>!loadedSharedCssAssets.has(asset) && !isExisted('link', asset));\n    return {\n        cssAssets: needPreloadCssAssets,\n        jsAssetsWithoutEntry: needPreloadJsAssets,\n        entryAssets: entryAssets.filter((entry)=>!isExisted('script', entry.url))\n    };\n}\nconst generatePreloadAssetsPlugin = function() {\n    return {\n        name: 'generate-preload-assets-plugin',\n        async generatePreloadAssets (args) {\n            const { origin, preloadOptions, remoteInfo, remote, globalSnapshot, remoteSnapshot } = args;\n            if (!sdk.isBrowserEnv()) {\n                return {\n                    cssAssets: [],\n                    jsAssetsWithoutEntry: [],\n                    entryAssets: []\n                };\n            }\n            if (isRemoteInfoWithEntry(remote) && isPureRemoteEntry(remote)) {\n                return {\n                    cssAssets: [],\n                    jsAssetsWithoutEntry: [],\n                    entryAssets: [\n                        {\n                            name: remote.name,\n                            url: remote.entry,\n                            moduleInfo: {\n                                name: remoteInfo.name,\n                                entry: remote.entry,\n                                type: remoteInfo.type || 'global',\n                                entryGlobalName: '',\n                                shareScope: ''\n                            }\n                        }\n                    ]\n                };\n            }\n            assignRemoteInfo(remoteInfo, remoteSnapshot);\n            const assets = generatePreloadAssets(origin, preloadOptions, remoteInfo, globalSnapshot, remoteSnapshot);\n            return assets;\n        }\n    };\n};\n\nfunction getGlobalRemoteInfo(moduleInfo, origin) {\n    const hostGlobalSnapshot = getGlobalSnapshotInfoByModuleInfo({\n        name: origin.name,\n        version: origin.options.version\n    });\n    // get remote detail info from global\n    const globalRemoteInfo = hostGlobalSnapshot && 'remotesInfo' in hostGlobalSnapshot && hostGlobalSnapshot.remotesInfo && getInfoWithoutType(hostGlobalSnapshot.remotesInfo, moduleInfo.name).value;\n    if (globalRemoteInfo && globalRemoteInfo.matchedVersion) {\n        return {\n            hostGlobalSnapshot,\n            globalSnapshot: getGlobalSnapshot(),\n            remoteSnapshot: getGlobalSnapshotInfoByModuleInfo({\n                name: moduleInfo.name,\n                version: globalRemoteInfo.matchedVersion\n            })\n        };\n    }\n    return {\n        hostGlobalSnapshot: undefined,\n        globalSnapshot: getGlobalSnapshot(),\n        remoteSnapshot: getGlobalSnapshotInfoByModuleInfo({\n            name: moduleInfo.name,\n            version: 'version' in moduleInfo ? moduleInfo.version : undefined\n        })\n    };\n}\nclass SnapshotHandler {\n    // eslint-disable-next-line max-lines-per-function\n    async loadRemoteSnapshotInfo({ moduleInfo, id, expose }) {\n        const { options } = this.HostInstance;\n        await this.hooks.lifecycle.beforeLoadRemoteSnapshot.emit({\n            options,\n            moduleInfo\n        });\n        let hostSnapshot = getGlobalSnapshotInfoByModuleInfo({\n            name: this.HostInstance.options.name,\n            version: this.HostInstance.options.version\n        });\n        if (!hostSnapshot) {\n            hostSnapshot = {\n                version: this.HostInstance.options.version || '',\n                remoteEntry: '',\n                remotesInfo: {}\n            };\n            addGlobalSnapshot({\n                [this.HostInstance.options.name]: hostSnapshot\n            });\n        }\n        // In dynamic loadRemote scenarios, incomplete remotesInfo delivery may occur. In such cases, the remotesInfo in the host needs to be completed in the snapshot at runtime.\n        // This ensures the snapshot's integrity and helps the chrome plugin correctly identify all producer modules, ensuring that proxyable producer modules will not be missing.\n        if (hostSnapshot && 'remotesInfo' in hostSnapshot && !getInfoWithoutType(hostSnapshot.remotesInfo, moduleInfo.name).value) {\n            if ('version' in moduleInfo || 'entry' in moduleInfo) {\n                hostSnapshot.remotesInfo = polyfills._extends({}, hostSnapshot == null ? void 0 : hostSnapshot.remotesInfo, {\n                    [moduleInfo.name]: {\n                        matchedVersion: 'version' in moduleInfo ? moduleInfo.version : moduleInfo.entry\n                    }\n                });\n            }\n        }\n        const { hostGlobalSnapshot, remoteSnapshot, globalSnapshot } = this.getGlobalRemoteInfo(moduleInfo);\n        const { remoteSnapshot: globalRemoteSnapshot, globalSnapshot: globalSnapshotRes } = await this.hooks.lifecycle.loadSnapshot.emit({\n            options,\n            moduleInfo,\n            hostGlobalSnapshot,\n            remoteSnapshot,\n            globalSnapshot\n        });\n        let mSnapshot;\n        let gSnapshot;\n        // global snapshot includes manifest or module info includes manifest\n        if (globalRemoteSnapshot) {\n            if (sdk.isManifestProvider(globalRemoteSnapshot)) {\n                const remoteEntry = sdk.isBrowserEnv() ? globalRemoteSnapshot.remoteEntry : globalRemoteSnapshot.ssrRemoteEntry || globalRemoteSnapshot.remoteEntry || '';\n                const moduleSnapshot = await this.getManifestJson(remoteEntry, moduleInfo, {});\n                // eslint-disable-next-line @typescript-eslint/no-shadow\n                const globalSnapshotRes = setGlobalSnapshotInfoByModuleInfo(polyfills._extends({}, moduleInfo, {\n                    // The global remote may be overridden\n                    // Therefore, set the snapshot key to the global address of the actual request\n                    entry: remoteEntry\n                }), moduleSnapshot);\n                mSnapshot = moduleSnapshot;\n                gSnapshot = globalSnapshotRes;\n            } else {\n                const { remoteSnapshot: remoteSnapshotRes } = await this.hooks.lifecycle.loadRemoteSnapshot.emit({\n                    options: this.HostInstance.options,\n                    moduleInfo,\n                    remoteSnapshot: globalRemoteSnapshot,\n                    from: 'global'\n                });\n                mSnapshot = remoteSnapshotRes;\n                gSnapshot = globalSnapshotRes;\n            }\n        } else {\n            if (isRemoteInfoWithEntry(moduleInfo)) {\n                // get from manifest.json and merge remote info from remote server\n                const moduleSnapshot = await this.getManifestJson(moduleInfo.entry, moduleInfo, {});\n                // eslint-disable-next-line @typescript-eslint/no-shadow\n                const globalSnapshotRes = setGlobalSnapshotInfoByModuleInfo(moduleInfo, moduleSnapshot);\n                const { remoteSnapshot: remoteSnapshotRes } = await this.hooks.lifecycle.loadRemoteSnapshot.emit({\n                    options: this.HostInstance.options,\n                    moduleInfo,\n                    remoteSnapshot: moduleSnapshot,\n                    from: 'global'\n                });\n                mSnapshot = remoteSnapshotRes;\n                gSnapshot = globalSnapshotRes;\n            } else {\n                error(errorCodes.getShortErrorMsg(errorCodes.RUNTIME_007, errorCodes.runtimeDescMap, {\n                    hostName: moduleInfo.name,\n                    hostVersion: moduleInfo.version,\n                    globalSnapshot: JSON.stringify(globalSnapshotRes)\n                }));\n            }\n        }\n        await this.hooks.lifecycle.afterLoadSnapshot.emit({\n            id,\n            host: this.HostInstance,\n            options,\n            moduleInfo,\n            remoteSnapshot: mSnapshot\n        });\n        return {\n            remoteSnapshot: mSnapshot,\n            globalSnapshot: gSnapshot\n        };\n    }\n    getGlobalRemoteInfo(moduleInfo) {\n        return getGlobalRemoteInfo(moduleInfo, this.HostInstance);\n    }\n    async getManifestJson(manifestUrl, moduleInfo, extraOptions) {\n        const getManifest = async ()=>{\n            let manifestJson = this.manifestCache.get(manifestUrl);\n            if (manifestJson) {\n                return manifestJson;\n            }\n            try {\n                let res = await this.loaderHook.lifecycle.fetch.emit(manifestUrl, {});\n                if (!res || !(res instanceof Response)) {\n                    res = await fetch(manifestUrl, {});\n                }\n                manifestJson = await res.json();\n            } catch (err) {\n                manifestJson = await this.HostInstance.remoteHandler.hooks.lifecycle.errorLoadRemote.emit({\n                    id: manifestUrl,\n                    error: err,\n                    from: 'runtime',\n                    lifecycle: 'afterResolve',\n                    origin: this.HostInstance\n                });\n                if (!manifestJson) {\n                    delete this.manifestLoading[manifestUrl];\n                    error(errorCodes.getShortErrorMsg(errorCodes.RUNTIME_003, errorCodes.runtimeDescMap, {\n                        manifestUrl,\n                        moduleName: moduleInfo.name,\n                        hostName: this.HostInstance.options.name\n                    }, `${err}`));\n                }\n            }\n            assert(manifestJson.metaData && manifestJson.exposes && manifestJson.shared, `${manifestUrl} is not a federation manifest`);\n            this.manifestCache.set(manifestUrl, manifestJson);\n            return manifestJson;\n        };\n        const asyncLoadProcess = async ()=>{\n            const manifestJson = await getManifest();\n            const remoteSnapshot = sdk.generateSnapshotFromManifest(manifestJson, {\n                version: manifestUrl\n            });\n            const { remoteSnapshot: remoteSnapshotRes } = await this.hooks.lifecycle.loadRemoteSnapshot.emit({\n                options: this.HostInstance.options,\n                moduleInfo,\n                manifestJson,\n                remoteSnapshot,\n                manifestUrl,\n                from: 'manifest'\n            });\n            return remoteSnapshotRes;\n        };\n        if (!this.manifestLoading[manifestUrl]) {\n            this.manifestLoading[manifestUrl] = asyncLoadProcess().then((res)=>res);\n        }\n        return this.manifestLoading[manifestUrl];\n    }\n    constructor(HostInstance){\n        this.loadingHostSnapshot = null;\n        this.manifestCache = new Map();\n        this.hooks = new PluginSystem({\n            beforeLoadRemoteSnapshot: new AsyncHook('beforeLoadRemoteSnapshot'),\n            loadSnapshot: new AsyncWaterfallHook('loadGlobalSnapshot'),\n            loadRemoteSnapshot: new AsyncWaterfallHook('loadRemoteSnapshot'),\n            afterLoadSnapshot: new AsyncWaterfallHook('afterLoadSnapshot')\n        });\n        this.manifestLoading = Global.__FEDERATION__.__MANIFEST_LOADING__;\n        this.HostInstance = HostInstance;\n        this.loaderHook = HostInstance.loaderHook;\n    }\n}\n\nclass SharedHandler {\n    // register shared in shareScopeMap\n    registerShared(globalOptions, userOptions) {\n        const { shareInfos, shared } = formatShareConfigs(globalOptions, userOptions);\n        const sharedKeys = Object.keys(shareInfos);\n        sharedKeys.forEach((sharedKey)=>{\n            const sharedVals = shareInfos[sharedKey];\n            sharedVals.forEach((sharedVal)=>{\n                const registeredShared = getRegisteredShare(this.shareScopeMap, sharedKey, sharedVal, this.hooks.lifecycle.resolveShare);\n                if (!registeredShared && sharedVal && sharedVal.lib) {\n                    this.setShared({\n                        pkgName: sharedKey,\n                        lib: sharedVal.lib,\n                        get: sharedVal.get,\n                        loaded: true,\n                        shared: sharedVal,\n                        from: userOptions.name\n                    });\n                }\n            });\n        });\n        return {\n            shareInfos,\n            shared\n        };\n    }\n    async loadShare(pkgName, extraOptions) {\n        const { host } = this;\n        // This function performs the following steps:\n        // 1. Checks if the currently loaded share already exists, if not, it throws an error\n        // 2. Searches globally for a matching share, if found, it uses it directly\n        // 3. If not found, it retrieves it from the current share and stores the obtained share globally.\n        const shareOptions = getTargetSharedOptions({\n            pkgName,\n            extraOptions,\n            shareInfos: host.options.shared\n        });\n        if (shareOptions == null ? void 0 : shareOptions.scope) {\n            await Promise.all(shareOptions.scope.map(async (shareScope)=>{\n                await Promise.all(this.initializeSharing(shareScope, {\n                    strategy: shareOptions.strategy\n                }));\n                return;\n            }));\n        }\n        const loadShareRes = await this.hooks.lifecycle.beforeLoadShare.emit({\n            pkgName,\n            shareInfo: shareOptions,\n            shared: host.options.shared,\n            origin: host\n        });\n        const { shareInfo: shareOptionsRes } = loadShareRes;\n        // Assert that shareInfoRes exists, if not, throw an error\n        assert(shareOptionsRes, `Cannot find ${pkgName} Share in the ${host.options.name}. Please ensure that the ${pkgName} Share parameters have been injected`);\n        // Retrieve from cache\n        const registeredShared = getRegisteredShare(this.shareScopeMap, pkgName, shareOptionsRes, this.hooks.lifecycle.resolveShare);\n        const addUseIn = (shared)=>{\n            if (!shared.useIn) {\n                shared.useIn = [];\n            }\n            addUniqueItem(shared.useIn, host.options.name);\n        };\n        if (registeredShared && registeredShared.lib) {\n            addUseIn(registeredShared);\n            return registeredShared.lib;\n        } else if (registeredShared && registeredShared.loading && !registeredShared.loaded) {\n            const factory = await registeredShared.loading;\n            registeredShared.loaded = true;\n            if (!registeredShared.lib) {\n                registeredShared.lib = factory;\n            }\n            addUseIn(registeredShared);\n            return factory;\n        } else if (registeredShared) {\n            const asyncLoadProcess = async ()=>{\n                const factory = await registeredShared.get();\n                addUseIn(registeredShared);\n                registeredShared.loaded = true;\n                registeredShared.lib = factory;\n                return factory;\n            };\n            const loading = asyncLoadProcess();\n            this.setShared({\n                pkgName,\n                loaded: false,\n                shared: registeredShared,\n                from: host.options.name,\n                lib: null,\n                loading\n            });\n            return loading;\n        } else {\n            if (extraOptions == null ? void 0 : extraOptions.customShareInfo) {\n                return false;\n            }\n            const asyncLoadProcess = async ()=>{\n                const factory = await shareOptionsRes.get();\n                shareOptionsRes.lib = factory;\n                shareOptionsRes.loaded = true;\n                addUseIn(shareOptionsRes);\n                const gShared = getRegisteredShare(this.shareScopeMap, pkgName, shareOptionsRes, this.hooks.lifecycle.resolveShare);\n                if (gShared) {\n                    gShared.lib = factory;\n                    gShared.loaded = true;\n                    gShared.from = shareOptionsRes.from;\n                }\n                return factory;\n            };\n            const loading = asyncLoadProcess();\n            this.setShared({\n                pkgName,\n                loaded: false,\n                shared: shareOptionsRes,\n                from: host.options.name,\n                lib: null,\n                loading\n            });\n            return loading;\n        }\n    }\n    /**\n     * This function initializes the sharing sequence (executed only once per share scope).\n     * It accepts one argument, the name of the share scope.\n     * If the share scope does not exist, it creates one.\n     */ // eslint-disable-next-line @typescript-eslint/member-ordering\n    initializeSharing(shareScopeName = DEFAULT_SCOPE, extraOptions) {\n        const { host } = this;\n        const from = extraOptions == null ? void 0 : extraOptions.from;\n        const strategy = extraOptions == null ? void 0 : extraOptions.strategy;\n        let initScope = extraOptions == null ? void 0 : extraOptions.initScope;\n        const promises = [];\n        if (from !== 'build') {\n            const { initTokens } = this;\n            if (!initScope) initScope = [];\n            let initToken = initTokens[shareScopeName];\n            if (!initToken) initToken = initTokens[shareScopeName] = {\n                from: this.host.name\n            };\n            if (initScope.indexOf(initToken) >= 0) return promises;\n            initScope.push(initToken);\n        }\n        const shareScope = this.shareScopeMap;\n        const hostName = host.options.name;\n        // Creates a new share scope if necessary\n        if (!shareScope[shareScopeName]) {\n            shareScope[shareScopeName] = {};\n        }\n        // Executes all initialization snippets from all accessible modules\n        const scope = shareScope[shareScopeName];\n        const register = (name, shared)=>{\n            var _activeVersion_shareConfig;\n            const { version, eager } = shared;\n            scope[name] = scope[name] || {};\n            const versions = scope[name];\n            const activeVersion = versions[version];\n            const activeVersionEager = Boolean(activeVersion && (activeVersion.eager || ((_activeVersion_shareConfig = activeVersion.shareConfig) == null ? void 0 : _activeVersion_shareConfig.eager)));\n            if (!activeVersion || activeVersion.strategy !== 'loaded-first' && !activeVersion.loaded && (Boolean(!eager) !== !activeVersionEager ? eager : hostName > activeVersion.from)) {\n                versions[version] = shared;\n            }\n        };\n        const initFn = (mod)=>mod && mod.init && mod.init(shareScope[shareScopeName], initScope);\n        const initRemoteModule = async (key)=>{\n            const { module } = await host.remoteHandler.getRemoteModuleAndOptions({\n                id: key\n            });\n            if (module.getEntry) {\n                let remoteEntryExports;\n                try {\n                    remoteEntryExports = await module.getEntry();\n                } catch (error) {\n                    remoteEntryExports = await host.remoteHandler.hooks.lifecycle.errorLoadRemote.emit({\n                        id: key,\n                        error,\n                        from: 'runtime',\n                        lifecycle: 'beforeLoadShare',\n                        origin: host\n                    });\n                }\n                if (!module.inited) {\n                    await initFn(remoteEntryExports);\n                    module.inited = true;\n                }\n            }\n        };\n        Object.keys(host.options.shared).forEach((shareName)=>{\n            const sharedArr = host.options.shared[shareName];\n            sharedArr.forEach((shared)=>{\n                if (shared.scope.includes(shareScopeName)) {\n                    register(shareName, shared);\n                }\n            });\n        });\n        // TODO: strategy==='version-first' need to be removed in the future\n        if (host.options.shareStrategy === 'version-first' || strategy === 'version-first') {\n            host.options.remotes.forEach((remote)=>{\n                if (remote.shareScope === shareScopeName) {\n                    promises.push(initRemoteModule(remote.name));\n                }\n            });\n        }\n        return promises;\n    }\n    // The lib function will only be available if the shared set by eager or runtime init is set or the shared is successfully loaded.\n    // 1. If the loaded shared already exists globally, then it will be reused\n    // 2. If lib exists in local shared, it will be used directly\n    // 3. If the local get returns something other than Promise, then it will be used directly\n    loadShareSync(pkgName, extraOptions) {\n        const { host } = this;\n        const shareOptions = getTargetSharedOptions({\n            pkgName,\n            extraOptions,\n            shareInfos: host.options.shared\n        });\n        if (shareOptions == null ? void 0 : shareOptions.scope) {\n            shareOptions.scope.forEach((shareScope)=>{\n                this.initializeSharing(shareScope, {\n                    strategy: shareOptions.strategy\n                });\n            });\n        }\n        const registeredShared = getRegisteredShare(this.shareScopeMap, pkgName, shareOptions, this.hooks.lifecycle.resolveShare);\n        const addUseIn = (shared)=>{\n            if (!shared.useIn) {\n                shared.useIn = [];\n            }\n            addUniqueItem(shared.useIn, host.options.name);\n        };\n        if (registeredShared) {\n            if (typeof registeredShared.lib === 'function') {\n                addUseIn(registeredShared);\n                if (!registeredShared.loaded) {\n                    registeredShared.loaded = true;\n                    if (registeredShared.from === host.options.name) {\n                        shareOptions.loaded = true;\n                    }\n                }\n                return registeredShared.lib;\n            }\n            if (typeof registeredShared.get === 'function') {\n                const module = registeredShared.get();\n                if (!(module instanceof Promise)) {\n                    addUseIn(registeredShared);\n                    this.setShared({\n                        pkgName,\n                        loaded: true,\n                        from: host.options.name,\n                        lib: module,\n                        shared: registeredShared\n                    });\n                    return module;\n                }\n            }\n        }\n        if (shareOptions.lib) {\n            if (!shareOptions.loaded) {\n                shareOptions.loaded = true;\n            }\n            return shareOptions.lib;\n        }\n        if (shareOptions.get) {\n            const module = shareOptions.get();\n            if (module instanceof Promise) {\n                const errorCode = (extraOptions == null ? void 0 : extraOptions.from) === 'build' ? errorCodes.RUNTIME_005 : errorCodes.RUNTIME_006;\n                throw new Error(errorCodes.getShortErrorMsg(errorCode, errorCodes.runtimeDescMap, {\n                    hostName: host.options.name,\n                    sharedPkgName: pkgName\n                }));\n            }\n            shareOptions.lib = module;\n            this.setShared({\n                pkgName,\n                loaded: true,\n                from: host.options.name,\n                lib: shareOptions.lib,\n                shared: shareOptions\n            });\n            return shareOptions.lib;\n        }\n        throw new Error(errorCodes.getShortErrorMsg(errorCodes.RUNTIME_006, errorCodes.runtimeDescMap, {\n            hostName: host.options.name,\n            sharedPkgName: pkgName\n        }));\n    }\n    initShareScopeMap(scopeName, shareScope, extraOptions = {}) {\n        const { host } = this;\n        this.shareScopeMap[scopeName] = shareScope;\n        this.hooks.lifecycle.initContainerShareScopeMap.emit({\n            shareScope,\n            options: host.options,\n            origin: host,\n            scopeName,\n            hostShareScopeMap: extraOptions.hostShareScopeMap\n        });\n    }\n    setShared({ pkgName, shared, from, lib, loading, loaded, get }) {\n        const { version, scope = 'default' } = shared, shareInfo = polyfills._object_without_properties_loose(shared, [\n            \"version\",\n            \"scope\"\n        ]);\n        const scopes = Array.isArray(scope) ? scope : [\n            scope\n        ];\n        scopes.forEach((sc)=>{\n            if (!this.shareScopeMap[sc]) {\n                this.shareScopeMap[sc] = {};\n            }\n            if (!this.shareScopeMap[sc][pkgName]) {\n                this.shareScopeMap[sc][pkgName] = {};\n            }\n            if (!this.shareScopeMap[sc][pkgName][version]) {\n                this.shareScopeMap[sc][pkgName][version] = polyfills._extends({\n                    version,\n                    scope: [\n                        'default'\n                    ]\n                }, shareInfo, {\n                    lib,\n                    loaded,\n                    loading\n                });\n                if (get) {\n                    this.shareScopeMap[sc][pkgName][version].get = get;\n                }\n                return;\n            }\n            const registeredShared = this.shareScopeMap[sc][pkgName][version];\n            if (loading && !registeredShared.loading) {\n                registeredShared.loading = loading;\n            }\n            if (loaded && !registeredShared.loaded) {\n                registeredShared.loaded = loaded;\n            }\n            if (from && registeredShared.from !== from) {\n                registeredShared.from = from;\n            }\n        });\n    }\n    _setGlobalShareScopeMap(hostOptions) {\n        const globalShareScopeMap = getGlobalShareScope();\n        const identifier = hostOptions.id || hostOptions.name;\n        if (identifier && !globalShareScopeMap[identifier]) {\n            globalShareScopeMap[identifier] = this.shareScopeMap;\n        }\n    }\n    constructor(host){\n        this.hooks = new PluginSystem({\n            afterResolve: new AsyncWaterfallHook('afterResolve'),\n            beforeLoadShare: new AsyncWaterfallHook('beforeLoadShare'),\n            // not used yet\n            loadShare: new AsyncHook(),\n            resolveShare: new SyncWaterfallHook('resolveShare'),\n            // maybe will change, temporarily for internal use only\n            initContainerShareScopeMap: new SyncWaterfallHook('initContainerShareScopeMap')\n        });\n        this.host = host;\n        this.shareScopeMap = {};\n        this.initTokens = {};\n        this._setGlobalShareScopeMap(host.options);\n    }\n}\n\nclass RemoteHandler {\n    formatAndRegisterRemote(globalOptions, userOptions) {\n        const userRemotes = userOptions.remotes || [];\n        return userRemotes.reduce((res, remote)=>{\n            this.registerRemote(remote, res, {\n                force: false\n            });\n            return res;\n        }, globalOptions.remotes);\n    }\n    setIdToRemoteMap(id, remoteMatchInfo) {\n        const { remote, expose } = remoteMatchInfo;\n        const { name, alias } = remote;\n        this.idToRemoteMap[id] = {\n            name: remote.name,\n            expose\n        };\n        if (alias && id.startsWith(name)) {\n            const idWithAlias = id.replace(name, alias);\n            this.idToRemoteMap[idWithAlias] = {\n                name: remote.name,\n                expose\n            };\n            return;\n        }\n        if (alias && id.startsWith(alias)) {\n            const idWithName = id.replace(alias, name);\n            this.idToRemoteMap[idWithName] = {\n                name: remote.name,\n                expose\n            };\n        }\n    }\n    // eslint-disable-next-line max-lines-per-function\n    // eslint-disable-next-line @typescript-eslint/member-ordering\n    async loadRemote(id, options) {\n        const { host } = this;\n        try {\n            const { loadFactory = true } = options || {\n                loadFactory: true\n            };\n            // 1. Validate the parameters of the retrieved module. There are two module request methods: pkgName + expose and alias + expose.\n            // 2. Request the snapshot information of the current host and globally store the obtained snapshot information. The retrieved module information is partially offline and partially online. The online module information will retrieve the modules used online.\n            // 3. Retrieve the detailed information of the current module from global (remoteEntry address, expose resource address)\n            // 4. After retrieving remoteEntry, call the init of the module, and then retrieve the exported content of the module through get\n            // id: pkgName(@federation/app1) + expose(button) = @federation/app1/button\n            // id: alias(app1) + expose(button) = app1/button\n            // id: alias(app1/utils) + expose(loadash/sort) = app1/utils/loadash/sort\n            const { module, moduleOptions, remoteMatchInfo } = await this.getRemoteModuleAndOptions({\n                id\n            });\n            const { pkgNameOrAlias, remote, expose, id: idRes, remoteSnapshot } = remoteMatchInfo;\n            const moduleOrFactory = await module.get(idRes, expose, options, remoteSnapshot);\n            const moduleWrapper = await this.hooks.lifecycle.onLoad.emit({\n                id: idRes,\n                pkgNameOrAlias,\n                expose,\n                exposeModule: loadFactory ? moduleOrFactory : undefined,\n                exposeModuleFactory: loadFactory ? undefined : moduleOrFactory,\n                remote,\n                options: moduleOptions,\n                moduleInstance: module,\n                origin: host\n            });\n            this.setIdToRemoteMap(id, remoteMatchInfo);\n            if (typeof moduleWrapper === 'function') {\n                return moduleWrapper;\n            }\n            return moduleOrFactory;\n        } catch (error) {\n            const { from = 'runtime' } = options || {\n                from: 'runtime'\n            };\n            const failOver = await this.hooks.lifecycle.errorLoadRemote.emit({\n                id,\n                error,\n                from,\n                lifecycle: 'onLoad',\n                origin: host\n            });\n            if (!failOver) {\n                throw error;\n            }\n            return failOver;\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/member-ordering\n    async preloadRemote(preloadOptions) {\n        const { host } = this;\n        await this.hooks.lifecycle.beforePreloadRemote.emit({\n            preloadOps: preloadOptions,\n            options: host.options,\n            origin: host\n        });\n        const preloadOps = formatPreloadArgs(host.options.remotes, preloadOptions);\n        await Promise.all(preloadOps.map(async (ops)=>{\n            const { remote } = ops;\n            const remoteInfo = getRemoteInfo(remote);\n            const { globalSnapshot, remoteSnapshot } = await host.snapshotHandler.loadRemoteSnapshotInfo({\n                moduleInfo: remote\n            });\n            const assets = await this.hooks.lifecycle.generatePreloadAssets.emit({\n                origin: host,\n                preloadOptions: ops,\n                remote,\n                remoteInfo,\n                globalSnapshot,\n                remoteSnapshot\n            });\n            if (!assets) {\n                return;\n            }\n            preloadAssets(remoteInfo, host, assets);\n        }));\n    }\n    registerRemotes(remotes, options) {\n        const { host } = this;\n        remotes.forEach((remote)=>{\n            this.registerRemote(remote, host.options.remotes, {\n                force: options == null ? void 0 : options.force\n            });\n        });\n    }\n    async getRemoteModuleAndOptions(options) {\n        const { host } = this;\n        const { id } = options;\n        let loadRemoteArgs;\n        try {\n            loadRemoteArgs = await this.hooks.lifecycle.beforeRequest.emit({\n                id,\n                options: host.options,\n                origin: host\n            });\n        } catch (error) {\n            loadRemoteArgs = await this.hooks.lifecycle.errorLoadRemote.emit({\n                id,\n                options: host.options,\n                origin: host,\n                from: 'runtime',\n                error,\n                lifecycle: 'beforeRequest'\n            });\n            if (!loadRemoteArgs) {\n                throw error;\n            }\n        }\n        const { id: idRes } = loadRemoteArgs;\n        const remoteSplitInfo = matchRemoteWithNameAndExpose(host.options.remotes, idRes);\n        assert(remoteSplitInfo, errorCodes.getShortErrorMsg(errorCodes.RUNTIME_004, errorCodes.runtimeDescMap, {\n            hostName: host.options.name,\n            requestId: idRes\n        }));\n        const { remote: rawRemote } = remoteSplitInfo;\n        const remoteInfo = getRemoteInfo(rawRemote);\n        const matchInfo = await host.sharedHandler.hooks.lifecycle.afterResolve.emit(polyfills._extends({\n            id: idRes\n        }, remoteSplitInfo, {\n            options: host.options,\n            origin: host,\n            remoteInfo\n        }));\n        const { remote, expose } = matchInfo;\n        assert(remote && expose, `The 'beforeRequest' hook was executed, but it failed to return the correct 'remote' and 'expose' values while loading ${idRes}.`);\n        let module = host.moduleCache.get(remote.name);\n        const moduleOptions = {\n            host: host,\n            remoteInfo\n        };\n        if (!module) {\n            module = new Module(moduleOptions);\n            host.moduleCache.set(remote.name, module);\n        }\n        return {\n            module,\n            moduleOptions,\n            remoteMatchInfo: matchInfo\n        };\n    }\n    registerRemote(remote, targetRemotes, options) {\n        const { host } = this;\n        const normalizeRemote = ()=>{\n            if (remote.alias) {\n                // Validate if alias equals the prefix of remote.name and remote.alias, if so, throw an error\n                // As multi-level path references cannot guarantee unique names, alias being a prefix of remote.name is not supported\n                const findEqual = targetRemotes.find((item)=>{\n                    var _item_alias;\n                    return remote.alias && (item.name.startsWith(remote.alias) || ((_item_alias = item.alias) == null ? void 0 : _item_alias.startsWith(remote.alias)));\n                });\n                assert(!findEqual, `The alias ${remote.alias} of remote ${remote.name} is not allowed to be the prefix of ${findEqual && findEqual.name} name or alias`);\n            }\n            // Set the remote entry to a complete path\n            if ('entry' in remote) {\n                if (sdk.isBrowserEnv() && !remote.entry.startsWith('http')) {\n                    remote.entry = new URL(remote.entry, window.location.origin).href;\n                }\n            }\n            if (!remote.shareScope) {\n                remote.shareScope = DEFAULT_SCOPE;\n            }\n            if (!remote.type) {\n                remote.type = DEFAULT_REMOTE_TYPE;\n            }\n        };\n        this.hooks.lifecycle.beforeRegisterRemote.emit({\n            remote,\n            origin: host\n        });\n        const registeredRemote = targetRemotes.find((item)=>item.name === remote.name);\n        if (!registeredRemote) {\n            normalizeRemote();\n            targetRemotes.push(remote);\n            this.hooks.lifecycle.registerRemote.emit({\n                remote,\n                origin: host\n            });\n        } else {\n            const messages = [\n                `The remote \"${remote.name}\" is already registered.`,\n                'Please note that overriding it may cause unexpected errors.'\n            ];\n            if (options == null ? void 0 : options.force) {\n                // remove registered remote\n                this.removeRemote(registeredRemote);\n                normalizeRemote();\n                targetRemotes.push(remote);\n                this.hooks.lifecycle.registerRemote.emit({\n                    remote,\n                    origin: host\n                });\n                sdk.warn(messages.join(' '));\n            }\n        }\n    }\n    removeRemote(remote) {\n        try {\n            const { host } = this;\n            const { name } = remote;\n            const remoteIndex = host.options.remotes.findIndex((item)=>item.name === name);\n            if (remoteIndex !== -1) {\n                host.options.remotes.splice(remoteIndex, 1);\n            }\n            const loadedModule = host.moduleCache.get(remote.name);\n            if (loadedModule) {\n                const remoteInfo = loadedModule.remoteInfo;\n                const key = remoteInfo.entryGlobalName;\n                if (CurrentGlobal[key]) {\n                    var _Object_getOwnPropertyDescriptor;\n                    if ((_Object_getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor(CurrentGlobal, key)) == null ? void 0 : _Object_getOwnPropertyDescriptor.configurable) {\n                        delete CurrentGlobal[key];\n                    } else {\n                        // @ts-ignore\n                        CurrentGlobal[key] = undefined;\n                    }\n                }\n                const remoteEntryUniqueKey = getRemoteEntryUniqueKey(loadedModule.remoteInfo);\n                if (globalLoading[remoteEntryUniqueKey]) {\n                    delete globalLoading[remoteEntryUniqueKey];\n                }\n                host.snapshotHandler.manifestCache.delete(remoteInfo.entry);\n                // delete unloaded shared and instance\n                let remoteInsId = remoteInfo.buildVersion ? sdk.composeKeyWithSeparator(remoteInfo.name, remoteInfo.buildVersion) : remoteInfo.name;\n                const remoteInsIndex = CurrentGlobal.__FEDERATION__.__INSTANCES__.findIndex((ins)=>{\n                    if (remoteInfo.buildVersion) {\n                        return ins.options.id === remoteInsId;\n                    } else {\n                        return ins.name === remoteInsId;\n                    }\n                });\n                if (remoteInsIndex !== -1) {\n                    const remoteIns = CurrentGlobal.__FEDERATION__.__INSTANCES__[remoteInsIndex];\n                    remoteInsId = remoteIns.options.id || remoteInsId;\n                    const globalShareScopeMap = getGlobalShareScope();\n                    let isAllSharedNotUsed = true;\n                    const needDeleteKeys = [];\n                    Object.keys(globalShareScopeMap).forEach((instId)=>{\n                        const shareScopeMap = globalShareScopeMap[instId];\n                        shareScopeMap && Object.keys(shareScopeMap).forEach((shareScope)=>{\n                            const shareScopeVal = shareScopeMap[shareScope];\n                            shareScopeVal && Object.keys(shareScopeVal).forEach((shareName)=>{\n                                const sharedPkgs = shareScopeVal[shareName];\n                                sharedPkgs && Object.keys(sharedPkgs).forEach((shareVersion)=>{\n                                    const shared = sharedPkgs[shareVersion];\n                                    if (shared && typeof shared === 'object' && shared.from === remoteInfo.name) {\n                                        if (shared.loaded || shared.loading) {\n                                            shared.useIn = shared.useIn.filter((usedHostName)=>usedHostName !== remoteInfo.name);\n                                            if (shared.useIn.length) {\n                                                isAllSharedNotUsed = false;\n                                            } else {\n                                                needDeleteKeys.push([\n                                                    instId,\n                                                    shareScope,\n                                                    shareName,\n                                                    shareVersion\n                                                ]);\n                                            }\n                                        } else {\n                                            needDeleteKeys.push([\n                                                instId,\n                                                shareScope,\n                                                shareName,\n                                                shareVersion\n                                            ]);\n                                        }\n                                    }\n                                });\n                            });\n                        });\n                    });\n                    if (isAllSharedNotUsed) {\n                        remoteIns.shareScopeMap = {};\n                        delete globalShareScopeMap[remoteInsId];\n                    }\n                    needDeleteKeys.forEach(([insId, shareScope, shareName, shareVersion])=>{\n                        var _globalShareScopeMap_insId_shareScope_shareName, _globalShareScopeMap_insId_shareScope, _globalShareScopeMap_insId;\n                        (_globalShareScopeMap_insId = globalShareScopeMap[insId]) == null ? true : (_globalShareScopeMap_insId_shareScope = _globalShareScopeMap_insId[shareScope]) == null ? true : (_globalShareScopeMap_insId_shareScope_shareName = _globalShareScopeMap_insId_shareScope[shareName]) == null ? true : delete _globalShareScopeMap_insId_shareScope_shareName[shareVersion];\n                    });\n                    CurrentGlobal.__FEDERATION__.__INSTANCES__.splice(remoteInsIndex, 1);\n                }\n                const { hostGlobalSnapshot } = getGlobalRemoteInfo(remote, host);\n                if (hostGlobalSnapshot) {\n                    const remoteKey = hostGlobalSnapshot && 'remotesInfo' in hostGlobalSnapshot && hostGlobalSnapshot.remotesInfo && getInfoWithoutType(hostGlobalSnapshot.remotesInfo, remote.name).key;\n                    if (remoteKey) {\n                        delete hostGlobalSnapshot.remotesInfo[remoteKey];\n                        if (//eslint-disable-next-line no-extra-boolean-cast\n                        Boolean(Global.__FEDERATION__.__MANIFEST_LOADING__[remoteKey])) {\n                            delete Global.__FEDERATION__.__MANIFEST_LOADING__[remoteKey];\n                        }\n                    }\n                }\n                host.moduleCache.delete(remote.name);\n            }\n        } catch (err) {\n            logger.log('removeRemote fail: ', err);\n        }\n    }\n    constructor(host){\n        this.hooks = new PluginSystem({\n            beforeRegisterRemote: new SyncWaterfallHook('beforeRegisterRemote'),\n            registerRemote: new SyncWaterfallHook('registerRemote'),\n            beforeRequest: new AsyncWaterfallHook('beforeRequest'),\n            onLoad: new AsyncHook('onLoad'),\n            handlePreloadModule: new SyncHook('handlePreloadModule'),\n            errorLoadRemote: new AsyncHook('errorLoadRemote'),\n            beforePreloadRemote: new AsyncHook('beforePreloadRemote'),\n            generatePreloadAssets: new AsyncHook('generatePreloadAssets'),\n            // not used yet\n            afterPreloadRemote: new AsyncHook(),\n            loadEntry: new AsyncHook()\n        });\n        this.host = host;\n        this.idToRemoteMap = {};\n    }\n}\n\nconst USE_SNAPSHOT = typeof FEDERATION_OPTIMIZE_NO_SNAPSHOT_PLUGIN === 'boolean' ? !FEDERATION_OPTIMIZE_NO_SNAPSHOT_PLUGIN : true; // Default to true (use snapshot) when not explicitly defined\nclass ModuleFederation {\n    initOptions(userOptions) {\n        this.registerPlugins(userOptions.plugins);\n        const options = this.formatOptions(this.options, userOptions);\n        this.options = options;\n        return options;\n    }\n    async loadShare(pkgName, extraOptions) {\n        return this.sharedHandler.loadShare(pkgName, extraOptions);\n    }\n    // The lib function will only be available if the shared set by eager or runtime init is set or the shared is successfully loaded.\n    // 1. If the loaded shared already exists globally, then it will be reused\n    // 2. If lib exists in local shared, it will be used directly\n    // 3. If the local get returns something other than Promise, then it will be used directly\n    loadShareSync(pkgName, extraOptions) {\n        return this.sharedHandler.loadShareSync(pkgName, extraOptions);\n    }\n    initializeSharing(shareScopeName = DEFAULT_SCOPE, extraOptions) {\n        return this.sharedHandler.initializeSharing(shareScopeName, extraOptions);\n    }\n    initRawContainer(name, url, container) {\n        const remoteInfo = getRemoteInfo({\n            name,\n            entry: url\n        });\n        const module = new Module({\n            host: this,\n            remoteInfo\n        });\n        module.remoteEntryExports = container;\n        this.moduleCache.set(name, module);\n        return module;\n    }\n    // eslint-disable-next-line max-lines-per-function\n    // eslint-disable-next-line @typescript-eslint/member-ordering\n    async loadRemote(id, options) {\n        return this.remoteHandler.loadRemote(id, options);\n    }\n    // eslint-disable-next-line @typescript-eslint/member-ordering\n    async preloadRemote(preloadOptions) {\n        return this.remoteHandler.preloadRemote(preloadOptions);\n    }\n    initShareScopeMap(scopeName, shareScope, extraOptions = {}) {\n        this.sharedHandler.initShareScopeMap(scopeName, shareScope, extraOptions);\n    }\n    formatOptions(globalOptions, userOptions) {\n        const { shared } = formatShareConfigs(globalOptions, userOptions);\n        const { userOptions: userOptionsRes, options: globalOptionsRes } = this.hooks.lifecycle.beforeInit.emit({\n            origin: this,\n            userOptions,\n            options: globalOptions,\n            shareInfo: shared\n        });\n        const remotes = this.remoteHandler.formatAndRegisterRemote(globalOptionsRes, userOptionsRes);\n        const { shared: handledShared } = this.sharedHandler.registerShared(globalOptionsRes, userOptionsRes);\n        const plugins = [\n            ...globalOptionsRes.plugins\n        ];\n        if (userOptionsRes.plugins) {\n            userOptionsRes.plugins.forEach((plugin)=>{\n                if (!plugins.includes(plugin)) {\n                    plugins.push(plugin);\n                }\n            });\n        }\n        const optionsRes = polyfills._extends({}, globalOptions, userOptions, {\n            plugins,\n            remotes,\n            shared: handledShared\n        });\n        this.hooks.lifecycle.init.emit({\n            origin: this,\n            options: optionsRes\n        });\n        return optionsRes;\n    }\n    registerPlugins(plugins) {\n        const pluginRes = registerPlugins(plugins, this);\n        // Merge plugin\n        this.options.plugins = this.options.plugins.reduce((res, plugin)=>{\n            if (!plugin) return res;\n            if (res && !res.find((item)=>item.name === plugin.name)) {\n                res.push(plugin);\n            }\n            return res;\n        }, pluginRes || []);\n    }\n    registerRemotes(remotes, options) {\n        return this.remoteHandler.registerRemotes(remotes, options);\n    }\n    registerShared(shared) {\n        this.sharedHandler.registerShared(this.options, polyfills._extends({}, this.options, {\n            shared\n        }));\n    }\n    constructor(userOptions){\n        this.hooks = new PluginSystem({\n            beforeInit: new SyncWaterfallHook('beforeInit'),\n            init: new SyncHook(),\n            // maybe will change, temporarily for internal use only\n            beforeInitContainer: new AsyncWaterfallHook('beforeInitContainer'),\n            // maybe will change, temporarily for internal use only\n            initContainer: new AsyncWaterfallHook('initContainer')\n        });\n        this.version = \"0.19.1\";\n        this.moduleCache = new Map();\n        this.loaderHook = new PluginSystem({\n            // FIXME: may not be suitable , not open to the public yet\n            getModuleInfo: new SyncHook(),\n            createScript: new SyncHook(),\n            createLink: new SyncHook(),\n            fetch: new AsyncHook(),\n            loadEntryError: new AsyncHook(),\n            getModuleFactory: new AsyncHook()\n        });\n        this.bridgeHook = new PluginSystem({\n            beforeBridgeRender: new SyncHook(),\n            afterBridgeRender: new SyncHook(),\n            beforeBridgeDestroy: new SyncHook(),\n            afterBridgeDestroy: new SyncHook()\n        });\n        const plugins = USE_SNAPSHOT ? [\n            snapshotPlugin(),\n            generatePreloadAssetsPlugin()\n        ] : [];\n        // TODO: Validate the details of the options\n        // Initialize options with default values\n        const defaultOptions = {\n            id: getBuilderId(),\n            name: userOptions.name,\n            plugins,\n            remotes: [],\n            shared: {},\n            inBrowser: sdk.isBrowserEnv()\n        };\n        this.name = userOptions.name;\n        this.options = defaultOptions;\n        this.snapshotHandler = new SnapshotHandler(this);\n        this.sharedHandler = new SharedHandler(this);\n        this.remoteHandler = new RemoteHandler(this);\n        this.shareScopeMap = this.sharedHandler.shareScopeMap;\n        this.registerPlugins([\n            ...defaultOptions.plugins,\n            ...userOptions.plugins || []\n        ]);\n        this.options = this.formatOptions(defaultOptions, userOptions);\n    }\n}\n\nvar index = /*#__PURE__*/Object.freeze({\n    __proto__: null\n});\n\nexports.loadScript = sdk.loadScript;\nexports.loadScriptNode = sdk.loadScriptNode;\nexports.CurrentGlobal = CurrentGlobal;\nexports.Global = Global;\nexports.Module = Module;\nexports.ModuleFederation = ModuleFederation;\nexports.addGlobalSnapshot = addGlobalSnapshot;\nexports.assert = assert;\nexports.getGlobalFederationConstructor = getGlobalFederationConstructor;\nexports.getGlobalSnapshot = getGlobalSnapshot;\nexports.getInfoWithoutType = getInfoWithoutType;\nexports.getRegisteredShare = getRegisteredShare;\nexports.getRemoteEntry = getRemoteEntry;\nexports.getRemoteInfo = getRemoteInfo;\nexports.helpers = helpers;\nexports.isStaticResourcesEqual = isStaticResourcesEqual;\nexports.matchRemoteWithNameAndExpose = matchRemoteWithNameAndExpose;\nexports.registerGlobalPlugins = registerGlobalPlugins;\nexports.resetFederationGlobalInfo = resetFederationGlobalInfo;\nexports.safeWrapper = safeWrapper;\nexports.satisfy = satisfy;\nexports.setGlobalFederationConstructor = setGlobalFederationConstructor;\nexports.setGlobalFederationInstance = setGlobalFederationInstance;\nexports.types = index;\n//# sourceMappingURL=index.cjs.cjs.map\n","'use strict';\n\nfunction _extends() {\n    _extends = Object.assign || function assign(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    };\n    return _extends.apply(this, arguments);\n}\n\nfunction _object_without_properties_loose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n    for(i = 0; i < sourceKeys.length; i++){\n        key = sourceKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        target[key] = source[key];\n    }\n    return target;\n}\n\nexports._extends = _extends;\nexports._object_without_properties_loose = _object_without_properties_loose;\n//# sourceMappingURL=polyfills.cjs.cjs.map\n","'use strict';\n\nvar runtimeCore = require('@module-federation/runtime-core');\nvar errorCodes = require('@module-federation/error-codes');\nvar utils = require('./utils.cjs.cjs');\n\nfunction createInstance(options) {\n    // Retrieve debug constructor\n    const ModuleFederationConstructor = runtimeCore.getGlobalFederationConstructor() || runtimeCore.ModuleFederation;\n    const instance = new ModuleFederationConstructor(options);\n    runtimeCore.setGlobalFederationInstance(instance);\n    return instance;\n}\nlet FederationInstance = null;\n/**\n * @deprecated Use createInstance or getInstance instead\n */ function init(options) {\n    // Retrieve the same instance with the same name\n    const instance = utils.getGlobalFederationInstance(options.name, options.version);\n    if (!instance) {\n        FederationInstance = createInstance(options);\n        return FederationInstance;\n    } else {\n        // Merge options\n        instance.initOptions(options);\n        if (!FederationInstance) {\n            FederationInstance = instance;\n        }\n        return instance;\n    }\n}\nfunction loadRemote(...args) {\n    runtimeCore.assert(FederationInstance, errorCodes.getShortErrorMsg(errorCodes.RUNTIME_009, errorCodes.runtimeDescMap));\n    const loadRemote1 = FederationInstance.loadRemote;\n    // eslint-disable-next-line prefer-spread\n    return loadRemote1.apply(FederationInstance, args);\n}\nfunction loadShare(...args) {\n    runtimeCore.assert(FederationInstance, errorCodes.getShortErrorMsg(errorCodes.RUNTIME_009, errorCodes.runtimeDescMap));\n    // eslint-disable-next-line prefer-spread\n    const loadShare1 = FederationInstance.loadShare;\n    return loadShare1.apply(FederationInstance, args);\n}\nfunction loadShareSync(...args) {\n    runtimeCore.assert(FederationInstance, errorCodes.getShortErrorMsg(errorCodes.RUNTIME_009, errorCodes.runtimeDescMap));\n    const loadShareSync1 = FederationInstance.loadShareSync;\n    // eslint-disable-next-line prefer-spread\n    return loadShareSync1.apply(FederationInstance, args);\n}\nfunction preloadRemote(...args) {\n    runtimeCore.assert(FederationInstance, errorCodes.getShortErrorMsg(errorCodes.RUNTIME_009, errorCodes.runtimeDescMap));\n    // eslint-disable-next-line prefer-spread\n    return FederationInstance.preloadRemote.apply(FederationInstance, args);\n}\nfunction registerRemotes(...args) {\n    runtimeCore.assert(FederationInstance, errorCodes.getShortErrorMsg(errorCodes.RUNTIME_009, errorCodes.runtimeDescMap));\n    // eslint-disable-next-line prefer-spread\n    return FederationInstance.registerRemotes.apply(FederationInstance, args);\n}\nfunction registerPlugins(...args) {\n    runtimeCore.assert(FederationInstance, errorCodes.getShortErrorMsg(errorCodes.RUNTIME_009, errorCodes.runtimeDescMap));\n    // eslint-disable-next-line prefer-spread\n    return FederationInstance.registerPlugins.apply(FederationInstance, args);\n}\nfunction getInstance() {\n    return FederationInstance;\n}\nfunction registerShared(...args) {\n    runtimeCore.assert(FederationInstance, errorCodes.getShortErrorMsg(errorCodes.RUNTIME_009, errorCodes.runtimeDescMap));\n    // eslint-disable-next-line prefer-spread\n    return FederationInstance.registerShared.apply(FederationInstance, args);\n}\n// Inject for debug\nruntimeCore.setGlobalFederationConstructor(runtimeCore.ModuleFederation);\n\nexports.Module = runtimeCore.Module;\nexports.ModuleFederation = runtimeCore.ModuleFederation;\nexports.getRemoteEntry = runtimeCore.getRemoteEntry;\nexports.getRemoteInfo = runtimeCore.getRemoteInfo;\nexports.loadScript = runtimeCore.loadScript;\nexports.loadScriptNode = runtimeCore.loadScriptNode;\nexports.registerGlobalPlugins = runtimeCore.registerGlobalPlugins;\nexports.createInstance = createInstance;\nexports.getInstance = getInstance;\nexports.init = init;\nexports.loadRemote = loadRemote;\nexports.loadShare = loadShare;\nexports.loadShareSync = loadShareSync;\nexports.preloadRemote = preloadRemote;\nexports.registerPlugins = registerPlugins;\nexports.registerRemotes = registerRemotes;\nexports.registerShared = registerShared;\n//# sourceMappingURL=index.cjs.cjs.map\n","'use strict';\n\nvar runtimeCore = require('@module-federation/runtime-core');\n\n// injected by bundler, so it can not use runtime-core stuff\nfunction getBuilderId() {\n    //@ts-ignore\n    return typeof FEDERATION_BUILD_IDENTIFIER !== 'undefined' ? FEDERATION_BUILD_IDENTIFIER : '';\n}\nfunction getGlobalFederationInstance(name, version) {\n    const buildId = getBuilderId();\n    return runtimeCore.CurrentGlobal.__FEDERATION__.__INSTANCES__.find((GMInstance)=>{\n        if (buildId && GMInstance.options.id === buildId) {\n            return true;\n        }\n        if (GMInstance.options.name === name && !GMInstance.options.version && !version) {\n            return true;\n        }\n        if (GMInstance.options.name === name && version && GMInstance.options.version === version) {\n            return true;\n        }\n        return false;\n    });\n}\n\nexports.getGlobalFederationInstance = getGlobalFederationInstance;\n//# sourceMappingURL=utils.cjs.cjs.map\n","'use strict';\n\nvar polyfills = require('./polyfills.cjs.cjs');\n\nconst FederationModuleManifest = 'federation-manifest.json';\nconst MANIFEST_EXT = '.json';\nconst BROWSER_LOG_KEY = 'FEDERATION_DEBUG';\nconst NameTransformSymbol = {\n    AT: '@',\n    HYPHEN: '-',\n    SLASH: '/'\n};\nconst NameTransformMap = {\n    [NameTransformSymbol.AT]: 'scope_',\n    [NameTransformSymbol.HYPHEN]: '_',\n    [NameTransformSymbol.SLASH]: '__'\n};\nconst EncodedNameTransformMap = {\n    [NameTransformMap[NameTransformSymbol.AT]]: NameTransformSymbol.AT,\n    [NameTransformMap[NameTransformSymbol.HYPHEN]]: NameTransformSymbol.HYPHEN,\n    [NameTransformMap[NameTransformSymbol.SLASH]]: NameTransformSymbol.SLASH\n};\nconst SEPARATOR = ':';\nconst ManifestFileName = 'mf-manifest.json';\nconst StatsFileName = 'mf-stats.json';\nconst MFModuleType = {\n    NPM: 'npm',\n    APP: 'app'\n};\nconst MODULE_DEVTOOL_IDENTIFIER = '__MF_DEVTOOLS_MODULE_INFO__';\nconst ENCODE_NAME_PREFIX = 'ENCODE_NAME_PREFIX';\nconst TEMP_DIR = '.federation';\nconst MFPrefetchCommon = {\n    identifier: 'MFDataPrefetch',\n    globalKey: '__PREFETCH__',\n    library: 'mf-data-prefetch',\n    exportsKey: '__PREFETCH_EXPORTS__',\n    fileName: 'bootstrap.js'\n};\n\nvar ContainerPlugin = /*#__PURE__*/Object.freeze({\n    __proto__: null\n});\n\nvar ContainerReferencePlugin = /*#__PURE__*/Object.freeze({\n    __proto__: null\n});\n\nvar ModuleFederationPlugin = /*#__PURE__*/Object.freeze({\n    __proto__: null\n});\n\nvar SharePlugin = /*#__PURE__*/Object.freeze({\n    __proto__: null\n});\n\nfunction isBrowserEnv() {\n    return typeof window !== 'undefined' && typeof window.document !== 'undefined';\n}\nfunction isReactNativeEnv() {\n    var _navigator;\n    return typeof navigator !== 'undefined' && ((_navigator = navigator) == null ? void 0 : _navigator.product) === 'ReactNative';\n}\nfunction isBrowserDebug() {\n    try {\n        if (isBrowserEnv() && window.localStorage) {\n            return Boolean(localStorage.getItem(BROWSER_LOG_KEY));\n        }\n    } catch (error) {\n        return false;\n    }\n    return false;\n}\nfunction isDebugMode() {\n    if (typeof process !== 'undefined' && process.env && process.env['FEDERATION_DEBUG']) {\n        return Boolean(process.env['FEDERATION_DEBUG']);\n    }\n    if (typeof FEDERATION_DEBUG !== 'undefined' && Boolean(FEDERATION_DEBUG)) {\n        return true;\n    }\n    return isBrowserDebug();\n}\nconst getProcessEnv = function() {\n    return typeof process !== 'undefined' && process.env ? process.env : {};\n};\n\nconst LOG_CATEGORY = '[ Federation Runtime ]';\n// entry: name:version   version : 1.0.0 | ^1.2.3\n// entry: name:entry  entry:  https://localhost:9000/federation-manifest.json\nconst parseEntry = (str, devVerOrUrl, separator = SEPARATOR)=>{\n    const strSplit = str.split(separator);\n    const devVersionOrUrl = getProcessEnv()['NODE_ENV'] === 'development' && devVerOrUrl;\n    const defaultVersion = '*';\n    const isEntry = (s)=>s.startsWith('http') || s.includes(MANIFEST_EXT);\n    // Check if the string starts with a type\n    if (strSplit.length >= 2) {\n        let [name, ...versionOrEntryArr] = strSplit;\n        // @name@manifest-url.json\n        if (str.startsWith(separator)) {\n            name = strSplit.slice(0, 2).join(separator);\n            versionOrEntryArr = [\n                devVersionOrUrl || strSplit.slice(2).join(separator)\n            ];\n        }\n        let versionOrEntry = devVersionOrUrl || versionOrEntryArr.join(separator);\n        if (isEntry(versionOrEntry)) {\n            return {\n                name,\n                entry: versionOrEntry\n            };\n        } else {\n            // Apply version rule\n            // devVersionOrUrl => inputVersion => defaultVersion\n            return {\n                name,\n                version: versionOrEntry || defaultVersion\n            };\n        }\n    } else if (strSplit.length === 1) {\n        const [name] = strSplit;\n        if (devVersionOrUrl && isEntry(devVersionOrUrl)) {\n            return {\n                name,\n                entry: devVersionOrUrl\n            };\n        }\n        return {\n            name,\n            version: devVersionOrUrl || defaultVersion\n        };\n    } else {\n        throw `Invalid entry value: ${str}`;\n    }\n};\nconst composeKeyWithSeparator = function(...args) {\n    if (!args.length) {\n        return '';\n    }\n    return args.reduce((sum, cur)=>{\n        if (!cur) {\n            return sum;\n        }\n        if (!sum) {\n            return cur;\n        }\n        return `${sum}${SEPARATOR}${cur}`;\n    }, '');\n};\nconst encodeName = function(name, prefix = '', withExt = false) {\n    try {\n        const ext = withExt ? '.js' : '';\n        return `${prefix}${name.replace(new RegExp(`${NameTransformSymbol.AT}`, 'g'), NameTransformMap[NameTransformSymbol.AT]).replace(new RegExp(`${NameTransformSymbol.HYPHEN}`, 'g'), NameTransformMap[NameTransformSymbol.HYPHEN]).replace(new RegExp(`${NameTransformSymbol.SLASH}`, 'g'), NameTransformMap[NameTransformSymbol.SLASH])}${ext}`;\n    } catch (err) {\n        throw err;\n    }\n};\nconst decodeName = function(name, prefix, withExt) {\n    try {\n        let decodedName = name;\n        if (prefix) {\n            if (!decodedName.startsWith(prefix)) {\n                return decodedName;\n            }\n            decodedName = decodedName.replace(new RegExp(prefix, 'g'), '');\n        }\n        decodedName = decodedName.replace(new RegExp(`${NameTransformMap[NameTransformSymbol.AT]}`, 'g'), EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.AT]]).replace(new RegExp(`${NameTransformMap[NameTransformSymbol.SLASH]}`, 'g'), EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.SLASH]]).replace(new RegExp(`${NameTransformMap[NameTransformSymbol.HYPHEN]}`, 'g'), EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.HYPHEN]]);\n        if (withExt) {\n            decodedName = decodedName.replace('.js', '');\n        }\n        return decodedName;\n    } catch (err) {\n        throw err;\n    }\n};\nconst generateExposeFilename = (exposeName, withExt)=>{\n    if (!exposeName) {\n        return '';\n    }\n    let expose = exposeName;\n    if (expose === '.') {\n        expose = 'default_export';\n    }\n    if (expose.startsWith('./')) {\n        expose = expose.replace('./', '');\n    }\n    return encodeName(expose, '__federation_expose_', withExt);\n};\nconst generateShareFilename = (pkgName, withExt)=>{\n    if (!pkgName) {\n        return '';\n    }\n    return encodeName(pkgName, '__federation_shared_', withExt);\n};\nconst getResourceUrl = (module, sourceUrl)=>{\n    if ('getPublicPath' in module) {\n        let publicPath;\n        if (!module.getPublicPath.startsWith('function')) {\n            publicPath = new Function(module.getPublicPath)();\n        } else {\n            publicPath = new Function('return ' + module.getPublicPath)()();\n        }\n        return `${publicPath}${sourceUrl}`;\n    } else if ('publicPath' in module) {\n        if (!isBrowserEnv() && !isReactNativeEnv() && 'ssrPublicPath' in module) {\n            return `${module.ssrPublicPath}${sourceUrl}`;\n        }\n        return `${module.publicPath}${sourceUrl}`;\n    } else {\n        console.warn('Cannot get resource URL. If in debug mode, please ignore.', module, sourceUrl);\n        return '';\n    }\n};\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nconst assert = (condition, msg)=>{\n    if (!condition) {\n        error(msg);\n    }\n};\nconst error = (msg)=>{\n    throw new Error(`${LOG_CATEGORY}: ${msg}`);\n};\nconst warn = (msg)=>{\n    console.warn(`${LOG_CATEGORY}: ${msg}`);\n};\nfunction safeToString(info) {\n    try {\n        return JSON.stringify(info, null, 2);\n    } catch (e) {\n        return '';\n    }\n}\n// RegExp for version string\nconst VERSION_PATTERN_REGEXP = /^([\\d^=v<>~]|[*xX]$)/;\nfunction isRequiredVersion(str) {\n    return VERSION_PATTERN_REGEXP.test(str);\n}\n\nconst simpleJoinRemoteEntry = (rPath, rName)=>{\n    if (!rPath) {\n        return rName;\n    }\n    const transformPath = (str)=>{\n        if (str === '.') {\n            return '';\n        }\n        if (str.startsWith('./')) {\n            return str.replace('./', '');\n        }\n        if (str.startsWith('/')) {\n            const strWithoutSlash = str.slice(1);\n            if (strWithoutSlash.endsWith('/')) {\n                return strWithoutSlash.slice(0, -1);\n            }\n            return strWithoutSlash;\n        }\n        return str;\n    };\n    const transformedPath = transformPath(rPath);\n    if (!transformedPath) {\n        return rName;\n    }\n    if (transformedPath.endsWith('/')) {\n        return `${transformedPath}${rName}`;\n    }\n    return `${transformedPath}/${rName}`;\n};\nfunction inferAutoPublicPath(url) {\n    return url.replace(/#.*$/, '').replace(/\\?.*$/, '').replace(/\\/[^\\/]+$/, '/');\n}\n// Priority: overrides > remotes\n// eslint-disable-next-line max-lines-per-function\nfunction generateSnapshotFromManifest(manifest, options = {}) {\n    var _manifest_metaData, _manifest_metaData1;\n    const { remotes = {}, overrides = {}, version } = options;\n    let remoteSnapshot;\n    const getPublicPath = ()=>{\n        if ('publicPath' in manifest.metaData) {\n            if (manifest.metaData.publicPath === 'auto' && version) {\n                // use same implementation as publicPath auto runtime module implements\n                return inferAutoPublicPath(version);\n            }\n            return manifest.metaData.publicPath;\n        } else {\n            return manifest.metaData.getPublicPath;\n        }\n    };\n    const overridesKeys = Object.keys(overrides);\n    let remotesInfo = {};\n    // If remotes are not provided, only the remotes in the manifest will be read\n    if (!Object.keys(remotes).length) {\n        var _manifest_remotes;\n        remotesInfo = ((_manifest_remotes = manifest.remotes) == null ? void 0 : _manifest_remotes.reduce((res, next)=>{\n            let matchedVersion;\n            const name = next.federationContainerName;\n            // overrides have higher priority\n            if (overridesKeys.includes(name)) {\n                matchedVersion = overrides[name];\n            } else {\n                if ('version' in next) {\n                    matchedVersion = next.version;\n                } else {\n                    matchedVersion = next.entry;\n                }\n            }\n            res[name] = {\n                matchedVersion\n            };\n            return res;\n        }, {})) || {};\n    }\n    // If remotes (deploy scenario) are specified, they need to be traversed again\n    Object.keys(remotes).forEach((key)=>remotesInfo[key] = {\n            // overrides will override dependencies\n            matchedVersion: overridesKeys.includes(key) ? overrides[key] : remotes[key]\n        });\n    const { remoteEntry: { path: remoteEntryPath, name: remoteEntryName, type: remoteEntryType }, types: remoteTypes, buildInfo: { buildVersion }, globalName, ssrRemoteEntry } = manifest.metaData;\n    const { exposes } = manifest;\n    let basicRemoteSnapshot = {\n        version: version ? version : '',\n        buildVersion,\n        globalName,\n        remoteEntry: simpleJoinRemoteEntry(remoteEntryPath, remoteEntryName),\n        remoteEntryType,\n        remoteTypes: simpleJoinRemoteEntry(remoteTypes.path, remoteTypes.name),\n        remoteTypesZip: remoteTypes.zip || '',\n        remoteTypesAPI: remoteTypes.api || '',\n        remotesInfo,\n        shared: manifest == null ? void 0 : manifest.shared.map((item)=>({\n                assets: item.assets,\n                sharedName: item.name,\n                version: item.version\n            })),\n        modules: exposes == null ? void 0 : exposes.map((expose)=>({\n                moduleName: expose.name,\n                modulePath: expose.path,\n                assets: expose.assets\n            }))\n    };\n    if ((_manifest_metaData = manifest.metaData) == null ? void 0 : _manifest_metaData.prefetchInterface) {\n        const prefetchInterface = manifest.metaData.prefetchInterface;\n        basicRemoteSnapshot = polyfills._({}, basicRemoteSnapshot, {\n            prefetchInterface\n        });\n    }\n    if ((_manifest_metaData1 = manifest.metaData) == null ? void 0 : _manifest_metaData1.prefetchEntry) {\n        const { path, name, type } = manifest.metaData.prefetchEntry;\n        basicRemoteSnapshot = polyfills._({}, basicRemoteSnapshot, {\n            prefetchEntry: simpleJoinRemoteEntry(path, name),\n            prefetchEntryType: type\n        });\n    }\n    if ('publicPath' in manifest.metaData) {\n        remoteSnapshot = polyfills._({}, basicRemoteSnapshot, {\n            publicPath: getPublicPath(),\n            ssrPublicPath: manifest.metaData.ssrPublicPath\n        });\n    } else {\n        remoteSnapshot = polyfills._({}, basicRemoteSnapshot, {\n            getPublicPath: getPublicPath()\n        });\n    }\n    if (ssrRemoteEntry) {\n        const fullSSRRemoteEntry = simpleJoinRemoteEntry(ssrRemoteEntry.path, ssrRemoteEntry.name);\n        remoteSnapshot.ssrRemoteEntry = fullSSRRemoteEntry;\n        remoteSnapshot.ssrRemoteEntryType = ssrRemoteEntry.type || 'commonjs-module';\n    }\n    return remoteSnapshot;\n}\nfunction isManifestProvider(moduleInfo) {\n    if ('remoteEntry' in moduleInfo && moduleInfo.remoteEntry.includes(MANIFEST_EXT)) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\nconst PREFIX = '[ Module Federation ]';\nlet Logger = class Logger {\n    setPrefix(prefix) {\n        this.prefix = prefix;\n    }\n    log(...args) {\n        console.log(this.prefix, ...args);\n    }\n    warn(...args) {\n        console.log(this.prefix, ...args);\n    }\n    error(...args) {\n        console.log(this.prefix, ...args);\n    }\n    success(...args) {\n        console.log(this.prefix, ...args);\n    }\n    info(...args) {\n        console.log(this.prefix, ...args);\n    }\n    ready(...args) {\n        console.log(this.prefix, ...args);\n    }\n    debug(...args) {\n        if (isDebugMode()) {\n            console.log(this.prefix, ...args);\n        }\n    }\n    constructor(prefix){\n        this.prefix = prefix;\n    }\n};\nfunction createLogger(prefix) {\n    return new Logger(prefix);\n}\nconst logger = createLogger(PREFIX);\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nasync function safeWrapper(callback, disableWarn) {\n    try {\n        const res = await callback();\n        return res;\n    } catch (e) {\n        !disableWarn && warn(e);\n        return;\n    }\n}\nfunction isStaticResourcesEqual(url1, url2) {\n    const REG_EXP = /^(https?:)?\\/\\//i;\n    // Transform url1 and url2 into relative paths\n    const relativeUrl1 = url1.replace(REG_EXP, '').replace(/\\/$/, '');\n    const relativeUrl2 = url2.replace(REG_EXP, '').replace(/\\/$/, '');\n    // Check if the relative paths are identical\n    return relativeUrl1 === relativeUrl2;\n}\nfunction createScript(info) {\n    // Retrieve the existing script element by its src attribute\n    let script = null;\n    let needAttach = true;\n    let timeout = 20000;\n    let timeoutId;\n    const scripts = document.getElementsByTagName('script');\n    for(let i = 0; i < scripts.length; i++){\n        const s = scripts[i];\n        const scriptSrc = s.getAttribute('src');\n        if (scriptSrc && isStaticResourcesEqual(scriptSrc, info.url)) {\n            script = s;\n            needAttach = false;\n            break;\n        }\n    }\n    if (!script) {\n        const attrs = info.attrs;\n        script = document.createElement('script');\n        script.type = (attrs == null ? void 0 : attrs['type']) === 'module' ? 'module' : 'text/javascript';\n        let createScriptRes = undefined;\n        if (info.createScriptHook) {\n            createScriptRes = info.createScriptHook(info.url, info.attrs);\n            if (createScriptRes instanceof HTMLScriptElement) {\n                script = createScriptRes;\n            } else if (typeof createScriptRes === 'object') {\n                if ('script' in createScriptRes && createScriptRes.script) {\n                    script = createScriptRes.script;\n                }\n                if ('timeout' in createScriptRes && createScriptRes.timeout) {\n                    timeout = createScriptRes.timeout;\n                }\n            }\n        }\n        if (!script.src) {\n            script.src = info.url;\n        }\n        if (attrs && !createScriptRes) {\n            Object.keys(attrs).forEach((name)=>{\n                if (script) {\n                    if (name === 'async' || name === 'defer') {\n                        script[name] = attrs[name];\n                    // Attributes that do not exist are considered overridden\n                    } else if (!script.getAttribute(name)) {\n                        script.setAttribute(name, attrs[name]);\n                    }\n                }\n            });\n        }\n    }\n    const onScriptComplete = async (prev, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    event)=>{\n        clearTimeout(timeoutId);\n        const onScriptCompleteCallback = ()=>{\n            if ((event == null ? void 0 : event.type) === 'error') {\n                (info == null ? void 0 : info.onErrorCallback) && (info == null ? void 0 : info.onErrorCallback(event));\n            } else {\n                (info == null ? void 0 : info.cb) && (info == null ? void 0 : info.cb());\n            }\n        };\n        // Prevent memory leaks in IE.\n        if (script) {\n            script.onerror = null;\n            script.onload = null;\n            safeWrapper(()=>{\n                const { needDeleteScript = true } = info;\n                if (needDeleteScript) {\n                    (script == null ? void 0 : script.parentNode) && script.parentNode.removeChild(script);\n                }\n            });\n            if (prev && typeof prev === 'function') {\n                const result = prev(event);\n                if (result instanceof Promise) {\n                    const res = await result;\n                    onScriptCompleteCallback();\n                    return res;\n                }\n                onScriptCompleteCallback();\n                return result;\n            }\n        }\n        onScriptCompleteCallback();\n    };\n    script.onerror = onScriptComplete.bind(null, script.onerror);\n    script.onload = onScriptComplete.bind(null, script.onload);\n    timeoutId = setTimeout(()=>{\n        onScriptComplete(null, new Error(`Remote script \"${info.url}\" time-outed.`));\n    }, timeout);\n    return {\n        script,\n        needAttach\n    };\n}\nfunction createLink(info) {\n    // <link rel=\"preload\" href=\"script.js\" as=\"script\">\n    // Retrieve the existing script element by its src attribute\n    let link = null;\n    let needAttach = true;\n    const links = document.getElementsByTagName('link');\n    for(let i = 0; i < links.length; i++){\n        const l = links[i];\n        const linkHref = l.getAttribute('href');\n        const linkRel = l.getAttribute('rel');\n        if (linkHref && isStaticResourcesEqual(linkHref, info.url) && linkRel === info.attrs['rel']) {\n            link = l;\n            needAttach = false;\n            break;\n        }\n    }\n    if (!link) {\n        link = document.createElement('link');\n        link.setAttribute('href', info.url);\n        let createLinkRes = undefined;\n        const attrs = info.attrs;\n        if (info.createLinkHook) {\n            createLinkRes = info.createLinkHook(info.url, attrs);\n            if (createLinkRes instanceof HTMLLinkElement) {\n                link = createLinkRes;\n            }\n        }\n        if (attrs && !createLinkRes) {\n            Object.keys(attrs).forEach((name)=>{\n                if (link && !link.getAttribute(name)) {\n                    link.setAttribute(name, attrs[name]);\n                }\n            });\n        }\n    }\n    const onLinkComplete = (prev, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    event)=>{\n        const onLinkCompleteCallback = ()=>{\n            if ((event == null ? void 0 : event.type) === 'error') {\n                (info == null ? void 0 : info.onErrorCallback) && (info == null ? void 0 : info.onErrorCallback(event));\n            } else {\n                (info == null ? void 0 : info.cb) && (info == null ? void 0 : info.cb());\n            }\n        };\n        // Prevent memory leaks in IE.\n        if (link) {\n            link.onerror = null;\n            link.onload = null;\n            safeWrapper(()=>{\n                const { needDeleteLink = true } = info;\n                if (needDeleteLink) {\n                    (link == null ? void 0 : link.parentNode) && link.parentNode.removeChild(link);\n                }\n            });\n            if (prev) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                const res = prev(event);\n                onLinkCompleteCallback();\n                return res;\n            }\n        }\n        onLinkCompleteCallback();\n    };\n    link.onerror = onLinkComplete.bind(null, link.onerror);\n    link.onload = onLinkComplete.bind(null, link.onload);\n    return {\n        link,\n        needAttach\n    };\n}\nfunction loadScript(url, info) {\n    const { attrs = {}, createScriptHook } = info;\n    return new Promise((resolve, reject)=>{\n        const { script, needAttach } = createScript({\n            url,\n            cb: resolve,\n            onErrorCallback: reject,\n            attrs: polyfills._({\n                fetchpriority: 'high'\n            }, attrs),\n            createScriptHook,\n            needDeleteScript: true\n        });\n        needAttach && document.head.appendChild(script);\n    });\n}\n\nconst sdkImportCache = new Map();\nfunction importNodeModule(name) {\n    if (!name) {\n        throw new Error('import specifier is required');\n    }\n    // Check cache to prevent infinite recursion\n    if (sdkImportCache.has(name)) {\n        return sdkImportCache.get(name);\n    }\n    const importModule = new Function('name', `return import(name)`);\n    const promise = importModule(name).then((res)=>res).catch((error)=>{\n        console.error(`Error importing module ${name}:`, error);\n        // Remove from cache on error so it can be retried\n        sdkImportCache.delete(name);\n        throw error;\n    });\n    // Cache the promise to prevent recursive calls\n    sdkImportCache.set(name, promise);\n    return promise;\n}\nconst loadNodeFetch = async ()=>{\n    const fetchModule = await importNodeModule('node-fetch');\n    return fetchModule.default || fetchModule;\n};\nconst lazyLoaderHookFetch = async (input, init, loaderHook)=>{\n    const hook = (url, init)=>{\n        return loaderHook.lifecycle.fetch.emit(url, init);\n    };\n    const res = await hook(input, init || {});\n    if (!res || !(res instanceof Response)) {\n        const fetchFunction = typeof fetch === 'undefined' ? await loadNodeFetch() : fetch;\n        return fetchFunction(input, init || {});\n    }\n    return res;\n};\nconst createScriptNode = typeof ENV_TARGET === 'undefined' || ENV_TARGET !== 'web' ? (url, cb, attrs, loaderHook)=>{\n    if (loaderHook == null ? void 0 : loaderHook.createScriptHook) {\n        const hookResult = loaderHook.createScriptHook(url);\n        if (hookResult && typeof hookResult === 'object' && 'url' in hookResult) {\n            url = hookResult.url;\n        }\n    }\n    let urlObj;\n    try {\n        urlObj = new URL(url);\n    } catch (e) {\n        console.error('Error constructing URL:', e);\n        cb(new Error(`Invalid URL: ${e}`));\n        return;\n    }\n    const getFetch = async ()=>{\n        if (loaderHook == null ? void 0 : loaderHook.fetch) {\n            return (input, init)=>lazyLoaderHookFetch(input, init, loaderHook);\n        }\n        return typeof fetch === 'undefined' ? loadNodeFetch() : fetch;\n    };\n    const handleScriptFetch = async (f, urlObj)=>{\n        try {\n            var //@ts-ignore\n            _vm_constants;\n            const res = await f(urlObj.href);\n            const data = await res.text();\n            const [path, vm] = await Promise.all([\n                importNodeModule('path'),\n                importNodeModule('vm')\n            ]);\n            const scriptContext = {\n                exports: {},\n                module: {\n                    exports: {}\n                }\n            };\n            const urlDirname = urlObj.pathname.split('/').slice(0, -1).join('/');\n            const filename = path.basename(urlObj.pathname);\n            var _vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER;\n            const script = new vm.Script(`(function(exports, module, require, __dirname, __filename) {${data}\\n})`, {\n                filename,\n                importModuleDynamically: (_vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER = (_vm_constants = vm.constants) == null ? void 0 : _vm_constants.USE_MAIN_CONTEXT_DEFAULT_LOADER) != null ? _vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER : importNodeModule\n            });\n            script.runInThisContext()(scriptContext.exports, scriptContext.module, eval('require'), urlDirname, filename);\n            const exportedInterface = scriptContext.module.exports || scriptContext.exports;\n            if (attrs && exportedInterface && attrs['globalName']) {\n                const container = exportedInterface[attrs['globalName']] || exportedInterface;\n                cb(undefined, container);\n                return;\n            }\n            cb(undefined, exportedInterface);\n        } catch (e) {\n            cb(e instanceof Error ? e : new Error(`Script execution error: ${e}`));\n        }\n    };\n    getFetch().then(async (f)=>{\n        if ((attrs == null ? void 0 : attrs['type']) === 'esm' || (attrs == null ? void 0 : attrs['type']) === 'module') {\n            return loadModule(urlObj.href, {\n                fetch: f,\n                vm: await importNodeModule('vm')\n            }).then(async (module)=>{\n                await module.evaluate();\n                cb(undefined, module.namespace);\n            }).catch((e)=>{\n                cb(e instanceof Error ? e : new Error(`Script execution error: ${e}`));\n            });\n        }\n        handleScriptFetch(f, urlObj);\n    }).catch((err)=>{\n        cb(err);\n    });\n} : (url, cb, attrs, loaderHook)=>{\n    cb(new Error('createScriptNode is disabled in non-Node.js environment'));\n};\nconst loadScriptNode = typeof ENV_TARGET === 'undefined' || ENV_TARGET !== 'web' ? (url, info)=>{\n    return new Promise((resolve, reject)=>{\n        createScriptNode(url, (error, scriptContext)=>{\n            if (error) {\n                reject(error);\n            } else {\n                var _info_attrs, _info_attrs1;\n                const remoteEntryKey = (info == null ? void 0 : (_info_attrs = info.attrs) == null ? void 0 : _info_attrs['globalName']) || `__FEDERATION_${info == null ? void 0 : (_info_attrs1 = info.attrs) == null ? void 0 : _info_attrs1['name']}:custom__`;\n                const entryExports = globalThis[remoteEntryKey] = scriptContext;\n                resolve(entryExports);\n            }\n        }, info.attrs, info.loaderHook);\n    });\n} : (url, info)=>{\n    throw new Error('loadScriptNode is disabled in non-Node.js environment');\n};\nconst esmModuleCache = new Map();\nasync function loadModule(url, options) {\n    // Check cache to prevent infinite recursion in ESM loading\n    if (esmModuleCache.has(url)) {\n        return esmModuleCache.get(url);\n    }\n    const { fetch: fetch1, vm } = options;\n    const response = await fetch1(url);\n    const code = await response.text();\n    const module = new vm.SourceTextModule(code, {\n        // @ts-ignore\n        importModuleDynamically: async (specifier, script)=>{\n            const resolvedUrl = new URL(specifier, url).href;\n            return loadModule(resolvedUrl, options);\n        }\n    });\n    // Cache the module before linking to prevent cycles\n    esmModuleCache.set(url, module);\n    await module.link(async (specifier)=>{\n        const resolvedUrl = new URL(specifier, url).href;\n        const module = await loadModule(resolvedUrl, options);\n        return module;\n    });\n    return module;\n}\n\nfunction normalizeOptions(enableDefault, defaultOptions, key) {\n    return function(options) {\n        if (options === false) {\n            return false;\n        }\n        if (typeof options === 'undefined') {\n            if (enableDefault) {\n                return defaultOptions;\n            } else {\n                return false;\n            }\n        }\n        if (options === true) {\n            return defaultOptions;\n        }\n        if (options && typeof options === 'object') {\n            return polyfills._({}, defaultOptions, options);\n        }\n        throw new Error(`Unexpected type for \\`${key}\\`, expect boolean/undefined/object, got: ${typeof options}`);\n    };\n}\n\nconst createModuleFederationConfig = (options)=>{\n    return options;\n};\n\nexports.BROWSER_LOG_KEY = BROWSER_LOG_KEY;\nexports.ENCODE_NAME_PREFIX = ENCODE_NAME_PREFIX;\nexports.EncodedNameTransformMap = EncodedNameTransformMap;\nexports.FederationModuleManifest = FederationModuleManifest;\nexports.MANIFEST_EXT = MANIFEST_EXT;\nexports.MFModuleType = MFModuleType;\nexports.MFPrefetchCommon = MFPrefetchCommon;\nexports.MODULE_DEVTOOL_IDENTIFIER = MODULE_DEVTOOL_IDENTIFIER;\nexports.ManifestFileName = ManifestFileName;\nexports.NameTransformMap = NameTransformMap;\nexports.NameTransformSymbol = NameTransformSymbol;\nexports.SEPARATOR = SEPARATOR;\nexports.StatsFileName = StatsFileName;\nexports.TEMP_DIR = TEMP_DIR;\nexports.assert = assert;\nexports.composeKeyWithSeparator = composeKeyWithSeparator;\nexports.containerPlugin = ContainerPlugin;\nexports.containerReferencePlugin = ContainerReferencePlugin;\nexports.createLink = createLink;\nexports.createLogger = createLogger;\nexports.createModuleFederationConfig = createModuleFederationConfig;\nexports.createScript = createScript;\nexports.createScriptNode = createScriptNode;\nexports.decodeName = decodeName;\nexports.encodeName = encodeName;\nexports.error = error;\nexports.generateExposeFilename = generateExposeFilename;\nexports.generateShareFilename = generateShareFilename;\nexports.generateSnapshotFromManifest = generateSnapshotFromManifest;\nexports.getProcessEnv = getProcessEnv;\nexports.getResourceUrl = getResourceUrl;\nexports.inferAutoPublicPath = inferAutoPublicPath;\nexports.isBrowserEnv = isBrowserEnv;\nexports.isDebugMode = isDebugMode;\nexports.isManifestProvider = isManifestProvider;\nexports.isReactNativeEnv = isReactNativeEnv;\nexports.isRequiredVersion = isRequiredVersion;\nexports.isStaticResourcesEqual = isStaticResourcesEqual;\nexports.loadScript = loadScript;\nexports.loadScriptNode = loadScriptNode;\nexports.logger = logger;\nexports.moduleFederationPlugin = ModuleFederationPlugin;\nexports.normalizeOptions = normalizeOptions;\nexports.parseEntry = parseEntry;\nexports.safeToString = safeToString;\nexports.safeWrapper = safeWrapper;\nexports.sharePlugin = SharePlugin;\nexports.simpleJoinRemoteEntry = simpleJoinRemoteEntry;\nexports.warn = warn;\n//# sourceMappingURL=index.cjs.cjs.map\n","'use strict';\n\nfunction _extends() {\n    _extends = Object.assign || function assign(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    };\n    return _extends.apply(this, arguments);\n}\n\nexports._ = _extends;\n//# sourceMappingURL=polyfills.cjs.cjs.map\n","'use strict';\n\nconst FEDERATION_SUPPORTED_TYPES = [\n    'script'\n];\n\nexports.FEDERATION_SUPPORTED_TYPES = FEDERATION_SUPPORTED_TYPES;\n//# sourceMappingURL=constant.cjs.cjs.map\n","'use strict';\n\nvar runtime = require('@module-federation/runtime');\nvar constant = require('./constant.cjs.cjs');\nvar sdk = require('@module-federation/sdk');\n\nfunction _interopNamespaceDefault(e) {\n    var n = Object.create(null);\n    if (e) {\n        for (var k in e) {\n            n[k] = e[k];\n        }\n    }\n    n.default = e;\n    return Object.freeze(n);\n}\n\nvar runtime__namespace = /*#__PURE__*/_interopNamespaceDefault(runtime);\n\nfunction attachShareScopeMap(webpackRequire) {\n    if (!webpackRequire.S || webpackRequire.federation.hasAttachShareScopeMap || !webpackRequire.federation.instance || !webpackRequire.federation.instance.shareScopeMap) {\n        return;\n    }\n    webpackRequire.S = webpackRequire.federation.instance.shareScopeMap;\n    webpackRequire.federation.hasAttachShareScopeMap = true;\n}\n\nfunction remotes(options) {\n    const { chunkId, promises, chunkMapping, idToExternalAndNameMapping, webpackRequire, idToRemoteMap } = options;\n    attachShareScopeMap(webpackRequire);\n    if (webpackRequire.o(chunkMapping, chunkId)) {\n        chunkMapping[chunkId].forEach((id)=>{\n            let getScope = webpackRequire.R;\n            if (!getScope) {\n                getScope = [];\n            }\n            const data = idToExternalAndNameMapping[id];\n            const remoteInfos = idToRemoteMap[id];\n            // @ts-ignore seems not work\n            if (getScope.indexOf(data) >= 0) {\n                return;\n            }\n            // @ts-ignore seems not work\n            getScope.push(data);\n            if (data.p) {\n                return promises.push(data.p);\n            }\n            const onError = (error)=>{\n                if (!error) {\n                    error = new Error('Container missing');\n                }\n                if (typeof error.message === 'string') {\n                    error.message += `\\nwhile loading \"${data[1]}\" from ${data[2]}`;\n                }\n                webpackRequire.m[id] = ()=>{\n                    throw error;\n                };\n                data.p = 0;\n            };\n            const handleFunction = (fn, arg1, arg2, d, next, first)=>{\n                try {\n                    const promise = fn(arg1, arg2);\n                    if (promise && promise.then) {\n                        const p = promise.then((result)=>next(result, d), onError);\n                        if (first) {\n                            promises.push(data.p = p);\n                        } else {\n                            return p;\n                        }\n                    } else {\n                        return next(promise, d, first);\n                    }\n                } catch (error) {\n                    onError(error);\n                }\n            };\n            const onExternal = (external, _, first)=>external ? handleFunction(webpackRequire.I, data[0], 0, external, onInitialized, first) : onError();\n            // eslint-disable-next-line no-var\n            var onInitialized = (_, external, first)=>handleFunction(external.get, data[1], getScope, 0, onFactory, first);\n            // eslint-disable-next-line no-var\n            var onFactory = (factory)=>{\n                data.p = 1;\n                webpackRequire.m[id] = (module)=>{\n                    module.exports = factory();\n                };\n            };\n            const onRemoteLoaded = ()=>{\n                try {\n                    const remoteName = sdk.decodeName(remoteInfos[0].name, sdk.ENCODE_NAME_PREFIX);\n                    const remoteModuleName = remoteName + data[1].slice(1);\n                    const instance = webpackRequire.federation.instance;\n                    const loadRemote = ()=>webpackRequire.federation.instance.loadRemote(remoteModuleName, {\n                            loadFactory: false,\n                            from: 'build'\n                        });\n                    if (instance.options.shareStrategy === 'version-first') {\n                        return Promise.all(instance.sharedHandler.initializeSharing(data[0])).then(()=>{\n                            return loadRemote();\n                        });\n                    }\n                    return loadRemote();\n                } catch (error) {\n                    onError(error);\n                }\n            };\n            const useRuntimeLoad = remoteInfos.length === 1 && constant.FEDERATION_SUPPORTED_TYPES.includes(remoteInfos[0].externalType) && remoteInfos[0].name;\n            if (useRuntimeLoad) {\n                handleFunction(onRemoteLoaded, data[2], 0, 0, onFactory, 1);\n            } else {\n                handleFunction(webpackRequire, data[2], 0, 0, onExternal, 1);\n            }\n        });\n    }\n}\n\nfunction consumes(options) {\n    const { chunkId, promises, chunkMapping, installedModules, moduleToHandlerMapping, webpackRequire } = options;\n    attachShareScopeMap(webpackRequire);\n    if (webpackRequire.o(chunkMapping, chunkId)) {\n        chunkMapping[chunkId].forEach((id)=>{\n            if (webpackRequire.o(installedModules, id)) {\n                return promises.push(installedModules[id]);\n            }\n            const onFactory = (factory)=>{\n                installedModules[id] = 0;\n                webpackRequire.m[id] = (module)=>{\n                    var _shareInfo_shareConfig;\n                    delete webpackRequire.c[id];\n                    const result = factory();\n                    // Add layer property from shareConfig if available\n                    const { shareInfo } = moduleToHandlerMapping[id];\n                    if ((shareInfo == null ? void 0 : (_shareInfo_shareConfig = shareInfo.shareConfig) == null ? void 0 : _shareInfo_shareConfig.layer) && result && typeof result === 'object') {\n                        try {\n                            // Only set layer if it's not already defined or if it's undefined\n                            if (!result.hasOwnProperty('layer') || result.layer === undefined) {\n                                result.layer = shareInfo.shareConfig.layer;\n                            }\n                        } catch (e) {\n                        // Ignore if layer property is read-only\n                        }\n                    }\n                    module.exports = result;\n                };\n            };\n            const onError = (error)=>{\n                delete installedModules[id];\n                webpackRequire.m[id] = (module)=>{\n                    delete webpackRequire.c[id];\n                    throw error;\n                };\n            };\n            try {\n                const federationInstance = webpackRequire.federation.instance;\n                if (!federationInstance) {\n                    throw new Error('Federation instance not found!');\n                }\n                const { shareKey, getter, shareInfo } = moduleToHandlerMapping[id];\n                const promise = federationInstance.loadShare(shareKey, {\n                    customShareInfo: shareInfo\n                }).then((factory)=>{\n                    if (factory === false) {\n                        return getter();\n                    }\n                    return factory;\n                });\n                if (promise.then) {\n                    promises.push(installedModules[id] = promise.then(onFactory).catch(onError));\n                } else {\n                    // @ts-ignore maintain previous logic\n                    onFactory(promise);\n                }\n            } catch (e) {\n                onError(e);\n            }\n        });\n    }\n}\n\nfunction initializeSharing({ shareScopeName, webpackRequire, initPromises, initTokens, initScope }) {\n    const shareScopeKeys = Array.isArray(shareScopeName) ? shareScopeName : [\n        shareScopeName\n    ];\n    var initializeSharingPromises = [];\n    var _initializeSharing = function(shareScopeKey) {\n        if (!initScope) initScope = [];\n        const mfInstance = webpackRequire.federation.instance;\n        // handling circular init calls\n        var initToken = initTokens[shareScopeKey];\n        if (!initToken) initToken = initTokens[shareScopeKey] = {\n            from: mfInstance.name\n        };\n        if (initScope.indexOf(initToken) >= 0) return;\n        initScope.push(initToken);\n        const promise = initPromises[shareScopeKey];\n        if (promise) return promise;\n        var warn = (msg)=>typeof console !== 'undefined' && console.warn && console.warn(msg);\n        var initExternal = (id)=>{\n            var handleError = (err)=>warn('Initialization of sharing external failed: ' + err);\n            try {\n                var module = webpackRequire(id);\n                if (!module) return;\n                var initFn = (module)=>module && module.init && // @ts-ignore compat legacy mf shared behavior\n                    module.init(webpackRequire.S[shareScopeKey], initScope, {\n                        shareScopeMap: webpackRequire.S || {},\n                        shareScopeKeys: shareScopeName\n                    });\n                if (module.then) return promises.push(module.then(initFn, handleError));\n                var initResult = initFn(module);\n                // @ts-ignore\n                if (initResult && typeof initResult !== 'boolean' && initResult.then) // @ts-ignore\n                return promises.push(initResult['catch'](handleError));\n            } catch (err) {\n                handleError(err);\n            }\n        };\n        const promises = mfInstance.initializeSharing(shareScopeKey, {\n            strategy: mfInstance.options.shareStrategy,\n            initScope,\n            from: 'build'\n        });\n        attachShareScopeMap(webpackRequire);\n        const bundlerRuntimeRemotesOptions = webpackRequire.federation.bundlerRuntimeOptions.remotes;\n        if (bundlerRuntimeRemotesOptions) {\n            Object.keys(bundlerRuntimeRemotesOptions.idToRemoteMap).forEach((moduleId)=>{\n                const info = bundlerRuntimeRemotesOptions.idToRemoteMap[moduleId];\n                const externalModuleId = bundlerRuntimeRemotesOptions.idToExternalAndNameMapping[moduleId][2];\n                if (info.length > 1) {\n                    initExternal(externalModuleId);\n                } else if (info.length === 1) {\n                    const remoteInfo = info[0];\n                    if (!constant.FEDERATION_SUPPORTED_TYPES.includes(remoteInfo.externalType)) {\n                        initExternal(externalModuleId);\n                    }\n                }\n            });\n        }\n        if (!promises.length) {\n            return initPromises[shareScopeKey] = true;\n        }\n        return initPromises[shareScopeKey] = Promise.all(promises).then(()=>initPromises[shareScopeKey] = true);\n    };\n    shareScopeKeys.forEach((key)=>{\n        initializeSharingPromises.push(_initializeSharing(key));\n    });\n    return Promise.all(initializeSharingPromises).then(()=>true);\n}\n\nfunction handleInitialConsumes(options) {\n    const { moduleId, moduleToHandlerMapping, webpackRequire } = options;\n    const federationInstance = webpackRequire.federation.instance;\n    if (!federationInstance) {\n        throw new Error('Federation instance not found!');\n    }\n    const { shareKey, shareInfo } = moduleToHandlerMapping[moduleId];\n    try {\n        return federationInstance.loadShareSync(shareKey, {\n            customShareInfo: shareInfo\n        });\n    } catch (err) {\n        console.error('loadShareSync failed! The function should not be called unless you set \"eager:true\". If you do not set it, and encounter this issue, you can check whether an async boundary is implemented.');\n        console.error('The original error message is as follows: ');\n        throw err;\n    }\n}\nfunction installInitialConsumes(options) {\n    const { moduleToHandlerMapping, webpackRequire, installedModules, initialConsumes } = options;\n    initialConsumes.forEach((id)=>{\n        webpackRequire.m[id] = (module)=>{\n            var _shareInfo_shareConfig;\n            // Handle scenario when module is used synchronously\n            installedModules[id] = 0;\n            delete webpackRequire.c[id];\n            const factory = handleInitialConsumes({\n                moduleId: id,\n                moduleToHandlerMapping,\n                webpackRequire\n            });\n            if (typeof factory !== 'function') {\n                throw new Error(`Shared module is not available for eager consumption: ${id}`);\n            }\n            const result = factory();\n            // Add layer property from shareConfig if available\n            const { shareInfo } = moduleToHandlerMapping[id];\n            if ((shareInfo == null ? void 0 : (_shareInfo_shareConfig = shareInfo.shareConfig) == null ? void 0 : _shareInfo_shareConfig.layer) && result && typeof result === 'object') {\n                try {\n                    // Only set layer if it's not already defined or if it's undefined\n                    if (!result.hasOwnProperty('layer') || result.layer === undefined) {\n                        result.layer = shareInfo.shareConfig.layer;\n                    }\n                } catch (e) {\n                // Ignore if layer property is read-only\n                }\n            }\n            module.exports = result;\n        };\n    });\n}\n\nfunction _extends() {\n    _extends = Object.assign || function assign(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    };\n    return _extends.apply(this, arguments);\n}\n\nfunction initContainerEntry(options) {\n    const { webpackRequire, shareScope, initScope, shareScopeKey, remoteEntryInitOptions } = options;\n    if (!webpackRequire.S) return;\n    if (!webpackRequire.federation || !webpackRequire.federation.instance || !webpackRequire.federation.initOptions) return;\n    const federationInstance = webpackRequire.federation.instance;\n    federationInstance.initOptions(_extends({\n        name: webpackRequire.federation.initOptions.name,\n        remotes: []\n    }, remoteEntryInitOptions));\n    const hostShareScopeKeys = remoteEntryInitOptions == null ? void 0 : remoteEntryInitOptions.shareScopeKeys;\n    const hostShareScopeMap = remoteEntryInitOptions == null ? void 0 : remoteEntryInitOptions.shareScopeMap;\n    // host: 'default' remote: 'default'  remote['default'] = hostShareScopeMap['default']\n    // host: ['default', 'scope1'] remote: 'default'  remote['default'] = hostShareScopeMap['default']; remote['scope1'] = hostShareScopeMap['scop1']\n    // host: 'default' remote: ['default','scope1']  remote['default'] = hostShareScopeMap['default']; remote['scope1'] = hostShareScopeMap['scope1'] = {}\n    // host: ['scope1','default'] remote: ['scope1','scope2'] => remote['scope1'] = hostShareScopeMap['scope1']; remote['scope2'] = hostShareScopeMap['scope2'] = {};\n    if (!shareScopeKey || typeof shareScopeKey === 'string') {\n        const key = shareScopeKey || 'default';\n        if (Array.isArray(hostShareScopeKeys)) {\n            // const sc = hostShareScopeMap![key];\n            // if (!sc) {\n            //   throw new Error('shareScopeKey is not exist in hostShareScopeMap');\n            // }\n            // federationInstance.initShareScopeMap(key, sc, {\n            //   hostShareScopeMap: remoteEntryInitOptions?.shareScopeMap || {},\n            // });\n            hostShareScopeKeys.forEach((hostKey)=>{\n                if (!hostShareScopeMap[hostKey]) {\n                    hostShareScopeMap[hostKey] = {};\n                }\n                const sc = hostShareScopeMap[hostKey];\n                federationInstance.initShareScopeMap(hostKey, sc, {\n                    hostShareScopeMap: (remoteEntryInitOptions == null ? void 0 : remoteEntryInitOptions.shareScopeMap) || {}\n                });\n            });\n        } else {\n            federationInstance.initShareScopeMap(key, shareScope, {\n                hostShareScopeMap: (remoteEntryInitOptions == null ? void 0 : remoteEntryInitOptions.shareScopeMap) || {}\n            });\n        }\n    } else {\n        shareScopeKey.forEach((key)=>{\n            if (!hostShareScopeKeys || !hostShareScopeMap) {\n                federationInstance.initShareScopeMap(key, shareScope, {\n                    hostShareScopeMap: (remoteEntryInitOptions == null ? void 0 : remoteEntryInitOptions.shareScopeMap) || {}\n                });\n                return;\n            }\n            if (!hostShareScopeMap[key]) {\n                hostShareScopeMap[key] = {};\n            }\n            const sc = hostShareScopeMap[key];\n            federationInstance.initShareScopeMap(key, sc, {\n                hostShareScopeMap: (remoteEntryInitOptions == null ? void 0 : remoteEntryInitOptions.shareScopeMap) || {}\n            });\n        });\n    }\n    if (webpackRequire.federation.attachShareScopeMap) {\n        webpackRequire.federation.attachShareScopeMap(webpackRequire);\n    }\n    if (typeof webpackRequire.federation.prefetch === 'function') {\n        webpackRequire.federation.prefetch();\n    }\n    if (!Array.isArray(shareScopeKey)) {\n        // @ts-ignore\n        return webpackRequire.I(shareScopeKey || 'default', initScope);\n    }\n    var proxyInitializeSharing = Boolean(webpackRequire.federation.initOptions.shared);\n    if (proxyInitializeSharing) {\n        // @ts-ignore\n        return webpackRequire.I(shareScopeKey, initScope);\n    }\n    // @ts-ignore\n    return Promise.all(shareScopeKey.map((key)=>{\n        // @ts-ignore\n        return webpackRequire.I(key, initScope);\n    })).then(()=>true);\n}\n\nconst federation = {\n    runtime: runtime__namespace,\n    instance: undefined,\n    initOptions: undefined,\n    bundlerRuntime: {\n        remotes,\n        consumes,\n        I: initializeSharing,\n        S: {},\n        installInitialConsumes,\n        initContainerEntry\n    },\n    attachShareScopeMap,\n    bundlerRuntimeOptions: {}\n};\n\nmodule.exports = federation;\n//# sourceMappingURL=index.cjs.cjs.map\n","import { AsyncIteratorClass, startSpan, runInSpanContext, AbortError, parseEmptyableJSON, isTypescriptObject, setSpanError, stringifyJSON, runWithSpan, isAsyncIteratorObject, once } from '@orpc/shared';\nimport { EventDecoderStream, withEventMeta, ErrorEvent, encodeEventMessage, getEventMeta, getFilenameFromContentDisposition, generateContentDisposition } from '@orpc/standard-server';\n\nfunction toEventIterator(stream, options = {}) {\n  const eventStream = stream?.pipeThrough(new TextDecoderStream()).pipeThrough(new EventDecoderStream());\n  const reader = eventStream?.getReader();\n  let span;\n  let isCancelled = false;\n  return new AsyncIteratorClass(async () => {\n    span ??= startSpan(\"consume_event_iterator_stream\");\n    try {\n      while (true) {\n        if (reader === void 0) {\n          return { done: true, value: void 0 };\n        }\n        const { done, value } = await runInSpanContext(span, () => reader.read());\n        if (done) {\n          if (isCancelled) {\n            throw new AbortError(\"Stream was cancelled\");\n          }\n          return { done: true, value: void 0 };\n        }\n        switch (value.event) {\n          case \"message\": {\n            let message = parseEmptyableJSON(value.data);\n            if (isTypescriptObject(message)) {\n              message = withEventMeta(message, value);\n            }\n            span?.addEvent(\"message\");\n            return { done: false, value: message };\n          }\n          case \"error\": {\n            let error = new ErrorEvent({\n              data: parseEmptyableJSON(value.data)\n            });\n            error = withEventMeta(error, value);\n            span?.addEvent(\"error\");\n            throw error;\n          }\n          case \"done\": {\n            let done2 = parseEmptyableJSON(value.data);\n            if (isTypescriptObject(done2)) {\n              done2 = withEventMeta(done2, value);\n            }\n            span?.addEvent(\"done\");\n            return { done: true, value: done2 };\n          }\n          default: {\n            span?.addEvent(\"maybe_keepalive\");\n          }\n        }\n      }\n    } catch (e) {\n      if (!(e instanceof ErrorEvent)) {\n        setSpanError(span, e, options);\n      }\n      throw e;\n    }\n  }, async (reason) => {\n    try {\n      if (reason !== \"next\") {\n        isCancelled = true;\n        span?.addEvent(\"cancelled\");\n      }\n      await runInSpanContext(span, () => reader?.cancel());\n    } catch (e) {\n      setSpanError(span, e, options);\n      throw e;\n    } finally {\n      span?.end();\n    }\n  });\n}\nfunction toEventStream(iterator, options = {}) {\n  const keepAliveEnabled = options.eventIteratorKeepAliveEnabled ?? true;\n  const keepAliveInterval = options.eventIteratorKeepAliveInterval ?? 5e3;\n  const keepAliveComment = options.eventIteratorKeepAliveComment ?? \"\";\n  const initialCommentEnabled = options.eventIteratorInitialCommentEnabled ?? true;\n  const initialComment = options.eventIteratorInitialComment ?? \"\";\n  let cancelled = false;\n  let timeout;\n  let span;\n  const stream = new ReadableStream({\n    start(controller) {\n      span = startSpan(\"stream_event_iterator\");\n      if (initialCommentEnabled) {\n        controller.enqueue(encodeEventMessage({\n          comments: [initialComment]\n        }));\n      }\n    },\n    async pull(controller) {\n      try {\n        if (keepAliveEnabled) {\n          timeout = setInterval(() => {\n            controller.enqueue(encodeEventMessage({\n              comments: [keepAliveComment]\n            }));\n            span?.addEvent(\"keepalive\");\n          }, keepAliveInterval);\n        }\n        const value = await runInSpanContext(span, () => iterator.next());\n        clearInterval(timeout);\n        if (cancelled) {\n          return;\n        }\n        const meta = getEventMeta(value.value);\n        if (!value.done || value.value !== void 0 || meta !== void 0) {\n          const event = value.done ? \"done\" : \"message\";\n          controller.enqueue(encodeEventMessage({\n            ...meta,\n            event,\n            data: stringifyJSON(value.value)\n          }));\n          span?.addEvent(event);\n        }\n        if (value.done) {\n          controller.close();\n          span?.end();\n        }\n      } catch (err) {\n        clearInterval(timeout);\n        if (cancelled) {\n          return;\n        }\n        if (err instanceof ErrorEvent) {\n          controller.enqueue(encodeEventMessage({\n            ...getEventMeta(err),\n            event: \"error\",\n            data: stringifyJSON(err.data)\n          }));\n          span?.addEvent(\"error\");\n          controller.close();\n        } else {\n          setSpanError(span, err);\n          controller.error(err);\n        }\n        span?.end();\n      }\n    },\n    async cancel() {\n      try {\n        cancelled = true;\n        clearInterval(timeout);\n        span?.addEvent(\"cancelled\");\n        await runInSpanContext(span, () => iterator.return?.());\n      } catch (e) {\n        setSpanError(span, e);\n        throw e;\n      } finally {\n        span?.end();\n      }\n    }\n  }).pipeThrough(new TextEncoderStream());\n  return stream;\n}\n\nfunction toStandardBody(re, options = {}) {\n  return runWithSpan(\n    { name: \"parse_standard_body\", signal: options.signal },\n    async () => {\n      const contentDisposition = re.headers.get(\"content-disposition\");\n      if (typeof contentDisposition === \"string\") {\n        const fileName = getFilenameFromContentDisposition(contentDisposition) ?? \"blob\";\n        const blob2 = await re.blob();\n        return new File([blob2], fileName, {\n          type: blob2.type\n        });\n      }\n      const contentType = re.headers.get(\"content-type\");\n      if (!contentType || contentType.startsWith(\"application/json\")) {\n        const text = await re.text();\n        return parseEmptyableJSON(text);\n      }\n      if (contentType.startsWith(\"multipart/form-data\")) {\n        return await re.formData();\n      }\n      if (contentType.startsWith(\"application/x-www-form-urlencoded\")) {\n        const text = await re.text();\n        return new URLSearchParams(text);\n      }\n      if (contentType.startsWith(\"text/event-stream\")) {\n        return toEventIterator(re.body, options);\n      }\n      if (contentType.startsWith(\"text/plain\")) {\n        return await re.text();\n      }\n      const blob = await re.blob();\n      return new File([blob], \"blob\", {\n        type: blob.type\n      });\n    }\n  );\n}\nfunction toFetchBody(body, headers, options = {}) {\n  const currentContentDisposition = headers.get(\"content-disposition\");\n  headers.delete(\"content-type\");\n  headers.delete(\"content-disposition\");\n  if (body === void 0) {\n    return void 0;\n  }\n  if (body instanceof Blob) {\n    headers.set(\"content-type\", body.type);\n    headers.set(\"content-length\", body.size.toString());\n    headers.set(\n      \"content-disposition\",\n      currentContentDisposition ?? generateContentDisposition(body instanceof File ? body.name : \"blob\")\n    );\n    return body;\n  }\n  if (body instanceof FormData) {\n    return body;\n  }\n  if (body instanceof URLSearchParams) {\n    return body;\n  }\n  if (isAsyncIteratorObject(body)) {\n    headers.set(\"content-type\", \"text/event-stream\");\n    return toEventStream(body, options);\n  }\n  headers.set(\"content-type\", \"application/json\");\n  return stringifyJSON(body);\n}\n\nfunction toStandardHeaders(headers, standardHeaders = {}) {\n  headers.forEach((value, key) => {\n    if (Array.isArray(standardHeaders[key])) {\n      standardHeaders[key].push(value);\n    } else if (standardHeaders[key] !== void 0) {\n      standardHeaders[key] = [standardHeaders[key], value];\n    } else {\n      standardHeaders[key] = value;\n    }\n  });\n  return standardHeaders;\n}\nfunction toFetchHeaders(headers, fetchHeaders = new Headers()) {\n  for (const [key, value] of Object.entries(headers)) {\n    if (Array.isArray(value)) {\n      for (const v of value) {\n        fetchHeaders.append(key, v);\n      }\n    } else if (value !== void 0) {\n      fetchHeaders.append(key, value);\n    }\n  }\n  return fetchHeaders;\n}\n\nfunction toStandardLazyRequest(request) {\n  return {\n    url: new URL(request.url),\n    signal: request.signal,\n    method: request.method,\n    body: once(() => toStandardBody(request, { signal: request.signal })),\n    get headers() {\n      const headers = toStandardHeaders(request.headers);\n      Object.defineProperty(this, \"headers\", { value: headers, writable: true });\n      return headers;\n    },\n    set headers(value) {\n      Object.defineProperty(this, \"headers\", { value, writable: true });\n    }\n  };\n}\nfunction toFetchRequest(request, options = {}) {\n  const headers = toFetchHeaders(request.headers);\n  const body = toFetchBody(request.body, headers, options);\n  return new Request(request.url, {\n    signal: request.signal,\n    method: request.method,\n    headers,\n    body\n  });\n}\n\nfunction toFetchResponse(response, options = {}) {\n  const headers = toFetchHeaders(response.headers);\n  const body = toFetchBody(response.body, headers, options);\n  return new Response(body, { headers, status: response.status });\n}\nfunction toStandardLazyResponse(response, options = {}) {\n  return {\n    body: once(() => toStandardBody(response, options)),\n    status: response.status,\n    get headers() {\n      const headers = toStandardHeaders(response.headers);\n      Object.defineProperty(this, \"headers\", { value: headers, writable: true });\n      return headers;\n    },\n    set headers(value) {\n      Object.defineProperty(this, \"headers\", { value, writable: true });\n    }\n  };\n}\n\nexport { toEventIterator, toEventStream, toFetchBody, toFetchHeaders, toFetchRequest, toFetchResponse, toStandardBody, toStandardHeaders, toStandardLazyRequest, toStandardLazyResponse };\n","import { toArray, runWithSpan, ORPC_NAME, isAsyncIteratorObject, asyncIteratorWithSpan, intercept, getGlobalOtelConfig, isObject, value, stringifyJSON } from '@orpc/shared';\nimport { mergeStandardHeaders, ErrorEvent } from '@orpc/standard-server';\nimport { C as COMMON_ORPC_ERROR_DEFS, d as isORPCErrorStatus, e as isORPCErrorJson, g as createORPCErrorFromJson, c as ORPCError, t as toORPCError } from './client.J7pEE4Uw.mjs';\nimport { toStandardHeaders as toStandardHeaders$1 } from '@orpc/standard-server-fetch';\nimport { m as mapEventIterator } from './client.BLtwTQUg.mjs';\n\nclass CompositeStandardLinkPlugin {\n  plugins;\n  constructor(plugins = []) {\n    this.plugins = [...plugins].sort((a, b) => (a.order ?? 0) - (b.order ?? 0));\n  }\n  init(options) {\n    for (const plugin of this.plugins) {\n      plugin.init?.(options);\n    }\n  }\n}\n\nclass StandardLink {\n  constructor(codec, sender, options = {}) {\n    this.codec = codec;\n    this.sender = sender;\n    const plugin = new CompositeStandardLinkPlugin(options.plugins);\n    plugin.init(options);\n    this.interceptors = toArray(options.interceptors);\n    this.clientInterceptors = toArray(options.clientInterceptors);\n  }\n  interceptors;\n  clientInterceptors;\n  call(path, input, options) {\n    return runWithSpan(\n      { name: `${ORPC_NAME}.${path.join(\"/\")}`, signal: options.signal },\n      (span) => {\n        span?.setAttribute(\"rpc.system\", ORPC_NAME);\n        span?.setAttribute(\"rpc.method\", path.join(\".\"));\n        if (isAsyncIteratorObject(input)) {\n          input = asyncIteratorWithSpan(\n            { name: \"consume_event_iterator_input\", signal: options.signal },\n            input\n          );\n        }\n        return intercept(this.interceptors, { ...options, path, input }, async ({ path: path2, input: input2, ...options2 }) => {\n          const otelConfig = getGlobalOtelConfig();\n          let otelContext;\n          const currentSpan = otelConfig?.trace.getActiveSpan() ?? span;\n          if (currentSpan && otelConfig) {\n            otelContext = otelConfig?.trace.setSpan(otelConfig.context.active(), currentSpan);\n          }\n          const request = await runWithSpan(\n            { name: \"encode_request\", context: otelContext },\n            () => this.codec.encode(path2, input2, options2)\n          );\n          const response = await intercept(\n            this.clientInterceptors,\n            { ...options2, input: input2, path: path2, request },\n            ({ input: input3, path: path3, request: request2, ...options3 }) => {\n              return runWithSpan(\n                { name: \"send_request\", signal: options3.signal, context: otelContext },\n                () => this.sender.call(request2, options3, path3, input3)\n              );\n            }\n          );\n          const output = await runWithSpan(\n            { name: \"decode_response\", context: otelContext },\n            () => this.codec.decode(response, options2, path2, input2)\n          );\n          if (isAsyncIteratorObject(output)) {\n            return asyncIteratorWithSpan(\n              { name: \"consume_event_iterator_output\", signal: options2.signal },\n              output\n            );\n          }\n          return output;\n        });\n      }\n    );\n  }\n}\n\nconst STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES = {\n  BIGINT: 0,\n  DATE: 1,\n  NAN: 2,\n  UNDEFINED: 3,\n  URL: 4,\n  REGEXP: 5,\n  SET: 6,\n  MAP: 7\n};\nclass StandardRPCJsonSerializer {\n  customSerializers;\n  constructor(options = {}) {\n    this.customSerializers = options.customJsonSerializers ?? [];\n    if (this.customSerializers.length !== new Set(this.customSerializers.map((custom) => custom.type)).size) {\n      throw new Error(\"Custom serializer type must be unique.\");\n    }\n  }\n  serialize(data, segments = [], meta = [], maps = [], blobs = []) {\n    for (const custom of this.customSerializers) {\n      if (custom.condition(data)) {\n        const result = this.serialize(custom.serialize(data), segments, meta, maps, blobs);\n        meta.push([custom.type, ...segments]);\n        return result;\n      }\n    }\n    if (data instanceof Blob) {\n      maps.push(segments);\n      blobs.push(data);\n      return [data, meta, maps, blobs];\n    }\n    if (typeof data === \"bigint\") {\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.BIGINT, ...segments]);\n      return [data.toString(), meta, maps, blobs];\n    }\n    if (data instanceof Date) {\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.DATE, ...segments]);\n      if (Number.isNaN(data.getTime())) {\n        return [null, meta, maps, blobs];\n      }\n      return [data.toISOString(), meta, maps, blobs];\n    }\n    if (Number.isNaN(data)) {\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.NAN, ...segments]);\n      return [null, meta, maps, blobs];\n    }\n    if (data instanceof URL) {\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.URL, ...segments]);\n      return [data.toString(), meta, maps, blobs];\n    }\n    if (data instanceof RegExp) {\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.REGEXP, ...segments]);\n      return [data.toString(), meta, maps, blobs];\n    }\n    if (data instanceof Set) {\n      const result = this.serialize(Array.from(data), segments, meta, maps, blobs);\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.SET, ...segments]);\n      return result;\n    }\n    if (data instanceof Map) {\n      const result = this.serialize(Array.from(data.entries()), segments, meta, maps, blobs);\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.MAP, ...segments]);\n      return result;\n    }\n    if (Array.isArray(data)) {\n      const json = data.map((v, i) => {\n        if (v === void 0) {\n          meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.UNDEFINED, ...segments, i]);\n          return v;\n        }\n        return this.serialize(v, [...segments, i], meta, maps, blobs)[0];\n      });\n      return [json, meta, maps, blobs];\n    }\n    if (isObject(data)) {\n      const json = {};\n      for (const k in data) {\n        if (k === \"toJSON\" && typeof data[k] === \"function\") {\n          continue;\n        }\n        json[k] = this.serialize(data[k], [...segments, k], meta, maps, blobs)[0];\n      }\n      return [json, meta, maps, blobs];\n    }\n    return [data, meta, maps, blobs];\n  }\n  deserialize(json, meta, maps, getBlob) {\n    const ref = { data: json };\n    if (maps && getBlob) {\n      maps.forEach((segments, i) => {\n        let currentRef = ref;\n        let preSegment = \"data\";\n        segments.forEach((segment) => {\n          currentRef = currentRef[preSegment];\n          preSegment = segment;\n        });\n        currentRef[preSegment] = getBlob(i);\n      });\n    }\n    for (const item of meta) {\n      const type = item[0];\n      let currentRef = ref;\n      let preSegment = \"data\";\n      for (let i = 1; i < item.length; i++) {\n        currentRef = currentRef[preSegment];\n        preSegment = item[i];\n      }\n      for (const custom of this.customSerializers) {\n        if (custom.type === type) {\n          currentRef[preSegment] = custom.deserialize(currentRef[preSegment]);\n          break;\n        }\n      }\n      switch (type) {\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.BIGINT:\n          currentRef[preSegment] = BigInt(currentRef[preSegment]);\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.DATE:\n          currentRef[preSegment] = new Date(currentRef[preSegment] ?? \"Invalid Date\");\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.NAN:\n          currentRef[preSegment] = Number.NaN;\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.UNDEFINED:\n          currentRef[preSegment] = void 0;\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.URL:\n          currentRef[preSegment] = new URL(currentRef[preSegment]);\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.REGEXP: {\n          const [, pattern, flags] = currentRef[preSegment].match(/^\\/(.*)\\/([a-z]*)$/);\n          currentRef[preSegment] = new RegExp(pattern, flags);\n          break;\n        }\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.SET:\n          currentRef[preSegment] = new Set(currentRef[preSegment]);\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.MAP:\n          currentRef[preSegment] = new Map(currentRef[preSegment]);\n          break;\n      }\n    }\n    return ref.data;\n  }\n}\n\nfunction toHttpPath(path) {\n  return `/${path.map(encodeURIComponent).join(\"/\")}`;\n}\nfunction toStandardHeaders(headers) {\n  if (typeof headers.forEach === \"function\") {\n    return toStandardHeaders$1(headers);\n  }\n  return headers;\n}\nfunction getMalformedResponseErrorCode(status) {\n  return Object.entries(COMMON_ORPC_ERROR_DEFS).find(([, def]) => def.status === status)?.[0] ?? \"MALFORMED_ORPC_ERROR_RESPONSE\";\n}\n\nclass StandardRPCLinkCodec {\n  constructor(serializer, options) {\n    this.serializer = serializer;\n    this.baseUrl = options.url;\n    this.maxUrlLength = options.maxUrlLength ?? 2083;\n    this.fallbackMethod = options.fallbackMethod ?? \"POST\";\n    this.expectedMethod = options.method ?? this.fallbackMethod;\n    this.headers = options.headers ?? {};\n  }\n  baseUrl;\n  maxUrlLength;\n  fallbackMethod;\n  expectedMethod;\n  headers;\n  async encode(path, input, options) {\n    let headers = toStandardHeaders(await value(this.headers, options, path, input));\n    if (options.lastEventId !== void 0) {\n      headers = mergeStandardHeaders(headers, { \"last-event-id\": options.lastEventId });\n    }\n    const expectedMethod = await value(this.expectedMethod, options, path, input);\n    const baseUrl = await value(this.baseUrl, options, path, input);\n    const url = new URL(baseUrl);\n    url.pathname = `${url.pathname.replace(/\\/$/, \"\")}${toHttpPath(path)}`;\n    const serialized = this.serializer.serialize(input);\n    if (expectedMethod === \"GET\" && !(serialized instanceof FormData) && !isAsyncIteratorObject(serialized)) {\n      const maxUrlLength = await value(this.maxUrlLength, options, path, input);\n      const getUrl = new URL(url);\n      getUrl.searchParams.append(\"data\", stringifyJSON(serialized));\n      if (getUrl.toString().length <= maxUrlLength) {\n        return {\n          body: void 0,\n          method: expectedMethod,\n          headers,\n          url: getUrl,\n          signal: options.signal\n        };\n      }\n    }\n    return {\n      url,\n      method: expectedMethod === \"GET\" ? this.fallbackMethod : expectedMethod,\n      headers,\n      body: serialized,\n      signal: options.signal\n    };\n  }\n  async decode(response) {\n    const isOk = !isORPCErrorStatus(response.status);\n    const deserialized = await (async () => {\n      let isBodyOk = false;\n      try {\n        const body = await response.body();\n        isBodyOk = true;\n        return this.serializer.deserialize(body);\n      } catch (error) {\n        if (!isBodyOk) {\n          throw new Error(\"Cannot parse response body, please check the response body and content-type.\", {\n            cause: error\n          });\n        }\n        throw new Error(\"Invalid RPC response format.\", {\n          cause: error\n        });\n      }\n    })();\n    if (!isOk) {\n      if (isORPCErrorJson(deserialized)) {\n        throw createORPCErrorFromJson(deserialized);\n      }\n      throw new ORPCError(getMalformedResponseErrorCode(response.status), {\n        status: response.status,\n        data: { ...response, body: deserialized }\n      });\n    }\n    return deserialized;\n  }\n}\n\nclass StandardRPCSerializer {\n  constructor(jsonSerializer) {\n    this.jsonSerializer = jsonSerializer;\n  }\n  serialize(data) {\n    if (isAsyncIteratorObject(data)) {\n      return mapEventIterator(data, {\n        value: async (value) => this.#serialize(value, false),\n        error: async (e) => {\n          return new ErrorEvent({\n            data: this.#serialize(toORPCError(e).toJSON(), false),\n            cause: e\n          });\n        }\n      });\n    }\n    return this.#serialize(data, true);\n  }\n  #serialize(data, enableFormData) {\n    const [json, meta_, maps, blobs] = this.jsonSerializer.serialize(data);\n    const meta = meta_.length === 0 ? void 0 : meta_;\n    if (!enableFormData || blobs.length === 0) {\n      return {\n        json,\n        meta\n      };\n    }\n    const form = new FormData();\n    form.set(\"data\", stringifyJSON({ json, meta, maps }));\n    blobs.forEach((blob, i) => {\n      form.set(i.toString(), blob);\n    });\n    return form;\n  }\n  deserialize(data) {\n    if (isAsyncIteratorObject(data)) {\n      return mapEventIterator(data, {\n        value: async (value) => this.#deserialize(value),\n        error: async (e) => {\n          if (!(e instanceof ErrorEvent)) {\n            return e;\n          }\n          const deserialized = this.#deserialize(e.data);\n          if (isORPCErrorJson(deserialized)) {\n            return createORPCErrorFromJson(deserialized, { cause: e });\n          }\n          return new ErrorEvent({\n            data: deserialized,\n            cause: e\n          });\n        }\n      });\n    }\n    return this.#deserialize(data);\n  }\n  #deserialize(data) {\n    if (data === void 0) {\n      return void 0;\n    }\n    if (!(data instanceof FormData)) {\n      return this.jsonSerializer.deserialize(data.json, data.meta ?? []);\n    }\n    const serialized = JSON.parse(data.get(\"data\"));\n    return this.jsonSerializer.deserialize(\n      serialized.json,\n      serialized.meta ?? [],\n      serialized.maps,\n      (i) => data.get(i.toString())\n    );\n  }\n}\n\nclass StandardRPCLink extends StandardLink {\n  constructor(linkClient, options) {\n    const jsonSerializer = new StandardRPCJsonSerializer(options);\n    const serializer = new StandardRPCSerializer(jsonSerializer);\n    const linkCodec = new StandardRPCLinkCodec(serializer, options);\n    super(linkCodec, linkClient, options);\n  }\n}\n\nexport { CompositeStandardLinkPlugin as C, StandardLink as S, STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES as a, StandardRPCJsonSerializer as b, StandardRPCLink as c, StandardRPCLinkCodec as d, StandardRPCSerializer as e, toStandardHeaders as f, getMalformedResponseErrorCode as g, toHttpPath as t };\n","import { AsyncIteratorClass, isTypescriptObject } from '@orpc/shared';\nimport { getEventMeta, withEventMeta } from '@orpc/standard-server';\n\nfunction mapEventIterator(iterator, maps) {\n  const mapError = async (error) => {\n    let mappedError = await maps.error(error);\n    if (mappedError !== error) {\n      const meta = getEventMeta(error);\n      if (meta && isTypescriptObject(mappedError)) {\n        mappedError = withEventMeta(mappedError, meta);\n      }\n    }\n    return mappedError;\n  };\n  return new AsyncIteratorClass(async () => {\n    const { done, value } = await (async () => {\n      try {\n        return await iterator.next();\n      } catch (error) {\n        throw await mapError(error);\n      }\n    })();\n    let mappedValue = await maps.value(value, done);\n    if (mappedValue !== value) {\n      const meta = getEventMeta(value);\n      if (meta && isTypescriptObject(mappedValue)) {\n        mappedValue = withEventMeta(mappedValue, meta);\n      }\n    }\n    return { done, value: mappedValue };\n  }, async () => {\n    try {\n      await iterator.return?.();\n    } catch (error) {\n      throw await mapError(error);\n    }\n  });\n}\n\nexport { mapEventIterator as m };\n","import { resolveMaybeOptionalOptions, getConstructor, isObject } from '@orpc/shared';\n\nconst ORPC_CLIENT_PACKAGE_NAME = \"@orpc/client\";\nconst ORPC_CLIENT_PACKAGE_VERSION = \"1.12.2\";\n\nconst COMMON_ORPC_ERROR_DEFS = {\n  BAD_REQUEST: {\n    status: 400,\n    message: \"Bad Request\"\n  },\n  UNAUTHORIZED: {\n    status: 401,\n    message: \"Unauthorized\"\n  },\n  FORBIDDEN: {\n    status: 403,\n    message: \"Forbidden\"\n  },\n  NOT_FOUND: {\n    status: 404,\n    message: \"Not Found\"\n  },\n  METHOD_NOT_SUPPORTED: {\n    status: 405,\n    message: \"Method Not Supported\"\n  },\n  NOT_ACCEPTABLE: {\n    status: 406,\n    message: \"Not Acceptable\"\n  },\n  TIMEOUT: {\n    status: 408,\n    message: \"Request Timeout\"\n  },\n  CONFLICT: {\n    status: 409,\n    message: \"Conflict\"\n  },\n  PRECONDITION_FAILED: {\n    status: 412,\n    message: \"Precondition Failed\"\n  },\n  PAYLOAD_TOO_LARGE: {\n    status: 413,\n    message: \"Payload Too Large\"\n  },\n  UNSUPPORTED_MEDIA_TYPE: {\n    status: 415,\n    message: \"Unsupported Media Type\"\n  },\n  UNPROCESSABLE_CONTENT: {\n    status: 422,\n    message: \"Unprocessable Content\"\n  },\n  TOO_MANY_REQUESTS: {\n    status: 429,\n    message: \"Too Many Requests\"\n  },\n  CLIENT_CLOSED_REQUEST: {\n    status: 499,\n    message: \"Client Closed Request\"\n  },\n  INTERNAL_SERVER_ERROR: {\n    status: 500,\n    message: \"Internal Server Error\"\n  },\n  NOT_IMPLEMENTED: {\n    status: 501,\n    message: \"Not Implemented\"\n  },\n  BAD_GATEWAY: {\n    status: 502,\n    message: \"Bad Gateway\"\n  },\n  SERVICE_UNAVAILABLE: {\n    status: 503,\n    message: \"Service Unavailable\"\n  },\n  GATEWAY_TIMEOUT: {\n    status: 504,\n    message: \"Gateway Timeout\"\n  }\n};\nfunction fallbackORPCErrorStatus(code, status) {\n  return status ?? COMMON_ORPC_ERROR_DEFS[code]?.status ?? 500;\n}\nfunction fallbackORPCErrorMessage(code, message) {\n  return message || COMMON_ORPC_ERROR_DEFS[code]?.message || code;\n}\nconst GLOBAL_ORPC_ERROR_CONSTRUCTORS_SYMBOL = Symbol.for(`__${ORPC_CLIENT_PACKAGE_NAME}@${ORPC_CLIENT_PACKAGE_VERSION}/error/ORPC_ERROR_CONSTRUCTORS__`);\nvoid (globalThis[GLOBAL_ORPC_ERROR_CONSTRUCTORS_SYMBOL] ??= /* @__PURE__ */ new WeakSet());\nconst globalORPCErrorConstructors = globalThis[GLOBAL_ORPC_ERROR_CONSTRUCTORS_SYMBOL];\nclass ORPCError extends Error {\n  defined;\n  code;\n  status;\n  data;\n  constructor(code, ...rest) {\n    const options = resolveMaybeOptionalOptions(rest);\n    if (options.status !== void 0 && !isORPCErrorStatus(options.status)) {\n      throw new Error(\"[ORPCError] Invalid error status code.\");\n    }\n    const message = fallbackORPCErrorMessage(code, options.message);\n    super(message, options);\n    this.code = code;\n    this.status = fallbackORPCErrorStatus(code, options.status);\n    this.defined = options.defined ?? false;\n    this.data = options.data;\n  }\n  toJSON() {\n    return {\n      defined: this.defined,\n      code: this.code,\n      status: this.status,\n      message: this.message,\n      data: this.data\n    };\n  }\n  /**\n   * Workaround for Next.js where different contexts use separate\n   * dependency graphs, causing multiple ORPCError constructors existing and breaking\n   * `instanceof` checks across contexts.\n   *\n   * This is particularly problematic with \"Optimized SSR\", where orpc-client\n   * executes in one context but is invoked from another. When an error is thrown\n   * in the execution context, `instanceof ORPCError` checks fail in the\n   * invocation context due to separate class constructors.\n   *\n   * @todo Remove this and related code if Next.js resolves the multiple dependency graph issue.\n   */\n  static [Symbol.hasInstance](instance) {\n    if (globalORPCErrorConstructors.has(this)) {\n      const constructor = getConstructor(instance);\n      if (constructor && globalORPCErrorConstructors.has(constructor)) {\n        return true;\n      }\n    }\n    return super[Symbol.hasInstance](instance);\n  }\n}\nglobalORPCErrorConstructors.add(ORPCError);\nfunction isDefinedError(error) {\n  return error instanceof ORPCError && error.defined;\n}\nfunction toORPCError(error) {\n  return error instanceof ORPCError ? error : new ORPCError(\"INTERNAL_SERVER_ERROR\", {\n    message: \"Internal server error\",\n    cause: error\n  });\n}\nfunction isORPCErrorStatus(status) {\n  return status < 200 || status >= 400;\n}\nfunction isORPCErrorJson(json) {\n  if (!isObject(json)) {\n    return false;\n  }\n  const validKeys = [\"defined\", \"code\", \"status\", \"message\", \"data\"];\n  if (Object.keys(json).some((k) => !validKeys.includes(k))) {\n    return false;\n  }\n  return \"defined\" in json && typeof json.defined === \"boolean\" && \"code\" in json && typeof json.code === \"string\" && \"status\" in json && typeof json.status === \"number\" && isORPCErrorStatus(json.status) && \"message\" in json && typeof json.message === \"string\";\n}\nfunction createORPCErrorFromJson(json, options = {}) {\n  return new ORPCError(json.code, {\n    ...options,\n    ...json\n  });\n}\n\nexport { COMMON_ORPC_ERROR_DEFS as C, ORPC_CLIENT_PACKAGE_NAME as O, ORPC_CLIENT_PACKAGE_VERSION as a, fallbackORPCErrorMessage as b, ORPCError as c, isORPCErrorStatus as d, isORPCErrorJson as e, fallbackORPCErrorStatus as f, createORPCErrorFromJson as g, isDefinedError as i, toORPCError as t };\n","import { StandardRPCJsonSerializer } from '@orpc/client/standard';\nimport { fallback, stringifyJSON, once } from '@orpc/shared';\nimport { getEventMeta, withEventMeta } from '@orpc/standard-server';\nimport { P as Publisher } from '../shared/experimental-publisher.BtlOkhPO.mjs';\n\nclass IORedisPublisher extends Publisher {\n  commander;\n  listener;\n  prefix;\n  serializer;\n  retentionSeconds;\n  subscriptionPromiseMap = /* @__PURE__ */ new Map();\n  listenersMap = /* @__PURE__ */ new Map();\n  onErrorsMap = /* @__PURE__ */ new Map();\n  redisListenerAndOnError;\n  get isResumeEnabled() {\n    return Number.isFinite(this.retentionSeconds) && this.retentionSeconds > 0;\n  }\n  /**\n   * The exactness of the `XTRIM` command.\n   *\n   * @internal\n   */\n  xtrimExactness = \"~\";\n  /**\n   * Useful for measuring memory usage.\n   *\n   * @internal\n   *\n   */\n  get size() {\n    let size = this.redisListenerAndOnError ? 1 : 0;\n    for (const listeners of this.listenersMap) {\n      size += listeners[1].length || 1;\n    }\n    for (const onErrors of this.onErrorsMap) {\n      size += onErrors[1].length || 1;\n    }\n    return size;\n  }\n  constructor({ commander, listener, resumeRetentionSeconds, prefix, ...options }) {\n    super(options);\n    this.commander = commander;\n    this.listener = listener;\n    this.prefix = fallback(prefix, \"orpc:publisher:\");\n    this.retentionSeconds = resumeRetentionSeconds ?? Number.NaN;\n    this.serializer = new StandardRPCJsonSerializer(options);\n  }\n  lastCleanupTimeMap = /* @__PURE__ */ new Map();\n  async publish(event, payload) {\n    const key = this.prefixKey(event);\n    const serialized = this.serializePayload(payload);\n    let id;\n    if (this.isResumeEnabled) {\n      const now = Date.now();\n      for (const [mapKey, lastCleanupTime] of this.lastCleanupTimeMap) {\n        if (lastCleanupTime + this.retentionSeconds * 1e3 < now) {\n          this.lastCleanupTimeMap.delete(mapKey);\n        }\n      }\n      if (!this.lastCleanupTimeMap.has(key)) {\n        this.lastCleanupTimeMap.set(key, now);\n        const result = await this.commander.multi().xadd(key, \"*\", \"data\", stringifyJSON(serialized)).xtrim(key, \"MINID\", this.xtrimExactness, `${now - this.retentionSeconds * 1e3}-0`).expire(key, this.retentionSeconds * 2).exec();\n        if (result) {\n          for (const [error] of result) {\n            if (error) {\n              throw error;\n            }\n          }\n        }\n        id = result[0][1];\n      } else {\n        const result = await this.commander.xadd(key, \"*\", \"data\", stringifyJSON(serialized));\n        id = result;\n      }\n    }\n    await this.commander.publish(key, stringifyJSON({ ...serialized, id }));\n  }\n  async subscribeListener(event, originalListener, { lastEventId, onError } = {}) {\n    const key = this.prefixKey(event);\n    let pendingPayloads = [];\n    const resumePayloadIds = /* @__PURE__ */ new Set();\n    const listener = (payload) => {\n      if (pendingPayloads) {\n        pendingPayloads.push(payload);\n        return;\n      }\n      const payloadId = getEventMeta(payload)?.id;\n      if (payloadId !== void 0 && resumePayloadIds.has(payloadId)) {\n        return;\n      }\n      originalListener(payload);\n    };\n    if (!this.redisListenerAndOnError) {\n      const redisOnError = (error) => {\n        for (const [_, onErrors] of this.onErrorsMap) {\n          for (const onError2 of onErrors) {\n            onError2(error);\n          }\n        }\n      };\n      const redisListener = (channel, message) => {\n        try {\n          const listeners2 = this.listenersMap.get(channel);\n          if (listeners2) {\n            const { id, ...rest } = JSON.parse(message);\n            const payload = this.deserializePayload(id, rest);\n            for (const listener2 of listeners2) {\n              listener2(payload);\n            }\n          }\n        } catch (error) {\n          const onErrors = this.onErrorsMap.get(channel);\n          if (onErrors) {\n            for (const onError2 of onErrors) {\n              onError2(error);\n            }\n          }\n        }\n      };\n      this.redisListenerAndOnError = { listener: redisListener, onError: redisOnError };\n      this.listener.on(\"message\", redisListener);\n      this.listener.on(\"error\", redisOnError);\n    }\n    const subscriptionPromise = this.subscriptionPromiseMap.get(key);\n    if (subscriptionPromise) {\n      await subscriptionPromise;\n    }\n    let listeners = this.listenersMap.get(key);\n    if (!listeners) {\n      try {\n        const promise = this.listener.subscribe(key);\n        this.subscriptionPromiseMap.set(key, promise);\n        await promise;\n        this.listenersMap.set(key, listeners = []);\n      } finally {\n        this.subscriptionPromiseMap.delete(key);\n        if (this.listenersMap.size === 0) {\n          this.listener.off(\"message\", this.redisListenerAndOnError.listener);\n          this.listener.off(\"error\", this.redisListenerAndOnError.onError);\n          this.redisListenerAndOnError = void 0;\n        }\n      }\n    }\n    listeners.push(listener);\n    if (onError) {\n      let onErrors = this.onErrorsMap.get(key);\n      if (!onErrors) {\n        this.onErrorsMap.set(key, onErrors = []);\n      }\n      onErrors.push(onError);\n    }\n    void (async () => {\n      try {\n        if (this.isResumeEnabled && typeof lastEventId === \"string\") {\n          const results = await this.commander.xread(\"STREAMS\", key, lastEventId);\n          if (results && results[0]) {\n            const [_, items] = results[0];\n            for (const [id, fields] of items) {\n              const serialized = fields[1];\n              const payload = this.deserializePayload(id, JSON.parse(serialized));\n              resumePayloadIds.add(id);\n              originalListener(payload);\n            }\n          }\n        }\n      } catch (error) {\n        onError?.(error);\n      } finally {\n        const pending = pendingPayloads;\n        pendingPayloads = void 0;\n        for (const payload of pending) {\n          listener(payload);\n        }\n      }\n    })();\n    const cleanupListeners = once(() => {\n      listeners.splice(listeners.indexOf(listener), 1);\n      if (onError) {\n        const onErrors = this.onErrorsMap.get(key);\n        if (onErrors) {\n          const index = onErrors.indexOf(onError);\n          if (index !== -1) {\n            onErrors.splice(index, 1);\n          }\n        }\n      }\n    });\n    return async () => {\n      cleanupListeners();\n      if (listeners.length === 0) {\n        this.listenersMap.delete(key);\n        this.onErrorsMap.delete(key);\n        if (this.redisListenerAndOnError && this.listenersMap.size === 0) {\n          this.listener.off(\"message\", this.redisListenerAndOnError.listener);\n          this.listener.off(\"error\", this.redisListenerAndOnError.onError);\n          this.redisListenerAndOnError = void 0;\n        }\n        await this.listener.unsubscribe(key);\n      }\n    };\n  }\n  prefixKey(key) {\n    return `${this.prefix}${key}`;\n  }\n  serializePayload(payload) {\n    const eventMeta = getEventMeta(payload);\n    const [json, meta] = this.serializer.serialize(payload);\n    return { json, meta, eventMeta };\n  }\n  deserializePayload(id, { json, meta, eventMeta }) {\n    return withEventMeta(\n      this.serializer.deserialize(json, meta),\n      id === void 0 ? { ...eventMeta } : { ...eventMeta, id }\n    );\n  }\n}\n\nexport { IORedisPublisher };\n","import { EventPublisher, SequentialIdGenerator, compareSequentialIds } from '@orpc/shared';\nimport { withEventMeta, getEventMeta } from '@orpc/standard-server';\nimport { P as Publisher } from '../shared/experimental-publisher.BtlOkhPO.mjs';\n\nclass MemoryPublisher extends Publisher {\n  eventPublisher = new EventPublisher();\n  idGenerator = new SequentialIdGenerator();\n  retentionSeconds;\n  eventsMap = /* @__PURE__ */ new Map();\n  /**\n   * Useful for measuring memory usage.\n   *\n   * @internal\n   *\n   */\n  get size() {\n    let size = this.eventPublisher.size;\n    for (const events of this.eventsMap) {\n      size += events[1].length || 1;\n    }\n    return size;\n  }\n  get isResumeEnabled() {\n    return Number.isFinite(this.retentionSeconds) && this.retentionSeconds > 0;\n  }\n  constructor({ resumeRetentionSeconds, ...options } = {}) {\n    super(options);\n    this.retentionSeconds = resumeRetentionSeconds ?? Number.NaN;\n  }\n  async publish(event, payload) {\n    this.cleanup();\n    if (this.isResumeEnabled) {\n      const now = Date.now();\n      const expiresAt = now + this.retentionSeconds * 1e3;\n      let events = this.eventsMap.get(event);\n      if (!events) {\n        this.eventsMap.set(event, events = []);\n      }\n      payload = withEventMeta(payload, { ...getEventMeta(payload), id: this.idGenerator.generate() });\n      events.push({ expiresAt, payload });\n    }\n    this.eventPublisher.publish(event, payload);\n  }\n  async subscribeListener(event, listener, options) {\n    if (this.isResumeEnabled && typeof options?.lastEventId === \"string\") {\n      const events = this.eventsMap.get(event);\n      if (events) {\n        for (const { payload } of events) {\n          const id = getEventMeta(payload)?.id;\n          if (typeof id === \"string\" && compareSequentialIds(id, options.lastEventId) > 0) {\n            listener(payload);\n          }\n        }\n      }\n    }\n    const syncUnsub = this.eventPublisher.subscribe(event, listener);\n    return async () => {\n      syncUnsub();\n    };\n  }\n  lastCleanupTime = null;\n  cleanup() {\n    if (!this.isResumeEnabled) {\n      return;\n    }\n    const now = Date.now();\n    if (this.lastCleanupTime !== null && this.lastCleanupTime + this.retentionSeconds * 1e3 > now) {\n      return;\n    }\n    this.lastCleanupTime = now;\n    for (const [event, events] of this.eventsMap) {\n      const validEvents = events.filter((event2) => event2.expiresAt > now);\n      if (validEvents.length > 0) {\n        this.eventsMap.set(event, validEvents);\n      } else {\n        this.eventsMap.delete(event);\n      }\n    }\n  }\n}\n\nexport { MemoryPublisher };\n","import { StandardRPCJsonSerializer } from '@orpc/client/standard';\nimport { fallback, once } from '@orpc/shared';\nimport { getEventMeta, withEventMeta } from '@orpc/standard-server';\nimport { P as Publisher } from '../shared/experimental-publisher.BtlOkhPO.mjs';\n\nclass UpstashRedisPublisher extends Publisher {\n  constructor(redis, { resumeRetentionSeconds, prefix, ...options } = {}) {\n    super(options);\n    this.redis = redis;\n    this.prefix = fallback(prefix, \"orpc:publisher:\");\n    this.retentionSeconds = resumeRetentionSeconds ?? Number.NaN;\n    this.serializer = new StandardRPCJsonSerializer(options);\n  }\n  prefix;\n  serializer;\n  retentionSeconds;\n  listenersMap = /* @__PURE__ */ new Map();\n  onErrorsMap = /* @__PURE__ */ new Map();\n  subscriptionPromiseMap = /* @__PURE__ */ new Map();\n  subscriptionsMap = /* @__PURE__ */ new Map();\n  // Upstash subscription objects\n  get isResumeEnabled() {\n    return Number.isFinite(this.retentionSeconds) && this.retentionSeconds > 0;\n  }\n  /**\n   * The exactness of the `XTRIM` command.\n   *\n   * @internal\n   */\n  xtrimExactness = \"~\";\n  /**\n   * Useful for measuring memory usage.\n   *\n   * @internal\n   *\n   */\n  get size() {\n    let size = 0;\n    for (const listeners of this.listenersMap) {\n      size += listeners[1].length || 1;\n    }\n    for (const onErrors of this.onErrorsMap) {\n      size += onErrors[1].length || 1;\n    }\n    return size;\n  }\n  lastCleanupTimeMap = /* @__PURE__ */ new Map();\n  async publish(event, payload) {\n    const key = this.prefixKey(event);\n    const serialized = this.serializePayload(payload);\n    let id;\n    if (this.isResumeEnabled) {\n      const now = Date.now();\n      for (const [mapKey, lastCleanupTime] of this.lastCleanupTimeMap) {\n        if (lastCleanupTime + this.retentionSeconds * 1e3 < now) {\n          this.lastCleanupTimeMap.delete(mapKey);\n        }\n      }\n      if (!this.lastCleanupTimeMap.has(key)) {\n        this.lastCleanupTimeMap.set(key, now);\n        const results = await this.redis.multi().xadd(key, \"*\", { data: serialized }).xtrim(key, { strategy: \"MINID\", exactness: this.xtrimExactness, threshold: `${now - this.retentionSeconds * 1e3}-0` }).expire(key, this.retentionSeconds * 2).exec();\n        id = results[0];\n      } else {\n        const result = await this.redis.xadd(key, \"*\", { data: serialized });\n        id = result;\n      }\n    }\n    await this.redis.publish(key, { ...serialized, id });\n  }\n  async subscribeListener(event, originalListener, { lastEventId, onError } = {}) {\n    const key = this.prefixKey(event);\n    let pendingPayloads = [];\n    const resumePayloadIds = /* @__PURE__ */ new Set();\n    const listener = (payload) => {\n      if (pendingPayloads) {\n        pendingPayloads.push(payload);\n        return;\n      }\n      const payloadId = getEventMeta(payload)?.id;\n      if (payloadId !== void 0 && resumePayloadIds.has(payloadId)) {\n        return;\n      }\n      originalListener(payload);\n    };\n    const subscriptionPromise = this.subscriptionPromiseMap.get(key);\n    if (subscriptionPromise) {\n      await subscriptionPromise;\n    }\n    let subscription = this.subscriptionsMap.get(key);\n    if (!subscription) {\n      const dispatchErrorForKey = (error) => {\n        const onErrors = this.onErrorsMap.get(key);\n        if (onErrors) {\n          for (const onError2 of onErrors) {\n            onError2(error);\n          }\n        }\n      };\n      subscription = this.redis.subscribe(key);\n      subscription.on(\"message\", (event2) => {\n        try {\n          const listeners2 = this.listenersMap.get(event2.channel);\n          if (listeners2) {\n            const { id, ...rest } = event2.message;\n            const payload = this.deserializePayload(id, rest);\n            for (const listener2 of listeners2) {\n              listener2(payload);\n            }\n          }\n        } catch (error) {\n          dispatchErrorForKey(error);\n        }\n      });\n      let resolvePromise;\n      let rejectPromise;\n      const promise = new Promise((resolve, reject) => {\n        resolvePromise = resolve;\n        rejectPromise = reject;\n      });\n      subscription.on(\"error\", (error) => {\n        rejectPromise(error);\n        dispatchErrorForKey(error);\n      });\n      subscription.on(\"subscribe\", () => {\n        resolvePromise();\n      });\n      try {\n        this.subscriptionPromiseMap.set(key, promise);\n        await promise;\n        this.subscriptionsMap.set(key, subscription);\n      } finally {\n        this.subscriptionPromiseMap.delete(key);\n      }\n    }\n    let listeners = this.listenersMap.get(key);\n    if (!listeners) {\n      this.listenersMap.set(key, listeners = []);\n    }\n    listeners.push(listener);\n    if (onError) {\n      let onErrors = this.onErrorsMap.get(key);\n      if (!onErrors) {\n        this.onErrorsMap.set(key, onErrors = []);\n      }\n      onErrors.push(onError);\n    }\n    void (async () => {\n      try {\n        if (this.isResumeEnabled && typeof lastEventId === \"string\") {\n          const results = await this.redis.xread(key, lastEventId);\n          if (results && results[0]) {\n            const [_, items] = results[0];\n            for (const [id, fields] of items) {\n              const serialized = fields[1];\n              const payload = this.deserializePayload(id, serialized);\n              resumePayloadIds.add(id);\n              originalListener(payload);\n            }\n          }\n        }\n      } catch (error) {\n        onError?.(error);\n      } finally {\n        const pending = pendingPayloads;\n        pendingPayloads = void 0;\n        for (const payload of pending) {\n          listener(payload);\n        }\n      }\n    })();\n    const cleanupListeners = once(() => {\n      listeners.splice(listeners.indexOf(listener), 1);\n      if (onError) {\n        const onErrors = this.onErrorsMap.get(key);\n        if (onErrors) {\n          onErrors.splice(onErrors.indexOf(onError), 1);\n        }\n      }\n    });\n    return async () => {\n      cleanupListeners();\n      if (listeners.length === 0) {\n        this.listenersMap.delete(key);\n        this.onErrorsMap.delete(key);\n        const subscription2 = this.subscriptionsMap.get(key);\n        if (subscription2) {\n          this.subscriptionsMap.delete(key);\n          await subscription2.unsubscribe();\n        }\n      }\n    };\n  }\n  prefixKey(key) {\n    return `${this.prefix}${key}`;\n  }\n  serializePayload(payload) {\n    const eventMeta = getEventMeta(payload);\n    const [json, meta] = this.serializer.serialize(payload);\n    return { json, meta, eventMeta };\n  }\n  deserializePayload(id, { json, meta, eventMeta }) {\n    return withEventMeta(\n      this.serializer.deserialize(json, meta),\n      id === void 0 ? { ...eventMeta } : { ...eventMeta, id }\n    );\n  }\n}\n\nexport { UpstashRedisPublisher };\n","import { AsyncIteratorClass } from '@orpc/shared';\n\nclass Publisher {\n  maxBufferedEvents;\n  constructor(options = {}) {\n    this.maxBufferedEvents = options.maxBufferedEvents ?? 100;\n  }\n  subscribe(event, listenerOrOptions, listenerOptions) {\n    if (typeof listenerOrOptions === \"function\") {\n      return this.subscribeListener(event, listenerOrOptions, listenerOptions);\n    }\n    const signal = listenerOrOptions?.signal;\n    const maxBufferedEvents = listenerOrOptions?.maxBufferedEvents ?? this.maxBufferedEvents;\n    signal?.throwIfAborted();\n    const bufferedEvents = [];\n    const pullResolvers = [];\n    let subscriptionError;\n    const unsubscribePromise = this.subscribe(event, (payload) => {\n      const resolver = pullResolvers.shift();\n      if (resolver) {\n        resolver[0]({ done: false, value: payload });\n      } else {\n        bufferedEvents.push(payload);\n        if (bufferedEvents.length > maxBufferedEvents) {\n          bufferedEvents.shift();\n        }\n      }\n    }, {\n      lastEventId: listenerOrOptions?.lastEventId,\n      onError: (error) => {\n        subscriptionError = { error };\n        pullResolvers.forEach((resolver) => resolver[1](error));\n        signal?.removeEventListener(\"abort\", abortListener);\n        pullResolvers.length = 0;\n        bufferedEvents.length = 0;\n        unsubscribePromise.then((unsubscribe) => unsubscribe()).catch(() => {\n        });\n      }\n    });\n    function abortListener(event2) {\n      pullResolvers.forEach((resolver) => resolver[1](event2.target.reason));\n      pullResolvers.length = 0;\n      bufferedEvents.length = 0;\n      unsubscribePromise.then((unsubscribe) => unsubscribe()).catch(() => {\n      });\n    }\n    signal?.addEventListener(\"abort\", abortListener, { once: true });\n    return new AsyncIteratorClass(async () => {\n      if (subscriptionError) {\n        throw subscriptionError.error;\n      }\n      if (signal?.aborted) {\n        throw signal.reason;\n      }\n      await unsubscribePromise;\n      if (bufferedEvents.length > 0) {\n        return { done: false, value: bufferedEvents.shift() };\n      }\n      return new Promise((resolve, reject) => {\n        pullResolvers.push([resolve, reject]);\n      });\n    }, async () => {\n      pullResolvers.forEach((resolver) => resolver[0]({ done: true, value: void 0 }));\n      signal?.removeEventListener(\"abort\", abortListener);\n      pullResolvers.length = 0;\n      bufferedEvents.length = 0;\n      await unsubscribePromise.then((unsubscribe) => unsubscribe());\n    });\n  }\n}\n\nexport { Publisher as P };\n","export { group, guard, mapEntries, mapValues, omit, retry, sleep } from 'radash';\n\nfunction resolveMaybeOptionalOptions(rest) {\n  return rest[0] ?? {};\n}\n\nfunction toArray(value) {\n  return Array.isArray(value) ? value : value === void 0 || value === null ? [] : [value];\n}\nfunction splitInHalf(arr) {\n  const half = Math.ceil(arr.length / 2);\n  return [arr.slice(0, half), arr.slice(half)];\n}\n\nfunction readAsBuffer(source) {\n  if (typeof source.bytes === \"function\") {\n    return source.bytes();\n  }\n  return source.arrayBuffer();\n}\n\nconst ORPC_NAME = \"orpc\";\nconst ORPC_SHARED_PACKAGE_NAME = \"@orpc/shared\";\nconst ORPC_SHARED_PACKAGE_VERSION = \"1.12.2\";\n\nclass AbortError extends Error {\n  constructor(...rest) {\n    super(...rest);\n    this.name = \"AbortError\";\n  }\n}\n\nfunction once(fn) {\n  let cached;\n  return () => {\n    if (cached) {\n      return cached.result;\n    }\n    const result = fn();\n    cached = { result };\n    return result;\n  };\n}\nfunction sequential(fn) {\n  let lastOperationPromise = Promise.resolve();\n  return (...args) => {\n    return lastOperationPromise = lastOperationPromise.catch(() => {\n    }).then(() => {\n      return fn(...args);\n    });\n  };\n}\nfunction defer(callback) {\n  if (typeof setTimeout === \"function\") {\n    setTimeout(callback, 0);\n  } else {\n    Promise.resolve().then(() => Promise.resolve().then(() => Promise.resolve().then(callback)));\n  }\n}\n\nconst SPAN_ERROR_STATUS = 2;\nconst GLOBAL_OTEL_CONFIG_KEY = `__${ORPC_SHARED_PACKAGE_NAME}@${ORPC_SHARED_PACKAGE_VERSION}/otel/config__`;\nfunction setGlobalOtelConfig(config) {\n  globalThis[GLOBAL_OTEL_CONFIG_KEY] = config;\n}\nfunction getGlobalOtelConfig() {\n  return globalThis[GLOBAL_OTEL_CONFIG_KEY];\n}\nfunction startSpan(name, options = {}, context) {\n  const tracer = getGlobalOtelConfig()?.tracer;\n  return tracer?.startSpan(name, options, context);\n}\nfunction setSpanError(span, error, options = {}) {\n  if (!span) {\n    return;\n  }\n  const exception = toOtelException(error);\n  span.recordException(exception);\n  if (!options.signal?.aborted || options.signal.reason !== error) {\n    span.setStatus({\n      code: SPAN_ERROR_STATUS,\n      message: exception.message\n    });\n  }\n}\nfunction setSpanAttribute(span, key, value) {\n  if (!span || value === void 0) {\n    return;\n  }\n  span.setAttribute(key, value);\n}\nfunction toOtelException(error) {\n  if (error instanceof Error) {\n    const exception = {\n      message: error.message,\n      name: error.name,\n      stack: error.stack\n    };\n    if (\"code\" in error && (typeof error.code === \"string\" || typeof error.code === \"number\")) {\n      exception.code = error.code;\n    }\n    return exception;\n  }\n  return { message: String(error) };\n}\nfunction toSpanAttributeValue(data) {\n  if (data === void 0) {\n    return \"undefined\";\n  }\n  try {\n    return JSON.stringify(data, (_, value) => {\n      if (typeof value === \"bigint\") {\n        return value.toString();\n      }\n      if (value instanceof Map || value instanceof Set) {\n        return Array.from(value);\n      }\n      return value;\n    });\n  } catch {\n    return String(data);\n  }\n}\nasync function runWithSpan({ name, context, ...options }, fn) {\n  const tracer = getGlobalOtelConfig()?.tracer;\n  if (!tracer) {\n    return fn();\n  }\n  const callback = async (span) => {\n    try {\n      return await fn(span);\n    } catch (e) {\n      setSpanError(span, e, options);\n      throw e;\n    } finally {\n      span.end();\n    }\n  };\n  if (context) {\n    return tracer.startActiveSpan(name, options, context, callback);\n  } else {\n    return tracer.startActiveSpan(name, options, callback);\n  }\n}\nasync function runInSpanContext(span, fn) {\n  const otelConfig = getGlobalOtelConfig();\n  if (!span || !otelConfig) {\n    return fn();\n  }\n  const ctx = otelConfig.trace.setSpan(otelConfig.context.active(), span);\n  return otelConfig.context.with(ctx, fn);\n}\n\nclass AsyncIdQueue {\n  openIds = /* @__PURE__ */ new Set();\n  queues = /* @__PURE__ */ new Map();\n  waiters = /* @__PURE__ */ new Map();\n  get length() {\n    return this.openIds.size;\n  }\n  get waiterIds() {\n    return Array.from(this.waiters.keys());\n  }\n  hasBufferedItems(id) {\n    return Boolean(this.queues.get(id)?.length);\n  }\n  open(id) {\n    this.openIds.add(id);\n  }\n  isOpen(id) {\n    return this.openIds.has(id);\n  }\n  push(id, item) {\n    this.assertOpen(id);\n    const pending = this.waiters.get(id);\n    if (pending?.length) {\n      pending.shift()[0](item);\n      if (pending.length === 0) {\n        this.waiters.delete(id);\n      }\n    } else {\n      const items = this.queues.get(id);\n      if (items) {\n        items.push(item);\n      } else {\n        this.queues.set(id, [item]);\n      }\n    }\n  }\n  async pull(id) {\n    this.assertOpen(id);\n    const items = this.queues.get(id);\n    if (items?.length) {\n      const item = items.shift();\n      if (items.length === 0) {\n        this.queues.delete(id);\n      }\n      return item;\n    }\n    return new Promise((resolve, reject) => {\n      const waitingPulls = this.waiters.get(id);\n      const pending = [resolve, reject];\n      if (waitingPulls) {\n        waitingPulls.push(pending);\n      } else {\n        this.waiters.set(id, [pending]);\n      }\n    });\n  }\n  close({ id, reason } = {}) {\n    if (id === void 0) {\n      this.waiters.forEach((pendingPulls, id2) => {\n        const error2 = reason ?? new AbortError(`[AsyncIdQueue] Queue[${id2}] was closed or aborted while waiting for pulling.`);\n        pendingPulls.forEach(([, reject]) => reject(error2));\n      });\n      this.waiters.clear();\n      this.openIds.clear();\n      this.queues.clear();\n      return;\n    }\n    const error = reason ?? new AbortError(`[AsyncIdQueue] Queue[${id}] was closed or aborted while waiting for pulling.`);\n    this.waiters.get(id)?.forEach(([, reject]) => reject(error));\n    this.waiters.delete(id);\n    this.openIds.delete(id);\n    this.queues.delete(id);\n  }\n  assertOpen(id) {\n    if (!this.isOpen(id)) {\n      throw new Error(`[AsyncIdQueue] Cannot access queue[${id}] because it is not open or aborted.`);\n    }\n  }\n}\n\nfunction isAsyncIteratorObject(maybe) {\n  if (!maybe || typeof maybe !== \"object\") {\n    return false;\n  }\n  return \"next\" in maybe && typeof maybe.next === \"function\" && Symbol.asyncIterator in maybe && typeof maybe[Symbol.asyncIterator] === \"function\";\n}\nconst fallbackAsyncDisposeSymbol = Symbol.for(\"asyncDispose\");\nconst asyncDisposeSymbol = Symbol.asyncDispose ?? fallbackAsyncDisposeSymbol;\nclass AsyncIteratorClass {\n  #isDone = false;\n  #isExecuteComplete = false;\n  #cleanup;\n  #next;\n  constructor(next, cleanup) {\n    this.#cleanup = cleanup;\n    this.#next = sequential(async () => {\n      if (this.#isDone) {\n        return { done: true, value: void 0 };\n      }\n      try {\n        const result = await next();\n        if (result.done) {\n          this.#isDone = true;\n        }\n        return result;\n      } catch (err) {\n        this.#isDone = true;\n        throw err;\n      } finally {\n        if (this.#isDone && !this.#isExecuteComplete) {\n          this.#isExecuteComplete = true;\n          await this.#cleanup(\"next\");\n        }\n      }\n    });\n  }\n  next() {\n    return this.#next();\n  }\n  async return(value) {\n    this.#isDone = true;\n    if (!this.#isExecuteComplete) {\n      this.#isExecuteComplete = true;\n      await this.#cleanup(\"return\");\n    }\n    return { done: true, value };\n  }\n  async throw(err) {\n    this.#isDone = true;\n    if (!this.#isExecuteComplete) {\n      this.#isExecuteComplete = true;\n      await this.#cleanup(\"throw\");\n    }\n    throw err;\n  }\n  /**\n   * asyncDispose symbol only available in esnext, we should fallback to Symbol.for('asyncDispose')\n   */\n  async [asyncDisposeSymbol]() {\n    this.#isDone = true;\n    if (!this.#isExecuteComplete) {\n      this.#isExecuteComplete = true;\n      await this.#cleanup(\"dispose\");\n    }\n  }\n  [Symbol.asyncIterator]() {\n    return this;\n  }\n}\nfunction replicateAsyncIterator(source, count) {\n  const queue = new AsyncIdQueue();\n  const ids = Array.from({ length: count }, (_, i) => i.toString());\n  let isSourceFinished = false;\n  const start = once(async () => {\n    try {\n      while (true) {\n        const item = await source.next();\n        ids.forEach((id) => {\n          if (queue.isOpen(id)) {\n            queue.push(id, { next: item });\n          }\n        });\n        if (item.done) {\n          break;\n        }\n      }\n    } catch (error) {\n      ids.forEach((id) => {\n        if (queue.isOpen(id)) {\n          queue.push(id, { error });\n        }\n      });\n    } finally {\n      isSourceFinished = true;\n    }\n  });\n  const replicated = ids.map((id) => {\n    queue.open(id);\n    return new AsyncIteratorClass(\n      async () => {\n        start();\n        const item = await queue.pull(id);\n        if (item.next) {\n          return item.next;\n        }\n        throw item.error;\n      },\n      async (reason) => {\n        queue.close({ id });\n        if (reason !== \"next\" && !queue.length && !isSourceFinished) {\n          isSourceFinished = true;\n          await source?.return?.();\n        }\n      }\n    );\n  });\n  return replicated;\n}\nfunction asyncIteratorWithSpan({ name, ...options }, iterator) {\n  let span;\n  return new AsyncIteratorClass(\n    async () => {\n      span ??= startSpan(name);\n      try {\n        const result = await runInSpanContext(span, () => iterator.next());\n        span?.addEvent(result.done ? \"completed\" : \"yielded\");\n        return result;\n      } catch (err) {\n        setSpanError(span, err, options);\n        throw err;\n      }\n    },\n    async (reason) => {\n      try {\n        if (reason !== \"next\") {\n          await runInSpanContext(span, () => iterator.return?.());\n        }\n      } catch (err) {\n        setSpanError(span, err, options);\n        throw err;\n      } finally {\n        span?.end();\n      }\n    }\n  );\n}\n\nclass EventPublisher {\n  #listenersMap = /* @__PURE__ */ new Map();\n  #maxBufferedEvents;\n  constructor(options = {}) {\n    this.#maxBufferedEvents = options.maxBufferedEvents ?? 100;\n  }\n  get size() {\n    return this.#listenersMap.size;\n  }\n  /**\n   * Emits an event and delivers the payload to all subscribed listeners.\n   */\n  publish(event, payload) {\n    const listeners = this.#listenersMap.get(event);\n    if (!listeners) {\n      return;\n    }\n    for (const listener of listeners) {\n      listener(payload);\n    }\n  }\n  subscribe(event, listenerOrOptions) {\n    if (typeof listenerOrOptions === \"function\") {\n      let listeners = this.#listenersMap.get(event);\n      if (!listeners) {\n        this.#listenersMap.set(event, listeners = []);\n      }\n      listeners.push(listenerOrOptions);\n      return once(() => {\n        listeners.splice(listeners.indexOf(listenerOrOptions), 1);\n        if (listeners.length === 0) {\n          this.#listenersMap.delete(event);\n        }\n      });\n    }\n    const signal = listenerOrOptions?.signal;\n    const maxBufferedEvents = listenerOrOptions?.maxBufferedEvents ?? this.#maxBufferedEvents;\n    signal?.throwIfAborted();\n    const bufferedEvents = [];\n    const pullResolvers = [];\n    const unsubscribe = this.subscribe(event, (payload) => {\n      const resolver = pullResolvers.shift();\n      if (resolver) {\n        resolver[0]({ done: false, value: payload });\n      } else {\n        bufferedEvents.push(payload);\n        if (bufferedEvents.length > maxBufferedEvents) {\n          bufferedEvents.shift();\n        }\n      }\n    });\n    const abortListener = (event2) => {\n      unsubscribe();\n      pullResolvers.forEach((resolver) => resolver[1](event2.target.reason));\n      pullResolvers.length = 0;\n      bufferedEvents.length = 0;\n    };\n    signal?.addEventListener(\"abort\", abortListener, { once: true });\n    return new AsyncIteratorClass(async () => {\n      if (signal?.aborted) {\n        throw signal.reason;\n      }\n      if (bufferedEvents.length > 0) {\n        return { done: false, value: bufferedEvents.shift() };\n      }\n      return new Promise((resolve, reject) => {\n        pullResolvers.push([resolve, reject]);\n      });\n    }, async () => {\n      unsubscribe();\n      signal?.removeEventListener(\"abort\", abortListener);\n      pullResolvers.forEach((resolver) => resolver[0]({ done: true, value: void 0 }));\n      pullResolvers.length = 0;\n      bufferedEvents.length = 0;\n    });\n  }\n}\n\nclass SequentialIdGenerator {\n  index = BigInt(1);\n  generate() {\n    const id = this.index.toString(36);\n    this.index++;\n    return id;\n  }\n}\nfunction compareSequentialIds(a, b) {\n  if (a.length !== b.length) {\n    return a.length - b.length;\n  }\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n\nfunction onStart(callback) {\n  return async (options, ...rest) => {\n    await callback(options, ...rest);\n    return await options.next();\n  };\n}\nfunction onSuccess(callback) {\n  return async (options, ...rest) => {\n    const result = await options.next();\n    await callback(result, options, ...rest);\n    return result;\n  };\n}\nfunction onError(callback) {\n  return async (options, ...rest) => {\n    try {\n      return await options.next();\n    } catch (error) {\n      await callback(error, options, ...rest);\n      throw error;\n    }\n  };\n}\nfunction onFinish(callback) {\n  let state;\n  return async (options, ...rest) => {\n    try {\n      const result = await options.next();\n      state = [null, result, true];\n      return result;\n    } catch (error) {\n      state = [error, void 0, false];\n      throw error;\n    } finally {\n      await callback(state, options, ...rest);\n    }\n  };\n}\nfunction intercept(interceptors, options, main) {\n  const next = (options2, index) => {\n    const interceptor = interceptors[index];\n    if (!interceptor) {\n      return main(options2);\n    }\n    return interceptor({\n      ...options2,\n      next: (newOptions = options2) => next(newOptions, index + 1)\n    });\n  };\n  return next(options, 0);\n}\n\nfunction parseEmptyableJSON(text) {\n  if (!text) {\n    return void 0;\n  }\n  return JSON.parse(text);\n}\nfunction stringifyJSON(value) {\n  return JSON.stringify(value);\n}\n\nfunction findDeepMatches(check, payload, segments = [], maps = [], values = []) {\n  if (check(payload)) {\n    maps.push(segments);\n    values.push(payload);\n  } else if (Array.isArray(payload)) {\n    payload.forEach((v, i) => {\n      findDeepMatches(check, v, [...segments, i], maps, values);\n    });\n  } else if (isObject(payload)) {\n    for (const key in payload) {\n      findDeepMatches(check, payload[key], [...segments, key], maps, values);\n    }\n  }\n  return { maps, values };\n}\nfunction getConstructor(value) {\n  if (!isTypescriptObject(value)) {\n    return null;\n  }\n  return Object.getPrototypeOf(value)?.constructor;\n}\nfunction isObject(value) {\n  if (!value || typeof value !== \"object\") {\n    return false;\n  }\n  const proto = Object.getPrototypeOf(value);\n  return proto === Object.prototype || !proto || !proto.constructor;\n}\nfunction isTypescriptObject(value) {\n  return !!value && (typeof value === \"object\" || typeof value === \"function\");\n}\nfunction clone(value) {\n  if (Array.isArray(value)) {\n    return value.map(clone);\n  }\n  if (isObject(value)) {\n    const result = {};\n    for (const key in value) {\n      result[key] = clone(value[key]);\n    }\n    for (const sym of Object.getOwnPropertySymbols(value)) {\n      result[sym] = clone(value[sym]);\n    }\n    return result;\n  }\n  return value;\n}\nfunction get(object, path) {\n  let current = object;\n  for (const key of path) {\n    if (!isTypescriptObject(current)) {\n      return void 0;\n    }\n    current = current[key];\n  }\n  return current;\n}\nfunction isPropertyKey(value) {\n  const type = typeof value;\n  return type === \"string\" || type === \"number\" || type === \"symbol\";\n}\nconst NullProtoObj = /* @__PURE__ */ (() => {\n  const e = function() {\n  };\n  e.prototype = /* @__PURE__ */ Object.create(null);\n  Object.freeze(e.prototype);\n  return e;\n})();\n\nfunction value(value2, ...args) {\n  if (typeof value2 === \"function\") {\n    return value2(...args);\n  }\n  return value2;\n}\nfunction fallback(value2, fallback2) {\n  return value2 === void 0 ? fallback2 : value2;\n}\n\nfunction preventNativeAwait(target) {\n  return new Proxy(target, {\n    get(target2, prop, receiver) {\n      const value2 = Reflect.get(target2, prop, receiver);\n      if (prop !== \"then\" || typeof value2 !== \"function\") {\n        return value2;\n      }\n      return new Proxy(value2, {\n        apply(targetFn, thisArg, args) {\n          if (args.length !== 2 || args.some((arg) => !isNativeFunction(arg))) {\n            return Reflect.apply(targetFn, thisArg, args);\n          }\n          let shouldOmit = true;\n          args[0].call(thisArg, preventNativeAwait(new Proxy(target2, {\n            get: (target3, prop2, receiver2) => {\n              if (shouldOmit && prop2 === \"then\") {\n                shouldOmit = false;\n                return void 0;\n              }\n              return Reflect.get(target3, prop2, receiver2);\n            }\n          })));\n        }\n      });\n    }\n  });\n}\nconst NATIVE_FUNCTION_REGEX = /^\\s*function\\s*\\(\\)\\s*\\{\\s*\\[native code\\]\\s*\\}\\s*$/;\nfunction isNativeFunction(fn) {\n  return typeof fn === \"function\" && NATIVE_FUNCTION_REGEX.test(fn.toString());\n}\nfunction overlayProxy(target, partial) {\n  const proxy = new Proxy(typeof target === \"function\" ? partial : target, {\n    get(_, prop) {\n      const targetValue = prop in partial ? partial : value(target);\n      const v = Reflect.get(targetValue, prop);\n      return typeof v === \"function\" ? v.bind(targetValue) : v;\n    },\n    has(_, prop) {\n      return Reflect.has(partial, prop) || Reflect.has(value(target), prop);\n    }\n  });\n  return proxy;\n}\n\nfunction streamToAsyncIteratorClass(stream) {\n  const reader = stream.getReader();\n  return new AsyncIteratorClass(\n    async () => {\n      return reader.read();\n    },\n    async () => {\n      await reader.cancel();\n    }\n  );\n}\nfunction asyncIteratorToStream(iterator) {\n  return new ReadableStream({\n    async pull(controller) {\n      const { done, value } = await iterator.next();\n      if (done) {\n        controller.close();\n      } else {\n        controller.enqueue(value);\n      }\n    },\n    async cancel() {\n      await iterator.return?.();\n    }\n  });\n}\nfunction asyncIteratorToUnproxiedDataStream(iterator) {\n  return new ReadableStream({\n    async pull(controller) {\n      const { done, value } = await iterator.next();\n      if (done) {\n        controller.close();\n      } else {\n        const unproxied = isObject(value) ? { ...value } : Array.isArray(value) ? value.map((i) => i) : value;\n        controller.enqueue(unproxied);\n      }\n    },\n    async cancel() {\n      await iterator.return?.();\n    }\n  });\n}\n\nfunction tryDecodeURIComponent(value) {\n  try {\n    return decodeURIComponent(value);\n  } catch {\n    return value;\n  }\n}\n\nexport { AbortError, AsyncIdQueue, AsyncIteratorClass, EventPublisher, NullProtoObj, ORPC_NAME, ORPC_SHARED_PACKAGE_NAME, ORPC_SHARED_PACKAGE_VERSION, SequentialIdGenerator, asyncIteratorToStream, asyncIteratorToUnproxiedDataStream, asyncIteratorWithSpan, clone, compareSequentialIds, defer, fallback, findDeepMatches, get, getConstructor, getGlobalOtelConfig, intercept, isAsyncIteratorObject, isObject, isPropertyKey, isTypescriptObject, onError, onFinish, onStart, onSuccess, once, overlayProxy, parseEmptyableJSON, preventNativeAwait, readAsBuffer, replicateAsyncIterator, resolveMaybeOptionalOptions, runInSpanContext, runWithSpan, sequential, setGlobalOtelConfig, setSpanAttribute, setSpanError, splitInHalf, startSpan, streamToAsyncIteratorClass, stringifyJSON, toArray, toOtelException, toSpanAttributeValue, tryDecodeURIComponent, value };\n","import { isTypescriptObject, AsyncIteratorClass, tryDecodeURIComponent, toArray, once, isAsyncIteratorObject, replicateAsyncIterator } from '@orpc/shared';\n\nclass EventEncoderError extends TypeError {\n}\nclass EventDecoderError extends TypeError {\n}\nclass ErrorEvent extends Error {\n  data;\n  constructor(options) {\n    super(options?.message ?? \"An error event was received\", options);\n    this.data = options?.data;\n  }\n}\n\nfunction decodeEventMessage(encoded) {\n  const lines = encoded.replace(/\\n+$/, \"\").split(/\\n/);\n  const message = {\n    data: void 0,\n    event: void 0,\n    id: void 0,\n    retry: void 0,\n    comments: []\n  };\n  for (const line of lines) {\n    const index = line.indexOf(\":\");\n    const key = index === -1 ? line : line.slice(0, index);\n    const value = index === -1 ? \"\" : line.slice(index + 1).replace(/^\\s/, \"\");\n    if (index === 0) {\n      message.comments.push(value);\n    } else if (key === \"data\") {\n      message.data ??= \"\";\n      message.data += `${value}\n`;\n    } else if (key === \"event\") {\n      message.event = value;\n    } else if (key === \"id\") {\n      message.id = value;\n    } else if (key === \"retry\") {\n      const maybeInteger = Number.parseInt(value);\n      if (Number.isInteger(maybeInteger) && maybeInteger >= 0 && maybeInteger.toString() === value) {\n        message.retry = maybeInteger;\n      }\n    }\n  }\n  message.data = message.data?.replace(/\\n$/, \"\");\n  return message;\n}\nclass EventDecoder {\n  constructor(options = {}) {\n    this.options = options;\n  }\n  incomplete = \"\";\n  feed(chunk) {\n    this.incomplete += chunk;\n    const lastCompleteIndex = this.incomplete.lastIndexOf(\"\\n\\n\");\n    if (lastCompleteIndex === -1) {\n      return;\n    }\n    const completes = this.incomplete.slice(0, lastCompleteIndex).split(/\\n\\n/);\n    this.incomplete = this.incomplete.slice(lastCompleteIndex + 2);\n    for (const encoded of completes) {\n      const message = decodeEventMessage(`${encoded}\n\n`);\n      if (this.options.onEvent) {\n        this.options.onEvent(message);\n      }\n    }\n    this.incomplete = \"\";\n  }\n  end() {\n    if (this.incomplete) {\n      throw new EventDecoderError(\"Event Iterator ended before complete\");\n    }\n  }\n}\nclass EventDecoderStream extends TransformStream {\n  constructor() {\n    let decoder;\n    super({\n      start(controller) {\n        decoder = new EventDecoder({\n          onEvent: (event) => {\n            controller.enqueue(event);\n          }\n        });\n      },\n      transform(chunk) {\n        decoder.feed(chunk);\n      },\n      flush() {\n        decoder.end();\n      }\n    });\n  }\n}\n\nfunction assertEventId(id) {\n  if (id.includes(\"\\n\")) {\n    throw new EventEncoderError(\"Event's id must not contain a newline character\");\n  }\n}\nfunction assertEventName(event) {\n  if (event.includes(\"\\n\")) {\n    throw new EventEncoderError(\"Event's event must not contain a newline character\");\n  }\n}\nfunction assertEventRetry(retry) {\n  if (!Number.isInteger(retry) || retry < 0) {\n    throw new EventEncoderError(\"Event's retry must be a integer and >= 0\");\n  }\n}\nfunction assertEventComment(comment) {\n  if (comment.includes(\"\\n\")) {\n    throw new EventEncoderError(\"Event's comment must not contain a newline character\");\n  }\n}\nfunction encodeEventData(data) {\n  const lines = data?.split(/\\n/) ?? [];\n  let output = \"\";\n  for (const line of lines) {\n    output += `data: ${line}\n`;\n  }\n  return output;\n}\nfunction encodeEventComments(comments) {\n  let output = \"\";\n  for (const comment of comments ?? []) {\n    assertEventComment(comment);\n    output += `: ${comment}\n`;\n  }\n  return output;\n}\nfunction encodeEventMessage(message) {\n  let output = \"\";\n  output += encodeEventComments(message.comments);\n  if (message.event !== void 0) {\n    assertEventName(message.event);\n    output += `event: ${message.event}\n`;\n  }\n  if (message.retry !== void 0) {\n    assertEventRetry(message.retry);\n    output += `retry: ${message.retry}\n`;\n  }\n  if (message.id !== void 0) {\n    assertEventId(message.id);\n    output += `id: ${message.id}\n`;\n  }\n  output += encodeEventData(message.data);\n  output += \"\\n\";\n  return output;\n}\n\nconst EVENT_SOURCE_META_SYMBOL = Symbol(\"ORPC_EVENT_SOURCE_META\");\nfunction withEventMeta(container, meta) {\n  if (meta.id === void 0 && meta.retry === void 0 && !meta.comments?.length) {\n    return container;\n  }\n  if (meta.id !== void 0) {\n    assertEventId(meta.id);\n  }\n  if (meta.retry !== void 0) {\n    assertEventRetry(meta.retry);\n  }\n  if (meta.comments !== void 0) {\n    for (const comment of meta.comments) {\n      assertEventComment(comment);\n    }\n  }\n  return new Proxy(container, {\n    get(target, prop, receiver) {\n      if (prop === EVENT_SOURCE_META_SYMBOL) {\n        return meta;\n      }\n      return Reflect.get(target, prop, receiver);\n    }\n  });\n}\nfunction getEventMeta(container) {\n  return isTypescriptObject(container) ? Reflect.get(container, EVENT_SOURCE_META_SYMBOL) : void 0;\n}\n\nclass HibernationEventIterator extends AsyncIteratorClass {\n  /**\n   * this property is not transferred to the client, so it should be optional for type safety\n   */\n  hibernationCallback;\n  constructor(hibernationCallback) {\n    super(async () => {\n      throw new Error(\"Cannot iterate over hibernating iterator directly\");\n    }, async (reason) => {\n      if (reason !== \"next\") {\n        throw new Error(\"Cannot cleanup hibernating iterator directly\");\n      }\n    });\n    this.hibernationCallback = hibernationCallback;\n  }\n}\n\nfunction generateContentDisposition(filename) {\n  const escapedFileName = filename.replace(/\"/g, '\\\\\"');\n  const encodedFilenameStar = encodeURIComponent(filename).replace(/['()*]/g, (c) => `%${c.charCodeAt(0).toString(16).toUpperCase()}`).replace(/%(7C|60|5E)/g, (str, hex) => String.fromCharCode(Number.parseInt(hex, 16)));\n  return `inline; filename=\"${escapedFileName}\"; filename*=utf-8''${encodedFilenameStar}`;\n}\nfunction getFilenameFromContentDisposition(contentDisposition) {\n  const encodedFilenameStarMatch = contentDisposition.match(/filename\\*=(UTF-8'')?([^;]*)/i);\n  if (encodedFilenameStarMatch && typeof encodedFilenameStarMatch[2] === \"string\") {\n    return tryDecodeURIComponent(encodedFilenameStarMatch[2]);\n  }\n  const encodedFilenameMatch = contentDisposition.match(/filename=\"((?:\\\\\"|[^\"])*)\"/i);\n  if (encodedFilenameMatch && typeof encodedFilenameMatch[1] === \"string\") {\n    return encodedFilenameMatch[1].replace(/\\\\\"/g, '\"');\n  }\n}\nfunction mergeStandardHeaders(a, b) {\n  const merged = { ...a };\n  for (const key in b) {\n    if (Array.isArray(b[key])) {\n      merged[key] = [...toArray(merged[key]), ...b[key]];\n    } else if (b[key] !== void 0) {\n      if (Array.isArray(merged[key])) {\n        merged[key] = [...merged[key], b[key]];\n      } else if (merged[key] !== void 0) {\n        merged[key] = [merged[key], b[key]];\n      } else {\n        merged[key] = b[key];\n      }\n    }\n  }\n  return merged;\n}\nfunction flattenHeader(header) {\n  if (typeof header === \"string\" || header === void 0) {\n    return header;\n  }\n  if (header.length === 0) {\n    return void 0;\n  }\n  return header.join(\", \");\n}\nfunction replicateStandardLazyResponse(response, count) {\n  const replicated = [];\n  let bodyPromise;\n  let replicatedAsyncIteratorObjects;\n  for (let i = 0; i < count; i++) {\n    replicated.push({\n      ...response,\n      body: once(async () => {\n        const body = await (bodyPromise ??= response.body());\n        if (!isAsyncIteratorObject(body)) {\n          return body;\n        }\n        replicatedAsyncIteratorObjects ??= replicateAsyncIterator(body, count);\n        return replicatedAsyncIteratorObjects.shift();\n      })\n    });\n  }\n  return replicated;\n}\nfunction isEventIteratorHeaders(headers) {\n  return Boolean(flattenHeader(headers[\"content-type\"])?.startsWith(\"text/event-stream\") && flattenHeader(headers[\"content-disposition\"]) === void 0);\n}\n\nexport { ErrorEvent, EventDecoder, EventDecoderError, EventDecoderStream, EventEncoderError, HibernationEventIterator, assertEventComment, assertEventId, assertEventName, assertEventRetry, decodeEventMessage, encodeEventComments, encodeEventData, encodeEventMessage, flattenHeader, generateContentDisposition, getEventMeta, getFilenameFromContentDisposition, isEventIteratorHeaders, mergeStandardHeaders, replicateStandardLazyResponse, withEventMeta };\n","import { createRequire } from \"node:module\";\n\n//#region rolldown:runtime\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __copyProps = (to, from, except, desc) => {\n\tif (from && typeof from === \"object\" || typeof from === \"function\") for (var keys = __getOwnPropNames(from), i = 0, n = keys.length, key; i < n; i++) {\n\t\tkey = keys[i];\n\t\tif (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {\n\t\t\tget: ((k) => from[k]).bind(null, key),\n\t\t\tenumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable\n\t\t});\n\t}\n\treturn to;\n};\nvar __reExport = (target, mod, secondTarget) => (__copyProps(target, mod, \"default\"), secondTarget && __copyProps(secondTarget, mod, \"default\"));\nvar __require = /* @__PURE__ */ createRequire(import.meta.url);\n\n//#endregion\nexport { __reExport, __require };","import { __reExport } from \"./_virtual/rolldown_runtime.mjs\";\n\nexport * from \"zod\"\n\n//#region src/zod.ts\nvar zod_exports = {};\nimport * as import_zod from \"zod\";\n__reExport(zod_exports, import_zod);\n\n//#endregion\nexport { zod_exports };\n//# sourceMappingURL=zod.mjs.map","/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nfunction isBytes(a) {\n    return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');\n}\n/** Asserts something is Uint8Array. */\nfunction abytes(b) {\n    if (!isBytes(b))\n        throw new Error('Uint8Array expected');\n}\nfunction isArrayOf(isString, arr) {\n    if (!Array.isArray(arr))\n        return false;\n    if (arr.length === 0)\n        return true;\n    if (isString) {\n        return arr.every((item) => typeof item === 'string');\n    }\n    else {\n        return arr.every((item) => Number.isSafeInteger(item));\n    }\n}\nfunction afn(input) {\n    if (typeof input !== 'function')\n        throw new Error('function expected');\n    return true;\n}\nfunction astr(label, input) {\n    if (typeof input !== 'string')\n        throw new Error(`${label}: string expected`);\n    return true;\n}\nfunction anumber(n) {\n    if (!Number.isSafeInteger(n))\n        throw new Error(`invalid integer: ${n}`);\n}\nfunction aArr(input) {\n    if (!Array.isArray(input))\n        throw new Error('array expected');\n}\nfunction astrArr(label, input) {\n    if (!isArrayOf(true, input))\n        throw new Error(`${label}: array of strings expected`);\n}\nfunction anumArr(label, input) {\n    if (!isArrayOf(false, input))\n        throw new Error(`${label}: array of numbers expected`);\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction chain(...args) {\n    const id = (a) => a;\n    // Wrap call in closure so JIT can inline calls\n    const wrap = (a, b) => (c) => a(b(c));\n    // Construct chain of args[-1].encode(args[-2].encode([...]))\n    const encode = args.map((x) => x.encode).reduceRight(wrap, id);\n    // Construct chain of args[0].decode(args[1].decode(...))\n    const decode = args.map((x) => x.decode).reduce(wrap, id);\n    return { encode, decode };\n}\n/**\n * Encodes integer radix representation to array of strings using alphabet and back.\n * Could also be array of strings.\n * @__NO_SIDE_EFFECTS__\n */\nfunction alphabet(letters) {\n    // mapping 1 to \"b\"\n    const lettersA = typeof letters === 'string' ? letters.split('') : letters;\n    const len = lettersA.length;\n    astrArr('alphabet', lettersA);\n    // mapping \"b\" to 1\n    const indexes = new Map(lettersA.map((l, i) => [l, i]));\n    return {\n        encode: (digits) => {\n            aArr(digits);\n            return digits.map((i) => {\n                if (!Number.isSafeInteger(i) || i < 0 || i >= len)\n                    throw new Error(`alphabet.encode: digit index outside alphabet \"${i}\". Allowed: ${letters}`);\n                return lettersA[i];\n            });\n        },\n        decode: (input) => {\n            aArr(input);\n            return input.map((letter) => {\n                astr('alphabet.decode', letter);\n                const i = indexes.get(letter);\n                if (i === undefined)\n                    throw new Error(`Unknown letter: \"${letter}\". Allowed: ${letters}`);\n                return i;\n            });\n        },\n    };\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction join(separator = '') {\n    astr('join', separator);\n    return {\n        encode: (from) => {\n            astrArr('join.decode', from);\n            return from.join(separator);\n        },\n        decode: (to) => {\n            astr('join.decode', to);\n            return to.split(separator);\n        },\n    };\n}\n/**\n * Pad strings array so it has integer number of bits\n * @__NO_SIDE_EFFECTS__\n */\nfunction padding(bits, chr = '=') {\n    anumber(bits);\n    astr('padding', chr);\n    return {\n        encode(data) {\n            astrArr('padding.encode', data);\n            while ((data.length * bits) % 8)\n                data.push(chr);\n            return data;\n        },\n        decode(input) {\n            astrArr('padding.decode', input);\n            let end = input.length;\n            if ((end * bits) % 8)\n                throw new Error('padding: invalid, string should have whole number of bytes');\n            for (; end > 0 && input[end - 1] === chr; end--) {\n                const last = end - 1;\n                const byte = last * bits;\n                if (byte % 8 === 0)\n                    throw new Error('padding: invalid, string has too much padding');\n            }\n            return input.slice(0, end);\n        },\n    };\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction normalize(fn) {\n    afn(fn);\n    return { encode: (from) => from, decode: (to) => fn(to) };\n}\n/**\n * Slow: O(n^2) time complexity\n */\nfunction convertRadix(data, from, to) {\n    // base 1 is impossible\n    if (from < 2)\n        throw new Error(`convertRadix: invalid from=${from}, base cannot be less than 2`);\n    if (to < 2)\n        throw new Error(`convertRadix: invalid to=${to}, base cannot be less than 2`);\n    aArr(data);\n    if (!data.length)\n        return [];\n    let pos = 0;\n    const res = [];\n    const digits = Array.from(data, (d) => {\n        anumber(d);\n        if (d < 0 || d >= from)\n            throw new Error(`invalid integer: ${d}`);\n        return d;\n    });\n    const dlen = digits.length;\n    while (true) {\n        let carry = 0;\n        let done = true;\n        for (let i = pos; i < dlen; i++) {\n            const digit = digits[i];\n            const fromCarry = from * carry;\n            const digitBase = fromCarry + digit;\n            if (!Number.isSafeInteger(digitBase) ||\n                fromCarry / from !== carry ||\n                digitBase - digit !== fromCarry) {\n                throw new Error('convertRadix: carry overflow');\n            }\n            const div = digitBase / to;\n            carry = digitBase % to;\n            const rounded = Math.floor(div);\n            digits[i] = rounded;\n            if (!Number.isSafeInteger(rounded) || rounded * to + carry !== digitBase)\n                throw new Error('convertRadix: carry overflow');\n            if (!done)\n                continue;\n            else if (!rounded)\n                pos = i;\n            else\n                done = false;\n        }\n        res.push(carry);\n        if (done)\n            break;\n    }\n    for (let i = 0; i < data.length - 1 && data[i] === 0; i++)\n        res.push(0);\n    return res.reverse();\n}\nconst gcd = (a, b) => (b === 0 ? a : gcd(b, a % b));\nconst radix2carry = /* @__NO_SIDE_EFFECTS__ */ (from, to) => from + (to - gcd(from, to));\nconst powers = /* @__PURE__ */ (() => {\n    let res = [];\n    for (let i = 0; i < 40; i++)\n        res.push(2 ** i);\n    return res;\n})();\n/**\n * Implemented with numbers, because BigInt is 5x slower\n */\nfunction convertRadix2(data, from, to, padding) {\n    aArr(data);\n    if (from <= 0 || from > 32)\n        throw new Error(`convertRadix2: wrong from=${from}`);\n    if (to <= 0 || to > 32)\n        throw new Error(`convertRadix2: wrong to=${to}`);\n    if (radix2carry(from, to) > 32) {\n        throw new Error(`convertRadix2: carry overflow from=${from} to=${to} carryBits=${radix2carry(from, to)}`);\n    }\n    let carry = 0;\n    let pos = 0; // bitwise position in current element\n    const max = powers[from];\n    const mask = powers[to] - 1;\n    const res = [];\n    for (const n of data) {\n        anumber(n);\n        if (n >= max)\n            throw new Error(`convertRadix2: invalid data word=${n} from=${from}`);\n        carry = (carry << from) | n;\n        if (pos + from > 32)\n            throw new Error(`convertRadix2: carry overflow pos=${pos} from=${from}`);\n        pos += from;\n        for (; pos >= to; pos -= to)\n            res.push(((carry >> (pos - to)) & mask) >>> 0);\n        const pow = powers[pos];\n        if (pow === undefined)\n            throw new Error('invalid carry');\n        carry &= pow - 1; // clean carry, otherwise it will cause overflow\n    }\n    carry = (carry << (to - pos)) & mask;\n    if (!padding && pos >= from)\n        throw new Error('Excess padding');\n    if (!padding && carry > 0)\n        throw new Error(`Non-zero padding: ${carry}`);\n    if (padding && pos > 0)\n        res.push(carry >>> 0);\n    return res;\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction radix(num) {\n    anumber(num);\n    const _256 = 2 ** 8;\n    return {\n        encode: (bytes) => {\n            if (!isBytes(bytes))\n                throw new Error('radix.encode input should be Uint8Array');\n            return convertRadix(Array.from(bytes), _256, num);\n        },\n        decode: (digits) => {\n            anumArr('radix.decode', digits);\n            return Uint8Array.from(convertRadix(digits, num, _256));\n        },\n    };\n}\n/**\n * If both bases are power of same number (like `2**8 <-> 2**64`),\n * there is a linear algorithm. For now we have implementation for power-of-two bases only.\n * @__NO_SIDE_EFFECTS__\n */\nfunction radix2(bits, revPadding = false) {\n    anumber(bits);\n    if (bits <= 0 || bits > 32)\n        throw new Error('radix2: bits should be in (0..32]');\n    if (radix2carry(8, bits) > 32 || radix2carry(bits, 8) > 32)\n        throw new Error('radix2: carry overflow');\n    return {\n        encode: (bytes) => {\n            if (!isBytes(bytes))\n                throw new Error('radix2.encode input should be Uint8Array');\n            return convertRadix2(Array.from(bytes), 8, bits, !revPadding);\n        },\n        decode: (digits) => {\n            anumArr('radix2.decode', digits);\n            return Uint8Array.from(convertRadix2(digits, bits, 8, revPadding));\n        },\n    };\n}\nfunction unsafeWrapper(fn) {\n    afn(fn);\n    return function (...args) {\n        try {\n            return fn.apply(null, args);\n        }\n        catch (e) { }\n    };\n}\nfunction checksum(len, fn) {\n    anumber(len);\n    afn(fn);\n    return {\n        encode(data) {\n            if (!isBytes(data))\n                throw new Error('checksum.encode: input should be Uint8Array');\n            const sum = fn(data).slice(0, len);\n            const res = new Uint8Array(data.length + len);\n            res.set(data);\n            res.set(sum, data.length);\n            return res;\n        },\n        decode(data) {\n            if (!isBytes(data))\n                throw new Error('checksum.decode: input should be Uint8Array');\n            const payload = data.slice(0, -len);\n            const oldChecksum = data.slice(-len);\n            const newChecksum = fn(payload).slice(0, len);\n            for (let i = 0; i < len; i++)\n                if (newChecksum[i] !== oldChecksum[i])\n                    throw new Error('Invalid checksum');\n            return payload;\n        },\n    };\n}\n// prettier-ignore\nexport const utils = {\n    alphabet, chain, checksum, convertRadix, convertRadix2, radix, radix2, join, padding,\n};\n// RFC 4648 aka RFC 3548\n// ---------------------\n/**\n * base16 encoding from RFC 4648.\n * @example\n * ```js\n * base16.encode(Uint8Array.from([0x12, 0xab]));\n * // => '12AB'\n * ```\n */\nexport const base16 = chain(radix2(4), alphabet('0123456789ABCDEF'), join(''));\n/**\n * base32 encoding from RFC 4648. Has padding.\n * Use `base32nopad` for unpadded version.\n * Also check out `base32hex`, `base32hexnopad`, `base32crockford`.\n * @example\n * ```js\n * base32.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'CKVQ===='\n * base32.decode('CKVQ====');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base32 = chain(radix2(5), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZ234567'), padding(5), join(''));\n/**\n * base32 encoding from RFC 4648. No padding.\n * Use `base32` for padded version.\n * Also check out `base32hex`, `base32hexnopad`, `base32crockford`.\n * @example\n * ```js\n * base32nopad.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'CKVQ'\n * base32nopad.decode('CKVQ');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base32nopad = chain(radix2(5), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZ234567'), join(''));\n/**\n * base32 encoding from RFC 4648. Padded. Compared to ordinary `base32`, slightly different alphabet.\n * Use `base32hexnopad` for unpadded version.\n * @example\n * ```js\n * base32hex.encode(Uint8Array.from([0x12, 0xab]));\n * // => '2ALG===='\n * base32hex.decode('2ALG====');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base32hex = chain(radix2(5), alphabet('0123456789ABCDEFGHIJKLMNOPQRSTUV'), padding(5), join(''));\n/**\n * base32 encoding from RFC 4648. No padding. Compared to ordinary `base32`, slightly different alphabet.\n * Use `base32hex` for padded version.\n * @example\n * ```js\n * base32hexnopad.encode(Uint8Array.from([0x12, 0xab]));\n * // => '2ALG'\n * base32hexnopad.decode('2ALG');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base32hexnopad = chain(radix2(5), alphabet('0123456789ABCDEFGHIJKLMNOPQRSTUV'), join(''));\n/**\n * base32 encoding from RFC 4648. Doug Crockford's version.\n * https://www.crockford.com/base32.html\n * @example\n * ```js\n * base32crockford.encode(Uint8Array.from([0x12, 0xab]));\n * // => '2ANG'\n * base32crockford.decode('2ANG');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base32crockford = chain(radix2(5), alphabet('0123456789ABCDEFGHJKMNPQRSTVWXYZ'), join(''), normalize((s) => s.toUpperCase().replace(/O/g, '0').replace(/[IL]/g, '1')));\n// Built-in base64 conversion https://caniuse.com/mdn-javascript_builtins_uint8array_frombase64\n// prettier-ignore\nconst hasBase64Builtin = /* @__PURE__ */ (() => typeof Uint8Array.from([]).toBase64 === 'function' &&\n    typeof Uint8Array.fromBase64 === 'function')();\nconst decodeBase64Builtin = (s, isUrl) => {\n    astr('base64', s);\n    const re = isUrl ? /^[A-Za-z0-9=_-]+$/ : /^[A-Za-z0-9=+/]+$/;\n    const alphabet = isUrl ? 'base64url' : 'base64';\n    if (s.length > 0 && !re.test(s))\n        throw new Error('invalid base64');\n    return Uint8Array.fromBase64(s, { alphabet, lastChunkHandling: 'strict' });\n};\n/**\n * base64 from RFC 4648. Padded.\n * Use `base64nopad` for unpadded version.\n * Also check out `base64url`, `base64urlnopad`.\n * Falls back to built-in function, when available.\n * @example\n * ```js\n * base64.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'Eqs='\n * base64.decode('Eqs=');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\n// prettier-ignore\nexport const base64 = hasBase64Builtin ? {\n    encode(b) { abytes(b); return b.toBase64(); },\n    decode(s) { return decodeBase64Builtin(s, false); },\n} : chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'), padding(6), join(''));\n/**\n * base64 from RFC 4648. No padding.\n * Use `base64` for padded version.\n * @example\n * ```js\n * base64nopad.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'Eqs'\n * base64nopad.decode('Eqs');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base64nopad = chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'), join(''));\n/**\n * base64 from RFC 4648, using URL-safe alphabet. Padded.\n * Use `base64urlnopad` for unpadded version.\n * Falls back to built-in function, when available.\n * @example\n * ```js\n * base64url.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'Eqs='\n * base64url.decode('Eqs=');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\n// prettier-ignore\nexport const base64url = hasBase64Builtin ? {\n    encode(b) { abytes(b); return b.toBase64({ alphabet: 'base64url' }); },\n    decode(s) { return decodeBase64Builtin(s, true); },\n} : chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'), padding(6), join(''));\n/**\n * base64 from RFC 4648, using URL-safe alphabet. No padding.\n * Use `base64url` for padded version.\n * @example\n * ```js\n * base64urlnopad.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'Eqs'\n * base64urlnopad.decode('Eqs');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base64urlnopad = chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'), join(''));\n// base58 code\n// -----------\nconst genBase58 = /* @__NO_SIDE_EFFECTS__ */ (abc) => chain(radix(58), alphabet(abc), join(''));\n/**\n * base58: base64 without ambigous characters +, /, 0, O, I, l.\n * Quadratic (O(n^2)) - so, can't be used on large inputs.\n * @example\n * ```js\n * base58.decode('01abcdef');\n * // => '3UhJW'\n * ```\n */\nexport const base58 = genBase58('123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz');\n/**\n * base58: flickr version. Check out `base58`.\n */\nexport const base58flickr = genBase58('123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ');\n/**\n * base58: XRP version. Check out `base58`.\n */\nexport const base58xrp = genBase58('rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz');\n// Data len (index) -> encoded block len\nconst XMR_BLOCK_LEN = [0, 2, 3, 5, 6, 7, 9, 10, 11];\n/**\n * base58: XMR version. Check out `base58`.\n * Done in 8-byte blocks (which equals 11 chars in decoding). Last (non-full) block padded with '1' to size in XMR_BLOCK_LEN.\n * Block encoding significantly reduces quadratic complexity of base58.\n */\nexport const base58xmr = {\n    encode(data) {\n        let res = '';\n        for (let i = 0; i < data.length; i += 8) {\n            const block = data.subarray(i, i + 8);\n            res += base58.encode(block).padStart(XMR_BLOCK_LEN[block.length], '1');\n        }\n        return res;\n    },\n    decode(str) {\n        let res = [];\n        for (let i = 0; i < str.length; i += 11) {\n            const slice = str.slice(i, i + 11);\n            const blockLen = XMR_BLOCK_LEN.indexOf(slice.length);\n            const block = base58.decode(slice);\n            for (let j = 0; j < block.length - blockLen; j++) {\n                if (block[j] !== 0)\n                    throw new Error('base58xmr: wrong padding');\n            }\n            res = res.concat(Array.from(block.slice(block.length - blockLen)));\n        }\n        return Uint8Array.from(res);\n    },\n};\n/**\n * Method, which creates base58check encoder.\n * Requires function, calculating sha256.\n */\nexport const createBase58check = (sha256) => chain(checksum(4, (data) => sha256(sha256(data))), base58);\n/**\n * Use `createBase58check` instead.\n * @deprecated\n */\nexport const base58check = createBase58check;\nconst BECH_ALPHABET = chain(alphabet('qpzry9x8gf2tvdw0s3jn54khce6mua7l'), join(''));\nconst POLYMOD_GENERATORS = [0x3b6a57b2, 0x26508e6d, 0x1ea119fa, 0x3d4233dd, 0x2a1462b3];\nfunction bech32Polymod(pre) {\n    const b = pre >> 25;\n    let chk = (pre & 0x1ffffff) << 5;\n    for (let i = 0; i < POLYMOD_GENERATORS.length; i++) {\n        if (((b >> i) & 1) === 1)\n            chk ^= POLYMOD_GENERATORS[i];\n    }\n    return chk;\n}\nfunction bechChecksum(prefix, words, encodingConst = 1) {\n    const len = prefix.length;\n    let chk = 1;\n    for (let i = 0; i < len; i++) {\n        const c = prefix.charCodeAt(i);\n        if (c < 33 || c > 126)\n            throw new Error(`Invalid prefix (${prefix})`);\n        chk = bech32Polymod(chk) ^ (c >> 5);\n    }\n    chk = bech32Polymod(chk);\n    for (let i = 0; i < len; i++)\n        chk = bech32Polymod(chk) ^ (prefix.charCodeAt(i) & 0x1f);\n    for (let v of words)\n        chk = bech32Polymod(chk) ^ v;\n    for (let i = 0; i < 6; i++)\n        chk = bech32Polymod(chk);\n    chk ^= encodingConst;\n    return BECH_ALPHABET.encode(convertRadix2([chk % powers[30]], 30, 5, false));\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction genBech32(encoding) {\n    const ENCODING_CONST = encoding === 'bech32' ? 1 : 0x2bc830a3;\n    const _words = radix2(5);\n    const fromWords = _words.decode;\n    const toWords = _words.encode;\n    const fromWordsUnsafe = unsafeWrapper(fromWords);\n    function encode(prefix, words, limit = 90) {\n        astr('bech32.encode prefix', prefix);\n        if (isBytes(words))\n            words = Array.from(words);\n        anumArr('bech32.encode', words);\n        const plen = prefix.length;\n        if (plen === 0)\n            throw new TypeError(`Invalid prefix length ${plen}`);\n        const actualLength = plen + 7 + words.length;\n        if (limit !== false && actualLength > limit)\n            throw new TypeError(`Length ${actualLength} exceeds limit ${limit}`);\n        const lowered = prefix.toLowerCase();\n        const sum = bechChecksum(lowered, words, ENCODING_CONST);\n        return `${lowered}1${BECH_ALPHABET.encode(words)}${sum}`;\n    }\n    function decode(str, limit = 90) {\n        astr('bech32.decode input', str);\n        const slen = str.length;\n        if (slen < 8 || (limit !== false && slen > limit))\n            throw new TypeError(`invalid string length: ${slen} (${str}). Expected (8..${limit})`);\n        // don't allow mixed case\n        const lowered = str.toLowerCase();\n        if (str !== lowered && str !== str.toUpperCase())\n            throw new Error(`String must be lowercase or uppercase`);\n        const sepIndex = lowered.lastIndexOf('1');\n        if (sepIndex === 0 || sepIndex === -1)\n            throw new Error(`Letter \"1\" must be present between prefix and data only`);\n        const prefix = lowered.slice(0, sepIndex);\n        const data = lowered.slice(sepIndex + 1);\n        if (data.length < 6)\n            throw new Error('Data must be at least 6 characters long');\n        const words = BECH_ALPHABET.decode(data).slice(0, -6);\n        const sum = bechChecksum(prefix, words, ENCODING_CONST);\n        if (!data.endsWith(sum))\n            throw new Error(`Invalid checksum in ${str}: expected \"${sum}\"`);\n        return { prefix, words };\n    }\n    const decodeUnsafe = unsafeWrapper(decode);\n    function decodeToBytes(str) {\n        const { prefix, words } = decode(str, false);\n        return { prefix, words, bytes: fromWords(words) };\n    }\n    function encodeFromBytes(prefix, bytes) {\n        return encode(prefix, toWords(bytes));\n    }\n    return {\n        encode,\n        decode,\n        encodeFromBytes,\n        decodeToBytes,\n        decodeUnsafe,\n        fromWords,\n        fromWordsUnsafe,\n        toWords,\n    };\n}\n/**\n * bech32 from BIP 173. Operates on words.\n * For high-level, check out scure-btc-signer:\n * https://github.com/paulmillr/scure-btc-signer.\n */\nexport const bech32 = genBech32('bech32');\n/**\n * bech32m from BIP 350. Operates on words.\n * It was to mitigate `bech32` weaknesses.\n * For high-level, check out scure-btc-signer:\n * https://github.com/paulmillr/scure-btc-signer.\n */\nexport const bech32m = genBech32('bech32m');\n/**\n * UTF-8-to-byte decoder. Uses built-in TextDecoder / TextEncoder.\n * @example\n * ```js\n * const b = utf8.decode(\"hey\"); // => new Uint8Array([ 104, 101, 121 ])\n * const str = utf8.encode(b); // \"hey\"\n * ```\n */\nexport const utf8 = {\n    encode: (data) => new TextDecoder().decode(data),\n    decode: (str) => new TextEncoder().encode(str),\n};\n// Built-in hex conversion https://caniuse.com/mdn-javascript_builtins_uint8array_fromhex\n// prettier-ignore\nconst hasHexBuiltin = /* @__PURE__ */ (() => typeof Uint8Array.from([]).toHex === 'function' &&\n    typeof Uint8Array.fromHex === 'function')();\n// prettier-ignore\nconst hexBuiltin = {\n    encode(data) { abytes(data); return data.toHex(); },\n    decode(s) { astr('hex', s); return Uint8Array.fromHex(s); },\n};\n/**\n * hex string decoder. Uses built-in function, when available.\n * @example\n * ```js\n * const b = hex.decode(\"0102ff\"); // => new Uint8Array([ 1, 2, 255 ])\n * const str = hex.encode(b); // \"0102ff\"\n * ```\n */\nexport const hex = hasHexBuiltin\n    ? hexBuiltin\n    : chain(radix2(4), alphabet('0123456789abcdef'), join(''), normalize((s) => {\n        if (typeof s !== 'string' || s.length % 2 !== 0)\n            throw new TypeError(`hex.decode: expected string, got ${typeof s} with length ${s.length}`);\n        return s.toLowerCase();\n    }));\n// prettier-ignore\nconst CODERS = {\n    utf8, hex, base16, base32, base64, base64url, base58, base58xmr\n};\nconst coderTypeError = 'Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr';\n/** @deprecated */\nexport const bytesToString = (type, bytes) => {\n    if (typeof type !== 'string' || !CODERS.hasOwnProperty(type))\n        throw new TypeError(coderTypeError);\n    if (!isBytes(bytes))\n        throw new TypeError('bytesToString() expects Uint8Array');\n    return CODERS[type].encode(bytes);\n};\n/** @deprecated */\nexport const str = bytesToString; // as in python, but for bytes only\n/** @deprecated */\nexport const stringToBytes = (type, str) => {\n    if (!CODERS.hasOwnProperty(type))\n        throw new TypeError(coderTypeError);\n    if (typeof str !== 'string')\n        throw new TypeError('stringToBytes() expects string');\n    return CODERS[type].decode(str);\n};\n/** @deprecated */\nexport const bytes = stringToBytes;\n//# sourceMappingURL=index.js.map","/**\n * Internal helpers for u64. BigUint64Array is too slow as per 2025, so we implement it using Uint32Array.\n * @todo re-check https://issues.chromium.org/issues/42212588\n * @module\n */\nconst U32_MASK64 = /* @__PURE__ */ BigInt(2 ** 32 - 1);\nconst _32n = /* @__PURE__ */ BigInt(32);\nfunction fromBig(n, le = false) {\n    if (le)\n        return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };\n    return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };\n}\nfunction split(lst, le = false) {\n    const len = lst.length;\n    let Ah = new Uint32Array(len);\n    let Al = new Uint32Array(len);\n    for (let i = 0; i < len; i++) {\n        const { h, l } = fromBig(lst[i], le);\n        [Ah[i], Al[i]] = [h, l];\n    }\n    return [Ah, Al];\n}\nconst toBig = (h, l) => (BigInt(h >>> 0) << _32n) | BigInt(l >>> 0);\n// for Shift in [0, 32)\nconst shrSH = (h, _l, s) => h >>> s;\nconst shrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in [1, 32)\nconst rotrSH = (h, l, s) => (h >>> s) | (l << (32 - s));\nconst rotrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotrBH = (h, l, s) => (h << (64 - s)) | (l >>> (s - 32));\nconst rotrBL = (h, l, s) => (h >>> (s - 32)) | (l << (64 - s));\n// Right rotate for shift===32 (just swaps l&h)\nconst rotr32H = (_h, l) => l;\nconst rotr32L = (h, _l) => h;\n// Left rotate for Shift in [1, 32)\nconst rotlSH = (h, l, s) => (h << s) | (l >>> (32 - s));\nconst rotlSL = (h, l, s) => (l << s) | (h >>> (32 - s));\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotlBH = (h, l, s) => (l << (s - 32)) | (h >>> (64 - s));\nconst rotlBL = (h, l, s) => (h << (s - 32)) | (l >>> (64 - s));\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\nfunction add(Ah, Al, Bh, Bl) {\n    const l = (Al >>> 0) + (Bl >>> 0);\n    return { h: (Ah + Bh + ((l / 2 ** 32) | 0)) | 0, l: l | 0 };\n}\n// Addition with more than 2 elements\nconst add3L = (Al, Bl, Cl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\nconst add3H = (low, Ah, Bh, Ch) => (Ah + Bh + Ch + ((low / 2 ** 32) | 0)) | 0;\nconst add4L = (Al, Bl, Cl, Dl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\nconst add4H = (low, Ah, Bh, Ch, Dh) => (Ah + Bh + Ch + Dh + ((low / 2 ** 32) | 0)) | 0;\nconst add5L = (Al, Bl, Cl, Dl, El) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\nconst add5H = (low, Ah, Bh, Ch, Dh, Eh) => (Ah + Bh + Ch + Dh + Eh + ((low / 2 ** 32) | 0)) | 0;\n// prettier-ignore\nexport { add, add3H, add3L, add4H, add4L, add5H, add5L, fromBig, rotlBH, rotlBL, rotlSH, rotlSL, rotr32H, rotr32L, rotrBH, rotrBL, rotrSH, rotrSL, shrSH, shrSL, split, toBig };\n// prettier-ignore\nconst u64 = {\n    fromBig, split, toBig,\n    shrSH, shrSL,\n    rotrSH, rotrSL, rotrBH, rotrBL,\n    rotr32H, rotr32L,\n    rotlSH, rotlSL, rotlBH, rotlBL,\n    add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\nexport default u64;\n//# sourceMappingURL=_u64.js.map","/**\n * Utilities for hex, bytes, CSPRNG.\n * @module\n */\n/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n/** Checks if something is Uint8Array. Be careful: nodejs Buffer will return true. */\nexport function isBytes(a) {\n    return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');\n}\n/** Asserts something is positive integer. */\nexport function anumber(n, title = '') {\n    if (!Number.isSafeInteger(n) || n < 0) {\n        const prefix = title && `\"${title}\" `;\n        throw new Error(`${prefix}expected integer >= 0, got ${n}`);\n    }\n}\n/** Asserts something is Uint8Array. */\nexport function abytes(value, length, title = '') {\n    const bytes = isBytes(value);\n    const len = value?.length;\n    const needsLen = length !== undefined;\n    if (!bytes || (needsLen && len !== length)) {\n        const prefix = title && `\"${title}\" `;\n        const ofLen = needsLen ? ` of length ${length}` : '';\n        const got = bytes ? `length=${len}` : `type=${typeof value}`;\n        throw new Error(prefix + 'expected Uint8Array' + ofLen + ', got ' + got);\n    }\n    return value;\n}\n/** Asserts something is hash */\nexport function ahash(h) {\n    if (typeof h !== 'function' || typeof h.create !== 'function')\n        throw new Error('Hash must wrapped by utils.createHasher');\n    anumber(h.outputLen);\n    anumber(h.blockLen);\n}\n/** Asserts a hash instance has not been destroyed / finished */\nexport function aexists(instance, checkFinished = true) {\n    if (instance.destroyed)\n        throw new Error('Hash instance has been destroyed');\n    if (checkFinished && instance.finished)\n        throw new Error('Hash#digest() has already been called');\n}\n/** Asserts output is properly-sized byte array */\nexport function aoutput(out, instance) {\n    abytes(out, undefined, 'digestInto() output');\n    const min = instance.outputLen;\n    if (out.length < min) {\n        throw new Error('\"digestInto() output\" expected to be of length >=' + min);\n    }\n}\n/** Cast u8 / u16 / u32 to u8. */\nexport function u8(arr) {\n    return new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\n}\n/** Cast u8 / u16 / u32 to u32. */\nexport function u32(arr) {\n    return new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n}\n/** Zeroize a byte array. Warning: JS provides no guarantees. */\nexport function clean(...arrays) {\n    for (let i = 0; i < arrays.length; i++) {\n        arrays[i].fill(0);\n    }\n}\n/** Create DataView of an array for easy byte-level manipulation. */\nexport function createView(arr) {\n    return new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n}\n/** The rotate right (circular right shift) operation for uint32 */\nexport function rotr(word, shift) {\n    return (word << (32 - shift)) | (word >>> shift);\n}\n/** The rotate left (circular left shift) operation for uint32 */\nexport function rotl(word, shift) {\n    return (word << shift) | ((word >>> (32 - shift)) >>> 0);\n}\n/** Is current platform little-endian? Most are. Big-Endian platform: IBM */\nexport const isLE = /* @__PURE__ */ (() => new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44)();\n/** The byte swap operation for uint32 */\nexport function byteSwap(word) {\n    return (((word << 24) & 0xff000000) |\n        ((word << 8) & 0xff0000) |\n        ((word >>> 8) & 0xff00) |\n        ((word >>> 24) & 0xff));\n}\n/** Conditionally byte swap if on a big-endian platform */\nexport const swap8IfBE = isLE\n    ? (n) => n\n    : (n) => byteSwap(n);\n/** In place byte swap for Uint32Array */\nexport function byteSwap32(arr) {\n    for (let i = 0; i < arr.length; i++) {\n        arr[i] = byteSwap(arr[i]);\n    }\n    return arr;\n}\nexport const swap32IfBE = isLE\n    ? (u) => u\n    : byteSwap32;\n// Built-in hex conversion https://caniuse.com/mdn-javascript_builtins_uint8array_fromhex\nconst hasHexBuiltin = /* @__PURE__ */ (() => \n// @ts-ignore\ntypeof Uint8Array.from([]).toHex === 'function' && typeof Uint8Array.fromHex === 'function')();\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\n/**\n * Convert byte array to hex string. Uses built-in function, when available.\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes) {\n    abytes(bytes);\n    // @ts-ignore\n    if (hasHexBuiltin)\n        return bytes.toHex();\n    // pre-caching improves the speed 6x\n    let hex = '';\n    for (let i = 0; i < bytes.length; i++) {\n        hex += hexes[bytes[i]];\n    }\n    return hex;\n}\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, A: 65, F: 70, a: 97, f: 102 };\nfunction asciiToBase16(ch) {\n    if (ch >= asciis._0 && ch <= asciis._9)\n        return ch - asciis._0; // '2' => 50-48\n    if (ch >= asciis.A && ch <= asciis.F)\n        return ch - (asciis.A - 10); // 'B' => 66-(65-10)\n    if (ch >= asciis.a && ch <= asciis.f)\n        return ch - (asciis.a - 10); // 'b' => 98-(97-10)\n    return;\n}\n/**\n * Convert hex string to byte array. Uses built-in function, when available.\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    // @ts-ignore\n    if (hasHexBuiltin)\n        return Uint8Array.fromHex(hex);\n    const hl = hex.length;\n    const al = hl / 2;\n    if (hl % 2)\n        throw new Error('hex string expected, got unpadded hex of length ' + hl);\n    const array = new Uint8Array(al);\n    for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n        const n1 = asciiToBase16(hex.charCodeAt(hi));\n        const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n        if (n1 === undefined || n2 === undefined) {\n            const char = hex[hi] + hex[hi + 1];\n            throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n        }\n        array[ai] = n1 * 16 + n2; // multiply first octet, e.g. 'a3' => 10*16+3 => 160 + 3 => 163\n    }\n    return array;\n}\n/**\n * There is no setImmediate in browser and setTimeout is slow.\n * Call of async fn will return Promise, which will be fullfiled only on\n * next scheduler queue processing step and this is exactly what we need.\n */\nexport const nextTick = async () => { };\n/** Returns control to thread each 'tick' ms to avoid blocking. */\nexport async function asyncLoop(iters, tick, cb) {\n    let ts = Date.now();\n    for (let i = 0; i < iters; i++) {\n        cb(i);\n        // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n        const diff = Date.now() - ts;\n        if (diff >= 0 && diff < tick)\n            continue;\n        await nextTick();\n        ts += diff;\n    }\n}\n/**\n * Converts string to bytes using UTF8 encoding.\n * Built-in doesn't validate input to be string: we do the check.\n * @example utf8ToBytes('abc') // Uint8Array.from([97, 98, 99])\n */\nexport function utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error('string expected');\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n/**\n * Helper for KDFs: consumes uint8array or string.\n * When string is passed, does utf8 decoding, using TextDecoder.\n */\nexport function kdfInputToBytes(data, errorTitle = '') {\n    if (typeof data === 'string')\n        return utf8ToBytes(data);\n    return abytes(data, undefined, errorTitle);\n}\n/** Copies several Uint8Arrays into one. */\nexport function concatBytes(...arrays) {\n    let sum = 0;\n    for (let i = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        abytes(a);\n        sum += a.length;\n    }\n    const res = new Uint8Array(sum);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        res.set(a, pad);\n        pad += a.length;\n    }\n    return res;\n}\n/** Merges default options and passed options. */\nexport function checkOpts(defaults, opts) {\n    if (opts !== undefined && {}.toString.call(opts) !== '[object Object]')\n        throw new Error('options must be object or undefined');\n    const merged = Object.assign(defaults, opts);\n    return merged;\n}\n/** Creates function with outputLen, blockLen, create properties from a class constructor. */\nexport function createHasher(hashCons, info = {}) {\n    const hashC = (msg, opts) => hashCons(opts).update(msg).digest();\n    const tmp = hashCons(undefined);\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    Object.assign(hashC, info);\n    return Object.freeze(hashC);\n}\n/** Cryptographically secure PRNG. Uses internal OS-level `crypto.getRandomValues`. */\nexport function randomBytes(bytesLength = 32) {\n    const cr = typeof globalThis === 'object' ? globalThis.crypto : null;\n    if (typeof cr?.getRandomValues !== 'function')\n        throw new Error('crypto.getRandomValues must be defined');\n    return cr.getRandomValues(new Uint8Array(bytesLength));\n}\n/** Creates OID opts for NIST hashes, with prefix 06 09 60 86 48 01 65 03 04 02. */\nexport const oidNist = (suffix) => ({\n    oid: Uint8Array.from([0x06, 0x09, 0x60, 0x86, 0x48, 0x01, 0x65, 0x03, 0x04, 0x02, suffix]),\n});\n//# sourceMappingURL=utils.js.map","/**\n * SHA3 (keccak) hash function, based on a new \"Sponge function\" design.\n * Different from older hashes, the internal state is bigger than output size.\n *\n * Check out [FIPS-202](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.202.pdf),\n * [Website](https://keccak.team/keccak.html),\n * [the differences between SHA-3 and Keccak](https://crypto.stackexchange.com/questions/15727/what-are-the-key-differences-between-the-draft-sha-3-standard-and-the-keccak-sub).\n *\n * Check out `sha3-addons` module for cSHAKE, k12, and others.\n * @module\n */\nimport { rotlBH, rotlBL, rotlSH, rotlSL, split } from \"./_u64.js\";\n// prettier-ignore\nimport { abytes, aexists, anumber, aoutput, clean, createHasher, oidNist, swap32IfBE, u32 } from \"./utils.js\";\n// No __PURE__ annotations in sha3 header:\n// EVERYTHING is in fact used on every export.\n// Various per round constants calculations\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst _7n = BigInt(7);\nconst _256n = BigInt(256);\nconst _0x71n = BigInt(0x71);\nconst SHA3_PI = [];\nconst SHA3_ROTL = [];\nconst _SHA3_IOTA = []; // no pure annotation: var is always used\nfor (let round = 0, R = _1n, x = 1, y = 0; round < 24; round++) {\n    // Pi\n    [x, y] = [y, (2 * x + 3 * y) % 5];\n    SHA3_PI.push(2 * (5 * y + x));\n    // Rotational\n    SHA3_ROTL.push((((round + 1) * (round + 2)) / 2) % 64);\n    // Iota\n    let t = _0n;\n    for (let j = 0; j < 7; j++) {\n        R = ((R << _1n) ^ ((R >> _7n) * _0x71n)) % _256n;\n        if (R & _2n)\n            t ^= _1n << ((_1n << BigInt(j)) - _1n);\n    }\n    _SHA3_IOTA.push(t);\n}\nconst IOTAS = split(_SHA3_IOTA, true);\nconst SHA3_IOTA_H = IOTAS[0];\nconst SHA3_IOTA_L = IOTAS[1];\n// Left rotation (without 0, 32, 64)\nconst rotlH = (h, l, s) => (s > 32 ? rotlBH(h, l, s) : rotlSH(h, l, s));\nconst rotlL = (h, l, s) => (s > 32 ? rotlBL(h, l, s) : rotlSL(h, l, s));\n/** `keccakf1600` internal function, additionally allows to adjust round count. */\nexport function keccakP(s, rounds = 24) {\n    const B = new Uint32Array(5 * 2);\n    // NOTE: all indices are x2 since we store state as u32 instead of u64 (bigints to slow in js)\n    for (let round = 24 - rounds; round < 24; round++) {\n        // Theta \n        for (let x = 0; x < 10; x++)\n            B[x] = s[x] ^ s[x + 10] ^ s[x + 20] ^ s[x + 30] ^ s[x + 40];\n        for (let x = 0; x < 10; x += 2) {\n            const idx1 = (x + 8) % 10;\n            const idx0 = (x + 2) % 10;\n            const B0 = B[idx0];\n            const B1 = B[idx0 + 1];\n            const Th = rotlH(B0, B1, 1) ^ B[idx1];\n            const Tl = rotlL(B0, B1, 1) ^ B[idx1 + 1];\n            for (let y = 0; y < 50; y += 10) {\n                s[x + y] ^= Th;\n                s[x + y + 1] ^= Tl;\n            }\n        }\n        // Rho () and Pi ()\n        let curH = s[2];\n        let curL = s[3];\n        for (let t = 0; t < 24; t++) {\n            const shift = SHA3_ROTL[t];\n            const Th = rotlH(curH, curL, shift);\n            const Tl = rotlL(curH, curL, shift);\n            const PI = SHA3_PI[t];\n            curH = s[PI];\n            curL = s[PI + 1];\n            s[PI] = Th;\n            s[PI + 1] = Tl;\n        }\n        // Chi ()\n        for (let y = 0; y < 50; y += 10) {\n            for (let x = 0; x < 10; x++)\n                B[x] = s[y + x];\n            for (let x = 0; x < 10; x++)\n                s[y + x] ^= ~B[(x + 2) % 10] & B[(x + 4) % 10];\n        }\n        // Iota ()\n        s[0] ^= SHA3_IOTA_H[round];\n        s[1] ^= SHA3_IOTA_L[round];\n    }\n    clean(B);\n}\n/** Keccak sponge function. */\nexport class Keccak {\n    state;\n    pos = 0;\n    posOut = 0;\n    finished = false;\n    state32;\n    destroyed = false;\n    blockLen;\n    suffix;\n    outputLen;\n    enableXOF = false;\n    rounds;\n    // NOTE: we accept arguments in bytes instead of bits here.\n    constructor(blockLen, suffix, outputLen, enableXOF = false, rounds = 24) {\n        this.blockLen = blockLen;\n        this.suffix = suffix;\n        this.outputLen = outputLen;\n        this.enableXOF = enableXOF;\n        this.rounds = rounds;\n        // Can be passed from user as dkLen\n        anumber(outputLen, 'outputLen');\n        // 1600 = 5x5 matrix of 64bit.  1600 bits === 200 bytes\n        // 0 < blockLen < 200\n        if (!(0 < blockLen && blockLen < 200))\n            throw new Error('only keccak-f1600 function is supported');\n        this.state = new Uint8Array(200);\n        this.state32 = u32(this.state);\n    }\n    clone() {\n        return this._cloneInto();\n    }\n    keccak() {\n        swap32IfBE(this.state32);\n        keccakP(this.state32, this.rounds);\n        swap32IfBE(this.state32);\n        this.posOut = 0;\n        this.pos = 0;\n    }\n    update(data) {\n        aexists(this);\n        abytes(data);\n        const { blockLen, state } = this;\n        const len = data.length;\n        for (let pos = 0; pos < len;) {\n            const take = Math.min(blockLen - this.pos, len - pos);\n            for (let i = 0; i < take; i++)\n                state[this.pos++] ^= data[pos++];\n            if (this.pos === blockLen)\n                this.keccak();\n        }\n        return this;\n    }\n    finish() {\n        if (this.finished)\n            return;\n        this.finished = true;\n        const { state, suffix, pos, blockLen } = this;\n        // Do the padding\n        state[pos] ^= suffix;\n        if ((suffix & 0x80) !== 0 && pos === blockLen - 1)\n            this.keccak();\n        state[blockLen - 1] ^= 0x80;\n        this.keccak();\n    }\n    writeInto(out) {\n        aexists(this, false);\n        abytes(out);\n        this.finish();\n        const bufferOut = this.state;\n        const { blockLen } = this;\n        for (let pos = 0, len = out.length; pos < len;) {\n            if (this.posOut >= blockLen)\n                this.keccak();\n            const take = Math.min(blockLen - this.posOut, len - pos);\n            out.set(bufferOut.subarray(this.posOut, this.posOut + take), pos);\n            this.posOut += take;\n            pos += take;\n        }\n        return out;\n    }\n    xofInto(out) {\n        // Sha3/Keccak usage with XOF is probably mistake, only SHAKE instances can do XOF\n        if (!this.enableXOF)\n            throw new Error('XOF is not possible for this instance');\n        return this.writeInto(out);\n    }\n    xof(bytes) {\n        anumber(bytes);\n        return this.xofInto(new Uint8Array(bytes));\n    }\n    digestInto(out) {\n        aoutput(out, this);\n        if (this.finished)\n            throw new Error('digest() was already called');\n        this.writeInto(out);\n        this.destroy();\n        return out;\n    }\n    digest() {\n        return this.digestInto(new Uint8Array(this.outputLen));\n    }\n    destroy() {\n        this.destroyed = true;\n        clean(this.state);\n    }\n    _cloneInto(to) {\n        const { blockLen, suffix, outputLen, rounds, enableXOF } = this;\n        to ||= new Keccak(blockLen, suffix, outputLen, enableXOF, rounds);\n        to.state32.set(this.state32);\n        to.pos = this.pos;\n        to.posOut = this.posOut;\n        to.finished = this.finished;\n        to.rounds = rounds;\n        // Suffix can change in cSHAKE\n        to.suffix = suffix;\n        to.outputLen = outputLen;\n        to.enableXOF = enableXOF;\n        to.destroyed = this.destroyed;\n        return to;\n    }\n}\nconst genKeccak = (suffix, blockLen, outputLen, info = {}) => createHasher(() => new Keccak(blockLen, suffix, outputLen), info);\n/** SHA3-224 hash function. */\nexport const sha3_224 = /* @__PURE__ */ genKeccak(0x06, 144, 28, \n/* @__PURE__ */ oidNist(0x07));\n/** SHA3-256 hash function. Different from keccak-256. */\nexport const sha3_256 = /* @__PURE__ */ genKeccak(0x06, 136, 32, \n/* @__PURE__ */ oidNist(0x08));\n/** SHA3-384 hash function. */\nexport const sha3_384 = /* @__PURE__ */ genKeccak(0x06, 104, 48, \n/* @__PURE__ */ oidNist(0x09));\n/** SHA3-512 hash function. */\nexport const sha3_512 = /* @__PURE__ */ genKeccak(0x06, 72, 64, \n/* @__PURE__ */ oidNist(0x0a));\n/** keccak-224 hash function. */\nexport const keccak_224 = /* @__PURE__ */ genKeccak(0x01, 144, 28);\n/** keccak-256 hash function. Different from SHA3-256. */\nexport const keccak_256 = /* @__PURE__ */ genKeccak(0x01, 136, 32);\n/** keccak-384 hash function. */\nexport const keccak_384 = /* @__PURE__ */ genKeccak(0x01, 104, 48);\n/** keccak-512 hash function. */\nexport const keccak_512 = /* @__PURE__ */ genKeccak(0x01, 72, 64);\nconst genShake = (suffix, blockLen, outputLen, info = {}) => createHasher((opts = {}) => new Keccak(blockLen, suffix, opts.dkLen === undefined ? outputLen : opts.dkLen, true), info);\n/** SHAKE128 XOF with 128-bit security. */\nexport const shake128 = \n/* @__PURE__ */\ngenShake(0x1f, 168, 16, /* @__PURE__ */ oidNist(0x0b));\n/** SHAKE256 XOF with 256-bit security. */\nexport const shake256 = \n/* @__PURE__ */\ngenShake(0x1f, 136, 32, /* @__PURE__ */ oidNist(0x0c));\n/** SHAKE128 XOF with 256-bit output (NIST version). */\nexport const shake128_32 = \n/* @__PURE__ */\ngenShake(0x1f, 168, 32, /* @__PURE__ */ oidNist(0x0b));\n/** SHAKE256 XOF with 512-bit output (NIST version). */\nexport const shake256_64 = \n/* @__PURE__ */\ngenShake(0x1f, 136, 64, /* @__PURE__ */ oidNist(0x0c));\n//# sourceMappingURL=sha3.js.map","/**\n * Core type definitions for the NEAR client library\n */\nexport var KeyType;\n(function (KeyType) {\n    KeyType[KeyType[\"ED25519\"] = 0] = \"ED25519\";\n    KeyType[KeyType[\"SECP256K1\"] = 1] = \"SECP256K1\";\n})(KeyType || (KeyType = {}));\n//# sourceMappingURL=types.js.map","/**\n * NEP-616 StateInit utilities for deterministic account IDs\n *\n * This module provides utilities for working with NEP-616 Deterministic AccountIds.\n * These account IDs are derived from the contract initialization state using the formula:\n * `\"0s\" + hex(keccak256(borsh(state_init))[12..32])`\n *\n * @see https://github.com/near/NEPs/pull/616\n */\nimport { keccak_256 } from \"@noble/hashes/sha3.js\";\nimport { base58, hex } from \"@scure/base\";\nimport { b } from \"@zorsh/zorsh\";\n// ==================== Helper Functions ====================\n/**\n * Parse and validate a code hash from either base58 string or Uint8Array\n *\n * @param codeHash - Code hash as base58 string or Uint8Array\n * @returns Validated 32-byte hash as Uint8Array\n * @throws Error if base58 is invalid or hash is not 32 bytes\n */\nexport function parseCodeHash(codeHash) {\n    let hashBytes;\n    if (typeof codeHash === \"string\") {\n        try {\n            hashBytes = base58.decode(codeHash);\n        }\n        catch {\n            throw new Error(`Invalid base58 code hash: ${codeHash}`);\n        }\n    }\n    else {\n        hashBytes = codeHash;\n    }\n    if (hashBytes.length !== 32) {\n        throw new Error(`Code hash must be 32 bytes, got ${hashBytes.length} bytes`);\n    }\n    return hashBytes;\n}\n// ==================== Borsh Schemas for StateInit ====================\n/**\n * GlobalContractIdentifier enum for Borsh serialization\n * 0 = CodeHash (32-byte hash)\n * 1 = AccountId (string)\n */\nconst GlobalContractIdentifierSchema = b.enum({\n    CodeHash: b.array(b.u8(), 32),\n    AccountId: b.string(),\n});\n/**\n * StateInitV1 struct for Borsh serialization\n */\nconst StateInitV1Schema = b.struct({\n    code: GlobalContractIdentifierSchema,\n    data: b.hashMap(b.bytes(), b.bytes()),\n});\n/**\n * StateInit enum (versioned) for Borsh serialization\n */\nconst StateInitSchema = b.enum({\n    V1: StateInitV1Schema,\n});\n/**\n * Create a StateInit object from options\n *\n * @param options - StateInit configuration\n * @returns StateInit object\n */\nexport function createStateInit(options) {\n    let code;\n    if (\"accountId\" in options.code) {\n        code = { type: \"accountId\", accountId: options.code.accountId };\n    }\n    else {\n        const hashBytes = parseCodeHash(options.code.codeHash);\n        code = { type: \"codeHash\", hash: hashBytes };\n    }\n    return {\n        code,\n        data: options.data ?? new Map(),\n    };\n}\n/**\n * Serialize a StateInit to Borsh bytes\n *\n * @param stateInit - StateInit object to serialize\n * @returns Borsh-serialized bytes\n */\nexport function serializeStateInit(stateInit) {\n    let codeIdentifier;\n    if (stateInit.code.type === \"accountId\") {\n        codeIdentifier = { AccountId: stateInit.code.accountId };\n    }\n    else {\n        codeIdentifier = { CodeHash: Array.from(stateInit.code.hash) };\n    }\n    // Sort the data map by keys to ensure deterministic serialization\n    // NEP-616 specifies BTreeMap which has sorted order, but JavaScript Map\n    // maintains insertion order. We must sort to ensure the same key-value pairs\n    // produce the same account ID regardless of insertion order.\n    const sortedData = new Map(Array.from(stateInit.data.entries()).sort((a, b) => {\n        const [keyA] = a;\n        const [keyB] = b;\n        // Compare byte-by-byte\n        for (let i = 0; i < Math.min(keyA.length, keyB.length); i++) {\n            const byteA = keyA[i];\n            const byteB = keyB[i];\n            if (byteA !== undefined && byteB !== undefined && byteA !== byteB) {\n                return byteA - byteB;\n            }\n        }\n        // If all bytes match, shorter key comes first\n        return keyA.length - keyB.length;\n    }));\n    return StateInitSchema.serialize({\n        V1: {\n            code: codeIdentifier,\n            data: sortedData,\n        },\n    });\n}\n/**\n * Derive a deterministic account ID from a StateInit according to NEP-616.\n *\n * The account ID is derived as: `\"0s\" + hex(keccak256(borsh(state_init))[12..32])`\n *\n * This produces a 42-character account ID that:\n * - Starts with \"0s\" prefix (distinguishes from Ethereum implicit accounts \"0x\")\n * - Followed by 40 hex characters (20 bytes from the keccak256 hash)\n *\n * @param stateInit - StateInit object or options to create one\n * @returns The deterministically derived account ID\n *\n * @example\n * ```typescript\n * // From a global contract by account ID\n * const accountId = deriveAccountId({\n *   code: { accountId: \"publisher.near\" },\n * })\n * // => \"0s1234567890abcdef1234567890abcdef12345678\"\n *\n * // From a global contract by code hash\n * const accountId = deriveAccountId({\n *   code: { codeHash: hashBytes },\n * })\n *\n * // With initial storage data\n * const accountId = deriveAccountId({\n *   code: { accountId: \"publisher.near\" },\n *   data: new Map([[key1, value1], [key2, value2]]),\n * })\n * ```\n */\nexport function deriveAccountId(options) {\n    const stateInit = createStateInit(options);\n    const serialized = serializeStateInit(stateInit);\n    const hash = keccak_256(serialized);\n    // Take last 20 bytes (indices 12-32) of the hash\n    const suffix = hash.slice(12, 32);\n    return `0s${hex.encode(suffix)}`;\n}\n/**\n * Verify that an account ID matches the expected deterministic derivation from a StateInit.\n *\n * @param accountId - The account ID to verify\n * @param options - StateInit options to derive the expected account ID from\n * @returns true if the account ID matches the derivation, false otherwise\n *\n * @example\n * ```typescript\n * const isValid = verifyDeterministicAccountId(\n *   \"0s1234567890abcdef1234567890abcdef12345678\",\n *   { code: { accountId: \"publisher.near\" } }\n * )\n * ```\n */\nexport function verifyDeterministicAccountId(accountId, options) {\n    const expected = deriveAccountId(options);\n    return accountId === expected;\n}\n/**\n * Check if an account ID is a deterministic account ID (NEP-616).\n *\n * Deterministic account IDs start with \"0s\" followed by 40 hex characters.\n *\n * @param accountId - The account ID to check\n * @returns true if it's a deterministic account ID, false otherwise\n *\n * @example\n * ```typescript\n * isDeterministicAccountId(\"0s1234567890abcdef1234567890abcdef12345678\") // true\n * isDeterministicAccountId(\"alice.near\") // false\n * isDeterministicAccountId(\"0x1234567890abcdef1234567890abcdef12345678\") // false (Ethereum)\n * ```\n */\nexport function isDeterministicAccountId(accountId) {\n    // Must be exactly 42 characters: \"0s\" + 40 hex chars\n    if (accountId.length !== 42) {\n        return false;\n    }\n    // Must start with \"0s\"\n    if (!accountId.startsWith(\"0s\")) {\n        return false;\n    }\n    // Rest must be valid hex\n    const hexPart = accountId.slice(2);\n    return /^[0-9a-f]+$/.test(hexPart);\n}\n//# sourceMappingURL=state-init.js.map","/**\n * Borsh serialization schemas for NEAR transactions using Zorsh\n * Based on NEAR Protocol specification and near-api-js implementation\n *\n * This module handles the low-level binary serialization details and keeps\n * all Zorsh-specific types internal. External code should only use the\n * serializeTransaction and serializeSignedTransaction functions.\n */\nimport { base64 } from \"@scure/base\";\nimport { b } from \"@zorsh/zorsh\";\n// ==================== NEP-461 Prefix ====================\n/**\n * Prefix for delegate actions (NEP-366 meta transactions)\n * Value: 2^30 + 366 = 1073742190\n *\n * This prefix is prepended to DelegateAction when serializing for signing,\n * ensuring delegate action signatures are always distinguishable from\n * transaction signatures.\n */\nexport const DELEGATE_ACTION_PREFIX = 1073742190;\n// ==================== Public Key ====================\n/**\n * Ed25519 public key data (32 bytes)\n */\nconst Ed25519KeySchema = b.struct({\n    data: b.array(b.u8(), 32),\n});\n/**\n * Secp256k1 public key data (64 bytes)\n */\nconst Secp256k1KeySchema = b.struct({\n    data: b.array(b.u8(), 64),\n});\n/**\n * PublicKey enum (0 = Ed25519, 1 = Secp256k1)\n */\nexport const PublicKeySchema = b.enum({\n    ed25519Key: Ed25519KeySchema,\n    secp256k1Key: Secp256k1KeySchema,\n});\n// ==================== Signature ====================\n/**\n * Ed25519 signature data (64 bytes)\n */\nconst Ed25519SignatureSchema = b.struct({\n    data: b.array(b.u8(), 64),\n});\n/**\n * Secp256k1 signature data (65 bytes)\n */\nconst Secp256k1SignatureSchema = b.struct({\n    data: b.array(b.u8(), 65),\n});\n/**\n * Signature enum (0 = Ed25519, 1 = Secp256k1)\n */\nexport const SignatureSchema = b.enum({\n    ed25519Signature: Ed25519SignatureSchema,\n    secp256k1Signature: Secp256k1SignatureSchema,\n});\n// ==================== Access Key Permissions ====================\n/**\n * Function call permission with optional allowance\n */\nconst FunctionCallPermissionSchema = b.struct({\n    allowance: b.option(b.u128()),\n    receiverId: b.string(),\n    methodNames: b.vec(b.string()),\n});\n/**\n * Full access permission (empty struct)\n */\nconst FullAccessPermissionSchema = b.struct({});\n/**\n * AccessKeyPermission enum (0 = FunctionCall, 1 = FullAccess)\n */\nconst AccessKeyPermissionSchema = b.enum({\n    functionCall: FunctionCallPermissionSchema,\n    fullAccess: FullAccessPermissionSchema,\n});\n/**\n * Access key with nonce and permission\n */\nconst AccessKeySchema = b.struct({\n    nonce: b.u64(),\n    permission: AccessKeyPermissionSchema,\n});\n// ==================== Transaction Actions ====================\n/**\n * CreateAccount action (empty struct)\n */\nconst CreateAccountSchema = b.struct({});\n/**\n * DeployContract action with WASM code\n */\nconst DeployContractSchema = b.struct({\n    code: b.vec(b.u8()),\n});\n/**\n * FunctionCall action\n * Field order: methodName, args, gas, deposit\n */\nconst FunctionCallSchema = b.struct({\n    methodName: b.string(),\n    args: b.vec(b.u8()),\n    gas: b.u64(),\n    deposit: b.u128(),\n});\n/**\n * Transfer action with deposit amount\n */\nconst TransferSchema = b.struct({\n    deposit: b.u128(),\n});\n/**\n * Stake action with amount and validator public key\n */\nconst StakeSchema = b.struct({\n    stake: b.u128(),\n    publicKey: PublicKeySchema,\n});\n/**\n * AddKey action to add a new access key\n */\nconst AddKeySchema = b.struct({\n    publicKey: PublicKeySchema,\n    accessKey: AccessKeySchema,\n});\n/**\n * DeleteKey action to remove an access key\n */\nconst DeleteKeySchema = b.struct({\n    publicKey: PublicKeySchema,\n});\n/**\n * DeleteAccount action with beneficiary\n */\nconst DeleteAccountSchema = b.struct({\n    beneficiaryId: b.string(),\n});\n// ==================== Global Contract Actions ====================\n/**\n * GlobalContractDeployMode enum\n * 0 = CodeHash (deploy by code hash)\n * 1 = AccountId (deploy by account ID)\n */\nconst GlobalContractDeployModeSchema = b.enum({\n    CodeHash: b.struct({}),\n    AccountId: b.struct({}),\n});\n/**\n * GlobalContractIdentifier enum\n * 0 = CodeHash (32-byte hash)\n * 1 = AccountId (string)\n */\nconst GlobalContractIdentifierSchema = b.enum({\n    CodeHash: b.array(b.u8(), 32),\n    AccountId: b.string(),\n});\n/**\n * DeployGlobalContract action\n */\nconst DeployGlobalContractSchema = b.struct({\n    code: b.vec(b.u8()),\n    deployMode: GlobalContractDeployModeSchema,\n});\n/**\n * UseGlobalContract action\n */\nconst UseGlobalContractSchema = b.struct({\n    contractIdentifier: GlobalContractIdentifierSchema,\n});\n// ==================== NEP-616 Deterministic Account (StateInit) Actions ====================\n/**\n * DeterministicAccountStateInitV1 struct\n * Contains the initialization state for a deterministic account\n */\nconst DeterministicAccountStateInitV1Schema = b.struct({\n    code: GlobalContractIdentifierSchema,\n    data: b.hashMap(b.bytes(), b.bytes()),\n});\n/**\n * DeterministicAccountStateInit enum (versioned)\n * V1 is the first version\n */\nconst DeterministicAccountStateInitSchema = b.enum({\n    V1: DeterministicAccountStateInitV1Schema,\n});\n/**\n * DeterministicStateInit action (NEP-616)\n * Used to deploy a contract with a deterministically derived account ID\n */\nconst DeterministicStateInitSchema = b.struct({\n    stateInit: DeterministicAccountStateInitSchema,\n    deposit: b.u128(),\n});\n// ==================== Delegate Actions ====================\n/**\n * ClassicActions enum - same as Action but without SignedDelegate\n * Used within DelegateAction to prevent infinite recursion\n * Note: The discriminant values must match the NEAR protocol spec\n */\nconst ClassicActionsSchema = b.enum({\n    createAccount: CreateAccountSchema,\n    deployContract: DeployContractSchema,\n    functionCall: FunctionCallSchema,\n    transfer: TransferSchema,\n    stake: StakeSchema,\n    addKey: AddKeySchema,\n    deleteKey: DeleteKeySchema,\n    deleteAccount: DeleteAccountSchema,\n    deployGlobalContract: DeployGlobalContractSchema,\n    useGlobalContract: UseGlobalContractSchema,\n    deterministicStateInit: DeterministicStateInitSchema,\n});\n/**\n * DelegateAction for meta-transactions\n * Allows one account to sign a transaction on behalf of another\n */\nconst DelegateActionSchema = b.struct({\n    senderId: b.string(),\n    receiverId: b.string(),\n    actions: b.vec(ClassicActionsSchema),\n    nonce: b.u64(),\n    maxBlockHeight: b.u64(),\n    publicKey: PublicKeySchema,\n});\n/**\n * SignedDelegate - a delegate action with signature\n */\nconst SignedDelegateSchema = b.struct({\n    delegateAction: DelegateActionSchema,\n    signature: SignatureSchema,\n});\n/**\n * Action enum matching NEAR protocol action discriminants\n * Order matters! Each position corresponds to the action type index:\n * 0 = CreateAccount\n * 1 = DeployContract\n * 2 = FunctionCall\n * 3 = Transfer\n * 4 = Stake\n * 5 = AddKey\n * 6 = DeleteKey\n * 7 = DeleteAccount\n * 8 = SignedDelegate\n * 9 = DeployGlobalContract\n * 10 = UseGlobalContract\n * 11 = DeterministicStateInit (NEP-616)\n */\nexport const ActionSchema = b.enum({\n    createAccount: CreateAccountSchema,\n    deployContract: DeployContractSchema,\n    functionCall: FunctionCallSchema,\n    transfer: TransferSchema,\n    stake: StakeSchema,\n    addKey: AddKeySchema,\n    deleteKey: DeleteKeySchema,\n    deleteAccount: DeleteAccountSchema,\n    signedDelegate: SignedDelegateSchema,\n    deployGlobalContract: DeployGlobalContractSchema,\n    useGlobalContract: UseGlobalContractSchema,\n    deterministicStateInit: DeterministicStateInitSchema,\n});\nexport { DeterministicAccountStateInitSchema, DeterministicAccountStateInitV1Schema, };\n// ==================== Transaction ====================\n/**\n * Transaction schema\n * Field order: signerId, publicKey, nonce, receiverId, blockHash, actions\n */\nexport const TransactionSchema = b.struct({\n    signerId: b.string(),\n    publicKey: PublicKeySchema,\n    nonce: b.u64(),\n    receiverId: b.string(),\n    blockHash: b.array(b.u8(), 32),\n    actions: b.vec(ActionSchema),\n});\n/**\n * SignedTransaction schema\n */\nexport const SignedTransactionSchema = b.struct({\n    transaction: TransactionSchema,\n    signature: SignatureSchema,\n});\n// ==================== Serialization Helpers ====================\n/**\n * Convert DelegateAction to zorsh-compatible format\n */\nfunction delegateActionToZorsh(delegateAction) {\n    return {\n        senderId: delegateAction.senderId,\n        receiverId: delegateAction.receiverId,\n        actions: delegateAction.actions,\n        nonce: delegateAction.nonce,\n        maxBlockHeight: delegateAction.maxBlockHeight,\n        publicKey: publicKeyToZorsh(delegateAction.publicKey),\n    };\n}\nexport function publicKeyToZorsh(pk) {\n    if (pk.keyType === 0) {\n        // Ed25519\n        return { ed25519Key: { data: Array.from(pk.data) } };\n    }\n    else {\n        // Secp256k1\n        return { secp256k1Key: { data: Array.from(pk.data) } };\n    }\n}\nexport function signatureToZorsh(sig) {\n    if (sig.keyType === 0) {\n        // Ed25519\n        return { ed25519Signature: { data: Array.from(sig.data) } };\n    }\n    else {\n        // Secp256k1\n        return { secp256k1Signature: { data: Array.from(sig.data) } };\n    }\n}\n/**\n * Convert an action to zorsh-compatible format\n * Since action helpers now do conversion, this only handles recursive processing\n * of delegate actions (which contain nested action arrays)\n */\nfunction actionToZorsh(action) {\n    // Only need to recursively process delegate actions\n    if (\"signedDelegate\" in action) {\n        return {\n            signedDelegate: {\n                delegateAction: {\n                    senderId: action.signedDelegate.delegateAction.senderId,\n                    receiverId: action.signedDelegate.delegateAction.receiverId,\n                    // Recursively convert nested actions\n                    actions: action.signedDelegate.delegateAction.actions.map((a) => actionToZorsh(a)),\n                    nonce: action.signedDelegate.delegateAction.nonce,\n                    maxBlockHeight: action.signedDelegate.delegateAction.maxBlockHeight,\n                    publicKey: action.signedDelegate.delegateAction.publicKey,\n                },\n                signature: action.signedDelegate.signature,\n            },\n        };\n    }\n    // All other actions are already in zorsh-compatible format from helpers\n    return action;\n}\n/**\n * Serialize a transaction to bytes\n */\nexport function serializeTransaction(tx) {\n    return TransactionSchema.serialize({\n        signerId: tx.signerId,\n        publicKey: publicKeyToZorsh(tx.publicKey),\n        nonce: tx.nonce,\n        receiverId: tx.receiverId,\n        blockHash: Array.from(tx.blockHash),\n        actions: tx.actions.map(actionToZorsh),\n    });\n}\n/**\n * Serialize a signed transaction to bytes\n */\nexport function serializeSignedTransaction(signedTx) {\n    return SignedTransactionSchema.serialize({\n        transaction: {\n            signerId: signedTx.transaction.signerId,\n            publicKey: publicKeyToZorsh(signedTx.transaction.publicKey),\n            nonce: signedTx.transaction.nonce,\n            receiverId: signedTx.transaction.receiverId,\n            blockHash: Array.from(signedTx.transaction.blockHash),\n            actions: signedTx.transaction.actions.map(actionToZorsh),\n        },\n        signature: signatureToZorsh(signedTx.signature),\n    });\n}\n// ==================== Delegate Action Serialization ====================\n/**\n * Serialize a delegate action for signing\n *\n * Per NEP-461, this prepends a u32 prefix (2^30 + 366) before the delegate action,\n * ensuring signed delegate actions are never identical to signed transactions.\n *\n * Use this to serialize a DelegateAction before signing. The resulting bytes are hashed\n * and signed to create the signature, which is then combined with the DelegateAction\n * using the `signedDelegate()` helper to create a SignedDelegateAction.\n *\n * @param delegateAction - The delegate action to serialize\n * @returns Uint8Array - The prefixed and serialized delegate action\n *\n * @example\n * ```typescript\n * const encoded = serializeDelegateAction(delegateAction)\n * const hash = await crypto.subtle.digest(\"SHA-256\", encoded)\n * const signature = await signer.sign(new Uint8Array(hash))\n * ```\n */\nexport function serializeDelegateAction(delegateAction) {\n    const prefixBytes = b.u32().serialize(DELEGATE_ACTION_PREFIX);\n    const delegateBytes = DelegateActionSchema.serialize(delegateActionToZorsh(delegateAction));\n    const result = new Uint8Array(prefixBytes.length + delegateBytes.length);\n    result.set(prefixBytes, 0);\n    result.set(delegateBytes, prefixBytes.length);\n    return result;\n}\nfunction signedDelegateActionToBytes(signedDelegate) {\n    return SignedDelegateSchema.serialize(signedDelegate.signedDelegate);\n}\nexport function encodeSignedDelegateAction(signedDelegate, format = \"base64\") {\n    const serialized = signedDelegateActionToBytes(signedDelegate);\n    return format === \"base64\" ? base64.encode(serialized) : serialized;\n}\n/**\n * Decode an encoded payload (base64 string or bytes) back into the\n * SignedDelegateAction that `.delegate()` returns.\n */\nexport function decodeSignedDelegateAction(payload) {\n    const bytes = typeof payload === \"string\" ? base64.decode(payload) : payload;\n    return {\n        signedDelegate: SignedDelegateSchema.deserialize(bytes),\n    };\n}\n//# sourceMappingURL=schema.js.map","/**\n * Transaction action factories.\n *\n * Provides low-level, type-safe helpers for creating NEAR transaction actions.\n * Most applications should use {@link TransactionBuilder} rather than calling\n * these functions directly; they are exported for advanced and custom tooling.\n */\nimport { base58 } from \"@scure/base\";\nimport { parseCodeHash } from \"../utils/state-init.js\";\nimport { publicKeyToZorsh, signatureToZorsh } from \"./schema.js\";\n// ==================== Delegate Actions ====================\n/**\n * Delegate action for NEP-366 meta-transactions.\n *\n * Represents a set of classic actions signed by one account to be executed\n * by another (typically a relayer).\n */\nexport class DelegateAction {\n    constructor(senderId, receiverId, actions, nonce, maxBlockHeight, publicKey) {\n        this.senderId = senderId;\n        this.receiverId = receiverId;\n        this.actions = actions;\n        this.nonce = nonce;\n        this.maxBlockHeight = maxBlockHeight;\n        this.publicKey = publicKey;\n    }\n}\n// ==================== Action Factory Functions ====================\n/**\n * Create a transfer action.\n *\n * @param deposit - Amount in yoctoNEAR as bigint.\n */\nexport function transfer(deposit) {\n    return {\n        transfer: { deposit },\n    };\n}\n/**\n * Create a function call action.\n *\n * @param methodName - Contract method name.\n * @param args - Serialized arguments as bytes.\n * @param gas - Gas attached (raw units).\n * @param deposit - Attached deposit in yoctoNEAR.\n */\nexport function functionCall(methodName, args, gas, deposit) {\n    return {\n        functionCall: { methodName, args, gas, deposit },\n    };\n}\n/**\n * Create an account creation action.\n */\nexport function createAccount() {\n    return {\n        createAccount: {},\n    };\n}\n/**\n * Create a delete account action.\n */\nexport function deleteAccount(beneficiaryId) {\n    return {\n        deleteAccount: { beneficiaryId },\n    };\n}\n/**\n * Create a deploy contract action.\n *\n * @param code - WASM bytes of the contract to deploy.\n */\nexport function deployContract(code) {\n    return {\n        deployContract: { code },\n    };\n}\nexport function stake(amount, publicKey) {\n    return {\n        stake: {\n            stake: amount,\n            publicKey: publicKeyToZorsh(publicKey),\n        },\n    };\n}\nexport function addKey(publicKey, permission) {\n    return {\n        addKey: {\n            publicKey: publicKeyToZorsh(publicKey),\n            accessKey: { nonce: BigInt(0), permission },\n        },\n    };\n}\nexport function deleteKey(publicKey) {\n    return {\n        deleteKey: {\n            publicKey: publicKeyToZorsh(publicKey),\n        },\n    };\n}\n/**\n * Publish a global contract that can be reused by multiple accounts.\n *\n * Global contracts are deployed once and referenced by multiple accounts,\n * saving storage costs. Two modes are available:\n *\n * - **\"account\" (default)** - Contract is identified by the signer's account ID. The signer\n *   can update the contract later, and all accounts using it will automatically\n *   use the updated version. Use this when you need to push updates to users.\n *\n * - **\"hash\"** - Contract is identified by its code hash. This creates\n *   an immutable contract that cannot be updated. Other accounts reference it by\n *   the hash. Use this when you want guaranteed immutability.\n *\n * @param code - The compiled contract code bytes (WASM)\n * @param options - Optional configuration\n * @param options.identifiedBy - How the contract is identified and referenced:\n *   - `\"account\"` (default): Updatable by signer, identified by signer's account ID\n *   - `\"hash\"`: Immutable, identified by code hash\n * @returns DeployGlobalContractAction\n *\n * @example\n * ```typescript\n * // Publish updatable contract (identified by your account) - default\n * publishContract(contractCode)\n * publishContract(contractCode, { identifiedBy: \"account\" })\n *\n * // Publish immutable contract (identified by its hash)\n * publishContract(contractCode, { identifiedBy: \"hash\" })\n * ```\n */\nexport function publishContract(code, options) {\n    const deployMode = options?.identifiedBy === \"hash\" ? { CodeHash: {} } : { AccountId: {} };\n    return {\n        deployGlobalContract: {\n            code,\n            deployMode,\n        },\n    };\n}\n/**\n * Deploy a contract to this account from previously published code in the global registry\n *\n * @param reference - Reference to the published contract, either:\n *                    - { codeHash: Uint8Array | string } - Reference by code hash (Uint8Array or base58 string)\n *                    - { accountId: string } - Reference by the account that published it\n * @returns UseGlobalContractAction\n *\n * @example\n * ```typescript\n * // Deploy from code hash (Uint8Array)\n * deployFromPublished({ codeHash: hashBytes })\n *\n * // Deploy from code hash (base58 string)\n * deployFromPublished({ codeHash: \"5FzD8...\" })\n *\n * // Deploy from account ID\n * deployFromPublished({ accountId: \"contract-publisher.near\" })\n * ```\n */\nexport function deployFromPublished(reference) {\n    let contractIdentifier;\n    if (\"accountId\" in reference) {\n        contractIdentifier = { AccountId: reference.accountId };\n    }\n    else {\n        // Handle codeHash - could be string (base58) or Uint8Array\n        const hashBytes = typeof reference.codeHash === \"string\"\n            ? base58.decode(reference.codeHash)\n            : reference.codeHash;\n        // Validate hash is 32 bytes\n        if (hashBytes.length !== 32) {\n            throw new Error(`Code hash must be 32 bytes, got ${hashBytes.length} bytes`);\n        }\n        contractIdentifier = { CodeHash: Array.from(hashBytes) };\n    }\n    return {\n        useGlobalContract: {\n            contractIdentifier,\n        },\n    };\n}\n/**\n * Create a signed delegate action for meta-transactions\n */\nexport function signedDelegate(delegateAction, signature) {\n    return {\n        signedDelegate: {\n            delegateAction: {\n                senderId: delegateAction.senderId,\n                receiverId: delegateAction.receiverId,\n                actions: delegateAction.actions,\n                nonce: delegateAction.nonce,\n                maxBlockHeight: delegateAction.maxBlockHeight,\n                publicKey: publicKeyToZorsh(delegateAction.publicKey),\n            },\n            signature: signatureToZorsh(signature),\n        },\n    };\n}\n/**\n * Create a StateInit action for deploying a contract with a deterministically derived account ID.\n *\n * This enables NEP-616 deterministic AccountIds where the account ID is derived from:\n * `\"0s\" + hex(keccak256(borsh(state_init))[12..32])`\n *\n * @param options - StateInit configuration\n * @returns DeterministicStateInitAction\n *\n * @example\n * ```typescript\n * // Deploy from a published global contract by account ID\n * stateInit({\n *   code: { accountId: \"publisher.near\" },\n *   deposit: BigInt(\"1000000000000000000000000\"), // 1 NEAR\n * })\n *\n * // Deploy from a code hash\n * stateInit({\n *   code: { codeHash: hashBytes },\n *   deposit: BigInt(\"1000000000000000000000000\"),\n * })\n * ```\n */\nexport function stateInit(options) {\n    let codeIdentifier;\n    if (\"accountId\" in options.code) {\n        codeIdentifier = { AccountId: options.code.accountId };\n    }\n    else {\n        const hashBytes = parseCodeHash(options.code.codeHash);\n        codeIdentifier = { CodeHash: Array.from(hashBytes) };\n    }\n    return {\n        deterministicStateInit: {\n            stateInit: {\n                V1: {\n                    code: codeIdentifier,\n                    data: options.data ?? new Map(),\n                },\n            },\n            deposit: options.deposit,\n        },\n    };\n}\n//# sourceMappingURL=actions.js.map","/**\n * Create a type-safe contract proxy for a NEAR contract.\n *\n * @param near - The {@link Near} client instance to use for calls.\n * @param contractId - Account ID of the target contract.\n *\n * @returns A proxy implementing the given {@link ContractMethods} interface.\n *\n * @remarks\n * Prefer using {@link Near.contract} instead of calling this function directly.\n */\nexport function createContract(near, contractId) {\n    const proxy = {\n        view: new Proxy({}, {\n            get: (_target, methodName) => {\n                return async (args, options) => {\n                    return await near.view(contractId, methodName, args || {}, options);\n                };\n            },\n        }),\n        call: new Proxy({}, {\n            get: (_target, methodName) => {\n                return async (args, options) => {\n                    return await near.call(contractId, methodName, args || {}, options || {});\n                };\n            },\n        }),\n    };\n    return proxy;\n}\n/**\n * Helper to extend {@link Near} prototype with a `contract` method.\n *\n * @internal This is used to keep the core {@link Near} implementation focused;\n * library users should call {@link Near.contract} instead of using this helper.\n */\nexport function addContractMethod(nearPrototype) {\n    nearPrototype.contract = function (contractId) {\n        return createContract(this, contractId);\n    };\n}\n//# sourceMappingURL=contract.js.map","/**\n * Error classes for the NEAR client library.\n *\n * @remarks\n * All errors in this module extend {@link NearError}, which carries a stable\n * `code` string and optional `data` field. Many errors also expose a\n * `retryable` flag to indicate whether the operation is safe to retry.\n */\n/**\n * Base error class for all NEAR-related errors.\n *\n * Provides a stable `code` and optional `data` payload for structured error\n * handling. Concrete error subclasses in this module narrow down specific\n * failure scenarios (network issues, contract panics, invalid transactions, etc.).\n */\nexport class NearError extends Error {\n    constructor(message, code, data) {\n        super(message);\n        this.name = \"NearError\";\n        this.code = code;\n        this.data = data;\n        Object.setPrototypeOf(this, NearError.prototype);\n    }\n}\n/**\n * Thrown when an account has insufficient balance for an operation\n */\nexport class InsufficientBalanceError extends NearError {\n    constructor(required, available) {\n        super(`Insufficient balance: required ${required} NEAR, available ${available} NEAR`, \"INSUFFICIENT_BALANCE\");\n        this.name = \"InsufficientBalanceError\";\n        this.required = required;\n        this.available = available;\n        Object.setPrototypeOf(this, InsufficientBalanceError.prototype);\n    }\n}\n/**\n * Thrown when a contract function call fails\n */\nexport class FunctionCallError extends NearError {\n    constructor(contractId, methodName, panic, logs = []) {\n        const methodPart = methodName ? `.${methodName}` : \"\";\n        const message = panic\n            ? `Contract call failed: ${contractId}${methodPart} - ${panic}`\n            : `Contract call failed: ${contractId}${methodPart}`;\n        super(message, \"FUNCTION_CALL_ERROR\");\n        this.name = \"FunctionCallError\";\n        this.contractId = contractId;\n        if (methodName !== undefined) {\n            this.methodName = methodName;\n        }\n        this.logs = logs;\n        if (panic !== undefined) {\n            this.panic = panic;\n        }\n        Object.setPrototypeOf(this, FunctionCallError.prototype);\n    }\n}\n/**\n * Thrown when a network request fails\n */\nexport class NetworkError extends NearError {\n    constructor(message, statusCode, retryable = true) {\n        super(message, \"NETWORK_ERROR\", { statusCode });\n        this.name = \"NetworkError\";\n        if (statusCode !== undefined) {\n            this.statusCode = statusCode;\n        }\n        this.retryable = retryable;\n        Object.setPrototypeOf(this, NetworkError.prototype);\n    }\n}\n/**\n * Thrown when a key is invalid or malformed\n */\nexport class InvalidKeyError extends NearError {\n    constructor(message) {\n        super(message, \"INVALID_KEY\");\n        this.name = \"InvalidKeyError\";\n        Object.setPrototypeOf(this, InvalidKeyError.prototype);\n    }\n}\n/**\n * Thrown when an account does not exist\n */\nexport class AccountDoesNotExistError extends NearError {\n    constructor(accountId) {\n        super(`Account does not exist: ${accountId}`, \"ACCOUNT_NOT_FOUND\");\n        this.name = \"AccountDoesNotExistError\";\n        this.accountId = accountId;\n        Object.setPrototypeOf(this, AccountDoesNotExistError.prototype);\n    }\n}\n/**\n * Thrown when an access key does not exist\n */\nexport class AccessKeyDoesNotExistError extends NearError {\n    constructor(accountId, publicKey) {\n        super(`Access key does not exist: ${publicKey} for account ${accountId}`, \"ACCESS_KEY_NOT_FOUND\");\n        this.name = \"AccessKeyDoesNotExistError\";\n        this.accountId = accountId;\n        this.publicKey = publicKey;\n        Object.setPrototypeOf(this, AccessKeyDoesNotExistError.prototype);\n    }\n}\n/**\n * Thrown when an account ID is invalid\n */\nexport class InvalidAccountIdError extends NearError {\n    constructor(accountId, reason) {\n        const message = reason\n            ? `Invalid account ID: ${accountId} - ${reason}`\n            : `Invalid account ID: ${accountId}`;\n        super(message, \"INVALID_ACCOUNT_ID\");\n        this.name = \"InvalidAccountIdError\";\n        this.accountId = accountId;\n        Object.setPrototypeOf(this, InvalidAccountIdError.prototype);\n    }\n}\n/**\n * Thrown when transaction signing fails\n */\nexport class SignatureError extends NearError {\n    constructor(message) {\n        super(message, \"SIGNATURE_ERROR\");\n        this.name = \"SignatureError\";\n        Object.setPrototypeOf(this, SignatureError.prototype);\n    }\n}\n/**\n * Thrown when gas limit is exceeded\n */\nexport class GasLimitExceededError extends NearError {\n    constructor(gasUsed, gasLimit) {\n        super(`Gas limit exceeded: used ${gasUsed}, limit ${gasLimit}`, \"GAS_LIMIT_EXCEEDED\");\n        this.name = \"GasLimitExceededError\";\n        this.gasUsed = gasUsed;\n        this.gasLimit = gasLimit;\n        Object.setPrototypeOf(this, GasLimitExceededError.prototype);\n    }\n}\n/**\n * Thrown when a transaction times out\n */\nexport class TransactionTimeoutError extends NearError {\n    constructor(transactionHash) {\n        super(`Transaction timed out: ${transactionHash}`, \"TRANSACTION_TIMEOUT\");\n        this.name = \"TransactionTimeoutError\";\n        this.transactionHash = transactionHash;\n        Object.setPrototypeOf(this, TransactionTimeoutError.prototype);\n    }\n}\n/**\n * Thrown when wallet operations fail\n */\nexport class WalletError extends NearError {\n    constructor(message) {\n        super(message, \"WALLET_ERROR\");\n        this.name = \"WalletError\";\n        Object.setPrototypeOf(this, WalletError.prototype);\n    }\n}\n/**\n * Thrown when a requested block cannot be found\n * Suggests using an archival node for old blocks\n */\nexport class UnknownBlockError extends NearError {\n    constructor(blockReference) {\n        super(`Block not found: ${blockReference}. It may have been garbage-collected. Try an archival node for blocks older than 5 epochs.`, \"UNKNOWN_BLOCK\");\n        this.name = \"UnknownBlockError\";\n        this.blockReference = blockReference;\n        Object.setPrototypeOf(this, UnknownBlockError.prototype);\n    }\n}\n/**\n * Thrown when account ID format is invalid\n */\nexport class InvalidAccountError extends NearError {\n    constructor(accountId) {\n        super(`Invalid account ID format: ${accountId}`, \"INVALID_ACCOUNT\");\n        this.name = \"InvalidAccountError\";\n        this.accountId = accountId;\n        Object.setPrototypeOf(this, InvalidAccountError.prototype);\n    }\n}\n/**\n * Thrown when the requested shard is not available on this node\n */\nexport class ShardUnavailableError extends NearError {\n    constructor(message) {\n        super(message ||\n            \"The requested shard is not tracked by this node. Try a different node.\", \"UNAVAILABLE_SHARD\");\n        this.retryable = true;\n        this.name = \"ShardUnavailableError\";\n        Object.setPrototypeOf(this, ShardUnavailableError.prototype);\n    }\n}\n/**\n * Thrown when the node is still syncing\n */\nexport class NodeNotSyncedError extends NearError {\n    constructor(message) {\n        super(message ||\n            \"Node is still syncing. Wait for sync to complete or try a different node.\", \"NOT_SYNCED\");\n        this.retryable = true;\n        this.name = \"NodeNotSyncedError\";\n        Object.setPrototypeOf(this, NodeNotSyncedError.prototype);\n    }\n}\n/**\n * Thrown when an account has no contract deployed\n */\nexport class ContractNotDeployedError extends NearError {\n    constructor(accountId) {\n        super(`No contract deployed on account: ${accountId}`, \"NO_CONTRACT_CODE\");\n        this.name = \"ContractNotDeployedError\";\n        this.accountId = accountId;\n        Object.setPrototypeOf(this, ContractNotDeployedError.prototype);\n    }\n}\n/**\n * Thrown when contract state is too large to return\n */\nexport class ContractStateTooLargeError extends NearError {\n    constructor(accountId) {\n        super(`Contract state too large (>50kb) for account ${accountId}. Try a node with larger limits.`, \"TOO_LARGE_CONTRACT_STATE\");\n        this.name = \"ContractStateTooLargeError\";\n        this.accountId = accountId;\n        Object.setPrototypeOf(this, ContractStateTooLargeError.prototype);\n    }\n}\n/**\n * Thrown when a view function call execution fails\n */\nexport class ContractExecutionError extends NearError {\n    constructor(contractId, methodName, details) {\n        const message = methodName\n            ? `Contract execution failed: ${contractId}.${methodName}`\n            : `Contract execution failed: ${contractId}`;\n        super(message, \"CONTRACT_EXECUTION_ERROR\", details);\n        this.name = \"ContractExecutionError\";\n        this.contractId = contractId;\n        if (methodName !== undefined) {\n            this.methodName = methodName;\n        }\n        if (details !== undefined) {\n            this.details = details;\n        }\n        Object.setPrototypeOf(this, ContractExecutionError.prototype);\n    }\n}\n/**\n * Thrown when a chunk cannot be found\n */\nexport class UnknownChunkError extends NearError {\n    constructor(chunkReference) {\n        super(`Chunk not found: ${chunkReference}. It may have been garbage-collected. Try an archival node.`, \"UNKNOWN_CHUNK\");\n        this.name = \"UnknownChunkError\";\n        this.chunkReference = chunkReference;\n        Object.setPrototypeOf(this, UnknownChunkError.prototype);\n    }\n}\n/**\n * Thrown when an invalid shard ID is provided\n */\nexport class InvalidShardIdError extends NearError {\n    constructor(shardId) {\n        super(`Invalid shard ID: ${shardId}. Provide a valid shard ID within the network's range.`, \"INVALID_SHARD_ID\");\n        this.name = \"InvalidShardIdError\";\n        this.shardId = shardId;\n        Object.setPrototypeOf(this, InvalidShardIdError.prototype);\n    }\n}\n/**\n * Thrown when an epoch cannot be found\n */\nexport class UnknownEpochError extends NearError {\n    constructor(blockReference) {\n        super(`Epoch not found for block: ${blockReference}. The block may be invalid or too old. Try an archival node.`, \"UNKNOWN_EPOCH\");\n        this.name = \"UnknownEpochError\";\n        this.blockReference = blockReference;\n        Object.setPrototypeOf(this, UnknownEpochError.prototype);\n    }\n}\n/**\n * Thrown when transaction nonce is invalid\n * This happens when a transaction uses a nonce that has already been used\n */\nexport class InvalidNonceError extends NearError {\n    constructor(txNonce, akNonce) {\n        super(`Invalid transaction nonce: transaction nonce ${txNonce} must be greater than access key nonce ${akNonce}`, \"INVALID_NONCE\");\n        this.retryable = true; // Can retry with updated nonce\n        this.name = \"InvalidNonceError\";\n        this.txNonce = txNonce;\n        this.akNonce = akNonce;\n        Object.setPrototypeOf(this, InvalidNonceError.prototype);\n    }\n}\n/**\n * Thrown when a transaction is invalid\n * Check details for specific reasons like ShardCongested or ShardStuck\n */\nexport class InvalidTransactionError extends NearError {\n    constructor(message, details) {\n        super(message, \"INVALID_TRANSACTION\", details);\n        this.name = \"InvalidTransactionError\";\n        this.details = details;\n        // Check if this is a retryable transaction error\n        const detailsObj = details;\n        this.shardCongested = !!detailsObj?.ShardCongested;\n        this.shardStuck = !!detailsObj?.ShardStuck;\n        this.retryable = this.shardCongested || this.shardStuck;\n        Object.setPrototypeOf(this, InvalidTransactionError.prototype);\n    }\n}\n/**\n * Thrown when a receipt cannot be found\n */\nexport class UnknownReceiptError extends NearError {\n    constructor(receiptId) {\n        super(`Receipt not found: ${receiptId}. It may not have been observed on this node.`, \"UNKNOWN_RECEIPT\");\n        this.name = \"UnknownReceiptError\";\n        this.receiptId = receiptId;\n        Object.setPrototypeOf(this, UnknownReceiptError.prototype);\n    }\n}\n/**\n * Thrown when request parameters cannot be parsed\n */\nexport class ParseError extends NearError {\n    constructor(message, details) {\n        super(`Request validation failed: ${message}. Check that all parameters are valid.`, \"PARSE_ERROR\", details);\n        this.name = \"ParseError\";\n        Object.setPrototypeOf(this, ParseError.prototype);\n    }\n}\n/**\n * Thrown when a request times out (408)\n * This is always retryable - resubmit the identical transaction\n */\nexport class TimeoutError extends NearError {\n    constructor(message, transactionHash) {\n        super(message ||\n            \"Request timed out. The transaction may still be processed. Resubmit the identical transaction.\", \"TIMEOUT_ERROR\");\n        this.retryable = true;\n        this.name = \"TimeoutError\";\n        if (transactionHash !== undefined) {\n            this.transactionHash = transactionHash;\n        }\n        Object.setPrototypeOf(this, TimeoutError.prototype);\n    }\n}\n/**\n * Thrown when the RPC server encounters an internal error (500)\n * This is always retryable\n */\nexport class InternalServerError extends NearError {\n    constructor(message, details) {\n        super(message ||\n            \"Internal server error. The node may be overloaded. Try again or use a different node.\", \"INTERNAL_ERROR\", details);\n        this.retryable = true;\n        this.name = \"InternalServerError\";\n        Object.setPrototypeOf(this, InternalServerError.prototype);\n    }\n}\n//# sourceMappingURL=index.js.map","/**\n * Internal Merkle-Damgard hash utils.\n * @module\n */\nimport { abytes, aexists, aoutput, clean, createView } from \"./utils.js\";\n/** Choice: a ? b : c */\nexport function Chi(a, b, c) {\n    return (a & b) ^ (~a & c);\n}\n/** Majority function, true if any two inputs is true. */\nexport function Maj(a, b, c) {\n    return (a & b) ^ (a & c) ^ (b & c);\n}\n/**\n * Merkle-Damgard hash construction base class.\n * Could be used to create MD5, RIPEMD, SHA1, SHA2.\n */\nexport class HashMD {\n    blockLen;\n    outputLen;\n    padOffset;\n    isLE;\n    // For partial updates less than block size\n    buffer;\n    view;\n    finished = false;\n    length = 0;\n    pos = 0;\n    destroyed = false;\n    constructor(blockLen, outputLen, padOffset, isLE) {\n        this.blockLen = blockLen;\n        this.outputLen = outputLen;\n        this.padOffset = padOffset;\n        this.isLE = isLE;\n        this.buffer = new Uint8Array(blockLen);\n        this.view = createView(this.buffer);\n    }\n    update(data) {\n        aexists(this);\n        abytes(data);\n        const { view, buffer, blockLen } = this;\n        const len = data.length;\n        for (let pos = 0; pos < len;) {\n            const take = Math.min(blockLen - this.pos, len - pos);\n            // Fast path: we have at least one block in input, cast it to view and process\n            if (take === blockLen) {\n                const dataView = createView(data);\n                for (; blockLen <= len - pos; pos += blockLen)\n                    this.process(dataView, pos);\n                continue;\n            }\n            buffer.set(data.subarray(pos, pos + take), this.pos);\n            this.pos += take;\n            pos += take;\n            if (this.pos === blockLen) {\n                this.process(view, 0);\n                this.pos = 0;\n            }\n        }\n        this.length += data.length;\n        this.roundClean();\n        return this;\n    }\n    digestInto(out) {\n        aexists(this);\n        aoutput(out, this);\n        this.finished = true;\n        // Padding\n        // We can avoid allocation of buffer for padding completely if it\n        // was previously not allocated here. But it won't change performance.\n        const { buffer, view, blockLen, isLE } = this;\n        let { pos } = this;\n        // append the bit '1' to the message\n        buffer[pos++] = 0b10000000;\n        clean(this.buffer.subarray(pos));\n        // we have less than padOffset left in buffer, so we cannot put length in\n        // current block, need process it and pad again\n        if (this.padOffset > blockLen - pos) {\n            this.process(view, 0);\n            pos = 0;\n        }\n        // Pad until full block byte with zeros\n        for (let i = pos; i < blockLen; i++)\n            buffer[i] = 0;\n        // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n        // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n        // So we just write lowest 64 bits of that value.\n        view.setBigUint64(blockLen - 8, BigInt(this.length * 8), isLE);\n        this.process(view, 0);\n        const oview = createView(out);\n        const len = this.outputLen;\n        // NOTE: we do division by 4 later, which must be fused in single op with modulo by JIT\n        if (len % 4)\n            throw new Error('_sha2: outputLen must be aligned to 32bit');\n        const outLen = len / 4;\n        const state = this.get();\n        if (outLen > state.length)\n            throw new Error('_sha2: outputLen bigger than state');\n        for (let i = 0; i < outLen; i++)\n            oview.setUint32(4 * i, state[i], isLE);\n    }\n    digest() {\n        const { buffer, outputLen } = this;\n        this.digestInto(buffer);\n        const res = buffer.slice(0, outputLen);\n        this.destroy();\n        return res;\n    }\n    _cloneInto(to) {\n        to ||= new this.constructor();\n        to.set(...this.get());\n        const { blockLen, buffer, length, finished, destroyed, pos } = this;\n        to.destroyed = destroyed;\n        to.finished = finished;\n        to.length = length;\n        to.pos = pos;\n        if (length % blockLen)\n            to.buffer.set(buffer);\n        return to;\n    }\n    clone() {\n        return this._cloneInto();\n    }\n}\n/**\n * Initial SHA-2 state: fractional parts of square roots of first 16 primes 2..53.\n * Check out `test/misc/sha2-gen-iv.js` for recomputation guide.\n */\n/** Initial SHA256 state. Bits 0..32 of frac part of sqrt of primes 2..19 */\nexport const SHA256_IV = /* @__PURE__ */ Uint32Array.from([\n    0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19,\n]);\n/** Initial SHA224 state. Bits 32..64 of frac part of sqrt of primes 23..53 */\nexport const SHA224_IV = /* @__PURE__ */ Uint32Array.from([\n    0xc1059ed8, 0x367cd507, 0x3070dd17, 0xf70e5939, 0xffc00b31, 0x68581511, 0x64f98fa7, 0xbefa4fa4,\n]);\n/** Initial SHA384 state. Bits 0..64 of frac part of sqrt of primes 23..53 */\nexport const SHA384_IV = /* @__PURE__ */ Uint32Array.from([\n    0xcbbb9d5d, 0xc1059ed8, 0x629a292a, 0x367cd507, 0x9159015a, 0x3070dd17, 0x152fecd8, 0xf70e5939,\n    0x67332667, 0xffc00b31, 0x8eb44a87, 0x68581511, 0xdb0c2e0d, 0x64f98fa7, 0x47b5481d, 0xbefa4fa4,\n]);\n/** Initial SHA512 state. Bits 0..64 of frac part of sqrt of primes 2..19 */\nexport const SHA512_IV = /* @__PURE__ */ Uint32Array.from([\n    0x6a09e667, 0xf3bcc908, 0xbb67ae85, 0x84caa73b, 0x3c6ef372, 0xfe94f82b, 0xa54ff53a, 0x5f1d36f1,\n    0x510e527f, 0xade682d1, 0x9b05688c, 0x2b3e6c1f, 0x1f83d9ab, 0xfb41bd6b, 0x5be0cd19, 0x137e2179,\n]);\n//# sourceMappingURL=_md.js.map","/**\n * Zod schemas for NEAR CLI credential file formats\n *\n * NEAR CLI stores credentials in `~/.near-credentials/` with the following structure:\n *\n * ## Directory Structure\n * ```\n * ~/.near-credentials/\n *    mainnet/\n *       account.near.json              # Single key per account\n *       account.near/                   # Multiple keys per account\n *           ed25519_PublicKeyBase58.json\n *    testnet/\n *       account.testnet.json\n *    implicit/\n *        accountId.json\n * ```\n *\n * ## File Format\n * Each credential file contains:\n * - `account_id` (optional): Named account ID\n * - `public_key`: Public key in format \"ed25519:Base58EncodedKey\"\n * - `private_key`: Private key in format \"ed25519:Base58EncodedKey\"\n * - `seed_phrase_hd_path` (optional): BIP32 derivation path (e.g., \"m/44'/397'/0'\")\n * - `master_seed_phrase` (optional): BIP39 seed phrase\n * - `implicit_account_id` (optional): Implicit account ID (hex of public key)\n *\n * @see https://github.com/near/near-cli\n */\nimport { z } from \"zod\";\n/**\n * Schema for NEAR CLI credential file\n *\n * This matches the format used by near-cli and near-cli-rs for storing\n * account credentials on the filesystem.\n *\n * @example\n * ```json\n * {\n *   \"account_id\": \"example.testnet\",\n *   \"public_key\": \"ed25519:8nFkHgRePSGD9UsK3Hx6234567890abcdefghijklmnop\",\n *   \"private_key\": \"ed25519:3D4c2v8K5x...\",\n *   \"seed_phrase_hd_path\": \"m/44'/397'/0'\",\n *   \"master_seed_phrase\": \"word1 word2 word3 ...\",\n *   \"implicit_account_id\": \"1234567890abcdef...\"\n * }\n * ```\n */\nexport const NearCliCredentialSchema = z.object({\n    /**\n     * Named account ID (optional)\n     * @example \"example.testnet\"\n     */\n    account_id: z.string().optional(),\n    /**\n     * Public key in NEAR format\n     * @example \"ed25519:8nFkHgRePSGD9UsK3Hx6nWKXGQ7Kd7k3k7k3k7k3k7k3\"\n     */\n    public_key: z.string(),\n    /**\n     * Private key in NEAR format (note: uses \"private_key\", not \"secret_key\")\n     * @example \"ed25519:3D4c2v8K5x...\"\n     */\n    private_key: z.string(),\n    /**\n     * BIP32 derivation path (optional)\n     * @example \"m/44'/397'/0'\"\n     */\n    seed_phrase_hd_path: z.string().optional(),\n    /**\n     * BIP39 seed phrase (optional)\n     * @example \"witch collapse practice feed shame open despair creek road again ice least\"\n     */\n    master_seed_phrase: z.string().optional(),\n    /**\n     * Implicit account ID (optional) - hex representation of the public key\n     * @example \"e3cb032dbb6e8f45239c79652ba94172378f940d340b429ce5076d1a2f7366e2\"\n     */\n    implicit_account_id: z.string().optional(),\n});\n/**\n * Legacy format used by some tools (uses \"secret_key\" instead of \"private_key\")\n * This is supported for reading only, not writing\n */\nexport const LegacyCredentialSchema = z.object({\n    account_id: z.string().optional(),\n    public_key: z.string(),\n    secret_key: z.string(), // Legacy field name\n    seed_phrase_hd_path: z.string().optional(),\n    master_seed_phrase: z.string().optional(),\n    implicit_account_id: z.string().optional(),\n});\n/**\n * Network identifiers supported by NEAR\n */\nexport const NetworkSchema = z.enum([\n    \"mainnet\",\n    \"testnet\",\n    \"betanet\",\n    \"localnet\",\n]);\n/**\n * Parse a credential file, supporting both modern and legacy formats\n *\n * @param data - Raw JSON data from credential file\n * @returns Parsed credential with normalized field names\n * @throws {z.ZodError} If the data doesn't match any supported format\n */\nexport function parseCredentialFile(data) {\n    // Try modern format first\n    const modernResult = NearCliCredentialSchema.safeParse(data);\n    if (modernResult.success) {\n        return modernResult.data;\n    }\n    // Try legacy format\n    const legacyResult = LegacyCredentialSchema.safeParse(data);\n    if (legacyResult.success) {\n        // Convert legacy format to modern format\n        const { secret_key, ...rest } = legacyResult.data;\n        return {\n            ...rest,\n            private_key: secret_key,\n        };\n    }\n    // Neither format matched, throw the modern format error\n    throw modernResult.error;\n}\n//# sourceMappingURL=credential-schemas.js.map","/**\n * SHA2 hash function. A.k.a. sha256, sha384, sha512, sha512_224, sha512_256.\n * SHA256 is the fastest hash implementable in JS, even faster than Blake3.\n * Check out [RFC 4634](https://www.rfc-editor.org/rfc/rfc4634) and\n * [FIPS 180-4](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf).\n * @module\n */\nimport { Chi, HashMD, Maj, SHA224_IV, SHA256_IV, SHA384_IV, SHA512_IV } from \"./_md.js\";\nimport * as u64 from \"./_u64.js\";\nimport { clean, createHasher, oidNist, rotr } from \"./utils.js\";\n/**\n * Round constants:\n * First 32 bits of fractional parts of the cube roots of the first 64 primes 2..311)\n */\n// prettier-ignore\nconst SHA256_K = /* @__PURE__ */ Uint32Array.from([\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n/** Reusable temporary buffer. \"W\" comes straight from spec. */\nconst SHA256_W = /* @__PURE__ */ new Uint32Array(64);\n/** Internal 32-byte base SHA2 hash class. */\nclass SHA2_32B extends HashMD {\n    constructor(outputLen) {\n        super(64, outputLen, 8, false);\n    }\n    get() {\n        const { A, B, C, D, E, F, G, H } = this;\n        return [A, B, C, D, E, F, G, H];\n    }\n    // prettier-ignore\n    set(A, B, C, D, E, F, G, H) {\n        this.A = A | 0;\n        this.B = B | 0;\n        this.C = C | 0;\n        this.D = D | 0;\n        this.E = E | 0;\n        this.F = F | 0;\n        this.G = G | 0;\n        this.H = H | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4)\n            SHA256_W[i] = view.getUint32(offset, false);\n        for (let i = 16; i < 64; i++) {\n            const W15 = SHA256_W[i - 15];\n            const W2 = SHA256_W[i - 2];\n            const s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ (W15 >>> 3);\n            const s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ (W2 >>> 10);\n            SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n        }\n        // Compression function main loop, 64 rounds\n        let { A, B, C, D, E, F, G, H } = this;\n        for (let i = 0; i < 64; i++) {\n            const sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n            const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n            const T2 = (sigma0 + Maj(A, B, C)) | 0;\n            H = G;\n            G = F;\n            F = E;\n            E = (D + T1) | 0;\n            D = C;\n            C = B;\n            B = A;\n            A = (T1 + T2) | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        A = (A + this.A) | 0;\n        B = (B + this.B) | 0;\n        C = (C + this.C) | 0;\n        D = (D + this.D) | 0;\n        E = (E + this.E) | 0;\n        F = (F + this.F) | 0;\n        G = (G + this.G) | 0;\n        H = (H + this.H) | 0;\n        this.set(A, B, C, D, E, F, G, H);\n    }\n    roundClean() {\n        clean(SHA256_W);\n    }\n    destroy() {\n        this.set(0, 0, 0, 0, 0, 0, 0, 0);\n        clean(this.buffer);\n    }\n}\n/** Internal SHA2-256 hash class. */\nexport class _SHA256 extends SHA2_32B {\n    // We cannot use array here since array allows indexing by variable\n    // which means optimizer/compiler cannot use registers.\n    A = SHA256_IV[0] | 0;\n    B = SHA256_IV[1] | 0;\n    C = SHA256_IV[2] | 0;\n    D = SHA256_IV[3] | 0;\n    E = SHA256_IV[4] | 0;\n    F = SHA256_IV[5] | 0;\n    G = SHA256_IV[6] | 0;\n    H = SHA256_IV[7] | 0;\n    constructor() {\n        super(32);\n    }\n}\n/** Internal SHA2-224 hash class. */\nexport class _SHA224 extends SHA2_32B {\n    A = SHA224_IV[0] | 0;\n    B = SHA224_IV[1] | 0;\n    C = SHA224_IV[2] | 0;\n    D = SHA224_IV[3] | 0;\n    E = SHA224_IV[4] | 0;\n    F = SHA224_IV[5] | 0;\n    G = SHA224_IV[6] | 0;\n    H = SHA224_IV[7] | 0;\n    constructor() {\n        super(28);\n    }\n}\n// SHA2-512 is slower than sha256 in js because u64 operations are slow.\n// Round contants\n// First 32 bits of the fractional parts of the cube roots of the first 80 primes 2..409\n// prettier-ignore\nconst K512 = /* @__PURE__ */ (() => u64.split([\n    '0x428a2f98d728ae22', '0x7137449123ef65cd', '0xb5c0fbcfec4d3b2f', '0xe9b5dba58189dbbc',\n    '0x3956c25bf348b538', '0x59f111f1b605d019', '0x923f82a4af194f9b', '0xab1c5ed5da6d8118',\n    '0xd807aa98a3030242', '0x12835b0145706fbe', '0x243185be4ee4b28c', '0x550c7dc3d5ffb4e2',\n    '0x72be5d74f27b896f', '0x80deb1fe3b1696b1', '0x9bdc06a725c71235', '0xc19bf174cf692694',\n    '0xe49b69c19ef14ad2', '0xefbe4786384f25e3', '0x0fc19dc68b8cd5b5', '0x240ca1cc77ac9c65',\n    '0x2de92c6f592b0275', '0x4a7484aa6ea6e483', '0x5cb0a9dcbd41fbd4', '0x76f988da831153b5',\n    '0x983e5152ee66dfab', '0xa831c66d2db43210', '0xb00327c898fb213f', '0xbf597fc7beef0ee4',\n    '0xc6e00bf33da88fc2', '0xd5a79147930aa725', '0x06ca6351e003826f', '0x142929670a0e6e70',\n    '0x27b70a8546d22ffc', '0x2e1b21385c26c926', '0x4d2c6dfc5ac42aed', '0x53380d139d95b3df',\n    '0x650a73548baf63de', '0x766a0abb3c77b2a8', '0x81c2c92e47edaee6', '0x92722c851482353b',\n    '0xa2bfe8a14cf10364', '0xa81a664bbc423001', '0xc24b8b70d0f89791', '0xc76c51a30654be30',\n    '0xd192e819d6ef5218', '0xd69906245565a910', '0xf40e35855771202a', '0x106aa07032bbd1b8',\n    '0x19a4c116b8d2d0c8', '0x1e376c085141ab53', '0x2748774cdf8eeb99', '0x34b0bcb5e19b48a8',\n    '0x391c0cb3c5c95a63', '0x4ed8aa4ae3418acb', '0x5b9cca4f7763e373', '0x682e6ff3d6b2b8a3',\n    '0x748f82ee5defb2fc', '0x78a5636f43172f60', '0x84c87814a1f0ab72', '0x8cc702081a6439ec',\n    '0x90befffa23631e28', '0xa4506cebde82bde9', '0xbef9a3f7b2c67915', '0xc67178f2e372532b',\n    '0xca273eceea26619c', '0xd186b8c721c0c207', '0xeada7dd6cde0eb1e', '0xf57d4f7fee6ed178',\n    '0x06f067aa72176fba', '0x0a637dc5a2c898a6', '0x113f9804bef90dae', '0x1b710b35131c471b',\n    '0x28db77f523047d84', '0x32caab7b40c72493', '0x3c9ebe0a15c9bebc', '0x431d67c49c100d4c',\n    '0x4cc5d4becb3e42b6', '0x597f299cfc657e2a', '0x5fcb6fab3ad6faec', '0x6c44198c4a475817'\n].map(n => BigInt(n))))();\nconst SHA512_Kh = /* @__PURE__ */ (() => K512[0])();\nconst SHA512_Kl = /* @__PURE__ */ (() => K512[1])();\n// Reusable temporary buffers\nconst SHA512_W_H = /* @__PURE__ */ new Uint32Array(80);\nconst SHA512_W_L = /* @__PURE__ */ new Uint32Array(80);\n/** Internal 64-byte base SHA2 hash class. */\nclass SHA2_64B extends HashMD {\n    constructor(outputLen) {\n        super(128, outputLen, 16, false);\n    }\n    // prettier-ignore\n    get() {\n        const { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        return [Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl];\n    }\n    // prettier-ignore\n    set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl) {\n        this.Ah = Ah | 0;\n        this.Al = Al | 0;\n        this.Bh = Bh | 0;\n        this.Bl = Bl | 0;\n        this.Ch = Ch | 0;\n        this.Cl = Cl | 0;\n        this.Dh = Dh | 0;\n        this.Dl = Dl | 0;\n        this.Eh = Eh | 0;\n        this.El = El | 0;\n        this.Fh = Fh | 0;\n        this.Fl = Fl | 0;\n        this.Gh = Gh | 0;\n        this.Gl = Gl | 0;\n        this.Hh = Hh | 0;\n        this.Hl = Hl | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 64 words w[16..79] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4) {\n            SHA512_W_H[i] = view.getUint32(offset);\n            SHA512_W_L[i] = view.getUint32((offset += 4));\n        }\n        for (let i = 16; i < 80; i++) {\n            // s0 := (w[i-15] rightrotate 1) xor (w[i-15] rightrotate 8) xor (w[i-15] rightshift 7)\n            const W15h = SHA512_W_H[i - 15] | 0;\n            const W15l = SHA512_W_L[i - 15] | 0;\n            const s0h = u64.rotrSH(W15h, W15l, 1) ^ u64.rotrSH(W15h, W15l, 8) ^ u64.shrSH(W15h, W15l, 7);\n            const s0l = u64.rotrSL(W15h, W15l, 1) ^ u64.rotrSL(W15h, W15l, 8) ^ u64.shrSL(W15h, W15l, 7);\n            // s1 := (w[i-2] rightrotate 19) xor (w[i-2] rightrotate 61) xor (w[i-2] rightshift 6)\n            const W2h = SHA512_W_H[i - 2] | 0;\n            const W2l = SHA512_W_L[i - 2] | 0;\n            const s1h = u64.rotrSH(W2h, W2l, 19) ^ u64.rotrBH(W2h, W2l, 61) ^ u64.shrSH(W2h, W2l, 6);\n            const s1l = u64.rotrSL(W2h, W2l, 19) ^ u64.rotrBL(W2h, W2l, 61) ^ u64.shrSL(W2h, W2l, 6);\n            // SHA256_W[i] = s0 + s1 + SHA256_W[i - 7] + SHA256_W[i - 16];\n            const SUMl = u64.add4L(s0l, s1l, SHA512_W_L[i - 7], SHA512_W_L[i - 16]);\n            const SUMh = u64.add4H(SUMl, s0h, s1h, SHA512_W_H[i - 7], SHA512_W_H[i - 16]);\n            SHA512_W_H[i] = SUMh | 0;\n            SHA512_W_L[i] = SUMl | 0;\n        }\n        let { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        // Compression function main loop, 80 rounds\n        for (let i = 0; i < 80; i++) {\n            // S1 := (e rightrotate 14) xor (e rightrotate 18) xor (e rightrotate 41)\n            const sigma1h = u64.rotrSH(Eh, El, 14) ^ u64.rotrSH(Eh, El, 18) ^ u64.rotrBH(Eh, El, 41);\n            const sigma1l = u64.rotrSL(Eh, El, 14) ^ u64.rotrSL(Eh, El, 18) ^ u64.rotrBL(Eh, El, 41);\n            //const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const CHIh = (Eh & Fh) ^ (~Eh & Gh);\n            const CHIl = (El & Fl) ^ (~El & Gl);\n            // T1 = H + sigma1 + Chi(E, F, G) + SHA512_K[i] + SHA512_W[i]\n            // prettier-ignore\n            const T1ll = u64.add5L(Hl, sigma1l, CHIl, SHA512_Kl[i], SHA512_W_L[i]);\n            const T1h = u64.add5H(T1ll, Hh, sigma1h, CHIh, SHA512_Kh[i], SHA512_W_H[i]);\n            const T1l = T1ll | 0;\n            // S0 := (a rightrotate 28) xor (a rightrotate 34) xor (a rightrotate 39)\n            const sigma0h = u64.rotrSH(Ah, Al, 28) ^ u64.rotrBH(Ah, Al, 34) ^ u64.rotrBH(Ah, Al, 39);\n            const sigma0l = u64.rotrSL(Ah, Al, 28) ^ u64.rotrBL(Ah, Al, 34) ^ u64.rotrBL(Ah, Al, 39);\n            const MAJh = (Ah & Bh) ^ (Ah & Ch) ^ (Bh & Ch);\n            const MAJl = (Al & Bl) ^ (Al & Cl) ^ (Bl & Cl);\n            Hh = Gh | 0;\n            Hl = Gl | 0;\n            Gh = Fh | 0;\n            Gl = Fl | 0;\n            Fh = Eh | 0;\n            Fl = El | 0;\n            ({ h: Eh, l: El } = u64.add(Dh | 0, Dl | 0, T1h | 0, T1l | 0));\n            Dh = Ch | 0;\n            Dl = Cl | 0;\n            Ch = Bh | 0;\n            Cl = Bl | 0;\n            Bh = Ah | 0;\n            Bl = Al | 0;\n            const All = u64.add3L(T1l, sigma0l, MAJl);\n            Ah = u64.add3H(All, T1h, sigma0h, MAJh);\n            Al = All | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        ({ h: Ah, l: Al } = u64.add(this.Ah | 0, this.Al | 0, Ah | 0, Al | 0));\n        ({ h: Bh, l: Bl } = u64.add(this.Bh | 0, this.Bl | 0, Bh | 0, Bl | 0));\n        ({ h: Ch, l: Cl } = u64.add(this.Ch | 0, this.Cl | 0, Ch | 0, Cl | 0));\n        ({ h: Dh, l: Dl } = u64.add(this.Dh | 0, this.Dl | 0, Dh | 0, Dl | 0));\n        ({ h: Eh, l: El } = u64.add(this.Eh | 0, this.El | 0, Eh | 0, El | 0));\n        ({ h: Fh, l: Fl } = u64.add(this.Fh | 0, this.Fl | 0, Fh | 0, Fl | 0));\n        ({ h: Gh, l: Gl } = u64.add(this.Gh | 0, this.Gl | 0, Gh | 0, Gl | 0));\n        ({ h: Hh, l: Hl } = u64.add(this.Hh | 0, this.Hl | 0, Hh | 0, Hl | 0));\n        this.set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl);\n    }\n    roundClean() {\n        clean(SHA512_W_H, SHA512_W_L);\n    }\n    destroy() {\n        clean(this.buffer);\n        this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n    }\n}\n/** Internal SHA2-512 hash class. */\nexport class _SHA512 extends SHA2_64B {\n    Ah = SHA512_IV[0] | 0;\n    Al = SHA512_IV[1] | 0;\n    Bh = SHA512_IV[2] | 0;\n    Bl = SHA512_IV[3] | 0;\n    Ch = SHA512_IV[4] | 0;\n    Cl = SHA512_IV[5] | 0;\n    Dh = SHA512_IV[6] | 0;\n    Dl = SHA512_IV[7] | 0;\n    Eh = SHA512_IV[8] | 0;\n    El = SHA512_IV[9] | 0;\n    Fh = SHA512_IV[10] | 0;\n    Fl = SHA512_IV[11] | 0;\n    Gh = SHA512_IV[12] | 0;\n    Gl = SHA512_IV[13] | 0;\n    Hh = SHA512_IV[14] | 0;\n    Hl = SHA512_IV[15] | 0;\n    constructor() {\n        super(64);\n    }\n}\n/** Internal SHA2-384 hash class. */\nexport class _SHA384 extends SHA2_64B {\n    Ah = SHA384_IV[0] | 0;\n    Al = SHA384_IV[1] | 0;\n    Bh = SHA384_IV[2] | 0;\n    Bl = SHA384_IV[3] | 0;\n    Ch = SHA384_IV[4] | 0;\n    Cl = SHA384_IV[5] | 0;\n    Dh = SHA384_IV[6] | 0;\n    Dl = SHA384_IV[7] | 0;\n    Eh = SHA384_IV[8] | 0;\n    El = SHA384_IV[9] | 0;\n    Fh = SHA384_IV[10] | 0;\n    Fl = SHA384_IV[11] | 0;\n    Gh = SHA384_IV[12] | 0;\n    Gl = SHA384_IV[13] | 0;\n    Hh = SHA384_IV[14] | 0;\n    Hl = SHA384_IV[15] | 0;\n    constructor() {\n        super(48);\n    }\n}\n/**\n * Truncated SHA512/256 and SHA512/224.\n * SHA512_IV is XORed with 0xa5a5a5a5a5a5a5a5, then used as \"intermediary\" IV of SHA512/t.\n * Then t hashes string to produce result IV.\n * See `test/misc/sha2-gen-iv.js`.\n */\n/** SHA512/224 IV */\nconst T224_IV = /* @__PURE__ */ Uint32Array.from([\n    0x8c3d37c8, 0x19544da2, 0x73e19966, 0x89dcd4d6, 0x1dfab7ae, 0x32ff9c82, 0x679dd514, 0x582f9fcf,\n    0x0f6d2b69, 0x7bd44da8, 0x77e36f73, 0x04c48942, 0x3f9d85a8, 0x6a1d36c8, 0x1112e6ad, 0x91d692a1,\n]);\n/** SHA512/256 IV */\nconst T256_IV = /* @__PURE__ */ Uint32Array.from([\n    0x22312194, 0xfc2bf72c, 0x9f555fa3, 0xc84c64c2, 0x2393b86b, 0x6f53b151, 0x96387719, 0x5940eabd,\n    0x96283ee2, 0xa88effe3, 0xbe5e1e25, 0x53863992, 0x2b0199fc, 0x2c85b8aa, 0x0eb72ddc, 0x81c52ca2,\n]);\n/** Internal SHA2-512/224 hash class. */\nexport class _SHA512_224 extends SHA2_64B {\n    Ah = T224_IV[0] | 0;\n    Al = T224_IV[1] | 0;\n    Bh = T224_IV[2] | 0;\n    Bl = T224_IV[3] | 0;\n    Ch = T224_IV[4] | 0;\n    Cl = T224_IV[5] | 0;\n    Dh = T224_IV[6] | 0;\n    Dl = T224_IV[7] | 0;\n    Eh = T224_IV[8] | 0;\n    El = T224_IV[9] | 0;\n    Fh = T224_IV[10] | 0;\n    Fl = T224_IV[11] | 0;\n    Gh = T224_IV[12] | 0;\n    Gl = T224_IV[13] | 0;\n    Hh = T224_IV[14] | 0;\n    Hl = T224_IV[15] | 0;\n    constructor() {\n        super(28);\n    }\n}\n/** Internal SHA2-512/256 hash class. */\nexport class _SHA512_256 extends SHA2_64B {\n    Ah = T256_IV[0] | 0;\n    Al = T256_IV[1] | 0;\n    Bh = T256_IV[2] | 0;\n    Bl = T256_IV[3] | 0;\n    Ch = T256_IV[4] | 0;\n    Cl = T256_IV[5] | 0;\n    Dh = T256_IV[6] | 0;\n    Dl = T256_IV[7] | 0;\n    Eh = T256_IV[8] | 0;\n    El = T256_IV[9] | 0;\n    Fh = T256_IV[10] | 0;\n    Fl = T256_IV[11] | 0;\n    Gh = T256_IV[12] | 0;\n    Gl = T256_IV[13] | 0;\n    Hh = T256_IV[14] | 0;\n    Hl = T256_IV[15] | 0;\n    constructor() {\n        super(32);\n    }\n}\n/**\n * SHA2-256 hash function from RFC 4634. In JS it's the fastest: even faster than Blake3. Some info:\n *\n * - Trying 2^128 hashes would get 50% chance of collision, using birthday attack.\n * - BTC network is doing 2^70 hashes/sec (2^95 hashes/year) as per 2025.\n * - Each sha256 hash is executing 2^18 bit operations.\n * - Good 2024 ASICs can do 200Th/sec with 3500 watts of power, corresponding to 2^36 hashes/joule.\n */\nexport const sha256 = /* @__PURE__ */ createHasher(() => new _SHA256(), \n/* @__PURE__ */ oidNist(0x01));\n/** SHA2-224 hash function from RFC 4634 */\nexport const sha224 = /* @__PURE__ */ createHasher(() => new _SHA224(), \n/* @__PURE__ */ oidNist(0x04));\n/** SHA2-512 hash function from RFC 4634. */\nexport const sha512 = /* @__PURE__ */ createHasher(() => new _SHA512(), \n/* @__PURE__ */ oidNist(0x03));\n/** SHA2-384 hash function from RFC 4634. */\nexport const sha384 = /* @__PURE__ */ createHasher(() => new _SHA384(), \n/* @__PURE__ */ oidNist(0x02));\n/**\n * SHA2-512/256 \"truncated\" hash function, with improved resistance to length extension attacks.\n * See the paper on [truncated SHA512](https://eprint.iacr.org/2010/548.pdf).\n */\nexport const sha512_256 = /* @__PURE__ */ createHasher(() => new _SHA512_256(), \n/* @__PURE__ */ oidNist(0x06));\n/**\n * SHA2-512/224 \"truncated\" hash function, with improved resistance to length extension attacks.\n * See the paper on [truncated SHA512](https://eprint.iacr.org/2010/548.pdf).\n */\nexport const sha512_224 = /* @__PURE__ */ createHasher(() => new _SHA512_224(), \n/* @__PURE__ */ oidNist(0x05));\n//# sourceMappingURL=sha2.js.map","/**\n * Hex, bytes and number utilities.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { abytes as abytes_, anumber, bytesToHex as bytesToHex_, concatBytes as concatBytes_, hexToBytes as hexToBytes_, } from '@noble/hashes/utils.js';\nexport { abytes, anumber, bytesToHex, concatBytes, hexToBytes, isBytes, randomBytes, } from '@noble/hashes/utils.js';\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nexport function abool(value, title = '') {\n    if (typeof value !== 'boolean') {\n        const prefix = title && `\"${title}\" `;\n        throw new Error(prefix + 'expected boolean, got type=' + typeof value);\n    }\n    return value;\n}\n// Used in weierstrass, der\nfunction abignumber(n) {\n    if (typeof n === 'bigint') {\n        if (!isPosBig(n))\n            throw new Error('positive bigint expected, got ' + n);\n    }\n    else\n        anumber(n);\n    return n;\n}\nexport function asafenumber(value, title = '') {\n    if (!Number.isSafeInteger(value)) {\n        const prefix = title && `\"${title}\" `;\n        throw new Error(prefix + 'expected safe integer, got type=' + typeof value);\n    }\n}\nexport function numberToHexUnpadded(num) {\n    const hex = abignumber(num).toString(16);\n    return hex.length & 1 ? '0' + hex : hex;\n}\nexport function hexToNumber(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    return hex === '' ? _0n : BigInt('0x' + hex); // Big Endian\n}\n// BE: Big Endian, LE: Little Endian\nexport function bytesToNumberBE(bytes) {\n    return hexToNumber(bytesToHex_(bytes));\n}\nexport function bytesToNumberLE(bytes) {\n    return hexToNumber(bytesToHex_(copyBytes(abytes_(bytes)).reverse()));\n}\nexport function numberToBytesBE(n, len) {\n    anumber(len);\n    n = abignumber(n);\n    const res = hexToBytes_(n.toString(16).padStart(len * 2, '0'));\n    if (res.length !== len)\n        throw new Error('number too large');\n    return res;\n}\nexport function numberToBytesLE(n, len) {\n    return numberToBytesBE(n, len).reverse();\n}\n// Unpadded, rarely used\nexport function numberToVarBytesBE(n) {\n    return hexToBytes_(numberToHexUnpadded(abignumber(n)));\n}\n// Compares 2 u8a-s in kinda constant time\nexport function equalBytes(a, b) {\n    if (a.length !== b.length)\n        return false;\n    let diff = 0;\n    for (let i = 0; i < a.length; i++)\n        diff |= a[i] ^ b[i];\n    return diff === 0;\n}\n/**\n * Copies Uint8Array. We can't use u8a.slice(), because u8a can be Buffer,\n * and Buffer#slice creates mutable copy. Never use Buffers!\n */\nexport function copyBytes(bytes) {\n    return Uint8Array.from(bytes);\n}\n/**\n * Decodes 7-bit ASCII string to Uint8Array, throws on non-ascii symbols\n * Should be safe to use for things expected to be ASCII.\n * Returns exact same result as `TextEncoder` for ASCII or throws.\n */\nexport function asciiToBytes(ascii) {\n    return Uint8Array.from(ascii, (c, i) => {\n        const charCode = c.charCodeAt(0);\n        if (c.length !== 1 || charCode > 127) {\n            throw new Error(`string contains non-ASCII character \"${ascii[i]}\" with code ${charCode} at position ${i}`);\n        }\n        return charCode;\n    });\n}\n// Is positive bigint\nconst isPosBig = (n) => typeof n === 'bigint' && _0n <= n;\nexport function inRange(n, min, max) {\n    return isPosBig(n) && isPosBig(min) && isPosBig(max) && min <= n && n < max;\n}\n/**\n * Asserts min <= n < max. NOTE: It's < max and not <= max.\n * @example\n * aInRange('x', x, 1n, 256n); // would assume x is in (1n..255n)\n */\nexport function aInRange(title, n, min, max) {\n    // Why min <= n < max and not a (min < n < max) OR b (min <= n <= max)?\n    // consider P=256n, min=0n, max=P\n    // - a for min=0 would require -1:          `inRange('x', x, -1n, P)`\n    // - b would commonly require subtraction:  `inRange('x', x, 0n, P - 1n)`\n    // - our way is the cleanest:               `inRange('x', x, 0n, P)\n    if (!inRange(n, min, max))\n        throw new Error('expected valid ' + title + ': ' + min + ' <= n < ' + max + ', got ' + n);\n}\n// Bit operations\n/**\n * Calculates amount of bits in a bigint.\n * Same as `n.toString(2).length`\n * TODO: merge with nLength in modular\n */\nexport function bitLen(n) {\n    let len;\n    for (len = 0; n > _0n; n >>= _1n, len += 1)\n        ;\n    return len;\n}\n/**\n * Gets single bit at position.\n * NOTE: first bit position is 0 (same as arrays)\n * Same as `!!+Array.from(n.toString(2)).reverse()[pos]`\n */\nexport function bitGet(n, pos) {\n    return (n >> BigInt(pos)) & _1n;\n}\n/**\n * Sets single bit at position.\n */\nexport function bitSet(n, pos, value) {\n    return n | ((value ? _1n : _0n) << BigInt(pos));\n}\n/**\n * Calculate mask for N bits. Not using ** operator with bigints because of old engines.\n * Same as BigInt(`0b${Array(i).fill('1').join('')}`)\n */\nexport const bitMask = (n) => (_1n << BigInt(n)) - _1n;\n/**\n * Minimal HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n * @returns function that will call DRBG until 2nd arg returns something meaningful\n * @example\n *   const drbg = createHmacDRBG<Key>(32, 32, hmac);\n *   drbg(seed, bytesToKey); // bytesToKey must return Key or undefined\n */\nexport function createHmacDrbg(hashLen, qByteLen, hmacFn) {\n    anumber(hashLen, 'hashLen');\n    anumber(qByteLen, 'qByteLen');\n    if (typeof hmacFn !== 'function')\n        throw new Error('hmacFn must be a function');\n    const u8n = (len) => new Uint8Array(len); // creates Uint8Array\n    const NULL = Uint8Array.of();\n    const byte0 = Uint8Array.of(0x00);\n    const byte1 = Uint8Array.of(0x01);\n    const _maxDrbgIters = 1000;\n    // Step B, Step C: set hashLen to 8*ceil(hlen/8)\n    let v = u8n(hashLen); // Minimal non-full-spec HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n    let k = u8n(hashLen); // Steps B and C of RFC6979 3.2: set hashLen, in our case always same\n    let i = 0; // Iterations counter, will throw when over 1000\n    const reset = () => {\n        v.fill(1);\n        k.fill(0);\n        i = 0;\n    };\n    const h = (...msgs) => hmacFn(k, concatBytes_(v, ...msgs)); // hmac(k)(v, ...values)\n    const reseed = (seed = NULL) => {\n        // HMAC-DRBG reseed() function. Steps D-G\n        k = h(byte0, seed); // k = hmac(k || v || 0x00 || seed)\n        v = h(); // v = hmac(k || v)\n        if (seed.length === 0)\n            return;\n        k = h(byte1, seed); // k = hmac(k || v || 0x01 || seed)\n        v = h(); // v = hmac(k || v)\n    };\n    const gen = () => {\n        // HMAC-DRBG generate() function\n        if (i++ >= _maxDrbgIters)\n            throw new Error('drbg: tried max amount of iterations');\n        let len = 0;\n        const out = [];\n        while (len < qByteLen) {\n            v = h();\n            const sl = v.slice();\n            out.push(sl);\n            len += v.length;\n        }\n        return concatBytes_(...out);\n    };\n    const genUntil = (seed, pred) => {\n        reset();\n        reseed(seed); // Steps D-G\n        let res = undefined; // Step H: grind until k is in [1..n-1]\n        while (!(res = pred(gen())))\n            reseed();\n        reset();\n        return res;\n    };\n    return genUntil;\n}\nexport function validateObject(object, fields = {}, optFields = {}) {\n    if (!object || typeof object !== 'object')\n        throw new Error('expected valid options object');\n    function checkField(fieldName, expectedType, isOpt) {\n        const val = object[fieldName];\n        if (isOpt && val === undefined)\n            return;\n        const current = typeof val;\n        if (current !== expectedType || val === null)\n            throw new Error(`param \"${fieldName}\" is invalid: expected ${expectedType}, got ${current}`);\n    }\n    const iter = (f, isOpt) => Object.entries(f).forEach(([k, v]) => checkField(k, v, isOpt));\n    iter(fields, false);\n    iter(optFields, true);\n}\n/**\n * throws not implemented error\n */\nexport const notImplemented = () => {\n    throw new Error('not implemented');\n};\n/**\n * Memoizes (caches) computation result.\n * Uses WeakMap: the value is going auto-cleaned by GC after last reference is removed.\n */\nexport function memoized(fn) {\n    const map = new WeakMap();\n    return (arg, ...args) => {\n        const val = map.get(arg);\n        if (val !== undefined)\n            return val;\n        const computed = fn(arg, ...args);\n        map.set(arg, computed);\n        return computed;\n    };\n}\n//# sourceMappingURL=utils.js.map","/**\n * Utils for modular division and fields.\n * Field over 11 is a finite (Galois) field is integer number operations `mod 11`.\n * There is no division: it is replaced by modular multiplicative inverse.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { abytes, anumber, bytesToNumberBE, bytesToNumberLE, numberToBytesBE, numberToBytesLE, validateObject, } from \"../utils.js\";\n// Numbers aren't used in x25519 / x448 builds\n// prettier-ignore\nconst _0n = /* @__PURE__ */ BigInt(0), _1n = /* @__PURE__ */ BigInt(1), _2n = /* @__PURE__ */ BigInt(2);\n// prettier-ignore\nconst _3n = /* @__PURE__ */ BigInt(3), _4n = /* @__PURE__ */ BigInt(4), _5n = /* @__PURE__ */ BigInt(5);\n// prettier-ignore\nconst _7n = /* @__PURE__ */ BigInt(7), _8n = /* @__PURE__ */ BigInt(8), _9n = /* @__PURE__ */ BigInt(9);\nconst _16n = /* @__PURE__ */ BigInt(16);\n// Calculates a modulo b\nexport function mod(a, b) {\n    const result = a % b;\n    return result >= _0n ? result : b + result;\n}\n/**\n * Efficiently raise num to power and do modular division.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n * @example\n * pow(2n, 6n, 11n) // 64n % 11n == 9n\n */\nexport function pow(num, power, modulo) {\n    return FpPow(Field(modulo), num, power);\n}\n/** Does `x^(2^power)` mod p. `pow2(30, 4)` == `30^(2^4)` */\nexport function pow2(x, power, modulo) {\n    let res = x;\n    while (power-- > _0n) {\n        res *= res;\n        res %= modulo;\n    }\n    return res;\n}\n/**\n * Inverses number over modulo.\n * Implemented using [Euclidean GCD](https://brilliant.org/wiki/extended-euclidean-algorithm/).\n */\nexport function invert(number, modulo) {\n    if (number === _0n)\n        throw new Error('invert: expected non-zero number');\n    if (modulo <= _0n)\n        throw new Error('invert: expected positive modulus, got ' + modulo);\n    // Fermat's little theorem \"CT-like\" version inv(n) = n^(m-2) mod m is 30x slower.\n    let a = mod(number, modulo);\n    let b = modulo;\n    // prettier-ignore\n    let x = _0n, y = _1n, u = _1n, v = _0n;\n    while (a !== _0n) {\n        // JIT applies optimization if those two lines follow each other\n        const q = b / a;\n        const r = b % a;\n        const m = x - u * q;\n        const n = y - v * q;\n        // prettier-ignore\n        b = a, a = r, x = u, y = v, u = m, v = n;\n    }\n    const gcd = b;\n    if (gcd !== _1n)\n        throw new Error('invert: does not exist');\n    return mod(x, modulo);\n}\nfunction assertIsSquare(Fp, root, n) {\n    if (!Fp.eql(Fp.sqr(root), n))\n        throw new Error('Cannot find square root');\n}\n// Not all roots are possible! Example which will throw:\n// const NUM =\n// n = 72057594037927816n;\n// Fp = Field(BigInt('0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab'));\nfunction sqrt3mod4(Fp, n) {\n    const p1div4 = (Fp.ORDER + _1n) / _4n;\n    const root = Fp.pow(n, p1div4);\n    assertIsSquare(Fp, root, n);\n    return root;\n}\nfunction sqrt5mod8(Fp, n) {\n    const p5div8 = (Fp.ORDER - _5n) / _8n;\n    const n2 = Fp.mul(n, _2n);\n    const v = Fp.pow(n2, p5div8);\n    const nv = Fp.mul(n, v);\n    const i = Fp.mul(Fp.mul(nv, _2n), v);\n    const root = Fp.mul(nv, Fp.sub(i, Fp.ONE));\n    assertIsSquare(Fp, root, n);\n    return root;\n}\n// Based on RFC9380, Kong algorithm\n// prettier-ignore\nfunction sqrt9mod16(P) {\n    const Fp_ = Field(P);\n    const tn = tonelliShanks(P);\n    const c1 = tn(Fp_, Fp_.neg(Fp_.ONE)); //  1. c1 = sqrt(-1) in F, i.e., (c1^2) == -1 in F\n    const c2 = tn(Fp_, c1); //  2. c2 = sqrt(c1) in F, i.e., (c2^2) == c1 in F\n    const c3 = tn(Fp_, Fp_.neg(c1)); //  3. c3 = sqrt(-c1) in F, i.e., (c3^2) == -c1 in F\n    const c4 = (P + _7n) / _16n; //  4. c4 = (q + 7) / 16        # Integer arithmetic\n    return (Fp, n) => {\n        let tv1 = Fp.pow(n, c4); //  1. tv1 = x^c4\n        let tv2 = Fp.mul(tv1, c1); //  2. tv2 = c1 * tv1\n        const tv3 = Fp.mul(tv1, c2); //  3. tv3 = c2 * tv1\n        const tv4 = Fp.mul(tv1, c3); //  4. tv4 = c3 * tv1\n        const e1 = Fp.eql(Fp.sqr(tv2), n); //  5.  e1 = (tv2^2) == x\n        const e2 = Fp.eql(Fp.sqr(tv3), n); //  6.  e2 = (tv3^2) == x\n        tv1 = Fp.cmov(tv1, tv2, e1); //  7. tv1 = CMOV(tv1, tv2, e1)  # Select tv2 if (tv2^2) == x\n        tv2 = Fp.cmov(tv4, tv3, e2); //  8. tv2 = CMOV(tv4, tv3, e2)  # Select tv3 if (tv3^2) == x\n        const e3 = Fp.eql(Fp.sqr(tv2), n); //  9.  e3 = (tv2^2) == x\n        const root = Fp.cmov(tv1, tv2, e3); // 10.  z = CMOV(tv1, tv2, e3)   # Select sqrt from tv1 & tv2\n        assertIsSquare(Fp, root, n);\n        return root;\n    };\n}\n/**\n * Tonelli-Shanks square root search algorithm.\n * 1. https://eprint.iacr.org/2012/685.pdf (page 12)\n * 2. Square Roots from 1; 24, 51, 10 to Dan Shanks\n * @param P field order\n * @returns function that takes field Fp (created from P) and number n\n */\nexport function tonelliShanks(P) {\n    // Initialization (precomputation).\n    // Caching initialization could boost perf by 7%.\n    if (P < _3n)\n        throw new Error('sqrt is not defined for small field');\n    // Factor P - 1 = Q * 2^S, where Q is odd\n    let Q = P - _1n;\n    let S = 0;\n    while (Q % _2n === _0n) {\n        Q /= _2n;\n        S++;\n    }\n    // Find the first quadratic non-residue Z >= 2\n    let Z = _2n;\n    const _Fp = Field(P);\n    while (FpLegendre(_Fp, Z) === 1) {\n        // Basic primality test for P. After x iterations, chance of\n        // not finding quadratic non-residue is 2^x, so 2^1000.\n        if (Z++ > 1000)\n            throw new Error('Cannot find square root: probably non-prime P');\n    }\n    // Fast-path; usually done before Z, but we do \"primality test\".\n    if (S === 1)\n        return sqrt3mod4;\n    // Slow-path\n    // TODO: test on Fp2 and others\n    let cc = _Fp.pow(Z, Q); // c = z^Q\n    const Q1div2 = (Q + _1n) / _2n;\n    return function tonelliSlow(Fp, n) {\n        if (Fp.is0(n))\n            return n;\n        // Check if n is a quadratic residue using Legendre symbol\n        if (FpLegendre(Fp, n) !== 1)\n            throw new Error('Cannot find square root');\n        // Initialize variables for the main loop\n        let M = S;\n        let c = Fp.mul(Fp.ONE, cc); // c = z^Q, move cc from field _Fp into field Fp\n        let t = Fp.pow(n, Q); // t = n^Q, first guess at the fudge factor\n        let R = Fp.pow(n, Q1div2); // R = n^((Q+1)/2), first guess at the square root\n        // Main loop\n        // while t != 1\n        while (!Fp.eql(t, Fp.ONE)) {\n            if (Fp.is0(t))\n                return Fp.ZERO; // if t=0 return R=0\n            let i = 1;\n            // Find the smallest i >= 1 such that t^(2^i)  1 (mod P)\n            let t_tmp = Fp.sqr(t); // t^(2^1)\n            while (!Fp.eql(t_tmp, Fp.ONE)) {\n                i++;\n                t_tmp = Fp.sqr(t_tmp); // t^(2^2)...\n                if (i === M)\n                    throw new Error('Cannot find square root');\n            }\n            // Calculate the exponent for b: 2^(M - i - 1)\n            const exponent = _1n << BigInt(M - i - 1); // bigint is important\n            const b = Fp.pow(c, exponent); // b = 2^(M - i - 1)\n            // Update variables\n            M = i;\n            c = Fp.sqr(b); // c = b^2\n            t = Fp.mul(t, c); // t = (t * b^2)\n            R = Fp.mul(R, b); // R = R*b\n        }\n        return R;\n    };\n}\n/**\n * Square root for a finite field. Will try optimized versions first:\n *\n * 1. P  3 (mod 4)\n * 2. P  5 (mod 8)\n * 3. P  9 (mod 16)\n * 4. Tonelli-Shanks algorithm\n *\n * Different algorithms can give different roots, it is up to user to decide which one they want.\n * For example there is FpSqrtOdd/FpSqrtEven to choice root based on oddness (used for hash-to-curve).\n */\nexport function FpSqrt(P) {\n    // P  3 (mod 4) => n = n^((P+1)/4)\n    if (P % _4n === _3n)\n        return sqrt3mod4;\n    // P  5 (mod 8) => Atkin algorithm, page 10 of https://eprint.iacr.org/2012/685.pdf\n    if (P % _8n === _5n)\n        return sqrt5mod8;\n    // P  9 (mod 16) => Kong algorithm, page 11 of https://eprint.iacr.org/2012/685.pdf (algorithm 4)\n    if (P % _16n === _9n)\n        return sqrt9mod16(P);\n    // Tonelli-Shanks algorithm\n    return tonelliShanks(P);\n}\n// Little-endian check for first LE bit (last BE bit);\nexport const isNegativeLE = (num, modulo) => (mod(num, modulo) & _1n) === _1n;\n// prettier-ignore\nconst FIELD_FIELDS = [\n    'create', 'isValid', 'is0', 'neg', 'inv', 'sqrt', 'sqr',\n    'eql', 'add', 'sub', 'mul', 'pow', 'div',\n    'addN', 'subN', 'mulN', 'sqrN'\n];\nexport function validateField(field) {\n    const initial = {\n        ORDER: 'bigint',\n        BYTES: 'number',\n        BITS: 'number',\n    };\n    const opts = FIELD_FIELDS.reduce((map, val) => {\n        map[val] = 'function';\n        return map;\n    }, initial);\n    validateObject(field, opts);\n    // const max = 16384;\n    // if (field.BYTES < 1 || field.BYTES > max) throw new Error('invalid field');\n    // if (field.BITS < 1 || field.BITS > 8 * max) throw new Error('invalid field');\n    return field;\n}\n// Generic field functions\n/**\n * Same as `pow` but for Fp: non-constant-time.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n */\nexport function FpPow(Fp, num, power) {\n    if (power < _0n)\n        throw new Error('invalid exponent, negatives unsupported');\n    if (power === _0n)\n        return Fp.ONE;\n    if (power === _1n)\n        return num;\n    let p = Fp.ONE;\n    let d = num;\n    while (power > _0n) {\n        if (power & _1n)\n            p = Fp.mul(p, d);\n        d = Fp.sqr(d);\n        power >>= _1n;\n    }\n    return p;\n}\n/**\n * Efficiently invert an array of Field elements.\n * Exception-free. Will return `undefined` for 0 elements.\n * @param passZero map 0 to 0 (instead of undefined)\n */\nexport function FpInvertBatch(Fp, nums, passZero = false) {\n    const inverted = new Array(nums.length).fill(passZero ? Fp.ZERO : undefined);\n    // Walk from first to last, multiply them by each other MOD p\n    const multipliedAcc = nums.reduce((acc, num, i) => {\n        if (Fp.is0(num))\n            return acc;\n        inverted[i] = acc;\n        return Fp.mul(acc, num);\n    }, Fp.ONE);\n    // Invert last element\n    const invertedAcc = Fp.inv(multipliedAcc);\n    // Walk from last to first, multiply them by inverted each other MOD p\n    nums.reduceRight((acc, num, i) => {\n        if (Fp.is0(num))\n            return acc;\n        inverted[i] = Fp.mul(acc, inverted[i]);\n        return Fp.mul(acc, num);\n    }, invertedAcc);\n    return inverted;\n}\n// TODO: remove\nexport function FpDiv(Fp, lhs, rhs) {\n    return Fp.mul(lhs, typeof rhs === 'bigint' ? invert(rhs, Fp.ORDER) : Fp.inv(rhs));\n}\n/**\n * Legendre symbol.\n * Legendre constant is used to calculate Legendre symbol (a | p)\n * which denotes the value of a^((p-1)/2) (mod p).\n *\n * * (a | p)  1    if a is a square (mod p), quadratic residue\n * * (a | p)  -1   if a is not a square (mod p), quadratic non residue\n * * (a | p)  0    if a  0 (mod p)\n */\nexport function FpLegendre(Fp, n) {\n    // We can use 3rd argument as optional cache of this value\n    // but seems unneeded for now. The operation is very fast.\n    const p1mod2 = (Fp.ORDER - _1n) / _2n;\n    const powered = Fp.pow(n, p1mod2);\n    const yes = Fp.eql(powered, Fp.ONE);\n    const zero = Fp.eql(powered, Fp.ZERO);\n    const no = Fp.eql(powered, Fp.neg(Fp.ONE));\n    if (!yes && !zero && !no)\n        throw new Error('invalid Legendre symbol result');\n    return yes ? 1 : zero ? 0 : -1;\n}\n// This function returns True whenever the value x is a square in the field F.\nexport function FpIsSquare(Fp, n) {\n    const l = FpLegendre(Fp, n);\n    return l === 1;\n}\n// CURVE.n lengths\nexport function nLength(n, nBitLength) {\n    // Bit size, byte size of CURVE.n\n    if (nBitLength !== undefined)\n        anumber(nBitLength);\n    const _nBitLength = nBitLength !== undefined ? nBitLength : n.toString(2).length;\n    const nByteLength = Math.ceil(_nBitLength / 8);\n    return { nBitLength: _nBitLength, nByteLength };\n}\nclass _Field {\n    ORDER;\n    BITS;\n    BYTES;\n    isLE;\n    ZERO = _0n;\n    ONE = _1n;\n    _lengths;\n    _sqrt; // cached sqrt\n    _mod;\n    constructor(ORDER, opts = {}) {\n        if (ORDER <= _0n)\n            throw new Error('invalid field: expected ORDER > 0, got ' + ORDER);\n        let _nbitLength = undefined;\n        this.isLE = false;\n        if (opts != null && typeof opts === 'object') {\n            if (typeof opts.BITS === 'number')\n                _nbitLength = opts.BITS;\n            if (typeof opts.sqrt === 'function')\n                this.sqrt = opts.sqrt;\n            if (typeof opts.isLE === 'boolean')\n                this.isLE = opts.isLE;\n            if (opts.allowedLengths)\n                this._lengths = opts.allowedLengths?.slice();\n            if (typeof opts.modFromBytes === 'boolean')\n                this._mod = opts.modFromBytes;\n        }\n        const { nBitLength, nByteLength } = nLength(ORDER, _nbitLength);\n        if (nByteLength > 2048)\n            throw new Error('invalid field: expected ORDER of <= 2048 bytes');\n        this.ORDER = ORDER;\n        this.BITS = nBitLength;\n        this.BYTES = nByteLength;\n        this._sqrt = undefined;\n        Object.preventExtensions(this);\n    }\n    create(num) {\n        return mod(num, this.ORDER);\n    }\n    isValid(num) {\n        if (typeof num !== 'bigint')\n            throw new Error('invalid field element: expected bigint, got ' + typeof num);\n        return _0n <= num && num < this.ORDER; // 0 is valid element, but it's not invertible\n    }\n    is0(num) {\n        return num === _0n;\n    }\n    // is valid and invertible\n    isValidNot0(num) {\n        return !this.is0(num) && this.isValid(num);\n    }\n    isOdd(num) {\n        return (num & _1n) === _1n;\n    }\n    neg(num) {\n        return mod(-num, this.ORDER);\n    }\n    eql(lhs, rhs) {\n        return lhs === rhs;\n    }\n    sqr(num) {\n        return mod(num * num, this.ORDER);\n    }\n    add(lhs, rhs) {\n        return mod(lhs + rhs, this.ORDER);\n    }\n    sub(lhs, rhs) {\n        return mod(lhs - rhs, this.ORDER);\n    }\n    mul(lhs, rhs) {\n        return mod(lhs * rhs, this.ORDER);\n    }\n    pow(num, power) {\n        return FpPow(this, num, power);\n    }\n    div(lhs, rhs) {\n        return mod(lhs * invert(rhs, this.ORDER), this.ORDER);\n    }\n    // Same as above, but doesn't normalize\n    sqrN(num) {\n        return num * num;\n    }\n    addN(lhs, rhs) {\n        return lhs + rhs;\n    }\n    subN(lhs, rhs) {\n        return lhs - rhs;\n    }\n    mulN(lhs, rhs) {\n        return lhs * rhs;\n    }\n    inv(num) {\n        return invert(num, this.ORDER);\n    }\n    sqrt(num) {\n        // Caching _sqrt speeds up sqrt9mod16 by 5x and tonneli-shanks by 10%\n        if (!this._sqrt)\n            this._sqrt = FpSqrt(this.ORDER);\n        return this._sqrt(this, num);\n    }\n    toBytes(num) {\n        return this.isLE ? numberToBytesLE(num, this.BYTES) : numberToBytesBE(num, this.BYTES);\n    }\n    fromBytes(bytes, skipValidation = false) {\n        abytes(bytes);\n        const { _lengths: allowedLengths, BYTES, isLE, ORDER, _mod: modFromBytes } = this;\n        if (allowedLengths) {\n            if (!allowedLengths.includes(bytes.length) || bytes.length > BYTES) {\n                throw new Error('Field.fromBytes: expected ' + allowedLengths + ' bytes, got ' + bytes.length);\n            }\n            const padded = new Uint8Array(BYTES);\n            // isLE add 0 to right, !isLE to the left.\n            padded.set(bytes, isLE ? 0 : padded.length - bytes.length);\n            bytes = padded;\n        }\n        if (bytes.length !== BYTES)\n            throw new Error('Field.fromBytes: expected ' + BYTES + ' bytes, got ' + bytes.length);\n        let scalar = isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);\n        if (modFromBytes)\n            scalar = mod(scalar, ORDER);\n        if (!skipValidation)\n            if (!this.isValid(scalar))\n                throw new Error('invalid field element: outside of range 0..ORDER');\n        // NOTE: we don't validate scalar here, please use isValid. This done such way because some\n        // protocol may allow non-reduced scalar that reduced later or changed some other way.\n        return scalar;\n    }\n    // TODO: we don't need it here, move out to separate fn\n    invertBatch(lst) {\n        return FpInvertBatch(this, lst);\n    }\n    // We can't move this out because Fp6, Fp12 implement it\n    // and it's unclear what to return in there.\n    cmov(a, b, condition) {\n        return condition ? b : a;\n    }\n}\n/**\n * Creates a finite field. Major performance optimizations:\n * * 1. Denormalized operations like mulN instead of mul.\n * * 2. Identical object shape: never add or remove keys.\n * * 3. `Object.freeze`.\n * Fragile: always run a benchmark on a change.\n * Security note: operations don't check 'isValid' for all elements for performance reasons,\n * it is caller responsibility to check this.\n * This is low-level code, please make sure you know what you're doing.\n *\n * Note about field properties:\n * * CHARACTERISTIC p = prime number, number of elements in main subgroup.\n * * ORDER q = similar to cofactor in curves, may be composite `q = p^m`.\n *\n * @param ORDER field order, probably prime, or could be composite\n * @param bitLen how many bits the field consumes\n * @param isLE (default: false) if encoding / decoding should be in little-endian\n * @param redef optional faster redefinitions of sqrt and other methods\n */\nexport function Field(ORDER, opts = {}) {\n    return new _Field(ORDER, opts);\n}\n// Generic random scalar, we can do same for other fields if via Fp2.mul(Fp2.ONE, Fp2.random)?\n// This allows unsafe methods like ignore bias or zero. These unsafe, but often used in different protocols (if deterministic RNG).\n// which mean we cannot force this via opts.\n// Not sure what to do with randomBytes, we can accept it inside opts if wanted.\n// Probably need to export getMinHashLength somewhere?\n// random(bytes?: Uint8Array, unsafeAllowZero = false, unsafeAllowBias = false) {\n//   const LEN = !unsafeAllowBias ? getMinHashLength(ORDER) : BYTES;\n//   if (bytes === undefined) bytes = randomBytes(LEN); // _opts.randomBytes?\n//   const num = isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);\n//   // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n//   const reduced = unsafeAllowZero ? mod(num, ORDER) : mod(num, ORDER - _1n) + _1n;\n//   return reduced;\n// },\nexport function FpSqrtOdd(Fp, elm) {\n    if (!Fp.isOdd)\n        throw new Error(\"Field doesn't have isOdd\");\n    const root = Fp.sqrt(elm);\n    return Fp.isOdd(root) ? root : Fp.neg(root);\n}\nexport function FpSqrtEven(Fp, elm) {\n    if (!Fp.isOdd)\n        throw new Error(\"Field doesn't have isOdd\");\n    const root = Fp.sqrt(elm);\n    return Fp.isOdd(root) ? Fp.neg(root) : root;\n}\n/**\n * Returns total number of bytes consumed by the field element.\n * For example, 32 bytes for usual 256-bit weierstrass curve.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of field\n */\nexport function getFieldBytesLength(fieldOrder) {\n    if (typeof fieldOrder !== 'bigint')\n        throw new Error('field order must be bigint');\n    const bitLength = fieldOrder.toString(2).length;\n    return Math.ceil(bitLength / 8);\n}\n/**\n * Returns minimal amount of bytes that can be safely reduced\n * by field order.\n * Should be 2^-128 for 128-bit curve such as P256.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of target hash\n */\nexport function getMinHashLength(fieldOrder) {\n    const length = getFieldBytesLength(fieldOrder);\n    return length + Math.ceil(length / 2);\n}\n/**\n * \"Constant-time\" private key generation utility.\n * Can take (n + n/2) or more bytes of uniform input e.g. from CSPRNG or KDF\n * and convert them into private scalar, with the modulo bias being negligible.\n * Needs at least 48 bytes of input for 32-byte private key.\n * https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/\n * FIPS 186-5, A.2 https://csrc.nist.gov/publications/detail/fips/186/5/final\n * RFC 9380, https://www.rfc-editor.org/rfc/rfc9380#section-5\n * @param hash hash output from SHA3 or a similar function\n * @param groupOrder size of subgroup - (e.g. secp256k1.Point.Fn.ORDER)\n * @param isLE interpret hash bytes as LE num\n * @returns valid private scalar\n */\nexport function mapHashToField(key, fieldOrder, isLE = false) {\n    abytes(key);\n    const len = key.length;\n    const fieldLen = getFieldBytesLength(fieldOrder);\n    const minLen = getMinHashLength(fieldOrder);\n    // No small numbers: need to understand bias story. No huge numbers: easier to detect JS timings.\n    if (len < 16 || len < minLen || len > 1024)\n        throw new Error('expected ' + minLen + '-1024 bytes of input, got ' + len);\n    const num = isLE ? bytesToNumberLE(key) : bytesToNumberBE(key);\n    // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n    const reduced = mod(num, fieldOrder - _1n) + _1n;\n    return isLE ? numberToBytesLE(reduced, fieldLen) : numberToBytesBE(reduced, fieldLen);\n}\n//# sourceMappingURL=modular.js.map","/**\n * Methods for elliptic curve multiplication by scalars.\n * Contains wNAF, pippenger.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { bitLen, bitMask } from \"../utils.js\";\nimport { Field, FpInvertBatch, validateField } from \"./modular.js\";\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nexport function negateCt(condition, item) {\n    const neg = item.negate();\n    return condition ? neg : item;\n}\n/**\n * Takes a bunch of Projective Points but executes only one\n * inversion on all of them. Inversion is very slow operation,\n * so this improves performance massively.\n * Optimization: converts a list of projective points to a list of identical points with Z=1.\n */\nexport function normalizeZ(c, points) {\n    const invertedZs = FpInvertBatch(c.Fp, points.map((p) => p.Z));\n    return points.map((p, i) => c.fromAffine(p.toAffine(invertedZs[i])));\n}\nfunction validateW(W, bits) {\n    if (!Number.isSafeInteger(W) || W <= 0 || W > bits)\n        throw new Error('invalid window size, expected [1..' + bits + '], got W=' + W);\n}\nfunction calcWOpts(W, scalarBits) {\n    validateW(W, scalarBits);\n    const windows = Math.ceil(scalarBits / W) + 1; // W=8 33. Not 32, because we skip zero\n    const windowSize = 2 ** (W - 1); // W=8 128. Not 256, because we skip zero\n    const maxNumber = 2 ** W; // W=8 256\n    const mask = bitMask(W); // W=8 255 == mask 0b11111111\n    const shiftBy = BigInt(W); // W=8 8\n    return { windows, windowSize, mask, maxNumber, shiftBy };\n}\nfunction calcOffsets(n, window, wOpts) {\n    const { windowSize, mask, maxNumber, shiftBy } = wOpts;\n    let wbits = Number(n & mask); // extract W bits.\n    let nextN = n >> shiftBy; // shift number by W bits.\n    // What actually happens here:\n    // const highestBit = Number(mask ^ (mask >> 1n));\n    // let wbits2 = wbits - 1; // skip zero\n    // if (wbits2 & highestBit) { wbits2 ^= Number(mask); // (~);\n    // split if bits > max: +224 => 256-32\n    if (wbits > windowSize) {\n        // we skip zero, which means instead of `>= size-1`, we do `> size`\n        wbits -= maxNumber; // -32, can be maxNumber - wbits, but then we need to set isNeg here.\n        nextN += _1n; // +256 (carry)\n    }\n    const offsetStart = window * windowSize;\n    const offset = offsetStart + Math.abs(wbits) - 1; // -1 because we skip zero\n    const isZero = wbits === 0; // is current window slice a 0?\n    const isNeg = wbits < 0; // is current window slice negative?\n    const isNegF = window % 2 !== 0; // fake random statement for noise\n    const offsetF = offsetStart; // fake offset for noise\n    return { nextN, offset, isZero, isNeg, isNegF, offsetF };\n}\nfunction validateMSMPoints(points, c) {\n    if (!Array.isArray(points))\n        throw new Error('array expected');\n    points.forEach((p, i) => {\n        if (!(p instanceof c))\n            throw new Error('invalid point at index ' + i);\n    });\n}\nfunction validateMSMScalars(scalars, field) {\n    if (!Array.isArray(scalars))\n        throw new Error('array of scalars expected');\n    scalars.forEach((s, i) => {\n        if (!field.isValid(s))\n            throw new Error('invalid scalar at index ' + i);\n    });\n}\n// Since points in different groups cannot be equal (different object constructor),\n// we can have single place to store precomputes.\n// Allows to make points frozen / immutable.\nconst pointPrecomputes = new WeakMap();\nconst pointWindowSizes = new WeakMap();\nfunction getW(P) {\n    // To disable precomputes:\n    // return 1;\n    return pointWindowSizes.get(P) || 1;\n}\nfunction assert0(n) {\n    if (n !== _0n)\n        throw new Error('invalid wNAF');\n}\n/**\n * Elliptic curve multiplication of Point by scalar. Fragile.\n * Table generation takes **30MB of ram and 10ms on high-end CPU**,\n * but may take much longer on slow devices. Actual generation will happen on\n * first call of `multiply()`. By default, `BASE` point is precomputed.\n *\n * Scalars should always be less than curve order: this should be checked inside of a curve itself.\n * Creates precomputation tables for fast multiplication:\n * - private scalar is split by fixed size windows of W bits\n * - every window point is collected from window's table & added to accumulator\n * - since windows are different, same point inside tables won't be accessed more than once per calc\n * - each multiplication is 'Math.ceil(CURVE_ORDER / ) + 1' point additions (fixed for any scalar)\n * - +1 window is neccessary for wNAF\n * - wNAF reduces table size: 2x less memory + 2x faster generation, but 10% slower multiplication\n *\n * @todo Research returning 2d JS array of windows, instead of a single window.\n * This would allow windows to be in different memory locations\n */\nexport class wNAF {\n    BASE;\n    ZERO;\n    Fn;\n    bits;\n    // Parametrized with a given Point class (not individual point)\n    constructor(Point, bits) {\n        this.BASE = Point.BASE;\n        this.ZERO = Point.ZERO;\n        this.Fn = Point.Fn;\n        this.bits = bits;\n    }\n    // non-const time multiplication ladder\n    _unsafeLadder(elm, n, p = this.ZERO) {\n        let d = elm;\n        while (n > _0n) {\n            if (n & _1n)\n                p = p.add(d);\n            d = d.double();\n            n >>= _1n;\n        }\n        return p;\n    }\n    /**\n     * Creates a wNAF precomputation window. Used for caching.\n     * Default window size is set by `utils.precompute()` and is equal to 8.\n     * Number of precomputed points depends on the curve size:\n     * 2^(1) * (Math.ceil( / ) + 1), where:\n     * -  is the window size\n     * -  is the bitlength of the curve order.\n     * For a 256-bit curve and window size 8, the number of precomputed points is 128 * 33 = 4224.\n     * @param point Point instance\n     * @param W window size\n     * @returns precomputed point tables flattened to a single array\n     */\n    precomputeWindow(point, W) {\n        const { windows, windowSize } = calcWOpts(W, this.bits);\n        const points = [];\n        let p = point;\n        let base = p;\n        for (let window = 0; window < windows; window++) {\n            base = p;\n            points.push(base);\n            // i=1, bc we skip 0\n            for (let i = 1; i < windowSize; i++) {\n                base = base.add(p);\n                points.push(base);\n            }\n            p = base.double();\n        }\n        return points;\n    }\n    /**\n     * Implements ec multiplication using precomputed tables and w-ary non-adjacent form.\n     * More compact implementation:\n     * https://github.com/paulmillr/noble-secp256k1/blob/47cb1669b6e506ad66b35fe7d76132ae97465da2/index.ts#L502-L541\n     * @returns real and fake (for const-time) points\n     */\n    wNAF(W, precomputes, n) {\n        // Scalar should be smaller than field order\n        if (!this.Fn.isValid(n))\n            throw new Error('invalid scalar');\n        // Accumulators\n        let p = this.ZERO;\n        let f = this.BASE;\n        // This code was first written with assumption that 'f' and 'p' will never be infinity point:\n        // since each addition is multiplied by 2 ** W, it cannot cancel each other. However,\n        // there is negate now: it is possible that negated element from low value\n        // would be the same as high element, which will create carry into next window.\n        // It's not obvious how this can fail, but still worth investigating later.\n        const wo = calcWOpts(W, this.bits);\n        for (let window = 0; window < wo.windows; window++) {\n            // (n === _0n) is handled and not early-exited. isEven and offsetF are used for noise\n            const { nextN, offset, isZero, isNeg, isNegF, offsetF } = calcOffsets(n, window, wo);\n            n = nextN;\n            if (isZero) {\n                // bits are 0: add garbage to fake point\n                // Important part for const-time getPublicKey: add random \"noise\" point to f.\n                f = f.add(negateCt(isNegF, precomputes[offsetF]));\n            }\n            else {\n                // bits are 1: add to result point\n                p = p.add(negateCt(isNeg, precomputes[offset]));\n            }\n        }\n        assert0(n);\n        // Return both real and fake points: JIT won't eliminate f.\n        // At this point there is a way to F be infinity-point even if p is not,\n        // which makes it less const-time: around 1 bigint multiply.\n        return { p, f };\n    }\n    /**\n     * Implements ec unsafe (non const-time) multiplication using precomputed tables and w-ary non-adjacent form.\n     * @param acc accumulator point to add result of multiplication\n     * @returns point\n     */\n    wNAFUnsafe(W, precomputes, n, acc = this.ZERO) {\n        const wo = calcWOpts(W, this.bits);\n        for (let window = 0; window < wo.windows; window++) {\n            if (n === _0n)\n                break; // Early-exit, skip 0 value\n            const { nextN, offset, isZero, isNeg } = calcOffsets(n, window, wo);\n            n = nextN;\n            if (isZero) {\n                // Window bits are 0: skip processing.\n                // Move to next window.\n                continue;\n            }\n            else {\n                const item = precomputes[offset];\n                acc = acc.add(isNeg ? item.negate() : item); // Re-using acc allows to save adds in MSM\n            }\n        }\n        assert0(n);\n        return acc;\n    }\n    getPrecomputes(W, point, transform) {\n        // Calculate precomputes on a first run, reuse them after\n        let comp = pointPrecomputes.get(point);\n        if (!comp) {\n            comp = this.precomputeWindow(point, W);\n            if (W !== 1) {\n                // Doing transform outside of if brings 15% perf hit\n                if (typeof transform === 'function')\n                    comp = transform(comp);\n                pointPrecomputes.set(point, comp);\n            }\n        }\n        return comp;\n    }\n    cached(point, scalar, transform) {\n        const W = getW(point);\n        return this.wNAF(W, this.getPrecomputes(W, point, transform), scalar);\n    }\n    unsafe(point, scalar, transform, prev) {\n        const W = getW(point);\n        if (W === 1)\n            return this._unsafeLadder(point, scalar, prev); // For W=1 ladder is ~x2 faster\n        return this.wNAFUnsafe(W, this.getPrecomputes(W, point, transform), scalar, prev);\n    }\n    // We calculate precomputes for elliptic curve point multiplication\n    // using windowed method. This specifies window size and\n    // stores precomputed values. Usually only base point would be precomputed.\n    createCache(P, W) {\n        validateW(W, this.bits);\n        pointWindowSizes.set(P, W);\n        pointPrecomputes.delete(P);\n    }\n    hasCache(elm) {\n        return getW(elm) !== 1;\n    }\n}\n/**\n * Endomorphism-specific multiplication for Koblitz curves.\n * Cost: 128 dbl, 0-256 adds.\n */\nexport function mulEndoUnsafe(Point, point, k1, k2) {\n    let acc = point;\n    let p1 = Point.ZERO;\n    let p2 = Point.ZERO;\n    while (k1 > _0n || k2 > _0n) {\n        if (k1 & _1n)\n            p1 = p1.add(acc);\n        if (k2 & _1n)\n            p2 = p2.add(acc);\n        acc = acc.double();\n        k1 >>= _1n;\n        k2 >>= _1n;\n    }\n    return { p1, p2 };\n}\n/**\n * Pippenger algorithm for multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * 30x faster vs naive addition on L=4096, 10x faster than precomputes.\n * For N=254bit, L=1, it does: 1024 ADD + 254 DBL. For L=5: 1536 ADD + 254 DBL.\n * Algorithmically constant-time (for same L), even when 1 point + scalar, or when scalar = 0.\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @param scalars array of L scalars (aka secret keys / bigints)\n */\nexport function pippenger(c, points, scalars) {\n    // If we split scalars by some window (let's say 8 bits), every chunk will only\n    // take 256 buckets even if there are 4096 scalars, also re-uses double.\n    // TODO:\n    // - https://eprint.iacr.org/2024/750.pdf\n    // - https://tches.iacr.org/index.php/TCHES/article/view/10287\n    // 0 is accepted in scalars\n    const fieldN = c.Fn;\n    validateMSMPoints(points, c);\n    validateMSMScalars(scalars, fieldN);\n    const plength = points.length;\n    const slength = scalars.length;\n    if (plength !== slength)\n        throw new Error('arrays of points and scalars must have equal length');\n    // if (plength === 0) throw new Error('array must be of length >= 2');\n    const zero = c.ZERO;\n    const wbits = bitLen(BigInt(plength));\n    let windowSize = 1; // bits\n    if (wbits > 12)\n        windowSize = wbits - 3;\n    else if (wbits > 4)\n        windowSize = wbits - 2;\n    else if (wbits > 0)\n        windowSize = 2;\n    const MASK = bitMask(windowSize);\n    const buckets = new Array(Number(MASK) + 1).fill(zero); // +1 for zero array\n    const lastBits = Math.floor((fieldN.BITS - 1) / windowSize) * windowSize;\n    let sum = zero;\n    for (let i = lastBits; i >= 0; i -= windowSize) {\n        buckets.fill(zero);\n        for (let j = 0; j < slength; j++) {\n            const scalar = scalars[j];\n            const wbits = Number((scalar >> BigInt(i)) & MASK);\n            buckets[wbits] = buckets[wbits].add(points[j]);\n        }\n        let resI = zero; // not using this will do small speed-up, but will lose ct\n        // Skip first bucket, because it is zero\n        for (let j = buckets.length - 1, sumI = zero; j > 0; j--) {\n            sumI = sumI.add(buckets[j]);\n            resI = resI.add(sumI);\n        }\n        sum = sum.add(resI);\n        if (i !== 0)\n            for (let j = 0; j < windowSize; j++)\n                sum = sum.double();\n    }\n    return sum;\n}\n/**\n * Precomputed multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @returns function which multiplies points with scaars\n */\nexport function precomputeMSMUnsafe(c, points, windowSize) {\n    /**\n     * Performance Analysis of Window-based Precomputation\n     *\n     * Base Case (256-bit scalar, 8-bit window):\n     * - Standard precomputation requires:\n     *   - 31 additions per scalar  256 scalars = 7,936 ops\n     *   - Plus 255 summary additions = 8,191 total ops\n     *   Note: Summary additions can be optimized via accumulator\n     *\n     * Chunked Precomputation Analysis:\n     * - Using 32 chunks requires:\n     *   - 255 additions per chunk\n     *   - 256 doublings\n     *   - Total: (255  32) + 256 = 8,416 ops\n     *\n     * Memory Usage Comparison:\n     * Window Size | Standard Points | Chunked Points\n     * ------------|-----------------|---------------\n     *     4-bit   |     520         |      15\n     *     8-bit   |    4,224        |     255\n     *    10-bit   |   13,824        |   1,023\n     *    16-bit   |  557,056        |  65,535\n     *\n     * Key Advantages:\n     * 1. Enables larger window sizes due to reduced memory overhead\n     * 2. More efficient for smaller scalar counts:\n     *    - 16 chunks: (16  255) + 256 = 4,336 ops\n     *    - ~2x faster than standard 8,191 ops\n     *\n     * Limitations:\n     * - Not suitable for plain precomputes (requires 256 constant doublings)\n     * - Performance degrades with larger scalar counts:\n     *   - Optimal for ~256 scalars\n     *   - Less efficient for 4096+ scalars (Pippenger preferred)\n     */\n    const fieldN = c.Fn;\n    validateW(windowSize, fieldN.BITS);\n    validateMSMPoints(points, c);\n    const zero = c.ZERO;\n    const tableSize = 2 ** windowSize - 1; // table size (without zero)\n    const chunks = Math.ceil(fieldN.BITS / windowSize); // chunks of item\n    const MASK = bitMask(windowSize);\n    const tables = points.map((p) => {\n        const res = [];\n        for (let i = 0, acc = p; i < tableSize; i++) {\n            res.push(acc);\n            acc = acc.add(p);\n        }\n        return res;\n    });\n    return (scalars) => {\n        validateMSMScalars(scalars, fieldN);\n        if (scalars.length > points.length)\n            throw new Error('array of scalars must be smaller than array of points');\n        let res = zero;\n        for (let i = 0; i < chunks; i++) {\n            // No need to double if accumulator is still zero.\n            if (res !== zero)\n                for (let j = 0; j < windowSize; j++)\n                    res = res.double();\n            const shiftBy = BigInt(chunks * windowSize - (i + 1) * windowSize);\n            for (let j = 0; j < scalars.length; j++) {\n                const n = scalars[j];\n                const curr = Number((n >> shiftBy) & MASK);\n                if (!curr)\n                    continue; // skip zero scalars chunks\n                res = res.add(tables[j][curr - 1]);\n            }\n        }\n        return res;\n    };\n}\nfunction createField(order, field, isLE) {\n    if (field) {\n        if (field.ORDER !== order)\n            throw new Error('Field.ORDER must match order: Fp == p, Fn == n');\n        validateField(field);\n        return field;\n    }\n    else {\n        return Field(order, { isLE });\n    }\n}\n/** Validates CURVE opts and creates fields */\nexport function createCurveFields(type, CURVE, curveOpts = {}, FpFnLE) {\n    if (FpFnLE === undefined)\n        FpFnLE = type === 'edwards';\n    if (!CURVE || typeof CURVE !== 'object')\n        throw new Error(`expected valid ${type} CURVE object`);\n    for (const p of ['p', 'n', 'h']) {\n        const val = CURVE[p];\n        if (!(typeof val === 'bigint' && val > _0n))\n            throw new Error(`CURVE.${p} must be positive bigint`);\n    }\n    const Fp = createField(CURVE.p, curveOpts.Fp, FpFnLE);\n    const Fn = createField(CURVE.n, curveOpts.Fn, FpFnLE);\n    const _b = type === 'weierstrass' ? 'b' : 'd';\n    const params = ['Gx', 'Gy', 'a', _b];\n    for (const p of params) {\n        // @ts-ignore\n        if (!Fp.isValid(CURVE[p]))\n            throw new Error(`CURVE.${p} must be valid field element of CURVE.Fp`);\n    }\n    CURVE = Object.freeze(Object.assign({}, CURVE));\n    return { CURVE, Fp, Fn };\n}\nexport function createKeygen(randomSecretKey, getPublicKey) {\n    return function keygen(seed) {\n        const secretKey = randomSecretKey(seed);\n        return { secretKey, publicKey: getPublicKey(secretKey) };\n    };\n}\n//# sourceMappingURL=curve.js.map","/**\n * Twisted Edwards curve. The formula is: ax + y = 1 + dxy.\n * For design rationale of types / exports, see weierstrass module documentation.\n * Untwisted Edwards curves exist, but they aren't used in real-world protocols.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { abool, abytes, aInRange, bytesToHex, bytesToNumberLE, concatBytes, copyBytes, hexToBytes, isBytes, memoized, notImplemented, validateObject, randomBytes as wcRandomBytes, } from \"../utils.js\";\nimport { createCurveFields, createKeygen, normalizeZ, wNAF, } from \"./curve.js\";\nimport {} from \"./modular.js\";\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _8n = BigInt(8);\nfunction isEdValidXY(Fp, CURVE, x, y) {\n    const x2 = Fp.sqr(x);\n    const y2 = Fp.sqr(y);\n    const left = Fp.add(Fp.mul(CURVE.a, x2), y2);\n    const right = Fp.add(Fp.ONE, Fp.mul(CURVE.d, Fp.mul(x2, y2)));\n    return Fp.eql(left, right);\n}\nexport function edwards(params, extraOpts = {}) {\n    const validated = createCurveFields('edwards', params, extraOpts, extraOpts.FpFnLE);\n    const { Fp, Fn } = validated;\n    let CURVE = validated.CURVE;\n    const { h: cofactor } = CURVE;\n    validateObject(extraOpts, {}, { uvRatio: 'function' });\n    // Important:\n    // There are some places where Fp.BYTES is used instead of nByteLength.\n    // So far, everything has been tested with curves of Fp.BYTES == nByteLength.\n    // TODO: test and find curves which behave otherwise.\n    const MASK = _2n << (BigInt(Fn.BYTES * 8) - _1n);\n    const modP = (n) => Fp.create(n); // Function overrides\n    // sqrt(u/v)\n    const uvRatio = extraOpts.uvRatio ||\n        ((u, v) => {\n            try {\n                return { isValid: true, value: Fp.sqrt(Fp.div(u, v)) };\n            }\n            catch (e) {\n                return { isValid: false, value: _0n };\n            }\n        });\n    // Validate whether the passed curve params are valid.\n    // equation ax + y = 1 + dxy should work for generator point.\n    if (!isEdValidXY(Fp, CURVE, CURVE.Gx, CURVE.Gy))\n        throw new Error('bad curve params: generator point');\n    /**\n     * Asserts coordinate is valid: 0 <= n < MASK.\n     * Coordinates >= Fp.ORDER are allowed for zip215.\n     */\n    function acoord(title, n, banZero = false) {\n        const min = banZero ? _1n : _0n;\n        aInRange('coordinate ' + title, n, min, MASK);\n        return n;\n    }\n    function aedpoint(other) {\n        if (!(other instanceof Point))\n            throw new Error('EdwardsPoint expected');\n    }\n    // Converts Extended point to default (x, y) coordinates.\n    // Can accept precomputed Z^-1 - for example, from invertBatch.\n    const toAffineMemo = memoized((p, iz) => {\n        const { X, Y, Z } = p;\n        const is0 = p.is0();\n        if (iz == null)\n            iz = is0 ? _8n : Fp.inv(Z); // 8 was chosen arbitrarily\n        const x = modP(X * iz);\n        const y = modP(Y * iz);\n        const zz = Fp.mul(Z, iz);\n        if (is0)\n            return { x: _0n, y: _1n };\n        if (zz !== _1n)\n            throw new Error('invZ was invalid');\n        return { x, y };\n    });\n    const assertValidMemo = memoized((p) => {\n        const { a, d } = CURVE;\n        if (p.is0())\n            throw new Error('bad point: ZERO'); // TODO: optimize, with vars below?\n        // Equation in affine coordinates: ax + y = 1 + dxy\n        // Equation in projective coordinates (X/Z, Y/Z, Z):  (aX + Y)Z = Z + dXY\n        const { X, Y, Z, T } = p;\n        const X2 = modP(X * X); // X\n        const Y2 = modP(Y * Y); // Y\n        const Z2 = modP(Z * Z); // Z\n        const Z4 = modP(Z2 * Z2); // Z\n        const aX2 = modP(X2 * a); // aX\n        const left = modP(Z2 * modP(aX2 + Y2)); // (aX + Y)Z\n        const right = modP(Z4 + modP(d * modP(X2 * Y2))); // Z + dXY\n        if (left !== right)\n            throw new Error('bad point: equation left != right (1)');\n        // In Extended coordinates we also have T, which is x*y=T/Z: check X*Y == Z*T\n        const XY = modP(X * Y);\n        const ZT = modP(Z * T);\n        if (XY !== ZT)\n            throw new Error('bad point: equation left != right (2)');\n        return true;\n    });\n    // Extended Point works in extended coordinates: (X, Y, Z, T)  (x=X/Z, y=Y/Z, T=xy).\n    // https://en.wikipedia.org/wiki/Twisted_Edwards_curve#Extended_coordinates\n    class Point {\n        // base / generator point\n        static BASE = new Point(CURVE.Gx, CURVE.Gy, _1n, modP(CURVE.Gx * CURVE.Gy));\n        // zero / infinity / identity point\n        static ZERO = new Point(_0n, _1n, _1n, _0n); // 0, 1, 1, 0\n        // math field\n        static Fp = Fp;\n        // scalar field\n        static Fn = Fn;\n        X;\n        Y;\n        Z;\n        T;\n        constructor(X, Y, Z, T) {\n            this.X = acoord('x', X);\n            this.Y = acoord('y', Y);\n            this.Z = acoord('z', Z, true);\n            this.T = acoord('t', T);\n            Object.freeze(this);\n        }\n        static CURVE() {\n            return CURVE;\n        }\n        static fromAffine(p) {\n            if (p instanceof Point)\n                throw new Error('extended point not allowed');\n            const { x, y } = p || {};\n            acoord('x', x);\n            acoord('y', y);\n            return new Point(x, y, _1n, modP(x * y));\n        }\n        // Uses algo from RFC8032 5.1.3.\n        static fromBytes(bytes, zip215 = false) {\n            const len = Fp.BYTES;\n            const { a, d } = CURVE;\n            bytes = copyBytes(abytes(bytes, len, 'point'));\n            abool(zip215, 'zip215');\n            const normed = copyBytes(bytes); // copy again, we'll manipulate it\n            const lastByte = bytes[len - 1]; // select last byte\n            normed[len - 1] = lastByte & ~0x80; // clear last bit\n            const y = bytesToNumberLE(normed);\n            // zip215=true is good for consensus-critical apps. =false follows RFC8032 / NIST186-5.\n            // RFC8032 prohibits >= p, but ZIP215 doesn't\n            // zip215=true:  0 <= y < MASK (2^256 for ed25519)\n            // zip215=false: 0 <= y < P (2^255-19 for ed25519)\n            const max = zip215 ? MASK : Fp.ORDER;\n            aInRange('point.y', y, _0n, max);\n            // Ed25519: x = (y-1)/(dy+1) mod p. Ed448: x = (y-1)/(dy-1) mod p. Generic case:\n            // ax+y=1+dxy => y-1=dxy-ax => y-1=x(dy-a) => x=(y-1)/(dy-a)\n            const y2 = modP(y * y); // denominator is always non-0 mod p.\n            const u = modP(y2 - _1n); // u = y - 1\n            const v = modP(d * y2 - a); // v = d y + 1.\n            let { isValid, value: x } = uvRatio(u, v); // (u/v)\n            if (!isValid)\n                throw new Error('bad point: invalid y coordinate');\n            const isXOdd = (x & _1n) === _1n; // There are 2 square roots. Use x_0 bit to select proper\n            const isLastByteOdd = (lastByte & 0x80) !== 0; // x_0, last bit\n            if (!zip215 && x === _0n && isLastByteOdd)\n                // if x=0 and x_0 = 1, fail\n                throw new Error('bad point: x=0 and x_0=1');\n            if (isLastByteOdd !== isXOdd)\n                x = modP(-x); // if x_0 != x mod 2, set x = p-x\n            return Point.fromAffine({ x, y });\n        }\n        static fromHex(hex, zip215 = false) {\n            return Point.fromBytes(hexToBytes(hex), zip215);\n        }\n        get x() {\n            return this.toAffine().x;\n        }\n        get y() {\n            return this.toAffine().y;\n        }\n        precompute(windowSize = 8, isLazy = true) {\n            wnaf.createCache(this, windowSize);\n            if (!isLazy)\n                this.multiply(_2n); // random number\n            return this;\n        }\n        // Useful in fromAffine() - not for fromBytes(), which always created valid points.\n        assertValidity() {\n            assertValidMemo(this);\n        }\n        // Compare one point to another.\n        equals(other) {\n            aedpoint(other);\n            const { X: X1, Y: Y1, Z: Z1 } = this;\n            const { X: X2, Y: Y2, Z: Z2 } = other;\n            const X1Z2 = modP(X1 * Z2);\n            const X2Z1 = modP(X2 * Z1);\n            const Y1Z2 = modP(Y1 * Z2);\n            const Y2Z1 = modP(Y2 * Z1);\n            return X1Z2 === X2Z1 && Y1Z2 === Y2Z1;\n        }\n        is0() {\n            return this.equals(Point.ZERO);\n        }\n        negate() {\n            // Flips point sign to a negative one (-x, y in affine coords)\n            return new Point(modP(-this.X), this.Y, this.Z, modP(-this.T));\n        }\n        // Fast algo for doubling Extended Point.\n        // https://hyperelliptic.org/EFD/g1p/auto-twisted-extended.html#doubling-dbl-2008-hwcd\n        // Cost: 4M + 4S + 1*a + 6add + 1*2.\n        double() {\n            const { a } = CURVE;\n            const { X: X1, Y: Y1, Z: Z1 } = this;\n            const A = modP(X1 * X1); // A = X12\n            const B = modP(Y1 * Y1); // B = Y12\n            const C = modP(_2n * modP(Z1 * Z1)); // C = 2*Z12\n            const D = modP(a * A); // D = a*A\n            const x1y1 = X1 + Y1;\n            const E = modP(modP(x1y1 * x1y1) - A - B); // E = (X1+Y1)2-A-B\n            const G = D + B; // G = D+B\n            const F = G - C; // F = G-C\n            const H = D - B; // H = D-B\n            const X3 = modP(E * F); // X3 = E*F\n            const Y3 = modP(G * H); // Y3 = G*H\n            const T3 = modP(E * H); // T3 = E*H\n            const Z3 = modP(F * G); // Z3 = F*G\n            return new Point(X3, Y3, Z3, T3);\n        }\n        // Fast algo for adding 2 Extended Points.\n        // https://hyperelliptic.org/EFD/g1p/auto-twisted-extended.html#addition-add-2008-hwcd\n        // Cost: 9M + 1*a + 1*d + 7add.\n        add(other) {\n            aedpoint(other);\n            const { a, d } = CURVE;\n            const { X: X1, Y: Y1, Z: Z1, T: T1 } = this;\n            const { X: X2, Y: Y2, Z: Z2, T: T2 } = other;\n            const A = modP(X1 * X2); // A = X1*X2\n            const B = modP(Y1 * Y2); // B = Y1*Y2\n            const C = modP(T1 * d * T2); // C = T1*d*T2\n            const D = modP(Z1 * Z2); // D = Z1*Z2\n            const E = modP((X1 + Y1) * (X2 + Y2) - A - B); // E = (X1+Y1)*(X2+Y2)-A-B\n            const F = D - C; // F = D-C\n            const G = D + C; // G = D+C\n            const H = modP(B - a * A); // H = B-a*A\n            const X3 = modP(E * F); // X3 = E*F\n            const Y3 = modP(G * H); // Y3 = G*H\n            const T3 = modP(E * H); // T3 = E*H\n            const Z3 = modP(F * G); // Z3 = F*G\n            return new Point(X3, Y3, Z3, T3);\n        }\n        subtract(other) {\n            return this.add(other.negate());\n        }\n        // Constant-time multiplication.\n        multiply(scalar) {\n            // 1 <= scalar < L\n            if (!Fn.isValidNot0(scalar))\n                throw new Error('invalid scalar: expected 1 <= sc < curve.n');\n            const { p, f } = wnaf.cached(this, scalar, (p) => normalizeZ(Point, p));\n            return normalizeZ(Point, [p, f])[0];\n        }\n        // Non-constant-time multiplication. Uses double-and-add algorithm.\n        // It's faster, but should only be used when you don't care about\n        // an exposed private key e.g. sig verification.\n        // Does NOT allow scalars higher than CURVE.n.\n        // Accepts optional accumulator to merge with multiply (important for sparse scalars)\n        multiplyUnsafe(scalar, acc = Point.ZERO) {\n            // 0 <= scalar < L\n            if (!Fn.isValid(scalar))\n                throw new Error('invalid scalar: expected 0 <= sc < curve.n');\n            if (scalar === _0n)\n                return Point.ZERO;\n            if (this.is0() || scalar === _1n)\n                return this;\n            return wnaf.unsafe(this, scalar, (p) => normalizeZ(Point, p), acc);\n        }\n        // Checks if point is of small order.\n        // If you add something to small order point, you will have \"dirty\"\n        // point with torsion component.\n        // Multiplies point by cofactor and checks if the result is 0.\n        isSmallOrder() {\n            return this.multiplyUnsafe(cofactor).is0();\n        }\n        // Multiplies point by curve order and checks if the result is 0.\n        // Returns `false` is the point is dirty.\n        isTorsionFree() {\n            return wnaf.unsafe(this, CURVE.n).is0();\n        }\n        // Converts Extended point to default (x, y) coordinates.\n        // Can accept precomputed Z^-1 - for example, from invertBatch.\n        toAffine(invertedZ) {\n            return toAffineMemo(this, invertedZ);\n        }\n        clearCofactor() {\n            if (cofactor === _1n)\n                return this;\n            return this.multiplyUnsafe(cofactor);\n        }\n        toBytes() {\n            const { x, y } = this.toAffine();\n            // Fp.toBytes() allows non-canonical encoding of y (>= p).\n            const bytes = Fp.toBytes(y);\n            // Each y has 2 valid points: (x, y), (x,-y).\n            // When compressing, it's enough to store y and use the last byte to encode sign of x\n            bytes[bytes.length - 1] |= x & _1n ? 0x80 : 0;\n            return bytes;\n        }\n        toHex() {\n            return bytesToHex(this.toBytes());\n        }\n        toString() {\n            return `<Point ${this.is0() ? 'ZERO' : this.toHex()}>`;\n        }\n    }\n    const wnaf = new wNAF(Point, Fn.BITS);\n    Point.BASE.precompute(8); // Enable precomputes. Slows down first publicKey computation by 20ms.\n    return Point;\n}\n/**\n * Base class for prime-order points like Ristretto255 and Decaf448.\n * These points eliminate cofactor issues by representing equivalence classes\n * of Edwards curve points.\n */\nexport class PrimeEdwardsPoint {\n    static BASE;\n    static ZERO;\n    static Fp;\n    static Fn;\n    ep;\n    constructor(ep) {\n        this.ep = ep;\n    }\n    // Static methods that must be implemented by subclasses\n    static fromBytes(_bytes) {\n        notImplemented();\n    }\n    static fromHex(_hex) {\n        notImplemented();\n    }\n    get x() {\n        return this.toAffine().x;\n    }\n    get y() {\n        return this.toAffine().y;\n    }\n    // Common implementations\n    clearCofactor() {\n        // no-op for prime-order groups\n        return this;\n    }\n    assertValidity() {\n        this.ep.assertValidity();\n    }\n    toAffine(invertedZ) {\n        return this.ep.toAffine(invertedZ);\n    }\n    toHex() {\n        return bytesToHex(this.toBytes());\n    }\n    toString() {\n        return this.toHex();\n    }\n    isTorsionFree() {\n        return true;\n    }\n    isSmallOrder() {\n        return false;\n    }\n    add(other) {\n        this.assertSame(other);\n        return this.init(this.ep.add(other.ep));\n    }\n    subtract(other) {\n        this.assertSame(other);\n        return this.init(this.ep.subtract(other.ep));\n    }\n    multiply(scalar) {\n        return this.init(this.ep.multiply(scalar));\n    }\n    multiplyUnsafe(scalar) {\n        return this.init(this.ep.multiplyUnsafe(scalar));\n    }\n    double() {\n        return this.init(this.ep.double());\n    }\n    negate() {\n        return this.init(this.ep.negate());\n    }\n    precompute(windowSize, isLazy) {\n        return this.init(this.ep.precompute(windowSize, isLazy));\n    }\n}\n/**\n * Initializes EdDSA signatures over given Edwards curve.\n */\nexport function eddsa(Point, cHash, eddsaOpts = {}) {\n    if (typeof cHash !== 'function')\n        throw new Error('\"hash\" function param is required');\n    validateObject(eddsaOpts, {}, {\n        adjustScalarBytes: 'function',\n        randomBytes: 'function',\n        domain: 'function',\n        prehash: 'function',\n        mapToCurve: 'function',\n    });\n    const { prehash } = eddsaOpts;\n    const { BASE, Fp, Fn } = Point;\n    const randomBytes = eddsaOpts.randomBytes || wcRandomBytes;\n    const adjustScalarBytes = eddsaOpts.adjustScalarBytes || ((bytes) => bytes);\n    const domain = eddsaOpts.domain ||\n        ((data, ctx, phflag) => {\n            abool(phflag, 'phflag');\n            if (ctx.length || phflag)\n                throw new Error('Contexts/pre-hash are not supported');\n            return data;\n        }); // NOOP\n    // Little-endian SHA512 with modulo n\n    function modN_LE(hash) {\n        return Fn.create(bytesToNumberLE(hash)); // Not Fn.fromBytes: it has length limit\n    }\n    // Get the hashed private scalar per RFC8032 5.1.5\n    function getPrivateScalar(key) {\n        const len = lengths.secretKey;\n        abytes(key, lengths.secretKey, 'secretKey');\n        // Hash private key with curve's hash function to produce uniformingly random input\n        // Check byte lengths: ensure(64, h(ensure(32, key)))\n        const hashed = abytes(cHash(key), 2 * len, 'hashedSecretKey');\n        const head = adjustScalarBytes(hashed.slice(0, len)); // clear first half bits, produce FE\n        const prefix = hashed.slice(len, 2 * len); // second half is called key prefix (5.1.6)\n        const scalar = modN_LE(head); // The actual private scalar\n        return { head, prefix, scalar };\n    }\n    /** Convenience method that creates public key from scalar. RFC8032 5.1.5 */\n    function getExtendedPublicKey(secretKey) {\n        const { head, prefix, scalar } = getPrivateScalar(secretKey);\n        const point = BASE.multiply(scalar); // Point on Edwards curve aka public key\n        const pointBytes = point.toBytes();\n        return { head, prefix, scalar, point, pointBytes };\n    }\n    /** Calculates EdDSA pub key. RFC8032 5.1.5. */\n    function getPublicKey(secretKey) {\n        return getExtendedPublicKey(secretKey).pointBytes;\n    }\n    // int('LE', SHA512(dom2(F, C) || msgs)) mod N\n    function hashDomainToScalar(context = Uint8Array.of(), ...msgs) {\n        const msg = concatBytes(...msgs);\n        return modN_LE(cHash(domain(msg, abytes(context, undefined, 'context'), !!prehash)));\n    }\n    /** Signs message with secret key. RFC8032 5.1.6 */\n    function sign(msg, secretKey, options = {}) {\n        msg = abytes(msg, undefined, 'message');\n        if (prehash)\n            msg = prehash(msg); // for ed25519ph etc.\n        const { prefix, scalar, pointBytes } = getExtendedPublicKey(secretKey);\n        const r = hashDomainToScalar(options.context, prefix, msg); // r = dom2(F, C) || prefix || PH(M)\n        const R = BASE.multiply(r).toBytes(); // R = rG\n        const k = hashDomainToScalar(options.context, R, pointBytes, msg); // R || A || PH(M)\n        const s = Fn.create(r + k * scalar); // S = (r + k * s) mod L\n        if (!Fn.isValid(s))\n            throw new Error('sign failed: invalid s'); // 0 <= s < L\n        const rs = concatBytes(R, Fn.toBytes(s));\n        return abytes(rs, lengths.signature, 'result');\n    }\n    // verification rule is either zip215 or rfc8032 / nist186-5. Consult fromHex:\n    const verifyOpts = { zip215: true };\n    /**\n     * Verifies EdDSA signature against message and public key. RFC8032 5.1.7.\n     * An extended group equation is checked.\n     */\n    function verify(sig, msg, publicKey, options = verifyOpts) {\n        const { context, zip215 } = options;\n        const len = lengths.signature;\n        sig = abytes(sig, len, 'signature');\n        msg = abytes(msg, undefined, 'message');\n        publicKey = abytes(publicKey, lengths.publicKey, 'publicKey');\n        if (zip215 !== undefined)\n            abool(zip215, 'zip215');\n        if (prehash)\n            msg = prehash(msg); // for ed25519ph, etc\n        const mid = len / 2;\n        const r = sig.subarray(0, mid);\n        const s = bytesToNumberLE(sig.subarray(mid, len));\n        let A, R, SB;\n        try {\n            // zip215=true is good for consensus-critical apps. =false follows RFC8032 / NIST186-5.\n            // zip215=true:  0 <= y < MASK (2^256 for ed25519)\n            // zip215=false: 0 <= y < P (2^255-19 for ed25519)\n            A = Point.fromBytes(publicKey, zip215);\n            R = Point.fromBytes(r, zip215);\n            SB = BASE.multiplyUnsafe(s); // 0 <= s < l is done inside\n        }\n        catch (error) {\n            return false;\n        }\n        if (!zip215 && A.isSmallOrder())\n            return false; // zip215 allows public keys of small order\n        const k = hashDomainToScalar(context, R.toBytes(), A.toBytes(), msg);\n        const RkA = R.add(A.multiplyUnsafe(k));\n        // Extended group equation\n        // [8][S]B = [8]R + [8][k]A'\n        return RkA.subtract(SB).clearCofactor().is0();\n    }\n    const _size = Fp.BYTES; // 32 for ed25519, 57 for ed448\n    const lengths = {\n        secretKey: _size,\n        publicKey: _size,\n        signature: 2 * _size,\n        seed: _size,\n    };\n    function randomSecretKey(seed = randomBytes(lengths.seed)) {\n        return abytes(seed, lengths.seed, 'seed');\n    }\n    function isValidSecretKey(key) {\n        return isBytes(key) && key.length === Fn.BYTES;\n    }\n    function isValidPublicKey(key, zip215) {\n        try {\n            return !!Point.fromBytes(key, zip215);\n        }\n        catch (error) {\n            return false;\n        }\n    }\n    const utils = {\n        getExtendedPublicKey,\n        randomSecretKey,\n        isValidSecretKey,\n        isValidPublicKey,\n        /**\n         * Converts ed public key to x public key. Uses formula:\n         * - ed25519:\n         *   - `(u, v) = ((1+y)/(1-y), sqrt(-486664)*u/x)`\n         *   - `(x, y) = (sqrt(-486664)*u/v, (u-1)/(u+1))`\n         * - ed448:\n         *   - `(u, v) = ((y-1)/(y+1), sqrt(156324)*u/x)`\n         *   - `(x, y) = (sqrt(156324)*u/v, (1+u)/(1-u))`\n         */\n        toMontgomery(publicKey) {\n            const { y } = Point.fromBytes(publicKey);\n            const size = lengths.publicKey;\n            const is25519 = size === 32;\n            if (!is25519 && size !== 57)\n                throw new Error('only defined for 25519 and 448');\n            const u = is25519 ? Fp.div(_1n + y, _1n - y) : Fp.div(y - _1n, y + _1n);\n            return Fp.toBytes(u);\n        },\n        toMontgomerySecret(secretKey) {\n            const size = lengths.secretKey;\n            abytes(secretKey, size);\n            const hashed = cHash(secretKey.subarray(0, size));\n            return adjustScalarBytes(hashed).subarray(0, size);\n        },\n    };\n    return Object.freeze({\n        keygen: createKeygen(randomSecretKey, getPublicKey),\n        getPublicKey,\n        sign,\n        verify,\n        utils,\n        Point,\n        lengths,\n    });\n}\n//# sourceMappingURL=edwards.js.map","/**\n * ed25519 Twisted Edwards curve with following addons:\n * - X25519 ECDH\n * - Ristretto cofactor elimination\n * - Elligator hash-to-group / point indistinguishability\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { sha512 } from '@noble/hashes/sha2.js';\nimport { abytes, concatBytes, hexToBytes } from '@noble/hashes/utils.js';\nimport {} from \"./abstract/curve.js\";\nimport { eddsa, edwards, PrimeEdwardsPoint, } from \"./abstract/edwards.js\";\nimport { _DST_scalar, createHasher, expand_message_xmd, } from \"./abstract/hash-to-curve.js\";\nimport { FpInvertBatch, FpSqrtEven, isNegativeLE, mod, pow2, } from \"./abstract/modular.js\";\nimport { montgomery } from \"./abstract/montgomery.js\";\nimport { createORPF } from \"./abstract/oprf.js\";\nimport { asciiToBytes, bytesToNumberLE, equalBytes } from \"./utils.js\";\n// prettier-ignore\nconst _0n = /* @__PURE__ */ BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = /* @__PURE__ */ BigInt(3);\n// prettier-ignore\nconst _5n = BigInt(5), _8n = BigInt(8);\n// P = 2n**255n - 19n\nconst ed25519_CURVE_p = BigInt('0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed');\n// N = 2n**252n + 27742317777372353535851937790883648493n\n// a = Fp.create(BigInt(-1))\n// d = -121665/121666 a.k.a. Fp.neg(121665 * Fp.inv(121666))\nconst ed25519_CURVE = /* @__PURE__ */ (() => ({\n    p: ed25519_CURVE_p,\n    n: BigInt('0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed'),\n    h: _8n,\n    a: BigInt('0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec'),\n    d: BigInt('0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3'),\n    Gx: BigInt('0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a'),\n    Gy: BigInt('0x6666666666666666666666666666666666666666666666666666666666666658'),\n}))();\nfunction ed25519_pow_2_252_3(x) {\n    // prettier-ignore\n    const _10n = BigInt(10), _20n = BigInt(20), _40n = BigInt(40), _80n = BigInt(80);\n    const P = ed25519_CURVE_p;\n    const x2 = (x * x) % P;\n    const b2 = (x2 * x) % P; // x^3, 11\n    const b4 = (pow2(b2, _2n, P) * b2) % P; // x^15, 1111\n    const b5 = (pow2(b4, _1n, P) * x) % P; // x^31\n    const b10 = (pow2(b5, _5n, P) * b5) % P;\n    const b20 = (pow2(b10, _10n, P) * b10) % P;\n    const b40 = (pow2(b20, _20n, P) * b20) % P;\n    const b80 = (pow2(b40, _40n, P) * b40) % P;\n    const b160 = (pow2(b80, _80n, P) * b80) % P;\n    const b240 = (pow2(b160, _80n, P) * b80) % P;\n    const b250 = (pow2(b240, _10n, P) * b10) % P;\n    const pow_p_5_8 = (pow2(b250, _2n, P) * x) % P;\n    // ^ To pow to (p+3)/8, multiply it by x.\n    return { pow_p_5_8, b2 };\n}\nfunction adjustScalarBytes(bytes) {\n    // Section 5: For X25519, in order to decode 32 random bytes as an integer scalar,\n    // set the three least significant bits of the first byte\n    bytes[0] &= 248; // 0b1111_1000\n    // and the most significant bit of the last to zero,\n    bytes[31] &= 127; // 0b0111_1111\n    // set the second most significant bit of the last byte to 1\n    bytes[31] |= 64; // 0b0100_0000\n    return bytes;\n}\n// (-1) aka (a) aka 2^((p-1)/4)\n// Fp.sqrt(Fp.neg(1))\nconst ED25519_SQRT_M1 = /* @__PURE__ */ BigInt('19681161376707505956807079304988542015446066515923890162744021073123829784752');\n// sqrt(u/v)\nfunction uvRatio(u, v) {\n    const P = ed25519_CURVE_p;\n    const v3 = mod(v * v * v, P); // v\n    const v7 = mod(v3 * v3 * v, P); // v\n    // (p+3)/8 and (p-5)/8\n    const pow = ed25519_pow_2_252_3(u * v7).pow_p_5_8;\n    let x = mod(u * v3 * pow, P); // (uv)(uv)^(p-5)/8\n    const vx2 = mod(v * x * x, P); // vx\n    const root1 = x; // First root candidate\n    const root2 = mod(x * ED25519_SQRT_M1, P); // Second root candidate\n    const useRoot1 = vx2 === u; // If vx = u (mod p), x is a square root\n    const useRoot2 = vx2 === mod(-u, P); // If vx = -u, set x <-- x * 2^((p-1)/4)\n    const noRoot = vx2 === mod(-u * ED25519_SQRT_M1, P); // There is no valid root, vx = -u(-1)\n    if (useRoot1)\n        x = root1;\n    if (useRoot2 || noRoot)\n        x = root2; // We return root2 anyway, for const-time\n    if (isNegativeLE(x, P))\n        x = mod(-x, P);\n    return { isValid: useRoot1 || useRoot2, value: x };\n}\nconst ed25519_Point = /* @__PURE__ */ edwards(ed25519_CURVE, { uvRatio });\nconst Fp = /* @__PURE__ */ (() => ed25519_Point.Fp)();\nconst Fn = /* @__PURE__ */ (() => ed25519_Point.Fn)();\nfunction ed25519_domain(data, ctx, phflag) {\n    if (ctx.length > 255)\n        throw new Error('Context is too big');\n    return concatBytes(asciiToBytes('SigEd25519 no Ed25519 collisions'), new Uint8Array([phflag ? 1 : 0, ctx.length]), ctx, data);\n}\nfunction ed(opts) {\n    return eddsa(ed25519_Point, sha512, Object.assign({ adjustScalarBytes }, opts));\n}\n/**\n * ed25519 curve with EdDSA signatures.\n * @example\n * ```js\n * import { ed25519 } from '@noble/curves/ed25519.js';\n * const { secretKey, publicKey } = ed25519.keygen();\n * // const publicKey = ed25519.getPublicKey(secretKey);\n * const msg = new TextEncoder().encode('hello noble');\n * const sig = ed25519.sign(msg, secretKey);\n * const isValid = ed25519.verify(sig, msg, pub); // ZIP215\n * // RFC8032 / FIPS 186-5\n * const isValid2 = ed25519.verify(sig, msg, pub, { zip215: false });\n * ```\n */\nexport const ed25519 = /* @__PURE__ */ ed({});\n/** Context version of ed25519 (ctx for domain separation). See {@link ed25519} */\nexport const ed25519ctx = /* @__PURE__ */ ed({ domain: ed25519_domain });\n/** Prehashed version of ed25519. See {@link ed25519} */\nexport const ed25519ph = /* @__PURE__ */ ed({ domain: ed25519_domain, prehash: sha512 });\n/**\n * ECDH using curve25519 aka x25519.\n * @example\n * ```js\n * import { x25519 } from '@noble/curves/ed25519.js';\n * const alice = x25519.keygen();\n * const bob = x25519.keygen();\n * const shared = x25519.getSharedSecret(alice.secretKey, bob.publicKey);\n * ```\n */\nexport const x25519 = /* @__PURE__ */ (() => {\n    const P = ed25519_CURVE_p;\n    return montgomery({\n        P,\n        type: 'x25519',\n        powPminus2: (x) => {\n            // x^(p-2) aka x^(2^255-21)\n            const { pow_p_5_8, b2 } = ed25519_pow_2_252_3(x);\n            return mod(pow2(pow_p_5_8, _3n, P) * b2, P);\n        },\n        adjustScalarBytes,\n    });\n})();\n// Hash To Curve Elligator2 Map (NOTE: different from ristretto255 elligator)\n// NOTE: very important part is usage of FpSqrtEven for ELL2_C1_EDWARDS, since\n// SageMath returns different root first and everything falls apart\nconst ELL2_C1 = /* @__PURE__ */ (() => (ed25519_CURVE_p + _3n) / _8n)(); // 1. c1 = (q + 3) / 8       # Integer arithmetic\nconst ELL2_C2 = /* @__PURE__ */ (() => Fp.pow(_2n, ELL2_C1))(); // 2. c2 = 2^c1\nconst ELL2_C3 = /* @__PURE__ */ (() => Fp.sqrt(Fp.neg(Fp.ONE)))(); // 3. c3 = sqrt(-1)\n/**\n * RFC 9380 method `map_to_curve_elligator2_curve25519`. Experimental name: may be renamed later.\n * @private\n */\n// prettier-ignore\nexport function _map_to_curve_elligator2_curve25519(u) {\n    const ELL2_C4 = (ed25519_CURVE_p - _5n) / _8n; // 4. c4 = (q - 5) / 8       # Integer arithmetic\n    const ELL2_J = BigInt(486662);\n    let tv1 = Fp.sqr(u); //  1.  tv1 = u^2\n    tv1 = Fp.mul(tv1, _2n); //  2.  tv1 = 2 * tv1\n    let xd = Fp.add(tv1, Fp.ONE); //  3.   xd = tv1 + 1         # Nonzero: -1 is square (mod p), tv1 is not\n    let x1n = Fp.neg(ELL2_J); //  4.  x1n = -J              # x1 = x1n / xd = -J / (1 + 2 * u^2)\n    let tv2 = Fp.sqr(xd); //  5.  tv2 = xd^2\n    let gxd = Fp.mul(tv2, xd); //  6.  gxd = tv2 * xd        # gxd = xd^3\n    let gx1 = Fp.mul(tv1, ELL2_J); //  7.  gx1 = J * tv1         # x1n + J * xd\n    gx1 = Fp.mul(gx1, x1n); //  8.  gx1 = gx1 * x1n       # x1n^2 + J * x1n * xd\n    gx1 = Fp.add(gx1, tv2); //  9.  gx1 = gx1 + tv2       # x1n^2 + J * x1n * xd + xd^2\n    gx1 = Fp.mul(gx1, x1n); //  10. gx1 = gx1 * x1n       # x1n^3 + J * x1n^2 * xd + x1n * xd^2\n    let tv3 = Fp.sqr(gxd); //  11. tv3 = gxd^2\n    tv2 = Fp.sqr(tv3); //  12. tv2 = tv3^2           # gxd^4\n    tv3 = Fp.mul(tv3, gxd); //  13. tv3 = tv3 * gxd       # gxd^3\n    tv3 = Fp.mul(tv3, gx1); //  14. tv3 = tv3 * gx1       # gx1 * gxd^3\n    tv2 = Fp.mul(tv2, tv3); //  15. tv2 = tv2 * tv3       # gx1 * gxd^7\n    let y11 = Fp.pow(tv2, ELL2_C4); //  16. y11 = tv2^c4        # (gx1 * gxd^7)^((p - 5) / 8)\n    y11 = Fp.mul(y11, tv3); //  17. y11 = y11 * tv3       # gx1*gxd^3*(gx1*gxd^7)^((p-5)/8)\n    let y12 = Fp.mul(y11, ELL2_C3); //  18. y12 = y11 * c3\n    tv2 = Fp.sqr(y11); //  19. tv2 = y11^2\n    tv2 = Fp.mul(tv2, gxd); //  20. tv2 = tv2 * gxd\n    let e1 = Fp.eql(tv2, gx1); //  21.  e1 = tv2 == gx1\n    let y1 = Fp.cmov(y12, y11, e1); //  22.  y1 = CMOV(y12, y11, e1)  # If g(x1) is square, this is its sqrt\n    let x2n = Fp.mul(x1n, tv1); //  23. x2n = x1n * tv1       # x2 = x2n / xd = 2 * u^2 * x1n / xd\n    let y21 = Fp.mul(y11, u); //  24. y21 = y11 * u\n    y21 = Fp.mul(y21, ELL2_C2); //  25. y21 = y21 * c2\n    let y22 = Fp.mul(y21, ELL2_C3); //  26. y22 = y21 * c3\n    let gx2 = Fp.mul(gx1, tv1); //  27. gx2 = gx1 * tv1       # g(x2) = gx2 / gxd = 2 * u^2 * g(x1)\n    tv2 = Fp.sqr(y21); //  28. tv2 = y21^2\n    tv2 = Fp.mul(tv2, gxd); //  29. tv2 = tv2 * gxd\n    let e2 = Fp.eql(tv2, gx2); //  30.  e2 = tv2 == gx2\n    let y2 = Fp.cmov(y22, y21, e2); //  31.  y2 = CMOV(y22, y21, e2)  # If g(x2) is square, this is its sqrt\n    tv2 = Fp.sqr(y1); //  32. tv2 = y1^2\n    tv2 = Fp.mul(tv2, gxd); //  33. tv2 = tv2 * gxd\n    let e3 = Fp.eql(tv2, gx1); //  34.  e3 = tv2 == gx1\n    let xn = Fp.cmov(x2n, x1n, e3); //  35.  xn = CMOV(x2n, x1n, e3)  # If e3, x = x1, else x = x2\n    let y = Fp.cmov(y2, y1, e3); //  36.   y = CMOV(y2, y1, e3)    # If e3, y = y1, else y = y2\n    let e4 = Fp.isOdd(y); //  37.  e4 = sgn0(y) == 1        # Fix sign of y\n    y = Fp.cmov(y, Fp.neg(y), e3 !== e4); //  38.   y = CMOV(y, -y, e3 XOR e4)\n    return { xMn: xn, xMd: xd, yMn: y, yMd: _1n }; //  39. return (xn, xd, y, 1)\n}\nconst ELL2_C1_EDWARDS = /* @__PURE__ */ (() => FpSqrtEven(Fp, Fp.neg(BigInt(486664))))(); // sgn0(c1) MUST equal 0\nfunction map_to_curve_elligator2_edwards25519(u) {\n    const { xMn, xMd, yMn, yMd } = _map_to_curve_elligator2_curve25519(u); //  1.  (xMn, xMd, yMn, yMd) =\n    // map_to_curve_elligator2_curve25519(u)\n    let xn = Fp.mul(xMn, yMd); //  2.  xn = xMn * yMd\n    xn = Fp.mul(xn, ELL2_C1_EDWARDS); //  3.  xn = xn * c1\n    let xd = Fp.mul(xMd, yMn); //  4.  xd = xMd * yMn    # xn / xd = c1 * xM / yM\n    let yn = Fp.sub(xMn, xMd); //  5.  yn = xMn - xMd\n    let yd = Fp.add(xMn, xMd); //  6.  yd = xMn + xMd    # (n / d - 1) / (n / d + 1) = (n - d) / (n + d)\n    let tv1 = Fp.mul(xd, yd); //  7. tv1 = xd * yd\n    let e = Fp.eql(tv1, Fp.ZERO); //  8.   e = tv1 == 0\n    xn = Fp.cmov(xn, Fp.ZERO, e); //  9.  xn = CMOV(xn, 0, e)\n    xd = Fp.cmov(xd, Fp.ONE, e); //  10. xd = CMOV(xd, 1, e)\n    yn = Fp.cmov(yn, Fp.ONE, e); //  11. yn = CMOV(yn, 1, e)\n    yd = Fp.cmov(yd, Fp.ONE, e); //  12. yd = CMOV(yd, 1, e)\n    const [xd_inv, yd_inv] = FpInvertBatch(Fp, [xd, yd], true); // batch division\n    return { x: Fp.mul(xn, xd_inv), y: Fp.mul(yn, yd_inv) }; //  13. return (xn, xd, yn, yd)\n}\n/** Hashing to ed25519 points / field. RFC 9380 methods. */\nexport const ed25519_hasher = /* @__PURE__ */ (() => createHasher(ed25519_Point, (scalars) => map_to_curve_elligator2_edwards25519(scalars[0]), {\n    DST: 'edwards25519_XMD:SHA-512_ELL2_RO_',\n    encodeDST: 'edwards25519_XMD:SHA-512_ELL2_NU_',\n    p: ed25519_CURVE_p,\n    m: 1,\n    k: 128,\n    expand: 'xmd',\n    hash: sha512,\n}))();\n// (-1) aka (a) aka 2^((p-1)/4)\nconst SQRT_M1 = ED25519_SQRT_M1;\n// (ad - 1)\nconst SQRT_AD_MINUS_ONE = /* @__PURE__ */ BigInt('25063068953384623474111414158702152701244531502492656460079210482610430750235');\n// 1 / (a-d)\nconst INVSQRT_A_MINUS_D = /* @__PURE__ */ BigInt('54469307008909316920995813868745141605393597292927456921205312896311721017578');\n// 1-d\nconst ONE_MINUS_D_SQ = /* @__PURE__ */ BigInt('1159843021668779879193775521855586647937357759715417654439879720876111806838');\n// (d-1)\nconst D_MINUS_ONE_SQ = /* @__PURE__ */ BigInt('40440834346308536858101042469323190826248399146238708352240133220865137265952');\n// Calculates 1/(number)\nconst invertSqrt = (number) => uvRatio(_1n, number);\nconst MAX_255B = /* @__PURE__ */ BigInt('0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff');\nconst bytes255ToNumberLE = (bytes) => Fp.create(bytesToNumberLE(bytes) & MAX_255B);\n/**\n * Computes Elligator map for Ristretto255.\n * Described in [RFC9380](https://www.rfc-editor.org/rfc/rfc9380#appendix-B) and on\n * the [website](https://ristretto.group/formulas/elligator.html).\n */\nfunction calcElligatorRistrettoMap(r0) {\n    const { d } = ed25519_CURVE;\n    const P = ed25519_CURVE_p;\n    const mod = (n) => Fp.create(n);\n    const r = mod(SQRT_M1 * r0 * r0); // 1\n    const Ns = mod((r + _1n) * ONE_MINUS_D_SQ); // 2\n    let c = BigInt(-1); // 3\n    const D = mod((c - d * r) * mod(r + d)); // 4\n    let { isValid: Ns_D_is_sq, value: s } = uvRatio(Ns, D); // 5\n    let s_ = mod(s * r0); // 6\n    if (!isNegativeLE(s_, P))\n        s_ = mod(-s_);\n    if (!Ns_D_is_sq)\n        s = s_; // 7\n    if (!Ns_D_is_sq)\n        c = r; // 8\n    const Nt = mod(c * (r - _1n) * D_MINUS_ONE_SQ - D); // 9\n    const s2 = s * s;\n    const W0 = mod((s + s) * D); // 10\n    const W1 = mod(Nt * SQRT_AD_MINUS_ONE); // 11\n    const W2 = mod(_1n - s2); // 12\n    const W3 = mod(_1n + s2); // 13\n    return new ed25519_Point(mod(W0 * W3), mod(W2 * W1), mod(W1 * W3), mod(W0 * W2));\n}\n/**\n * Wrapper over Edwards Point for ristretto255.\n *\n * Each ed25519/EdwardsPoint has 8 different equivalent points. This can be\n * a source of bugs for protocols like ring signatures. Ristretto was created to solve this.\n * Ristretto point operates in X:Y:Z:T extended coordinates like EdwardsPoint,\n * but it should work in its own namespace: do not combine those two.\n * See [RFC9496](https://www.rfc-editor.org/rfc/rfc9496).\n */\nclass _RistrettoPoint extends PrimeEdwardsPoint {\n    // Do NOT change syntax: the following gymnastics is done,\n    // because typescript strips comments, which makes bundlers disable tree-shaking.\n    // prettier-ignore\n    static BASE = \n    /* @__PURE__ */ (() => new _RistrettoPoint(ed25519_Point.BASE))();\n    // prettier-ignore\n    static ZERO = \n    /* @__PURE__ */ (() => new _RistrettoPoint(ed25519_Point.ZERO))();\n    // prettier-ignore\n    static Fp = \n    /* @__PURE__ */ (() => Fp)();\n    // prettier-ignore\n    static Fn = \n    /* @__PURE__ */ (() => Fn)();\n    constructor(ep) {\n        super(ep);\n    }\n    static fromAffine(ap) {\n        return new _RistrettoPoint(ed25519_Point.fromAffine(ap));\n    }\n    assertSame(other) {\n        if (!(other instanceof _RistrettoPoint))\n            throw new Error('RistrettoPoint expected');\n    }\n    init(ep) {\n        return new _RistrettoPoint(ep);\n    }\n    static fromBytes(bytes) {\n        abytes(bytes, 32);\n        const { a, d } = ed25519_CURVE;\n        const P = ed25519_CURVE_p;\n        const mod = (n) => Fp.create(n);\n        const s = bytes255ToNumberLE(bytes);\n        // 1. Check that s_bytes is the canonical encoding of a field element, or else abort.\n        // 3. Check that s is non-negative, or else abort\n        if (!equalBytes(Fp.toBytes(s), bytes) || isNegativeLE(s, P))\n            throw new Error('invalid ristretto255 encoding 1');\n        const s2 = mod(s * s);\n        const u1 = mod(_1n + a * s2); // 4 (a is -1)\n        const u2 = mod(_1n - a * s2); // 5\n        const u1_2 = mod(u1 * u1);\n        const u2_2 = mod(u2 * u2);\n        const v = mod(a * d * u1_2 - u2_2); // 6\n        const { isValid, value: I } = invertSqrt(mod(v * u2_2)); // 7\n        const Dx = mod(I * u2); // 8\n        const Dy = mod(I * Dx * v); // 9\n        let x = mod((s + s) * Dx); // 10\n        if (isNegativeLE(x, P))\n            x = mod(-x); // 10\n        const y = mod(u1 * Dy); // 11\n        const t = mod(x * y); // 12\n        if (!isValid || isNegativeLE(t, P) || y === _0n)\n            throw new Error('invalid ristretto255 encoding 2');\n        return new _RistrettoPoint(new ed25519_Point(x, y, _1n, t));\n    }\n    /**\n     * Converts ristretto-encoded string to ristretto point.\n     * Described in [RFC9496](https://www.rfc-editor.org/rfc/rfc9496#name-decode).\n     * @param hex Ristretto-encoded 32 bytes. Not every 32-byte string is valid ristretto encoding\n     */\n    static fromHex(hex) {\n        return _RistrettoPoint.fromBytes(hexToBytes(hex));\n    }\n    /**\n     * Encodes ristretto point to Uint8Array.\n     * Described in [RFC9496](https://www.rfc-editor.org/rfc/rfc9496#name-encode).\n     */\n    toBytes() {\n        let { X, Y, Z, T } = this.ep;\n        const P = ed25519_CURVE_p;\n        const mod = (n) => Fp.create(n);\n        const u1 = mod(mod(Z + Y) * mod(Z - Y)); // 1\n        const u2 = mod(X * Y); // 2\n        // Square root always exists\n        const u2sq = mod(u2 * u2);\n        const { value: invsqrt } = invertSqrt(mod(u1 * u2sq)); // 3\n        const D1 = mod(invsqrt * u1); // 4\n        const D2 = mod(invsqrt * u2); // 5\n        const zInv = mod(D1 * D2 * T); // 6\n        let D; // 7\n        if (isNegativeLE(T * zInv, P)) {\n            let _x = mod(Y * SQRT_M1);\n            let _y = mod(X * SQRT_M1);\n            X = _x;\n            Y = _y;\n            D = mod(D1 * INVSQRT_A_MINUS_D);\n        }\n        else {\n            D = D2; // 8\n        }\n        if (isNegativeLE(X * zInv, P))\n            Y = mod(-Y); // 9\n        let s = mod((Z - Y) * D); // 10 (check footer's note, no sqrt(-a))\n        if (isNegativeLE(s, P))\n            s = mod(-s);\n        return Fp.toBytes(s); // 11\n    }\n    /**\n     * Compares two Ristretto points.\n     * Described in [RFC9496](https://www.rfc-editor.org/rfc/rfc9496#name-equals).\n     */\n    equals(other) {\n        this.assertSame(other);\n        const { X: X1, Y: Y1 } = this.ep;\n        const { X: X2, Y: Y2 } = other.ep;\n        const mod = (n) => Fp.create(n);\n        // (x1 * y2 == y1 * x2) | (y1 * y2 == x1 * x2)\n        const one = mod(X1 * Y2) === mod(Y1 * X2);\n        const two = mod(Y1 * Y2) === mod(X1 * X2);\n        return one || two;\n    }\n    is0() {\n        return this.equals(_RistrettoPoint.ZERO);\n    }\n}\nexport const ristretto255 = { Point: _RistrettoPoint };\n/** Hashing to ristretto255 points / field. RFC 9380 methods. */\nexport const ristretto255_hasher = {\n    Point: _RistrettoPoint,\n    /**\n    * Spec: https://www.rfc-editor.org/rfc/rfc9380.html#name-hashing-to-ristretto255. Caveats:\n    * * There are no test vectors\n    * * encodeToCurve / mapToCurve is undefined\n    * * mapToCurve would be `calcElligatorRistrettoMap(scalars[0])`, not ristretto255_map!\n    * * hashToScalar is undefined too, so we just use OPRF implementation\n    * * We cannot re-use 'createHasher', because ristretto255_map is different algorithm/RFC\n      (os2ip -> bytes255ToNumberLE)\n    * * mapToCurve == calcElligatorRistrettoMap, hashToCurve == ristretto255_map\n    * * hashToScalar is undefined in RFC9380 for ristretto, we are using version from OPRF here, using bytes255ToNumblerLE will create different result if we use bytes255ToNumberLE as os2ip\n    * * current version is closest to spec.\n    */\n    hashToCurve(msg, options) {\n        // == 'hash_to_ristretto255'\n        const DST = options?.DST || 'ristretto255_XMD:SHA-512_R255MAP_RO_';\n        const xmd = expand_message_xmd(msg, DST, 64, sha512);\n        // NOTE: RFC 9380 incorrectly calls this function 'ristretto255_map', in RFC 9496 map was function inside (per point)\n        // That also lead to confustion that ristretto255_map is mapToCurve (it is not! it is old hashToCurve)\n        return ristretto255_hasher.deriveToCurve(xmd);\n    },\n    hashToScalar(msg, options = { DST: _DST_scalar }) {\n        const xmd = expand_message_xmd(msg, options.DST, 64, sha512);\n        return Fn.create(bytesToNumberLE(xmd));\n    },\n    /**\n     * HashToCurve-like construction based on RFC 9496 (Element Derivation).\n     * Converts 64 uniform random bytes into a curve point.\n     *\n     * WARNING: This represents an older hash-to-curve construction, preceding the finalization of RFC 9380.\n     * It was later reused as a component in the newer `hash_to_ristretto255` function defined in RFC 9380.\n     */\n    deriveToCurve(bytes) {\n        // https://www.rfc-editor.org/rfc/rfc9496.html#name-element-derivation\n        abytes(bytes, 64);\n        const r1 = bytes255ToNumberLE(bytes.subarray(0, 32));\n        const R1 = calcElligatorRistrettoMap(r1);\n        const r2 = bytes255ToNumberLE(bytes.subarray(32, 64));\n        const R2 = calcElligatorRistrettoMap(r2);\n        return new _RistrettoPoint(R1.add(R2));\n    },\n};\n/** ristretto255 OPRF, defined in RFC 9497. */\nexport const ristretto255_oprf = /* @__PURE__ */ (() => createORPF({\n    name: 'ristretto255-SHA512',\n    Point: _RistrettoPoint,\n    hash: sha512,\n    hashToGroup: ristretto255_hasher.hashToCurve,\n    hashToScalar: ristretto255_hasher.hashToScalar,\n}))();\n/**\n * Weird / bogus points, useful for debugging.\n * All 8 ed25519 points of 8-torsion subgroup can be generated from the point\n * T = `26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05`.\n * T = { O, T, 2T, 3T, 4T, 5T, 6T, 7T }\n */\nexport const ED25519_TORSION_SUBGROUP = [\n    '0100000000000000000000000000000000000000000000000000000000000000',\n    'c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a',\n    '0000000000000000000000000000000000000000000000000000000000000080',\n    '26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05',\n    'ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f',\n    '26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85',\n    '0000000000000000000000000000000000000000000000000000000000000000',\n    'c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa',\n];\n//# sourceMappingURL=ed25519.js.map","/**\n * HMAC: RFC2104 message authentication code.\n * @module\n */\nimport { abytes, aexists, ahash, clean } from \"./utils.js\";\n/** Internal class for HMAC. */\nexport class _HMAC {\n    oHash;\n    iHash;\n    blockLen;\n    outputLen;\n    finished = false;\n    destroyed = false;\n    constructor(hash, key) {\n        ahash(hash);\n        abytes(key, undefined, 'key');\n        this.iHash = hash.create();\n        if (typeof this.iHash.update !== 'function')\n            throw new Error('Expected instance of class which extends utils.Hash');\n        this.blockLen = this.iHash.blockLen;\n        this.outputLen = this.iHash.outputLen;\n        const blockLen = this.blockLen;\n        const pad = new Uint8Array(blockLen);\n        // blockLen can be bigger than outputLen\n        pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n        for (let i = 0; i < pad.length; i++)\n            pad[i] ^= 0x36;\n        this.iHash.update(pad);\n        // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n        this.oHash = hash.create();\n        // Undo internal XOR && apply outer XOR\n        for (let i = 0; i < pad.length; i++)\n            pad[i] ^= 0x36 ^ 0x5c;\n        this.oHash.update(pad);\n        clean(pad);\n    }\n    update(buf) {\n        aexists(this);\n        this.iHash.update(buf);\n        return this;\n    }\n    digestInto(out) {\n        aexists(this);\n        abytes(out, this.outputLen, 'output');\n        this.finished = true;\n        this.iHash.digestInto(out);\n        this.oHash.update(out);\n        this.oHash.digestInto(out);\n        this.destroy();\n    }\n    digest() {\n        const out = new Uint8Array(this.oHash.outputLen);\n        this.digestInto(out);\n        return out;\n    }\n    _cloneInto(to) {\n        // Create new instance without calling constructor since key already in state and we don't know it.\n        to ||= Object.create(Object.getPrototypeOf(this), {});\n        const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;\n        to = to;\n        to.finished = finished;\n        to.destroyed = destroyed;\n        to.blockLen = blockLen;\n        to.outputLen = outputLen;\n        to.oHash = oHash._cloneInto(to.oHash);\n        to.iHash = iHash._cloneInto(to.iHash);\n        return to;\n    }\n    clone() {\n        return this._cloneInto();\n    }\n    destroy() {\n        this.destroyed = true;\n        this.oHash.destroy();\n        this.iHash.destroy();\n    }\n}\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n * @example\n * import { hmac } from '@noble/hashes/hmac';\n * import { sha256 } from '@noble/hashes/sha2';\n * const mac1 = hmac(sha256, 'key', 'message');\n */\nexport const hmac = (hash, key, message) => new _HMAC(hash, key).update(message).digest();\nhmac.create = (hash, key) => new _HMAC(hash, key);\n//# sourceMappingURL=hmac.js.map","/**\n * Short Weierstrass curve methods. The formula is: y = x + ax + b.\n *\n * ### Design rationale for types\n *\n * * Interaction between classes from different curves should fail:\n *   `k256.Point.BASE.add(p256.Point.BASE)`\n * * For this purpose we want to use `instanceof` operator, which is fast and works during runtime\n * * Different calls of `curve()` would return different classes -\n *   `curve(params) !== curve(params)`: if somebody decided to monkey-patch their curve,\n *   it won't affect others\n *\n * TypeScript can't infer types for classes created inside a function. Classes is one instance\n * of nominative types in TypeScript and interfaces only check for shape, so it's hard to create\n * unique type for every function call.\n *\n * We can use generic types via some param, like curve opts, but that would:\n *     1. Enable interaction between `curve(params)` and `curve(params)` (curves of same params)\n *     which is hard to debug.\n *     2. Params can be generic and we can't enforce them to be constant value:\n *     if somebody creates curve from non-constant params,\n *     it would be allowed to interact with other curves with non-constant params\n *\n * @todo https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html#unique-symbol\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { hmac as nobleHmac } from '@noble/hashes/hmac.js';\nimport { ahash } from '@noble/hashes/utils.js';\nimport { abool, abytes, aInRange, bitLen, bitMask, bytesToHex, bytesToNumberBE, concatBytes, createHmacDrbg, hexToBytes, isBytes, memoized, numberToHexUnpadded, validateObject, randomBytes as wcRandomBytes, } from \"../utils.js\";\nimport { createCurveFields, createKeygen, mulEndoUnsafe, negateCt, normalizeZ, wNAF, } from \"./curve.js\";\nimport { FpInvertBatch, getMinHashLength, mapHashToField, validateField, } from \"./modular.js\";\n// We construct basis in such way that den is always positive and equals n, but num sign depends on basis (not on secret value)\nconst divNearest = (num, den) => (num + (num >= 0 ? den : -den) / _2n) / den;\n/**\n * Splits scalar for GLV endomorphism.\n */\nexport function _splitEndoScalar(k, basis, n) {\n    // Split scalar into two such that part is ~half bits: `abs(part) < sqrt(N)`\n    // Since part can be negative, we need to do this on point.\n    // TODO: verifyScalar function which consumes lambda\n    const [[a1, b1], [a2, b2]] = basis;\n    const c1 = divNearest(b2 * k, n);\n    const c2 = divNearest(-b1 * k, n);\n    // |k1|/|k2| is < sqrt(N), but can be negative.\n    // If we do `k1 mod N`, we'll get big scalar (`> sqrt(N)`): so, we do cheaper negation instead.\n    let k1 = k - c1 * a1 - c2 * a2;\n    let k2 = -c1 * b1 - c2 * b2;\n    const k1neg = k1 < _0n;\n    const k2neg = k2 < _0n;\n    if (k1neg)\n        k1 = -k1;\n    if (k2neg)\n        k2 = -k2;\n    // Double check that resulting scalar less than half bits of N: otherwise wNAF will fail.\n    // This should only happen on wrong basises. Also, math inside is too complex and I don't trust it.\n    const MAX_NUM = bitMask(Math.ceil(bitLen(n) / 2)) + _1n; // Half bits of N\n    if (k1 < _0n || k1 >= MAX_NUM || k2 < _0n || k2 >= MAX_NUM) {\n        throw new Error('splitScalar (endomorphism): failed, k=' + k);\n    }\n    return { k1neg, k1, k2neg, k2 };\n}\nfunction validateSigFormat(format) {\n    if (!['compact', 'recovered', 'der'].includes(format))\n        throw new Error('Signature format must be \"compact\", \"recovered\", or \"der\"');\n    return format;\n}\nfunction validateSigOpts(opts, def) {\n    const optsn = {};\n    for (let optName of Object.keys(def)) {\n        // @ts-ignore\n        optsn[optName] = opts[optName] === undefined ? def[optName] : opts[optName];\n    }\n    abool(optsn.lowS, 'lowS');\n    abool(optsn.prehash, 'prehash');\n    if (optsn.format !== undefined)\n        validateSigFormat(optsn.format);\n    return optsn;\n}\nexport class DERErr extends Error {\n    constructor(m = '') {\n        super(m);\n    }\n}\n/**\n * ASN.1 DER encoding utilities. ASN is very complex & fragile. Format:\n *\n *     [0x30 (SEQUENCE), bytelength, 0x02 (INTEGER), intLength, R, 0x02 (INTEGER), intLength, S]\n *\n * Docs: https://letsencrypt.org/docs/a-warm-welcome-to-asn1-and-der/, https://luca.ntop.org/Teaching/Appunti/asn1.html\n */\nexport const DER = {\n    // asn.1 DER encoding utils\n    Err: DERErr,\n    // Basic building block is TLV (Tag-Length-Value)\n    _tlv: {\n        encode: (tag, data) => {\n            const { Err: E } = DER;\n            if (tag < 0 || tag > 256)\n                throw new E('tlv.encode: wrong tag');\n            if (data.length & 1)\n                throw new E('tlv.encode: unpadded data');\n            const dataLen = data.length / 2;\n            const len = numberToHexUnpadded(dataLen);\n            if ((len.length / 2) & 0b1000_0000)\n                throw new E('tlv.encode: long form length too big');\n            // length of length with long form flag\n            const lenLen = dataLen > 127 ? numberToHexUnpadded((len.length / 2) | 0b1000_0000) : '';\n            const t = numberToHexUnpadded(tag);\n            return t + lenLen + len + data;\n        },\n        // v - value, l - left bytes (unparsed)\n        decode(tag, data) {\n            const { Err: E } = DER;\n            let pos = 0;\n            if (tag < 0 || tag > 256)\n                throw new E('tlv.encode: wrong tag');\n            if (data.length < 2 || data[pos++] !== tag)\n                throw new E('tlv.decode: wrong tlv');\n            const first = data[pos++];\n            const isLong = !!(first & 0b1000_0000); // First bit of first length byte is flag for short/long form\n            let length = 0;\n            if (!isLong)\n                length = first;\n            else {\n                // Long form: [longFlag(1bit), lengthLength(7bit), length (BE)]\n                const lenLen = first & 0b0111_1111;\n                if (!lenLen)\n                    throw new E('tlv.decode(long): indefinite length not supported');\n                if (lenLen > 4)\n                    throw new E('tlv.decode(long): byte length is too big'); // this will overflow u32 in js\n                const lengthBytes = data.subarray(pos, pos + lenLen);\n                if (lengthBytes.length !== lenLen)\n                    throw new E('tlv.decode: length bytes not complete');\n                if (lengthBytes[0] === 0)\n                    throw new E('tlv.decode(long): zero leftmost byte');\n                for (const b of lengthBytes)\n                    length = (length << 8) | b;\n                pos += lenLen;\n                if (length < 128)\n                    throw new E('tlv.decode(long): not minimal encoding');\n            }\n            const v = data.subarray(pos, pos + length);\n            if (v.length !== length)\n                throw new E('tlv.decode: wrong value length');\n            return { v, l: data.subarray(pos + length) };\n        },\n    },\n    // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,\n    // since we always use positive integers here. It must always be empty:\n    // - add zero byte if exists\n    // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)\n    _int: {\n        encode(num) {\n            const { Err: E } = DER;\n            if (num < _0n)\n                throw new E('integer: negative integers are not allowed');\n            let hex = numberToHexUnpadded(num);\n            // Pad with zero byte if negative flag is present\n            if (Number.parseInt(hex[0], 16) & 0b1000)\n                hex = '00' + hex;\n            if (hex.length & 1)\n                throw new E('unexpected DER parsing assertion: unpadded hex');\n            return hex;\n        },\n        decode(data) {\n            const { Err: E } = DER;\n            if (data[0] & 0b1000_0000)\n                throw new E('invalid signature integer: negative');\n            if (data[0] === 0x00 && !(data[1] & 0b1000_0000))\n                throw new E('invalid signature integer: unnecessary leading zero');\n            return bytesToNumberBE(data);\n        },\n    },\n    toSig(bytes) {\n        // parse DER signature\n        const { Err: E, _int: int, _tlv: tlv } = DER;\n        const data = abytes(bytes, undefined, 'signature');\n        const { v: seqBytes, l: seqLeftBytes } = tlv.decode(0x30, data);\n        if (seqLeftBytes.length)\n            throw new E('invalid signature: left bytes after parsing');\n        const { v: rBytes, l: rLeftBytes } = tlv.decode(0x02, seqBytes);\n        const { v: sBytes, l: sLeftBytes } = tlv.decode(0x02, rLeftBytes);\n        if (sLeftBytes.length)\n            throw new E('invalid signature: left bytes after parsing');\n        return { r: int.decode(rBytes), s: int.decode(sBytes) };\n    },\n    hexFromSig(sig) {\n        const { _tlv: tlv, _int: int } = DER;\n        const rs = tlv.encode(0x02, int.encode(sig.r));\n        const ss = tlv.encode(0x02, int.encode(sig.s));\n        const seq = rs + ss;\n        return tlv.encode(0x30, seq);\n    },\n};\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3), _4n = BigInt(4);\n/**\n * Creates weierstrass Point constructor, based on specified curve options.\n *\n * See {@link WeierstrassOpts}.\n *\n * @example\n```js\nconst opts = {\n  p: 0xfffffffffffffffffffffffffffffffeffffac73n,\n  n: 0x100000000000000000001b8fa16dfab9aca16b6b3n,\n  h: 1n,\n  a: 0n,\n  b: 7n,\n  Gx: 0x3b4c382ce37aa192a4019e763036f4f5dd4d7ebbn,\n  Gy: 0x938cf935318fdced6bc28286531733c3f03c4feen,\n};\nconst secp160k1_Point = weierstrass(opts);\n```\n */\nexport function weierstrass(params, extraOpts = {}) {\n    const validated = createCurveFields('weierstrass', params, extraOpts);\n    const { Fp, Fn } = validated;\n    let CURVE = validated.CURVE;\n    const { h: cofactor, n: CURVE_ORDER } = CURVE;\n    validateObject(extraOpts, {}, {\n        allowInfinityPoint: 'boolean',\n        clearCofactor: 'function',\n        isTorsionFree: 'function',\n        fromBytes: 'function',\n        toBytes: 'function',\n        endo: 'object',\n    });\n    const { endo } = extraOpts;\n    if (endo) {\n        // validateObject(endo, { beta: 'bigint', splitScalar: 'function' });\n        if (!Fp.is0(CURVE.a) || typeof endo.beta !== 'bigint' || !Array.isArray(endo.basises)) {\n            throw new Error('invalid endo: expected \"beta\": bigint and \"basises\": array');\n        }\n    }\n    const lengths = getWLengths(Fp, Fn);\n    function assertCompressionIsSupported() {\n        if (!Fp.isOdd)\n            throw new Error('compression is not supported: Field does not have .isOdd()');\n    }\n    // Implements IEEE P1363 point encoding\n    function pointToBytes(_c, point, isCompressed) {\n        const { x, y } = point.toAffine();\n        const bx = Fp.toBytes(x);\n        abool(isCompressed, 'isCompressed');\n        if (isCompressed) {\n            assertCompressionIsSupported();\n            const hasEvenY = !Fp.isOdd(y);\n            return concatBytes(pprefix(hasEvenY), bx);\n        }\n        else {\n            return concatBytes(Uint8Array.of(0x04), bx, Fp.toBytes(y));\n        }\n    }\n    function pointFromBytes(bytes) {\n        abytes(bytes, undefined, 'Point');\n        const { publicKey: comp, publicKeyUncompressed: uncomp } = lengths; // e.g. for 32-byte: 33, 65\n        const length = bytes.length;\n        const head = bytes[0];\n        const tail = bytes.subarray(1);\n        // No actual validation is done here: use .assertValidity()\n        if (length === comp && (head === 0x02 || head === 0x03)) {\n            const x = Fp.fromBytes(tail);\n            if (!Fp.isValid(x))\n                throw new Error('bad point: is not on curve, wrong x');\n            const y2 = weierstrassEquation(x); // y = x + ax + b\n            let y;\n            try {\n                y = Fp.sqrt(y2); // y = y ^ (p+1)/4\n            }\n            catch (sqrtError) {\n                const err = sqrtError instanceof Error ? ': ' + sqrtError.message : '';\n                throw new Error('bad point: is not on curve, sqrt error' + err);\n            }\n            assertCompressionIsSupported();\n            const evenY = Fp.isOdd(y);\n            const evenH = (head & 1) === 1; // ECDSA-specific\n            if (evenH !== evenY)\n                y = Fp.neg(y);\n            return { x, y };\n        }\n        else if (length === uncomp && head === 0x04) {\n            // TODO: more checks\n            const L = Fp.BYTES;\n            const x = Fp.fromBytes(tail.subarray(0, L));\n            const y = Fp.fromBytes(tail.subarray(L, L * 2));\n            if (!isValidXY(x, y))\n                throw new Error('bad point: is not on curve');\n            return { x, y };\n        }\n        else {\n            throw new Error(`bad point: got length ${length}, expected compressed=${comp} or uncompressed=${uncomp}`);\n        }\n    }\n    const encodePoint = extraOpts.toBytes || pointToBytes;\n    const decodePoint = extraOpts.fromBytes || pointFromBytes;\n    function weierstrassEquation(x) {\n        const x2 = Fp.sqr(x); // x * x\n        const x3 = Fp.mul(x2, x); // x * x\n        return Fp.add(Fp.add(x3, Fp.mul(x, CURVE.a)), CURVE.b); // x + a * x + b\n    }\n    // TODO: move top-level\n    /** Checks whether equation holds for given x, y: y == x + ax + b */\n    function isValidXY(x, y) {\n        const left = Fp.sqr(y); // y\n        const right = weierstrassEquation(x); // x + ax + b\n        return Fp.eql(left, right);\n    }\n    // Validate whether the passed curve params are valid.\n    // Test 1: equation y = x + ax + b should work for generator point.\n    if (!isValidXY(CURVE.Gx, CURVE.Gy))\n        throw new Error('bad curve params: generator point');\n    // Test 2: discriminant  part should be non-zero: 4a + 27b != 0.\n    // Guarantees curve is genus-1, smooth (non-singular).\n    const _4a3 = Fp.mul(Fp.pow(CURVE.a, _3n), _4n);\n    const _27b2 = Fp.mul(Fp.sqr(CURVE.b), BigInt(27));\n    if (Fp.is0(Fp.add(_4a3, _27b2)))\n        throw new Error('bad curve params: a or b');\n    /** Asserts coordinate is valid: 0 <= n < Fp.ORDER. */\n    function acoord(title, n, banZero = false) {\n        if (!Fp.isValid(n) || (banZero && Fp.is0(n)))\n            throw new Error(`bad point coordinate ${title}`);\n        return n;\n    }\n    function aprjpoint(other) {\n        if (!(other instanceof Point))\n            throw new Error('Weierstrass Point expected');\n    }\n    function splitEndoScalarN(k) {\n        if (!endo || !endo.basises)\n            throw new Error('no endo');\n        return _splitEndoScalar(k, endo.basises, Fn.ORDER);\n    }\n    // Memoized toAffine / validity check. They are heavy. Points are immutable.\n    // Converts Projective point to affine (x, y) coordinates.\n    // Can accept precomputed Z^-1 - for example, from invertBatch.\n    // (X, Y, Z)  (x=X/Z, y=Y/Z)\n    const toAffineMemo = memoized((p, iz) => {\n        const { X, Y, Z } = p;\n        // Fast-path for normalized points\n        if (Fp.eql(Z, Fp.ONE))\n            return { x: X, y: Y };\n        const is0 = p.is0();\n        // If invZ was 0, we return zero point. However we still want to execute\n        // all operations, so we replace invZ with a random number, 1.\n        if (iz == null)\n            iz = is0 ? Fp.ONE : Fp.inv(Z);\n        const x = Fp.mul(X, iz);\n        const y = Fp.mul(Y, iz);\n        const zz = Fp.mul(Z, iz);\n        if (is0)\n            return { x: Fp.ZERO, y: Fp.ZERO };\n        if (!Fp.eql(zz, Fp.ONE))\n            throw new Error('invZ was invalid');\n        return { x, y };\n    });\n    // NOTE: on exception this will crash 'cached' and no value will be set.\n    // Otherwise true will be return\n    const assertValidMemo = memoized((p) => {\n        if (p.is0()) {\n            // (0, 1, 0) aka ZERO is invalid in most contexts.\n            // In BLS, ZERO can be serialized, so we allow it.\n            // (0, 0, 0) is invalid representation of ZERO.\n            if (extraOpts.allowInfinityPoint && !Fp.is0(p.Y))\n                return;\n            throw new Error('bad point: ZERO');\n        }\n        // Some 3rd-party test vectors require different wording between here & `fromCompressedHex`\n        const { x, y } = p.toAffine();\n        if (!Fp.isValid(x) || !Fp.isValid(y))\n            throw new Error('bad point: x or y not field elements');\n        if (!isValidXY(x, y))\n            throw new Error('bad point: equation left != right');\n        if (!p.isTorsionFree())\n            throw new Error('bad point: not in prime-order subgroup');\n        return true;\n    });\n    function finishEndo(endoBeta, k1p, k2p, k1neg, k2neg) {\n        k2p = new Point(Fp.mul(k2p.X, endoBeta), k2p.Y, k2p.Z);\n        k1p = negateCt(k1neg, k1p);\n        k2p = negateCt(k2neg, k2p);\n        return k1p.add(k2p);\n    }\n    /**\n     * Projective Point works in 3d / projective (homogeneous) coordinates:(X, Y, Z)  (x=X/Z, y=Y/Z).\n     * Default Point works in 2d / affine coordinates: (x, y).\n     * We're doing calculations in projective, because its operations don't require costly inversion.\n     */\n    class Point {\n        // base / generator point\n        static BASE = new Point(CURVE.Gx, CURVE.Gy, Fp.ONE);\n        // zero / infinity / identity point\n        static ZERO = new Point(Fp.ZERO, Fp.ONE, Fp.ZERO); // 0, 1, 0\n        // math field\n        static Fp = Fp;\n        // scalar field\n        static Fn = Fn;\n        X;\n        Y;\n        Z;\n        /** Does NOT validate if the point is valid. Use `.assertValidity()`. */\n        constructor(X, Y, Z) {\n            this.X = acoord('x', X);\n            this.Y = acoord('y', Y, true);\n            this.Z = acoord('z', Z);\n            Object.freeze(this);\n        }\n        static CURVE() {\n            return CURVE;\n        }\n        /** Does NOT validate if the point is valid. Use `.assertValidity()`. */\n        static fromAffine(p) {\n            const { x, y } = p || {};\n            if (!p || !Fp.isValid(x) || !Fp.isValid(y))\n                throw new Error('invalid affine point');\n            if (p instanceof Point)\n                throw new Error('projective point not allowed');\n            // (0, 0) would've produced (0, 0, 1) - instead, we need (0, 1, 0)\n            if (Fp.is0(x) && Fp.is0(y))\n                return Point.ZERO;\n            return new Point(x, y, Fp.ONE);\n        }\n        static fromBytes(bytes) {\n            const P = Point.fromAffine(decodePoint(abytes(bytes, undefined, 'point')));\n            P.assertValidity();\n            return P;\n        }\n        static fromHex(hex) {\n            return Point.fromBytes(hexToBytes(hex));\n        }\n        get x() {\n            return this.toAffine().x;\n        }\n        get y() {\n            return this.toAffine().y;\n        }\n        /**\n         *\n         * @param windowSize\n         * @param isLazy true will defer table computation until the first multiplication\n         * @returns\n         */\n        precompute(windowSize = 8, isLazy = true) {\n            wnaf.createCache(this, windowSize);\n            if (!isLazy)\n                this.multiply(_3n); // random number\n            return this;\n        }\n        // TODO: return `this`\n        /** A point on curve is valid if it conforms to equation. */\n        assertValidity() {\n            assertValidMemo(this);\n        }\n        hasEvenY() {\n            const { y } = this.toAffine();\n            if (!Fp.isOdd)\n                throw new Error(\"Field doesn't support isOdd\");\n            return !Fp.isOdd(y);\n        }\n        /** Compare one point to another. */\n        equals(other) {\n            aprjpoint(other);\n            const { X: X1, Y: Y1, Z: Z1 } = this;\n            const { X: X2, Y: Y2, Z: Z2 } = other;\n            const U1 = Fp.eql(Fp.mul(X1, Z2), Fp.mul(X2, Z1));\n            const U2 = Fp.eql(Fp.mul(Y1, Z2), Fp.mul(Y2, Z1));\n            return U1 && U2;\n        }\n        /** Flips point to one corresponding to (x, -y) in Affine coordinates. */\n        negate() {\n            return new Point(this.X, Fp.neg(this.Y), this.Z);\n        }\n        // Renes-Costello-Batina exception-free doubling formula.\n        // There is 30% faster Jacobian formula, but it is not complete.\n        // https://eprint.iacr.org/2015/1060, algorithm 3\n        // Cost: 8M + 3S + 3*a + 2*b3 + 15add.\n        double() {\n            const { a, b } = CURVE;\n            const b3 = Fp.mul(b, _3n);\n            const { X: X1, Y: Y1, Z: Z1 } = this;\n            let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n            let t0 = Fp.mul(X1, X1); // step 1\n            let t1 = Fp.mul(Y1, Y1);\n            let t2 = Fp.mul(Z1, Z1);\n            let t3 = Fp.mul(X1, Y1);\n            t3 = Fp.add(t3, t3); // step 5\n            Z3 = Fp.mul(X1, Z1);\n            Z3 = Fp.add(Z3, Z3);\n            X3 = Fp.mul(a, Z3);\n            Y3 = Fp.mul(b3, t2);\n            Y3 = Fp.add(X3, Y3); // step 10\n            X3 = Fp.sub(t1, Y3);\n            Y3 = Fp.add(t1, Y3);\n            Y3 = Fp.mul(X3, Y3);\n            X3 = Fp.mul(t3, X3);\n            Z3 = Fp.mul(b3, Z3); // step 15\n            t2 = Fp.mul(a, t2);\n            t3 = Fp.sub(t0, t2);\n            t3 = Fp.mul(a, t3);\n            t3 = Fp.add(t3, Z3);\n            Z3 = Fp.add(t0, t0); // step 20\n            t0 = Fp.add(Z3, t0);\n            t0 = Fp.add(t0, t2);\n            t0 = Fp.mul(t0, t3);\n            Y3 = Fp.add(Y3, t0);\n            t2 = Fp.mul(Y1, Z1); // step 25\n            t2 = Fp.add(t2, t2);\n            t0 = Fp.mul(t2, t3);\n            X3 = Fp.sub(X3, t0);\n            Z3 = Fp.mul(t2, t1);\n            Z3 = Fp.add(Z3, Z3); // step 30\n            Z3 = Fp.add(Z3, Z3);\n            return new Point(X3, Y3, Z3);\n        }\n        // Renes-Costello-Batina exception-free addition formula.\n        // There is 30% faster Jacobian formula, but it is not complete.\n        // https://eprint.iacr.org/2015/1060, algorithm 1\n        // Cost: 12M + 0S + 3*a + 3*b3 + 23add.\n        add(other) {\n            aprjpoint(other);\n            const { X: X1, Y: Y1, Z: Z1 } = this;\n            const { X: X2, Y: Y2, Z: Z2 } = other;\n            let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n            const a = CURVE.a;\n            const b3 = Fp.mul(CURVE.b, _3n);\n            let t0 = Fp.mul(X1, X2); // step 1\n            let t1 = Fp.mul(Y1, Y2);\n            let t2 = Fp.mul(Z1, Z2);\n            let t3 = Fp.add(X1, Y1);\n            let t4 = Fp.add(X2, Y2); // step 5\n            t3 = Fp.mul(t3, t4);\n            t4 = Fp.add(t0, t1);\n            t3 = Fp.sub(t3, t4);\n            t4 = Fp.add(X1, Z1);\n            let t5 = Fp.add(X2, Z2); // step 10\n            t4 = Fp.mul(t4, t5);\n            t5 = Fp.add(t0, t2);\n            t4 = Fp.sub(t4, t5);\n            t5 = Fp.add(Y1, Z1);\n            X3 = Fp.add(Y2, Z2); // step 15\n            t5 = Fp.mul(t5, X3);\n            X3 = Fp.add(t1, t2);\n            t5 = Fp.sub(t5, X3);\n            Z3 = Fp.mul(a, t4);\n            X3 = Fp.mul(b3, t2); // step 20\n            Z3 = Fp.add(X3, Z3);\n            X3 = Fp.sub(t1, Z3);\n            Z3 = Fp.add(t1, Z3);\n            Y3 = Fp.mul(X3, Z3);\n            t1 = Fp.add(t0, t0); // step 25\n            t1 = Fp.add(t1, t0);\n            t2 = Fp.mul(a, t2);\n            t4 = Fp.mul(b3, t4);\n            t1 = Fp.add(t1, t2);\n            t2 = Fp.sub(t0, t2); // step 30\n            t2 = Fp.mul(a, t2);\n            t4 = Fp.add(t4, t2);\n            t0 = Fp.mul(t1, t4);\n            Y3 = Fp.add(Y3, t0);\n            t0 = Fp.mul(t5, t4); // step 35\n            X3 = Fp.mul(t3, X3);\n            X3 = Fp.sub(X3, t0);\n            t0 = Fp.mul(t3, t1);\n            Z3 = Fp.mul(t5, Z3);\n            Z3 = Fp.add(Z3, t0); // step 40\n            return new Point(X3, Y3, Z3);\n        }\n        subtract(other) {\n            return this.add(other.negate());\n        }\n        is0() {\n            return this.equals(Point.ZERO);\n        }\n        /**\n         * Constant time multiplication.\n         * Uses wNAF method. Windowed method may be 10% faster,\n         * but takes 2x longer to generate and consumes 2x memory.\n         * Uses precomputes when available.\n         * Uses endomorphism for Koblitz curves.\n         * @param scalar by which the point would be multiplied\n         * @returns New point\n         */\n        multiply(scalar) {\n            const { endo } = extraOpts;\n            if (!Fn.isValidNot0(scalar))\n                throw new Error('invalid scalar: out of range'); // 0 is invalid\n            let point, fake; // Fake point is used to const-time mult\n            const mul = (n) => wnaf.cached(this, n, (p) => normalizeZ(Point, p));\n            /** See docs for {@link EndomorphismOpts} */\n            if (endo) {\n                const { k1neg, k1, k2neg, k2 } = splitEndoScalarN(scalar);\n                const { p: k1p, f: k1f } = mul(k1);\n                const { p: k2p, f: k2f } = mul(k2);\n                fake = k1f.add(k2f);\n                point = finishEndo(endo.beta, k1p, k2p, k1neg, k2neg);\n            }\n            else {\n                const { p, f } = mul(scalar);\n                point = p;\n                fake = f;\n            }\n            // Normalize `z` for both points, but return only real one\n            return normalizeZ(Point, [point, fake])[0];\n        }\n        /**\n         * Non-constant-time multiplication. Uses double-and-add algorithm.\n         * It's faster, but should only be used when you don't care about\n         * an exposed secret key e.g. sig verification, which works over *public* keys.\n         */\n        multiplyUnsafe(sc) {\n            const { endo } = extraOpts;\n            const p = this;\n            if (!Fn.isValid(sc))\n                throw new Error('invalid scalar: out of range'); // 0 is valid\n            if (sc === _0n || p.is0())\n                return Point.ZERO; // 0\n            if (sc === _1n)\n                return p; // 1\n            if (wnaf.hasCache(this))\n                return this.multiply(sc); // precomputes\n            // We don't have method for double scalar multiplication (aP + bQ):\n            // Even with using Strauss-Shamir trick, it's 35% slower than nave mul+add.\n            if (endo) {\n                const { k1neg, k1, k2neg, k2 } = splitEndoScalarN(sc);\n                const { p1, p2 } = mulEndoUnsafe(Point, p, k1, k2); // 30% faster vs wnaf.unsafe\n                return finishEndo(endo.beta, p1, p2, k1neg, k2neg);\n            }\n            else {\n                return wnaf.unsafe(p, sc);\n            }\n        }\n        /**\n         * Converts Projective point to affine (x, y) coordinates.\n         * @param invertedZ Z^-1 (inverted zero) - optional, precomputation is useful for invertBatch\n         */\n        toAffine(invertedZ) {\n            return toAffineMemo(this, invertedZ);\n        }\n        /**\n         * Checks whether Point is free of torsion elements (is in prime subgroup).\n         * Always torsion-free for cofactor=1 curves.\n         */\n        isTorsionFree() {\n            const { isTorsionFree } = extraOpts;\n            if (cofactor === _1n)\n                return true;\n            if (isTorsionFree)\n                return isTorsionFree(Point, this);\n            return wnaf.unsafe(this, CURVE_ORDER).is0();\n        }\n        clearCofactor() {\n            const { clearCofactor } = extraOpts;\n            if (cofactor === _1n)\n                return this; // Fast-path\n            if (clearCofactor)\n                return clearCofactor(Point, this);\n            return this.multiplyUnsafe(cofactor);\n        }\n        isSmallOrder() {\n            // can we use this.clearCofactor()?\n            return this.multiplyUnsafe(cofactor).is0();\n        }\n        toBytes(isCompressed = true) {\n            abool(isCompressed, 'isCompressed');\n            this.assertValidity();\n            return encodePoint(Point, this, isCompressed);\n        }\n        toHex(isCompressed = true) {\n            return bytesToHex(this.toBytes(isCompressed));\n        }\n        toString() {\n            return `<Point ${this.is0() ? 'ZERO' : this.toHex()}>`;\n        }\n    }\n    const bits = Fn.BITS;\n    const wnaf = new wNAF(Point, extraOpts.endo ? Math.ceil(bits / 2) : bits);\n    Point.BASE.precompute(8); // Enable precomputes. Slows down first publicKey computation by 20ms.\n    return Point;\n}\n// Points start with byte 0x02 when y is even; otherwise 0x03\nfunction pprefix(hasEvenY) {\n    return Uint8Array.of(hasEvenY ? 0x02 : 0x03);\n}\n/**\n * Implementation of the Shallue and van de Woestijne method for any weierstrass curve.\n * TODO: check if there is a way to merge this with uvRatio in Edwards; move to modular.\n * b = True and y = sqrt(u / v) if (u / v) is square in F, and\n * b = False and y = sqrt(Z * (u / v)) otherwise.\n * @param Fp\n * @param Z\n * @returns\n */\nexport function SWUFpSqrtRatio(Fp, Z) {\n    // Generic implementation\n    const q = Fp.ORDER;\n    let l = _0n;\n    for (let o = q - _1n; o % _2n === _0n; o /= _2n)\n        l += _1n;\n    const c1 = l; // 1. c1, the largest integer such that 2^c1 divides q - 1.\n    // We need 2n ** c1 and 2n ** (c1-1). We can't use **; but we can use <<.\n    // 2n ** c1 == 2n << (c1-1)\n    const _2n_pow_c1_1 = _2n << (c1 - _1n - _1n);\n    const _2n_pow_c1 = _2n_pow_c1_1 * _2n;\n    const c2 = (q - _1n) / _2n_pow_c1; // 2. c2 = (q - 1) / (2^c1)  # Integer arithmetic\n    const c3 = (c2 - _1n) / _2n; // 3. c3 = (c2 - 1) / 2            # Integer arithmetic\n    const c4 = _2n_pow_c1 - _1n; // 4. c4 = 2^c1 - 1                # Integer arithmetic\n    const c5 = _2n_pow_c1_1; // 5. c5 = 2^(c1 - 1)                  # Integer arithmetic\n    const c6 = Fp.pow(Z, c2); // 6. c6 = Z^c2\n    const c7 = Fp.pow(Z, (c2 + _1n) / _2n); // 7. c7 = Z^((c2 + 1) / 2)\n    let sqrtRatio = (u, v) => {\n        let tv1 = c6; // 1. tv1 = c6\n        let tv2 = Fp.pow(v, c4); // 2. tv2 = v^c4\n        let tv3 = Fp.sqr(tv2); // 3. tv3 = tv2^2\n        tv3 = Fp.mul(tv3, v); // 4. tv3 = tv3 * v\n        let tv5 = Fp.mul(u, tv3); // 5. tv5 = u * tv3\n        tv5 = Fp.pow(tv5, c3); // 6. tv5 = tv5^c3\n        tv5 = Fp.mul(tv5, tv2); // 7. tv5 = tv5 * tv2\n        tv2 = Fp.mul(tv5, v); // 8. tv2 = tv5 * v\n        tv3 = Fp.mul(tv5, u); // 9. tv3 = tv5 * u\n        let tv4 = Fp.mul(tv3, tv2); // 10. tv4 = tv3 * tv2\n        tv5 = Fp.pow(tv4, c5); // 11. tv5 = tv4^c5\n        let isQR = Fp.eql(tv5, Fp.ONE); // 12. isQR = tv5 == 1\n        tv2 = Fp.mul(tv3, c7); // 13. tv2 = tv3 * c7\n        tv5 = Fp.mul(tv4, tv1); // 14. tv5 = tv4 * tv1\n        tv3 = Fp.cmov(tv2, tv3, isQR); // 15. tv3 = CMOV(tv2, tv3, isQR)\n        tv4 = Fp.cmov(tv5, tv4, isQR); // 16. tv4 = CMOV(tv5, tv4, isQR)\n        // 17. for i in (c1, c1 - 1, ..., 2):\n        for (let i = c1; i > _1n; i--) {\n            let tv5 = i - _2n; // 18.    tv5 = i - 2\n            tv5 = _2n << (tv5 - _1n); // 19.    tv5 = 2^tv5\n            let tvv5 = Fp.pow(tv4, tv5); // 20.    tv5 = tv4^tv5\n            const e1 = Fp.eql(tvv5, Fp.ONE); // 21.    e1 = tv5 == 1\n            tv2 = Fp.mul(tv3, tv1); // 22.    tv2 = tv3 * tv1\n            tv1 = Fp.mul(tv1, tv1); // 23.    tv1 = tv1 * tv1\n            tvv5 = Fp.mul(tv4, tv1); // 24.    tv5 = tv4 * tv1\n            tv3 = Fp.cmov(tv2, tv3, e1); // 25.    tv3 = CMOV(tv2, tv3, e1)\n            tv4 = Fp.cmov(tvv5, tv4, e1); // 26.    tv4 = CMOV(tv5, tv4, e1)\n        }\n        return { isValid: isQR, value: tv3 };\n    };\n    if (Fp.ORDER % _4n === _3n) {\n        // sqrt_ratio_3mod4(u, v)\n        const c1 = (Fp.ORDER - _3n) / _4n; // 1. c1 = (q - 3) / 4     # Integer arithmetic\n        const c2 = Fp.sqrt(Fp.neg(Z)); // 2. c2 = sqrt(-Z)\n        sqrtRatio = (u, v) => {\n            let tv1 = Fp.sqr(v); // 1. tv1 = v^2\n            const tv2 = Fp.mul(u, v); // 2. tv2 = u * v\n            tv1 = Fp.mul(tv1, tv2); // 3. tv1 = tv1 * tv2\n            let y1 = Fp.pow(tv1, c1); // 4. y1 = tv1^c1\n            y1 = Fp.mul(y1, tv2); // 5. y1 = y1 * tv2\n            const y2 = Fp.mul(y1, c2); // 6. y2 = y1 * c2\n            const tv3 = Fp.mul(Fp.sqr(y1), v); // 7. tv3 = y1^2; 8. tv3 = tv3 * v\n            const isQR = Fp.eql(tv3, u); // 9. isQR = tv3 == u\n            let y = Fp.cmov(y2, y1, isQR); // 10. y = CMOV(y2, y1, isQR)\n            return { isValid: isQR, value: y }; // 11. return (isQR, y) isQR ? y : y*c2\n        };\n    }\n    // No curves uses that\n    // if (Fp.ORDER % _8n === _5n) // sqrt_ratio_5mod8\n    return sqrtRatio;\n}\n/**\n * Simplified Shallue-van de Woestijne-Ulas Method\n * https://www.rfc-editor.org/rfc/rfc9380#section-6.6.2\n */\nexport function mapToCurveSimpleSWU(Fp, opts) {\n    validateField(Fp);\n    const { A, B, Z } = opts;\n    if (!Fp.isValid(A) || !Fp.isValid(B) || !Fp.isValid(Z))\n        throw new Error('mapToCurveSimpleSWU: invalid opts');\n    const sqrtRatio = SWUFpSqrtRatio(Fp, Z);\n    if (!Fp.isOdd)\n        throw new Error('Field does not have .isOdd()');\n    // Input: u, an element of F.\n    // Output: (x, y), a point on E.\n    return (u) => {\n        // prettier-ignore\n        let tv1, tv2, tv3, tv4, tv5, tv6, x, y;\n        tv1 = Fp.sqr(u); // 1.  tv1 = u^2\n        tv1 = Fp.mul(tv1, Z); // 2.  tv1 = Z * tv1\n        tv2 = Fp.sqr(tv1); // 3.  tv2 = tv1^2\n        tv2 = Fp.add(tv2, tv1); // 4.  tv2 = tv2 + tv1\n        tv3 = Fp.add(tv2, Fp.ONE); // 5.  tv3 = tv2 + 1\n        tv3 = Fp.mul(tv3, B); // 6.  tv3 = B * tv3\n        tv4 = Fp.cmov(Z, Fp.neg(tv2), !Fp.eql(tv2, Fp.ZERO)); // 7.  tv4 = CMOV(Z, -tv2, tv2 != 0)\n        tv4 = Fp.mul(tv4, A); // 8.  tv4 = A * tv4\n        tv2 = Fp.sqr(tv3); // 9.  tv2 = tv3^2\n        tv6 = Fp.sqr(tv4); // 10. tv6 = tv4^2\n        tv5 = Fp.mul(tv6, A); // 11. tv5 = A * tv6\n        tv2 = Fp.add(tv2, tv5); // 12. tv2 = tv2 + tv5\n        tv2 = Fp.mul(tv2, tv3); // 13. tv2 = tv2 * tv3\n        tv6 = Fp.mul(tv6, tv4); // 14. tv6 = tv6 * tv4\n        tv5 = Fp.mul(tv6, B); // 15. tv5 = B * tv6\n        tv2 = Fp.add(tv2, tv5); // 16. tv2 = tv2 + tv5\n        x = Fp.mul(tv1, tv3); // 17.   x = tv1 * tv3\n        const { isValid, value } = sqrtRatio(tv2, tv6); // 18. (is_gx1_square, y1) = sqrt_ratio(tv2, tv6)\n        y = Fp.mul(tv1, u); // 19.   y = tv1 * u  -> Z * u^3 * y1\n        y = Fp.mul(y, value); // 20.   y = y * y1\n        x = Fp.cmov(x, tv3, isValid); // 21.   x = CMOV(x, tv3, is_gx1_square)\n        y = Fp.cmov(y, value, isValid); // 22.   y = CMOV(y, y1, is_gx1_square)\n        const e1 = Fp.isOdd(u) === Fp.isOdd(y); // 23.  e1 = sgn0(u) == sgn0(y)\n        y = Fp.cmov(Fp.neg(y), y, e1); // 24.   y = CMOV(-y, y, e1)\n        const tv4_inv = FpInvertBatch(Fp, [tv4], true)[0];\n        x = Fp.mul(x, tv4_inv); // 25.   x = x / tv4\n        return { x, y };\n    };\n}\nfunction getWLengths(Fp, Fn) {\n    return {\n        secretKey: Fn.BYTES,\n        publicKey: 1 + Fp.BYTES,\n        publicKeyUncompressed: 1 + 2 * Fp.BYTES,\n        publicKeyHasPrefix: true,\n        signature: 2 * Fn.BYTES,\n    };\n}\n/**\n * Sometimes users only need getPublicKey, getSharedSecret, and secret key handling.\n * This helper ensures no signature functionality is present. Less code, smaller bundle size.\n */\nexport function ecdh(Point, ecdhOpts = {}) {\n    const { Fn } = Point;\n    const randomBytes_ = ecdhOpts.randomBytes || wcRandomBytes;\n    const lengths = Object.assign(getWLengths(Point.Fp, Fn), { seed: getMinHashLength(Fn.ORDER) });\n    function isValidSecretKey(secretKey) {\n        try {\n            const num = Fn.fromBytes(secretKey);\n            return Fn.isValidNot0(num);\n        }\n        catch (error) {\n            return false;\n        }\n    }\n    function isValidPublicKey(publicKey, isCompressed) {\n        const { publicKey: comp, publicKeyUncompressed } = lengths;\n        try {\n            const l = publicKey.length;\n            if (isCompressed === true && l !== comp)\n                return false;\n            if (isCompressed === false && l !== publicKeyUncompressed)\n                return false;\n            return !!Point.fromBytes(publicKey);\n        }\n        catch (error) {\n            return false;\n        }\n    }\n    /**\n     * Produces cryptographically secure secret key from random of size\n     * (groupLen + ceil(groupLen / 2)) with modulo bias being negligible.\n     */\n    function randomSecretKey(seed = randomBytes_(lengths.seed)) {\n        return mapHashToField(abytes(seed, lengths.seed, 'seed'), Fn.ORDER);\n    }\n    /**\n     * Computes public key for a secret key. Checks for validity of the secret key.\n     * @param isCompressed whether to return compact (default), or full key\n     * @returns Public key, full when isCompressed=false; short when isCompressed=true\n     */\n    function getPublicKey(secretKey, isCompressed = true) {\n        return Point.BASE.multiply(Fn.fromBytes(secretKey)).toBytes(isCompressed);\n    }\n    /**\n     * Quick and dirty check for item being public key. Does not validate hex, or being on-curve.\n     */\n    function isProbPub(item) {\n        const { secretKey, publicKey, publicKeyUncompressed } = lengths;\n        if (!isBytes(item))\n            return undefined;\n        if (('_lengths' in Fn && Fn._lengths) || secretKey === publicKey)\n            return undefined;\n        const l = abytes(item, undefined, 'key').length;\n        return l === publicKey || l === publicKeyUncompressed;\n    }\n    /**\n     * ECDH (Elliptic Curve Diffie Hellman).\n     * Computes shared public key from secret key A and public key B.\n     * Checks: 1) secret key validity 2) shared key is on-curve.\n     * Does NOT hash the result.\n     * @param isCompressed whether to return compact (default), or full key\n     * @returns shared public key\n     */\n    function getSharedSecret(secretKeyA, publicKeyB, isCompressed = true) {\n        if (isProbPub(secretKeyA) === true)\n            throw new Error('first arg must be private key');\n        if (isProbPub(publicKeyB) === false)\n            throw new Error('second arg must be public key');\n        const s = Fn.fromBytes(secretKeyA);\n        const b = Point.fromBytes(publicKeyB); // checks for being on-curve\n        return b.multiply(s).toBytes(isCompressed);\n    }\n    const utils = {\n        isValidSecretKey,\n        isValidPublicKey,\n        randomSecretKey,\n    };\n    const keygen = createKeygen(randomSecretKey, getPublicKey);\n    return Object.freeze({ getPublicKey, getSharedSecret, keygen, Point, utils, lengths });\n}\n/**\n * Creates ECDSA signing interface for given elliptic curve `Point` and `hash` function.\n *\n * @param Point created using {@link weierstrass} function\n * @param hash used for 1) message prehash-ing 2) k generation in `sign`, using hmac_drbg(hash)\n * @param ecdsaOpts rarely needed, see {@link ECDSAOpts}\n *\n * @example\n * ```js\n * const p256_Point = weierstrass(...);\n * const p256_sha256 = ecdsa(p256_Point, sha256);\n * const p256_sha224 = ecdsa(p256_Point, sha224);\n * const p256_sha224_r = ecdsa(p256_Point, sha224, { randomBytes: (length) => { ... } });\n * ```\n */\nexport function ecdsa(Point, hash, ecdsaOpts = {}) {\n    ahash(hash);\n    validateObject(ecdsaOpts, {}, {\n        hmac: 'function',\n        lowS: 'boolean',\n        randomBytes: 'function',\n        bits2int: 'function',\n        bits2int_modN: 'function',\n    });\n    ecdsaOpts = Object.assign({}, ecdsaOpts);\n    const randomBytes = ecdsaOpts.randomBytes || wcRandomBytes;\n    const hmac = ecdsaOpts.hmac || ((key, msg) => nobleHmac(hash, key, msg));\n    const { Fp, Fn } = Point;\n    const { ORDER: CURVE_ORDER, BITS: fnBits } = Fn;\n    const { keygen, getPublicKey, getSharedSecret, utils, lengths } = ecdh(Point, ecdsaOpts);\n    const defaultSigOpts = {\n        prehash: true,\n        lowS: typeof ecdsaOpts.lowS === 'boolean' ? ecdsaOpts.lowS : true,\n        format: 'compact',\n        extraEntropy: false,\n    };\n    const hasLargeCofactor = CURVE_ORDER * _2n < Fp.ORDER; // Won't CURVE().h > 2n be more effective?\n    function isBiggerThanHalfOrder(number) {\n        const HALF = CURVE_ORDER >> _1n;\n        return number > HALF;\n    }\n    function validateRS(title, num) {\n        if (!Fn.isValidNot0(num))\n            throw new Error(`invalid signature ${title}: out of range 1..Point.Fn.ORDER`);\n        return num;\n    }\n    function assertSmallCofactor() {\n        // ECDSA recovery is hard for cofactor > 1 curves.\n        // In sign, `r = q.x mod n`, and here we recover q.x from r.\n        // While recovering q.x >= n, we need to add r+n for cofactor=1 curves.\n        // However, for cofactor>1, r+n may not get q.x:\n        // r+n*i would need to be done instead where i is unknown.\n        // To easily get i, we either need to:\n        // a. increase amount of valid recid values (4, 5...); OR\n        // b. prohibit non-prime-order signatures (recid > 1).\n        if (hasLargeCofactor)\n            throw new Error('\"recovered\" sig type is not supported for cofactor >2 curves');\n    }\n    function validateSigLength(bytes, format) {\n        validateSigFormat(format);\n        const size = lengths.signature;\n        const sizer = format === 'compact' ? size : format === 'recovered' ? size + 1 : undefined;\n        return abytes(bytes, sizer);\n    }\n    /**\n     * ECDSA signature with its (r, s) properties. Supports compact, recovered & DER representations.\n     */\n    class Signature {\n        r;\n        s;\n        recovery;\n        constructor(r, s, recovery) {\n            this.r = validateRS('r', r); // r in [1..N-1];\n            this.s = validateRS('s', s); // s in [1..N-1];\n            if (recovery != null) {\n                assertSmallCofactor();\n                if (![0, 1, 2, 3].includes(recovery))\n                    throw new Error('invalid recovery id');\n                this.recovery = recovery;\n            }\n            Object.freeze(this);\n        }\n        static fromBytes(bytes, format = defaultSigOpts.format) {\n            validateSigLength(bytes, format);\n            let recid;\n            if (format === 'der') {\n                const { r, s } = DER.toSig(abytes(bytes));\n                return new Signature(r, s);\n            }\n            if (format === 'recovered') {\n                recid = bytes[0];\n                format = 'compact';\n                bytes = bytes.subarray(1);\n            }\n            const L = lengths.signature / 2;\n            const r = bytes.subarray(0, L);\n            const s = bytes.subarray(L, L * 2);\n            return new Signature(Fn.fromBytes(r), Fn.fromBytes(s), recid);\n        }\n        static fromHex(hex, format) {\n            return this.fromBytes(hexToBytes(hex), format);\n        }\n        assertRecovery() {\n            const { recovery } = this;\n            if (recovery == null)\n                throw new Error('invalid recovery id: must be present');\n            return recovery;\n        }\n        addRecoveryBit(recovery) {\n            return new Signature(this.r, this.s, recovery);\n        }\n        recoverPublicKey(messageHash) {\n            const { r, s } = this;\n            const recovery = this.assertRecovery();\n            const radj = recovery === 2 || recovery === 3 ? r + CURVE_ORDER : r;\n            if (!Fp.isValid(radj))\n                throw new Error('invalid recovery id: sig.r+curve.n != R.x');\n            const x = Fp.toBytes(radj);\n            const R = Point.fromBytes(concatBytes(pprefix((recovery & 1) === 0), x));\n            const ir = Fn.inv(radj); // r^-1\n            const h = bits2int_modN(abytes(messageHash, undefined, 'msgHash')); // Truncate hash\n            const u1 = Fn.create(-h * ir); // -hr^-1\n            const u2 = Fn.create(s * ir); // sr^-1\n            // (sr^-1)R-(hr^-1)G = -(hr^-1)G + (sr^-1). unsafe is fine: there is no private data.\n            const Q = Point.BASE.multiplyUnsafe(u1).add(R.multiplyUnsafe(u2));\n            if (Q.is0())\n                throw new Error('invalid recovery: point at infinify');\n            Q.assertValidity();\n            return Q;\n        }\n        // Signatures should be low-s, to prevent malleability.\n        hasHighS() {\n            return isBiggerThanHalfOrder(this.s);\n        }\n        toBytes(format = defaultSigOpts.format) {\n            validateSigFormat(format);\n            if (format === 'der')\n                return hexToBytes(DER.hexFromSig(this));\n            const { r, s } = this;\n            const rb = Fn.toBytes(r);\n            const sb = Fn.toBytes(s);\n            if (format === 'recovered') {\n                assertSmallCofactor();\n                return concatBytes(Uint8Array.of(this.assertRecovery()), rb, sb);\n            }\n            return concatBytes(rb, sb);\n        }\n        toHex(format) {\n            return bytesToHex(this.toBytes(format));\n        }\n    }\n    // RFC6979: ensure ECDSA msg is X bytes and < N. RFC suggests optional truncating via bits2octets.\n    // FIPS 186-4 4.6 suggests the leftmost min(nBitLen, outLen) bits, which matches bits2int.\n    // bits2int can produce res>N, we can do mod(res, N) since the bitLen is the same.\n    // int2octets can't be used; pads small msgs with 0: unacceptatble for trunc as per RFC vectors\n    const bits2int = ecdsaOpts.bits2int ||\n        function bits2int_def(bytes) {\n            // Our custom check \"just in case\", for protection against DoS\n            if (bytes.length > 8192)\n                throw new Error('input is too large');\n            // For curves with nBitLength % 8 !== 0: bits2octets(bits2octets(m)) !== bits2octets(m)\n            // for some cases, since bytes.length * 8 is not actual bitLength.\n            const num = bytesToNumberBE(bytes); // check for == u8 done here\n            const delta = bytes.length * 8 - fnBits; // truncate to nBitLength leftmost bits\n            return delta > 0 ? num >> BigInt(delta) : num;\n        };\n    const bits2int_modN = ecdsaOpts.bits2int_modN ||\n        function bits2int_modN_def(bytes) {\n            return Fn.create(bits2int(bytes)); // can't use bytesToNumberBE here\n        };\n    // Pads output with zero as per spec\n    const ORDER_MASK = bitMask(fnBits);\n    /** Converts to bytes. Checks if num in `[0..ORDER_MASK-1]` e.g.: `[0..2^256-1]`. */\n    function int2octets(num) {\n        // IMPORTANT: the check ensures working for case `Fn.BYTES != Fn.BITS * 8`\n        aInRange('num < 2^' + fnBits, num, _0n, ORDER_MASK);\n        return Fn.toBytes(num);\n    }\n    function validateMsgAndHash(message, prehash) {\n        abytes(message, undefined, 'message');\n        return prehash ? abytes(hash(message), undefined, 'prehashed message') : message;\n    }\n    /**\n     * Steps A, D of RFC6979 3.2.\n     * Creates RFC6979 seed; converts msg/privKey to numbers.\n     * Used only in sign, not in verify.\n     *\n     * Warning: we cannot assume here that message has same amount of bytes as curve order,\n     * this will be invalid at least for P521. Also it can be bigger for P224 + SHA256.\n     */\n    function prepSig(message, secretKey, opts) {\n        const { lowS, prehash, extraEntropy } = validateSigOpts(opts, defaultSigOpts);\n        message = validateMsgAndHash(message, prehash); // RFC6979 3.2 A: h1 = H(m)\n        // We can't later call bits2octets, since nested bits2int is broken for curves\n        // with fnBits % 8 !== 0. Because of that, we unwrap it here as int2octets call.\n        // const bits2octets = (bits) => int2octets(bits2int_modN(bits))\n        const h1int = bits2int_modN(message);\n        const d = Fn.fromBytes(secretKey); // validate secret key, convert to bigint\n        if (!Fn.isValidNot0(d))\n            throw new Error('invalid private key');\n        const seedArgs = [int2octets(d), int2octets(h1int)];\n        // extraEntropy. RFC6979 3.6: additional k' (optional).\n        if (extraEntropy != null && extraEntropy !== false) {\n            // K = HMAC_K(V || 0x00 || int2octets(x) || bits2octets(h1) || k')\n            // gen random bytes OR pass as-is\n            const e = extraEntropy === true ? randomBytes(lengths.secretKey) : extraEntropy;\n            seedArgs.push(abytes(e, undefined, 'extraEntropy')); // check for being bytes\n        }\n        const seed = concatBytes(...seedArgs); // Step D of RFC6979 3.2\n        const m = h1int; // no need to call bits2int second time here, it is inside truncateHash!\n        // Converts signature params into point w r/s, checks result for validity.\n        // To transform k => Signature:\n        // q = kG\n        // r = q.x mod n\n        // s = k^-1(m + rd) mod n\n        // Can use scalar blinding b^-1(bm + bdr) where b  [1,q1] according to\n        // https://tches.iacr.org/index.php/TCHES/article/view/7337/6509. We've decided against it:\n        // a) dependency on CSPRNG b) 15% slowdown c) doesn't really help since bigints are not CT\n        function k2sig(kBytes) {\n            // RFC 6979 Section 3.2, step 3: k = bits2int(T)\n            // Important: all mod() calls here must be done over N\n            const k = bits2int(kBytes); // Cannot use fields methods, since it is group element\n            if (!Fn.isValidNot0(k))\n                return; // Valid scalars (including k) must be in 1..N-1\n            const ik = Fn.inv(k); // k^-1 mod n\n            const q = Point.BASE.multiply(k).toAffine(); // q = kG\n            const r = Fn.create(q.x); // r = q.x mod n\n            if (r === _0n)\n                return;\n            const s = Fn.create(ik * Fn.create(m + r * d)); // s = k^-1(m + rd) mod n\n            if (s === _0n)\n                return;\n            let recovery = (q.x === r ? 0 : 2) | Number(q.y & _1n); // recovery bit (2 or 3 when q.x>n)\n            let normS = s;\n            if (lowS && isBiggerThanHalfOrder(s)) {\n                normS = Fn.neg(s); // if lowS was passed, ensure s is always in the bottom half of N\n                recovery ^= 1;\n            }\n            return new Signature(r, normS, hasLargeCofactor ? undefined : recovery);\n        }\n        return { seed, k2sig };\n    }\n    /**\n     * Signs message hash with a secret key.\n     *\n     * ```\n     * sign(m, d) where\n     *   k = rfc6979_hmac_drbg(m, d)\n     *   (x, y) = G  k\n     *   r = x mod n\n     *   s = (m + dr) / k mod n\n     * ```\n     */\n    function sign(message, secretKey, opts = {}) {\n        const { seed, k2sig } = prepSig(message, secretKey, opts); // Steps A, D of RFC6979 3.2.\n        const drbg = createHmacDrbg(hash.outputLen, Fn.BYTES, hmac);\n        const sig = drbg(seed, k2sig); // Steps B, C, D, E, F, G\n        return sig.toBytes(opts.format);\n    }\n    /**\n     * Verifies a signature against message and public key.\n     * Rejects lowS signatures by default: see {@link ECDSAVerifyOpts}.\n     * Implements section 4.1.4 from https://www.secg.org/sec1-v2.pdf:\n     *\n     * ```\n     * verify(r, s, h, P) where\n     *   u1 = hs^-1 mod n\n     *   u2 = rs^-1 mod n\n     *   R = u1G + u2P\n     *   mod(R.x, n) == r\n     * ```\n     */\n    function verify(signature, message, publicKey, opts = {}) {\n        const { lowS, prehash, format } = validateSigOpts(opts, defaultSigOpts);\n        publicKey = abytes(publicKey, undefined, 'publicKey');\n        message = validateMsgAndHash(message, prehash);\n        if (!isBytes(signature)) {\n            const end = signature instanceof Signature ? ', use sig.toBytes()' : '';\n            throw new Error('verify expects Uint8Array signature' + end);\n        }\n        validateSigLength(signature, format); // execute this twice because we want loud error\n        try {\n            const sig = Signature.fromBytes(signature, format);\n            const P = Point.fromBytes(publicKey);\n            if (lowS && sig.hasHighS())\n                return false;\n            const { r, s } = sig;\n            const h = bits2int_modN(message); // mod n, not mod p\n            const is = Fn.inv(s); // s^-1 mod n\n            const u1 = Fn.create(h * is); // u1 = hs^-1 mod n\n            const u2 = Fn.create(r * is); // u2 = rs^-1 mod n\n            const R = Point.BASE.multiplyUnsafe(u1).add(P.multiplyUnsafe(u2)); // u1G + u2P\n            if (R.is0())\n                return false;\n            const v = Fn.create(R.x); // v = r.x mod n\n            return v === r;\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    function recoverPublicKey(signature, message, opts = {}) {\n        const { prehash } = validateSigOpts(opts, defaultSigOpts);\n        message = validateMsgAndHash(message, prehash);\n        return Signature.fromBytes(signature, 'recovered').recoverPublicKey(message).toBytes();\n    }\n    return Object.freeze({\n        keygen,\n        getPublicKey,\n        getSharedSecret,\n        utils,\n        lengths,\n        Point,\n        sign,\n        verify,\n        recoverPublicKey,\n        Signature,\n        hash,\n    });\n}\n//# sourceMappingURL=weierstrass.js.map","/**\n * SECG secp256k1. See [pdf](https://www.secg.org/sec2-v2.pdf).\n *\n * Belongs to Koblitz curves: it has efficiently-computable GLV endomorphism ,\n * check out {@link EndomorphismOpts}. Seems to be rigid (not backdoored).\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { sha256 } from '@noble/hashes/sha2.js';\nimport { randomBytes } from '@noble/hashes/utils.js';\nimport { createKeygen } from \"./abstract/curve.js\";\nimport { createHasher, isogenyMap } from \"./abstract/hash-to-curve.js\";\nimport { Field, mapHashToField, pow2 } from \"./abstract/modular.js\";\nimport { ecdsa, mapToCurveSimpleSWU, weierstrass, } from \"./abstract/weierstrass.js\";\nimport { abytes, asciiToBytes, bytesToNumberBE, concatBytes } from \"./utils.js\";\n// Seems like generator was produced from some seed:\n// `Pointk1.BASE.multiply(Pointk1.Fn.inv(2n, N)).toAffine().x`\n// // gives short x 0x3b78ce563f89a0ed9414f5aa28ad0d96d6795f9c63n\nconst secp256k1_CURVE = {\n    p: BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f'),\n    n: BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141'),\n    h: BigInt(1),\n    a: BigInt(0),\n    b: BigInt(7),\n    Gx: BigInt('0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798'),\n    Gy: BigInt('0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8'),\n};\nconst secp256k1_ENDO = {\n    beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n    basises: [\n        [BigInt('0x3086d221a7d46bcde86c90e49284eb15'), -BigInt('0xe4437ed6010e88286f547fa90abfe4c3')],\n        [BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8'), BigInt('0x3086d221a7d46bcde86c90e49284eb15')],\n    ],\n};\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _2n = /* @__PURE__ */ BigInt(2);\n/**\n * n = n^((p+1)/4) for fields p = 3 mod 4. We unwrap the loop and multiply bit-by-bit.\n * (P+1n/4n).toString(2) would produce bits [223x 1, 0, 22x 1, 4x 0, 11, 00]\n */\nfunction sqrtMod(y) {\n    const P = secp256k1_CURVE.p;\n    // prettier-ignore\n    const _3n = BigInt(3), _6n = BigInt(6), _11n = BigInt(11), _22n = BigInt(22);\n    // prettier-ignore\n    const _23n = BigInt(23), _44n = BigInt(44), _88n = BigInt(88);\n    const b2 = (y * y * y) % P; // x^3, 11\n    const b3 = (b2 * b2 * y) % P; // x^7\n    const b6 = (pow2(b3, _3n, P) * b3) % P;\n    const b9 = (pow2(b6, _3n, P) * b3) % P;\n    const b11 = (pow2(b9, _2n, P) * b2) % P;\n    const b22 = (pow2(b11, _11n, P) * b11) % P;\n    const b44 = (pow2(b22, _22n, P) * b22) % P;\n    const b88 = (pow2(b44, _44n, P) * b44) % P;\n    const b176 = (pow2(b88, _88n, P) * b88) % P;\n    const b220 = (pow2(b176, _44n, P) * b44) % P;\n    const b223 = (pow2(b220, _3n, P) * b3) % P;\n    const t1 = (pow2(b223, _23n, P) * b22) % P;\n    const t2 = (pow2(t1, _6n, P) * b2) % P;\n    const root = pow2(t2, _2n, P);\n    if (!Fpk1.eql(Fpk1.sqr(root), y))\n        throw new Error('Cannot find square root');\n    return root;\n}\nconst Fpk1 = Field(secp256k1_CURVE.p, { sqrt: sqrtMod });\nconst Pointk1 = /* @__PURE__ */ weierstrass(secp256k1_CURVE, {\n    Fp: Fpk1,\n    endo: secp256k1_ENDO,\n});\n/**\n * secp256k1 curve: ECDSA and ECDH methods.\n *\n * Uses sha256 to hash messages. To use a different hash,\n * pass `{ prehash: false }` to sign / verify.\n *\n * @example\n * ```js\n * import { secp256k1 } from '@noble/curves/secp256k1.js';\n * const { secretKey, publicKey } = secp256k1.keygen();\n * // const publicKey = secp256k1.getPublicKey(secretKey);\n * const msg = new TextEncoder().encode('hello noble');\n * const sig = secp256k1.sign(msg, secretKey);\n * const isValid = secp256k1.verify(sig, msg, publicKey);\n * // const sigKeccak = secp256k1.sign(keccak256(msg), secretKey, { prehash: false });\n * ```\n */\nexport const secp256k1 = /* @__PURE__ */ ecdsa(Pointk1, sha256);\n// Schnorr signatures are superior to ECDSA from above. Below is Schnorr-specific BIP0340 code.\n// https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\n/** An object mapping tags to their tagged hash prefix of [SHA256(tag) | SHA256(tag)] */\nconst TAGGED_HASH_PREFIXES = {};\nfunction taggedHash(tag, ...messages) {\n    let tagP = TAGGED_HASH_PREFIXES[tag];\n    if (tagP === undefined) {\n        const tagH = sha256(asciiToBytes(tag));\n        tagP = concatBytes(tagH, tagH);\n        TAGGED_HASH_PREFIXES[tag] = tagP;\n    }\n    return sha256(concatBytes(tagP, ...messages));\n}\n// ECDSA compact points are 33-byte. Schnorr is 32: we strip first byte 0x02 or 0x03\nconst pointToBytes = (point) => point.toBytes(true).slice(1);\nconst hasEven = (y) => y % _2n === _0n;\n// Calculate point, scalar and bytes\nfunction schnorrGetExtPubKey(priv) {\n    const { Fn, BASE } = Pointk1;\n    const d_ = Fn.fromBytes(priv);\n    const p = BASE.multiply(d_); // P = d'G; 0 < d' < n check is done inside\n    const scalar = hasEven(p.y) ? d_ : Fn.neg(d_);\n    return { scalar, bytes: pointToBytes(p) };\n}\n/**\n * lift_x from BIP340. Convert 32-byte x coordinate to elliptic curve point.\n * @returns valid point checked for being on-curve\n */\nfunction lift_x(x) {\n    const Fp = Fpk1;\n    if (!Fp.isValidNot0(x))\n        throw new Error('invalid x: Fail if x  p');\n    const xx = Fp.create(x * x);\n    const c = Fp.create(xx * x + BigInt(7)); // Let c = x + 7 mod p.\n    let y = Fp.sqrt(c); // Let y = c^(p+1)/4 mod p. Same as sqrt().\n    // Return the unique point P such that x(P) = x and\n    // y(P) = y if y mod 2 = 0 or y(P) = p-y otherwise.\n    if (!hasEven(y))\n        y = Fp.neg(y);\n    const p = Pointk1.fromAffine({ x, y });\n    p.assertValidity();\n    return p;\n}\nconst num = bytesToNumberBE;\n/**\n * Create tagged hash, convert it to bigint, reduce modulo-n.\n */\nfunction challenge(...args) {\n    return Pointk1.Fn.create(num(taggedHash('BIP0340/challenge', ...args)));\n}\n/**\n * Schnorr public key is just `x` coordinate of Point as per BIP340.\n */\nfunction schnorrGetPublicKey(secretKey) {\n    return schnorrGetExtPubKey(secretKey).bytes; // d'=int(sk). Fail if d'=0 or d'n. Ret bytes(d'G)\n}\n/**\n * Creates Schnorr signature as per BIP340. Verifies itself before returning anything.\n * auxRand is optional and is not the sole source of k generation: bad CSPRNG won't be dangerous.\n */\nfunction schnorrSign(message, secretKey, auxRand = randomBytes(32)) {\n    const { Fn } = Pointk1;\n    const m = abytes(message, undefined, 'message');\n    const { bytes: px, scalar: d } = schnorrGetExtPubKey(secretKey); // checks for isWithinCurveOrder\n    const a = abytes(auxRand, 32, 'auxRand'); // Auxiliary random data a: a 32-byte array\n    const t = Fn.toBytes(d ^ num(taggedHash('BIP0340/aux', a))); // Let t be the byte-wise xor of bytes(d) and hash/aux(a)\n    const rand = taggedHash('BIP0340/nonce', t, px, m); // Let rand = hash/nonce(t || bytes(P) || m)\n    // Let k' = int(rand) mod n. Fail if k' = 0. Let R = k'G\n    const { bytes: rx, scalar: k } = schnorrGetExtPubKey(rand);\n    const e = challenge(rx, px, m); // Let e = int(hash/challenge(bytes(R) || bytes(P) || m)) mod n.\n    const sig = new Uint8Array(64); // Let sig = bytes(R) || bytes((k + ed) mod n).\n    sig.set(rx, 0);\n    sig.set(Fn.toBytes(Fn.create(k + e * d)), 32);\n    // If Verify(bytes(P), m, sig) (see below) returns failure, abort\n    if (!schnorrVerify(sig, m, px))\n        throw new Error('sign: Invalid signature produced');\n    return sig;\n}\n/**\n * Verifies Schnorr signature.\n * Will swallow errors & return false except for initial type validation of arguments.\n */\nfunction schnorrVerify(signature, message, publicKey) {\n    const { Fp, Fn, BASE } = Pointk1;\n    const sig = abytes(signature, 64, 'signature');\n    const m = abytes(message, undefined, 'message');\n    const pub = abytes(publicKey, 32, 'publicKey');\n    try {\n        const P = lift_x(num(pub)); // P = lift_x(int(pk)); fail if that fails\n        const r = num(sig.subarray(0, 32)); // Let r = int(sig[0:32]); fail if r  p.\n        if (!Fp.isValidNot0(r))\n            return false;\n        const s = num(sig.subarray(32, 64)); // Let s = int(sig[32:64]); fail if s  n.\n        if (!Fn.isValidNot0(s))\n            return false;\n        const e = challenge(Fn.toBytes(r), pointToBytes(P), m); // int(challenge(bytes(r)||bytes(P)||m))%n\n        // R = sG - eP, where -eP == (n-e)P\n        const R = BASE.multiplyUnsafe(s).add(P.multiplyUnsafe(Fn.neg(e)));\n        const { x, y } = R.toAffine();\n        // Fail if is_infinite(R) / not has_even_y(R) / x(R)  r.\n        if (R.is0() || !hasEven(y) || x !== r)\n            return false;\n        return true;\n    }\n    catch (error) {\n        return false;\n    }\n}\n/**\n * Schnorr signatures over secp256k1.\n * https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\n * @example\n * ```js\n * import { schnorr } from '@noble/curves/secp256k1.js';\n * const { secretKey, publicKey } = schnorr.keygen();\n * // const publicKey = schnorr.getPublicKey(secretKey);\n * const msg = new TextEncoder().encode('hello');\n * const sig = schnorr.sign(msg, secretKey);\n * const isValid = schnorr.verify(sig, msg, publicKey);\n * ```\n */\nexport const schnorr = /* @__PURE__ */ (() => {\n    const size = 32;\n    const seedLength = 48;\n    const randomSecretKey = (seed = randomBytes(seedLength)) => {\n        return mapHashToField(seed, secp256k1_CURVE.n);\n    };\n    return {\n        keygen: createKeygen(randomSecretKey, schnorrGetPublicKey),\n        getPublicKey: schnorrGetPublicKey,\n        sign: schnorrSign,\n        verify: schnorrVerify,\n        Point: Pointk1,\n        utils: {\n            randomSecretKey,\n            taggedHash,\n            lift_x,\n            pointToBytes,\n        },\n        lengths: {\n            secretKey: size,\n            publicKey: size,\n            publicKeyHasPrefix: false,\n            signature: size * 2,\n            seed: seedLength,\n        },\n    };\n})();\nconst isoMap = /* @__PURE__ */ (() => isogenyMap(Fpk1, [\n    // xNum\n    [\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7',\n        '0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581',\n        '0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262',\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c',\n    ],\n    // xDen\n    [\n        '0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b',\n        '0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n    ],\n    // yNum\n    [\n        '0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c',\n        '0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3',\n        '0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931',\n        '0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84',\n    ],\n    // yDen\n    [\n        '0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b',\n        '0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573',\n        '0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n    ],\n].map((i) => i.map((j) => BigInt(j)))))();\nconst mapSWU = /* @__PURE__ */ (() => mapToCurveSimpleSWU(Fpk1, {\n    A: BigInt('0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533'),\n    B: BigInt('1771'),\n    Z: Fpk1.create(BigInt('-11')),\n}))();\n/** Hashing / encoding to secp256k1 points / field. RFC 9380 methods. */\nexport const secp256k1_hasher = /* @__PURE__ */ (() => createHasher(Pointk1, (scalars) => {\n    const { x, y } = mapSWU(Fpk1.create(scalars[0]));\n    return isoMap(x, y);\n}, {\n    DST: 'secp256k1_XMD:SHA-256_SSWU_RO_',\n    encodeDST: 'secp256k1_XMD:SHA-256_SSWU_NU_',\n    p: Fpk1.ORDER,\n    m: 1,\n    k: 128,\n    expand: 'xmd',\n    hash: sha256,\n}))();\n//# sourceMappingURL=secp256k1.js.map","/**\n * Constants for NEAR Protocol\n */\n// ==================== Network Endpoints ====================\nexport const NETWORK_PRESETS = {\n    mainnet: {\n        rpcUrl: \"https://free.rpc.fastnear.com\",\n        networkId: \"mainnet\",\n    },\n    testnet: {\n        rpcUrl: \"https://rpc.testnet.fastnear.com\",\n        networkId: \"testnet\",\n    },\n    localnet: {\n        rpcUrl: \"http://localhost:3030\",\n        networkId: \"localnet\",\n    },\n    betanet: {\n        rpcUrl: \"https://rpc.betanet.near.org\",\n        networkId: \"betanet\",\n    },\n};\n// ==================== Units ====================\nexport const YOCTO_PER_NEAR = BigInt(\"1000000000000000000000000\");\nexport const GAS_PER_TGAS = BigInt(\"1000000000000\");\n// ==================== Gas Defaults ====================\nexport const DEFAULT_FUNCTION_CALL_GAS = \"30000000000000\"; // 30 TGas\n// ==================== Account ID Validation ====================\nexport const ACCOUNT_ID_REGEX = /^(([a-z\\d]+[-_])*[a-z\\d]+\\.)*([a-z\\d]+[-_])*[a-z\\d]+$/;\nexport const MIN_ACCOUNT_ID_LENGTH = 2;\nexport const MAX_ACCOUNT_ID_LENGTH = 64;\n// ==================== Key Formats ====================\nexport const ED25519_KEY_PREFIX = \"ed25519:\";\nexport const SECP256K1_KEY_PREFIX = \"secp256k1:\";\n// ==================== RPC Methods ====================\nexport const RPC_METHODS = {\n    QUERY: \"query\",\n    BROADCAST_TX_COMMIT: \"broadcast_tx_commit\",\n    BROADCAST_TX_ASYNC: \"broadcast_tx_async\",\n    TX_STATUS: \"tx\",\n    BLOCK: \"block\",\n    CHUNK: \"chunk\",\n    VALIDATORS: \"validators\",\n    GAS_PRICE: \"gas_price\",\n    STATUS: \"status\",\n};\n//# sourceMappingURL=constants.js.map","/**\n * NEP-413: Message signing utilities\n *\n * NEP-413 enables off-chain message signing for authentication and ownership verification\n * without gas fees or blockchain transactions.\n *\n * @see https://github.com/near/NEPs/blob/master/neps/nep-0413.md\n */\nimport { ed25519 } from \"@noble/curves/ed25519.js\";\nimport { sha256 } from \"@noble/hashes/sha2.js\";\nimport { randomBytes } from \"@noble/hashes/utils.js\";\nimport { base58, base64 } from \"@scure/base\";\nimport { b } from \"@zorsh/zorsh\";\nimport { parsePublicKey } from \"./key.js\";\n/**\n * NEP-413 tag prefix: 2^31 + 413 = 2147484061\n *\n * This prefix ensures that signed messages cannot be confused with valid transactions.\n * The tag makes the message too long to be a valid signer account ID.\n */\nexport const NEP413_TAG = 2147484061;\n/**\n * NEP-413 message payload schema\n *\n * Fields are serialized in this order:\n * 1. message: string - The message to sign\n * 2. nonce: [u8; 32] - 32-byte nonce for replay protection\n * 3. recipient: string - Recipient identifier (e.g., \"alice.near\" or \"myapp.com\")\n * 4. callbackUrl: Option<string> - Optional callback URL for web wallets\n */\nexport const Nep413PayloadSchema = b.struct({\n    message: b.string(),\n    nonce: b.array(b.u8(), 32),\n    recipient: b.string(),\n    callbackUrl: b.option(b.string()),\n});\n/**\n * Serialize NEP-413 message parameters for signing\n *\n * Serialization steps:\n * 1. Serialize the tag (2147484061) as u32\n * 2. Serialize the payload (message, nonce, recipient, callbackUrl)\n * 3. Concatenate: tag_bytes + payload_bytes\n * 4. Hash with SHA256\n *\n * @param params - Message signing parameters\n * @returns Serialized and hashed message ready for signing\n *\n * @example\n * ```typescript\n * const nonce = generateNonce()\n * const hash = serializeNep413Message({\n *   message: \"Login to MyApp\",\n *   recipient: \"myapp.near\",\n *   nonce,\n * })\n * ```\n */\nexport function serializeNep413Message(params) {\n    if (params.nonce.length !== 32) {\n        throw new Error(\"Nonce must be exactly 32 bytes\");\n    }\n    // Serialize tag as u32\n    const tagBytes = b.u32().serialize(NEP413_TAG);\n    // Serialize payload\n    const payloadBytes = Nep413PayloadSchema.serialize({\n        message: params.message,\n        nonce: Array.from(params.nonce),\n        recipient: params.recipient,\n        callbackUrl: params.callbackUrl ?? null,\n    });\n    // Concatenate tag + payload\n    const combined = new Uint8Array(tagBytes.length + payloadBytes.length);\n    combined.set(tagBytes, 0);\n    combined.set(payloadBytes, tagBytes.length);\n    // Hash the combined bytes\n    return sha256(combined);\n}\n/**\n * Verify a NEP-413 signed message\n *\n * Automatically checks timestamp expiration (default: 5 minutes).\n * You must still track used nonces to prevent replay attacks.\n *\n * When `options.near` is provided, this function also verifies that the public key\n * in the signed message belongs to the claimed account ID by querying the NEAR\n * blockchain. This provides protection against attackers who might try\n * to claim ownership of an account using a different key.\n *\n * @param signedMessage - The signed message to verify\n * @param params - Original message parameters (must match what was signed)\n * @param options - Verification options including optional Near client for access key validation\n * @returns Promise resolving to true if signature is valid, not expired, and (if Near client provided) the key belongs to the account\n *\n * @example\n * ```typescript\n * // Basic signature verification (no blockchain verification)\n * const isValid = await verifyNep413Signature(signedMessage, {\n *   message: \"Login to MyApp\",\n *   recipient: \"myapp.com\",\n *   nonce: Buffer.from(req.body.nonce),\n * })\n *\n * // With blockchain verification to ensure key belongs to account\n * const near = new Near({ network: \"mainnet\" })\n * const isValid = await verifyNep413Signature(signedMessage, params, { near })\n * ```\n */\nexport async function verifyNep413Signature(signedMessage, params, options = {}) {\n    try {\n        const { maxAge = 5 * 60 * 1000, near } = options; // Default: 5 minutes\n        // Check timestamp expiration if maxAge is finite\n        if (maxAge !== Infinity && params.nonce.length === 32) {\n            // Extract timestamp from first 8 bytes (big-endian uint64)\n            const view = new DataView(params.nonce.buffer, params.nonce.byteOffset, params.nonce.byteLength);\n            const timestamp = Number(view.getBigUint64(0, false)); // false = big-endian\n            // Check if expired\n            const age = Date.now() - timestamp;\n            if (age > maxAge || age < 0) {\n                // age < 0 means timestamp is in the future (clock skew or tampering)\n                return false;\n            }\n        }\n        // Parse the public key\n        const publicKey = parsePublicKey(signedMessage.publicKey);\n        // Only Ed25519 is currently supported\n        if (publicKey.keyType !== 0) {\n            throw new Error(\"Only Ed25519 keys are supported for NEP-413\");\n        }\n        // If Near client is provided, verify that the public key belongs to the account ID\n        // and is a full access key (not a function call key)\n        if (near) {\n            const hasFullAccessKey = await near.fullAccessKeyExists(signedMessage.accountId, signedMessage.publicKey);\n            if (!hasFullAccessKey) {\n                // Key does not exist for this account or is not a full access key\n                return false;\n            }\n        }\n        // Reconstruct the hashed payload\n        const hash = serializeNep413Message(params);\n        const signatureBytes = decodeSignature(signedMessage.signature);\n        if (!signatureBytes)\n            return false;\n        // Verify the signature\n        return ed25519.verify(signatureBytes, hash, publicKey.data);\n    }\n    catch {\n        return false;\n    }\n}\nfunction decodeSignature(signature) {\n    // NEP-413 spec: signatures should be base64 encoded\n    // Try base64 first (standard format)\n    try {\n        return base64.decode(signature);\n    }\n    catch {\n        // fall through to legacy formats\n    }\n    // Backward compatibility: prefixed base58 (ed25519:... or secp256k1:...)\n    const prefixed = signature.match(/^(ed25519:|secp256k1:)(.+)$/);\n    if (prefixed?.[2]) {\n        try {\n            return base58.decode(prefixed[2]);\n        }\n        catch {\n            return null;\n        }\n    }\n    // Backward compatibility: unprefixed base58 strings\n    if (/^[1-9A-HJ-NP-Za-km-z]+$/.test(signature)) {\n        try {\n            return base58.decode(signature);\n        }\n        catch {\n            return null;\n        }\n    }\n    return null;\n}\n/**\n * Generate a nonce for NEP-413 message signing\n *\n * Embeds a timestamp for automatic expiration checking.\n *\n * @returns 32-byte nonce (8 bytes timestamp + 24 bytes random)\n *\n * @example\n * ```typescript\n * const nonce = generateNonce()\n * const signedMessage = await near.signMessage({\n *   message: \"Login to MyApp\",\n *   recipient: \"myapp.com\",\n *   nonce,\n * })\n * ```\n */\nexport function generateNonce() {\n    const nonce = new Uint8Array(32);\n    // First 8 bytes: timestamp (ms since epoch) as big-endian uint64\n    const timestamp = Date.now();\n    const view = new DataView(nonce.buffer);\n    view.setBigUint64(0, BigInt(timestamp), false); // false = big-endian\n    // Remaining 24 bytes: random data\n    const randomPart = randomBytes(24);\n    nonce.set(randomPart, 8);\n    return nonce;\n}\n//# sourceMappingURL=nep413.js.map","import { ed25519 } from \"@noble/curves/ed25519.js\";\nimport { secp256k1 } from \"@noble/curves/secp256k1.js\";\nimport { base58, base64 } from \"@scure/base\";\nimport { HDKey } from \"@scure/bip32\";\nimport * as bip39 from \"@scure/bip39\";\nimport { wordlist } from \"@scure/bip39/wordlists/english.js\";\nimport { ED25519_KEY_PREFIX, SECP256K1_KEY_PREFIX } from \"../core/constants.js\";\nimport { KeyType, } from \"../core/types.js\";\nimport { InvalidKeyError } from \"../errors/index.js\";\nimport { serializeNep413Message } from \"./nep413.js\";\n/**\n * Ed25519 key pair implementation.\n *\n * @remarks\n * Implements the {@link KeyPair} interface used throughout the library and\n * provides NEP-413 message signing via {@link Ed25519KeyPair.signNep413Message}.\n */\nexport class Ed25519KeyPair {\n    constructor(secretKey) {\n        // secretKey is 64 bytes: [32 bytes private key][32 bytes public key]\n        this.privateKey = secretKey.slice(0, 32);\n        const publicKeyData = secretKey.slice(32);\n        this.publicKey = {\n            keyType: KeyType.ED25519,\n            data: publicKeyData,\n            toString: () => ED25519_KEY_PREFIX + base58.encode(publicKeyData),\n        };\n        this.secretKey = ED25519_KEY_PREFIX + base58.encode(secretKey);\n    }\n    sign(message) {\n        const signature = ed25519.sign(message, this.privateKey);\n        return {\n            keyType: KeyType.ED25519,\n            data: signature,\n        };\n    }\n    /**\n     * Sign a message according to NEP-413 specification\n     *\n     * NEP-413 enables off-chain message signing for authentication and ownership verification.\n     * The message is signed with a full-access key but does not require gas or blockchain state.\n     *\n     * @param accountId - The NEAR account ID that owns this key\n     * @param params - Message signing parameters (message, recipient, nonce)\n     * @returns Signed message with account ID, public key, and base64-encoded signature\n     *\n     * @see https://github.com/near/NEPs/blob/master/neps/nep-0413.md\n     *\n     * @example\n     * ```typescript\n     * const nonce = crypto.getRandomValues(new Uint8Array(32))\n     * const signedMessage = keyPair.signNep413Message(\"alice.near\", {\n     *   message: \"Login to MyApp\",\n     *   recipient: \"myapp.near\",\n     *   nonce,\n     * })\n     * console.log(signedMessage.signature) // Base64-encoded signature\n     * ```\n     */\n    signNep413Message(accountId, params) {\n        // Serialize and hash the message according to NEP-413\n        const hash = serializeNep413Message(params);\n        // Sign the hash\n        const signature = ed25519.sign(hash, this.privateKey);\n        // Return signed message with base64-encoded signature per NEP-413 spec\n        return {\n            accountId,\n            publicKey: this.publicKey.toString(),\n            signature: base64.encode(signature),\n        };\n    }\n    static fromRandom() {\n        const privateKey = ed25519.utils.randomSecretKey();\n        const publicKey = ed25519.getPublicKey(privateKey);\n        // Combine into 64-byte format for compatibility\n        const secretKey = new Uint8Array(64);\n        secretKey.set(privateKey, 0);\n        secretKey.set(publicKey, 32);\n        return new Ed25519KeyPair(secretKey);\n    }\n    static fromString(keyString) {\n        const key = keyString.replace(ED25519_KEY_PREFIX, \"\");\n        const decoded = base58.decode(key);\n        return new Ed25519KeyPair(decoded);\n    }\n}\n/**\n * Secp256k1 key pair implementation.\n *\n * NEAR expects secp256k1 public keys to be 64 bytes (uncompressed without 0x04 header).\n * The secp256k1 library returns 65-byte uncompressed keys (with 0x04 header), so we\n * manually remove/add that byte as needed.\n *\n * Signatures are 65 bytes: 64-byte signature + 1-byte recovery ID.\n */\nexport class Secp256k1KeyPair {\n    constructor(secretKey) {\n        // secretKey is 96 bytes: [32 bytes private key][64 bytes public key]\n        this.privateKey = secretKey.slice(0, 32);\n        const publicKeyData = secretKey.slice(32); // 64 bytes without 0x04 header\n        this.publicKey = {\n            keyType: KeyType.SECP256K1,\n            data: publicKeyData,\n            toString: () => SECP256K1_KEY_PREFIX + base58.encode(publicKeyData),\n        };\n        this.secretKey = SECP256K1_KEY_PREFIX + base58.encode(secretKey);\n    }\n    sign(message) {\n        // Sign with format: 'recovered' to get 65 bytes (recovery ID + signature)\n        // This is what NEAR expects: [recovery][r][s]\n        const signatureBytes = secp256k1.sign(message, this.privateKey, {\n            format: \"recovered\",\n        });\n        return {\n            keyType: KeyType.SECP256K1,\n            data: signatureBytes, // 65 bytes\n        };\n    }\n    /**\n     * Sign a message according to NEP-413 specification\n     *\n     * NEP-413 enables off-chain message signing for authentication and ownership verification.\n     * The message is signed with a full-access key but does not require gas or blockchain state.\n     *\n     * @param accountId - The NEAR account ID that owns this key\n     * @param params - Message signing parameters (message, recipient, nonce)\n     * @returns Signed message with account ID, public key, and base64-encoded signature\n     *\n     * @see https://github.com/near/NEPs/blob/master/neps/nep-0413.md\n     *\n     * @example\n     * ```typescript\n     * const nonce = crypto.getRandomValues(new Uint8Array(32))\n     * const signedMessage = keyPair.signNep413Message(\"alice.near\", {\n     *   message: \"Login to MyApp\",\n     *   recipient: \"myapp.near\",\n     *   nonce,\n     * })\n     * console.log(signedMessage.signature) // Base64-encoded signature\n     * ```\n     */\n    signNep413Message(accountId, params) {\n        // Serialize and hash the message according to NEP-413\n        const hash = serializeNep413Message(params);\n        // Sign the hash with format: 'recovered' for secp256k1\n        const signature = secp256k1.sign(hash, this.privateKey, {\n            format: \"recovered\",\n        });\n        // Return signed message with base64-encoded signature per NEP-413 spec\n        return {\n            accountId,\n            publicKey: this.publicKey.toString(),\n            signature: base64.encode(signature),\n        };\n    }\n    static fromRandom() {\n        // Generate random 32-byte private key\n        const privateKey = new Uint8Array(32);\n        crypto.getRandomValues(privateKey);\n        // Get uncompressed public key (65 bytes with 0x04 header)\n        const publicKeyFull = secp256k1.getPublicKey(privateKey, false);\n        // Remove 0x04 header to get 64 bytes for NEAR\n        const publicKey = publicKeyFull.slice(1);\n        // Combine into 96-byte format: 32 bytes private + 64 bytes public\n        const secretKey = new Uint8Array(96);\n        secretKey.set(privateKey, 0);\n        secretKey.set(publicKey, 32);\n        return new Secp256k1KeyPair(secretKey);\n    }\n    static fromString(keyString) {\n        const key = keyString.replace(SECP256K1_KEY_PREFIX, \"\");\n        const decoded = base58.decode(key);\n        return new Secp256k1KeyPair(decoded);\n    }\n}\n/**\n * Generate a new random Ed25519 key pair.\n * @returns A new {@link KeyPair} instance.\n */\nexport function generateKey() {\n    return Ed25519KeyPair.fromRandom();\n}\n/**\n * Parse a key string to a {@link KeyPair}.\n *\n * @param keyString - Key string (e.g. `\"ed25519:...\"` or `\"secp256k1:...\"`).\n * @returns A concrete {@link Ed25519KeyPair} or {@link Secp256k1KeyPair}.\n */\nexport function parseKey(keyString) {\n    if (keyString.startsWith(ED25519_KEY_PREFIX)) {\n        return Ed25519KeyPair.fromString(keyString);\n    }\n    if (keyString.startsWith(SECP256K1_KEY_PREFIX)) {\n        return Secp256k1KeyPair.fromString(keyString);\n    }\n    throw new InvalidKeyError(`Unsupported key type: ${keyString}`);\n}\n/**\n * Parse a public key string to a {@link PublicKey} object.\n *\n * @param publicKeyString - Public key string (e.g. `\"ed25519:...\"` or `\"secp256k1:...\"`).\n * @returns {@link PublicKey} instance.\n */\nexport function parsePublicKey(publicKeyString) {\n    if (publicKeyString.startsWith(ED25519_KEY_PREFIX)) {\n        const key = publicKeyString.replace(ED25519_KEY_PREFIX, \"\");\n        const decoded = base58.decode(key);\n        return {\n            keyType: KeyType.ED25519,\n            data: decoded,\n            toString: () => publicKeyString,\n        };\n    }\n    if (publicKeyString.startsWith(SECP256K1_KEY_PREFIX)) {\n        const key = publicKeyString.replace(SECP256K1_KEY_PREFIX, \"\");\n        const decoded = base58.decode(key);\n        return {\n            keyType: KeyType.SECP256K1,\n            data: decoded,\n            toString: () => publicKeyString,\n        };\n    }\n    throw new InvalidKeyError(`Unsupported public key type: ${publicKeyString}`);\n}\n/**\n * Generate a BIP39 seed phrase (12 words by default)\n * Uses proper BIP39 implementation with cryptographically secure randomness\n * @param wordCount - Number of words (12, 15, 18, 21, or 24). Defaults to 12\n * @returns A BIP39 seed phrase string\n */\nexport function generateSeedPhrase(wordCount = 12) {\n    // Map word count to entropy bits (as per BIP39 spec)\n    const entropyBits = wordCount * 11 - wordCount / 3;\n    const entropyBytes = entropyBits / 8;\n    // Generate cryptographically secure random entropy\n    const entropy = new Uint8Array(entropyBytes);\n    crypto.getRandomValues(entropy);\n    // Generate mnemonic from entropy\n    return bip39.entropyToMnemonic(entropy, wordlist);\n}\n/**\n * Parse a BIP39 seed phrase to derive a key pair using proper BIP32/SLIP10 derivation\n * @param phrase - BIP39 seed phrase (12-24 words)\n * @param path - BIP32 derivation path (defaults to \"m/44'/397'/0'\" for NEAR)\n * @returns KeyPair instance\n */\nexport function parseSeedPhrase(phrase, path = \"m/44'/397'/0'\") {\n    // Validate the mnemonic\n    if (!bip39.validateMnemonic(phrase, wordlist)) {\n        throw new InvalidKeyError(\"Invalid BIP39 seed phrase\");\n    }\n    // Convert mnemonic to seed (64 bytes)\n    const seed = bip39.mnemonicToSeedSync(phrase);\n    // Derive HD key using BIP32 with ed25519 (SLIP10)\n    // Note: HDKey from @scure/bip32 supports ed25519 via SLIP10\n    const hdkey = HDKey.fromMasterSeed(seed);\n    const derived = hdkey.derive(path);\n    if (!derived.privateKey) {\n        throw new InvalidKeyError(\"Failed to derive private key from seed phrase\");\n    }\n    // Get the ed25519 public key from private key\n    const privateKey = derived.privateKey;\n    const publicKey = ed25519.getPublicKey(privateKey);\n    // Combine into 64-byte format for compatibility\n    const secretKey = new Uint8Array(64);\n    secretKey.set(privateKey, 0);\n    secretKey.set(publicKey, 32);\n    return new Ed25519KeyPair(secretKey);\n}\n//# sourceMappingURL=key.js.map","import { parseKey } from \"../utils/key.js\";\n/**\n * In-memory key store.\n *\n * Keys are stored in memory and lost when the process exits.\n * Useful for testing, development, and temporary key storage.\n *\n * @example\n * ```typescript\n * // Empty keystore\n * const keyStore = new InMemoryKeyStore()\n *\n * // Pre-populate with keys\n * const keyStore = new InMemoryKeyStore({\n *   \"alice.near\": \"ed25519:...\",\n *   \"bob.near\": \"ed25519:...\"\n * })\n * ```\n */\nexport class InMemoryKeyStore {\n    /**\n     * Create a new in-memory keystore.\n     *\n     * @param initialKeys - Optional initial keys to populate the store\n     *\n     * @example\n     * ```typescript\n     * const keyStore = new InMemoryKeyStore({\n     *   \"test.near\": \"ed25519:3D4c2v8K5x...\"\n     * })\n     * ```\n     */\n    constructor(initialKeys) {\n        this.keys = new Map();\n        if (initialKeys) {\n            for (const [accountId, keyString] of Object.entries(initialKeys)) {\n                const keyPair = parseKey(keyString);\n                this.keys.set(accountId, keyPair);\n            }\n        }\n    }\n    /**\n     * Add a key to the keystore\n     *\n     * @param accountId - NEAR account ID\n     * @param key - Key pair to store\n     */\n    async add(accountId, key) {\n        this.keys.set(accountId, key);\n    }\n    /**\n     * Get a key from the keystore\n     *\n     * @param accountId - NEAR account ID\n     * @returns Key pair if found, null otherwise\n     */\n    async get(accountId) {\n        return this.keys.get(accountId) ?? null;\n    }\n    /**\n     * Remove a key from the keystore\n     *\n     * @param accountId - NEAR account ID\n     */\n    async remove(accountId) {\n        this.keys.delete(accountId);\n    }\n    /**\n     * List all account IDs in the keystore\n     *\n     * @returns Array of account IDs\n     */\n    async list() {\n        return Array.from(this.keys.keys());\n    }\n    /**\n     * Clear all keys from the keystore\n     *\n     * Useful for testing cleanup.\n     */\n    clear() {\n        this.keys.clear();\n    }\n}\n//# sourceMappingURL=in-memory-keystore.js.map","/**\n * Amount utilities for NEAR tokens.\n *\n * All amounts must specify units explicitly:\n * - `Amount.NEAR(10)`  `\"10 NEAR\"`\n * - `Amount.yocto(1000n)`  `\"1000 yocto\"`\n * - `\"10 NEAR\"` (string literal)\n * - `\"1000 yocto\"` (string literal)\n * - `1000n` (bigint literal, treated as yoctoNEAR)\n *\n * No bare numbers are accepted in order to prevent accidental unit confusion.\n */\nimport { YOCTO_PER_NEAR } from \"../core/constants.js\";\n/**\n * Amount namespace - explicit constructors for NEAR values.\n *\n * @example\n * Amount.NEAR(10)           // \"10 NEAR\"\n * Amount.NEAR(10.5)         // \"10.5 NEAR\"\n * Amount.NEAR(\"10.5\")       // \"10.5 NEAR\"\n * Amount.yocto(1000000n)    // \"1000000 yocto\"\n * Amount.yocto(\"1000000\")   // \"1000000 yocto\"\n */\nexport const Amount = {\n    /**\n     * Create a NEAR amount.\n     * @param value - Amount in NEAR.\n     * @returns Formatted string `\"X NEAR\"`.\n     */\n    NEAR(value) {\n        return `${value} NEAR`;\n    },\n    /**\n     * Create a yoctoNEAR amount (10^-24 NEAR).\n     * @param value - Amount in yoctoNEAR.\n     * @returns Formatted string `\"X yocto\"`.\n     */\n    yocto(value) {\n        return `${value} yocto`;\n    },\n    /**\n     * Common amount constants.\n     */\n    ZERO: \"0 yocto\",\n    ONE_NEAR: \"1 NEAR\",\n    ONE_YOCTO: \"1 yocto\",\n};\n/**\n * Parse amount to yoctoNEAR.\n *\n * @param amount - Amount with unit (e.g., `\"10 NEAR\"`, `\"1000 yocto\"`) or bigint (treated as yoctoNEAR).\n * @returns Amount in yoctoNEAR as a string.\n * @throws Error If the format is invalid or ambiguous (e.g. bare numbers).\n */\nexport function parseAmount(amount) {\n    // Handle bigint directly (treated as yoctoNEAR)\n    if (typeof amount === \"bigint\") {\n        return amount.toString();\n    }\n    const trimmed = amount.trim();\n    // Parse \"X NEAR\" format (case insensitive)\n    const nearMatch = trimmed.match(/^([\\d.]+)\\s+NEAR$/i);\n    if (nearMatch) {\n        // Safe to use non-null assertion after match check\n        // biome-ignore lint/style/noNonNullAssertion: regex capture group guaranteed to exist when match succeeds\n        const value = nearMatch[1];\n        return parseNearToYocto(value);\n    }\n    // Parse \"X yocto\" format\n    const yoctoMatch = trimmed.match(/^(\\d+)\\s+yocto$/i);\n    if (yoctoMatch) {\n        // Safe to use non-null assertion after match check\n        // biome-ignore lint/style/noNonNullAssertion: regex capture group guaranteed to exist when match succeeds\n        return yoctoMatch[1];\n    }\n    // Common mistake: bare number\n    if (/^[\\d.]+$/.test(trimmed)) {\n        throw new Error(`Ambiguous amount: \"${amount}\". Did you mean \"${amount} NEAR\"?\\n` +\n            `  - Use Amount.NEAR(${amount}) for NEAR\\n` +\n            `  - Use Amount.yocto(${amount}n) for yoctoNEAR\\n` +\n            `  - Or write \"${amount} NEAR\" or \"${amount} yocto\"\\n` +\n            `  - Or pass ${amount}n as bigint for yoctoNEAR\\n` +\n            `\\n` +\n            ` TypeScript tip: Use 'as const' for variables:\\n` +\n            `   const amount = \"10 NEAR\" as const`);\n    }\n    // Invalid format\n    throw new Error(`Invalid amount format: \"${amount}\"\\n` +\n        `Expected formats:\\n` +\n        `  - \"10 NEAR\" or Amount.NEAR(10)\\n` +\n        `  - \"1000000 yocto\" or Amount.yocto(1000000n)\\n` +\n        `  - 1000000n (bigint, treated as yoctoNEAR)`);\n}\n/**\n * Format yoctoNEAR to human-readable NEAR\n * @param yocto - Amount in yoctoNEAR\n * @param options - Formatting options\n * @returns Formatted string (e.g., \"10.50 NEAR\")\n */\nexport function formatAmount(yocto, options) {\n    const { precision = 2, includeSuffix = true, trimZeros = false, } = options || {};\n    const amount = typeof yocto === \"string\" ? BigInt(yocto) : yocto;\n    const wholePart = amount / YOCTO_PER_NEAR;\n    const fracPart = amount % YOCTO_PER_NEAR;\n    let result;\n    if (fracPart === BigInt(0)) {\n        result = wholePart.toString();\n    }\n    else {\n        const fracStr = fracPart.toString().padStart(24, \"0\");\n        let decimals = fracStr.substring(0, precision);\n        if (trimZeros) {\n            decimals = decimals.replace(/0+$/, \"\");\n        }\n        result = decimals ? `${wholePart}.${decimals}` : wholePart.toString();\n    }\n    return includeSuffix ? `${result} NEAR` : result;\n}\n/**\n * Internal: Parse NEAR value to yoctoNEAR\n * Note: The caller (parseAmount) already validates the format with the same regex,\n * so the value is guaranteed to match [\\d.]+ pattern when it reaches this function.\n */\nfunction parseNearToYocto(value) {\n    // Split into whole and fractional parts\n    const parts = value.split(\".\");\n    const wholePart = parts[0] || \"0\";\n    const fracPart = (parts[1] || \"\").padEnd(24, \"0\").substring(0, 24);\n    // Check for negative values\n    if (wholePart.startsWith(\"-\")) {\n        throw new Error(\"NEAR amount must be non-negative\");\n    }\n    // Convert to yoctoNEAR\n    const yocto = BigInt(wholePart) * YOCTO_PER_NEAR + BigInt(fracPart);\n    return yocto.toString();\n}\n//# sourceMappingURL=amount.js.map","/**\n * Gas utilities for NEAR transactions.\n *\n * Gas amounts should specify units explicitly:\n * - `Gas.Tgas(30)`  `\"30 Tgas\"`\n * - `\"30 Tgas\"` (string literal)\n *\n * Raw gas units (e.g. `\"30000000000000\"`) are also supported for advanced use cases.\n */\nimport { GAS_PER_TGAS } from \"../core/constants.js\";\n/**\n * Gas namespace - explicit constructors.\n *\n * @example\n * Gas.Tgas(30)        // \"30 Tgas\"\n * Gas.Tgas(300)       // \"300 Tgas\"\n */\nexport const Gas = {\n    /**\n     * Create gas amount in TGas (teragas).\n     * @param value - Amount in TGas.\n     */\n    Tgas(value) {\n        return `${value} Tgas`;\n    },\n    /**\n     * Common gas amounts.\n     */\n    DEFAULT: \"30 Tgas\",\n    MAX: \"300 Tgas\",\n};\n/**\n * Parse gas string to raw gas units.\n *\n * @param gas - Gas with unit (e.g., `\"30 Tgas\"`) or raw gas number.\n * @returns Gas in raw units as a string.\n */\nexport function parseGas(gas) {\n    const gasStr = typeof gas === \"number\" ? gas.toString() : gas;\n    const trimmed = gasStr.trim();\n    // Parse \"X Tgas\" format (case insensitive)\n    const tgasMatch = trimmed.match(/^([\\d.]+)\\s+Tgas$/i);\n    if (tgasMatch) {\n        // Safe to use non-null assertion after match check\n        // biome-ignore lint/style/noNonNullAssertion: regex capture group guaranteed to exist when match succeeds\n        const tgas = parseFloat(tgasMatch[1]);\n        if (Number.isNaN(tgas) || tgas < 0) {\n            // biome-ignore lint/style/noNonNullAssertion: same capture group as above\n            throw new Error(`Invalid Tgas value: ${tgasMatch[1]}`);\n        }\n        return BigInt(Math.floor(tgas * 1e12)).toString();\n    }\n    // Raw number (no unit) - assume it's already in gas units\n    // This allows power users to specify exact gas amounts\n    if (/^\\d+$/.test(trimmed)) {\n        return trimmed;\n    }\n    // Invalid format\n    throw new Error(`Invalid gas format: \"${gas}\"\\n` +\n        `Expected: \"30 Tgas\" or Gas.Tgas(30)\\n` +\n        `Or provide raw gas units as a number string`);\n}\n/**\n * Format gas to TGas.\n *\n * @param gas - Gas in raw units.\n * @param precision - Decimal places (default: 2).\n * @returns Formatted gas with `' Tgas'` suffix.\n */\nexport function formatGas(gas, precision = 2) {\n    const amount = typeof gas === \"string\" ? BigInt(gas) : gas;\n    const tgas = Number(amount) / Number(GAS_PER_TGAS);\n    return `${tgas.toFixed(precision)} Tgas`;\n}\n/**\n * Convert TGas to raw gas units.\n * @param tgas - Amount in TGas.\n * @returns Gas amount as string.\n */\nexport function toGas(tgas) {\n    return (BigInt(Math.floor(tgas * 1e12)) * BigInt(1)).toString();\n}\n/**\n * Convert raw gas to TGas.\n * @param gas - Gas amount in raw units.\n * @returns Amount in TGas.\n */\nexport function toTGas(gas) {\n    const amount = typeof gas === \"string\" ? BigInt(gas) : gas;\n    return Number(amount) / Number(GAS_PER_TGAS);\n}\n//# sourceMappingURL=gas.js.map","/**\n * Zod validation schemas and helpers for NEAR types.\n *\n * @remarks\n * These schemas power runtime validation for account IDs, public/private keys,\n * amounts, and gas while keeping the developer-facing API ergonomic via\n * helpers like {@link validateAccountId} and {@link normalizeAmount}.\n */\nimport { z } from \"zod\";\nimport { ACCOUNT_ID_REGEX, ED25519_KEY_PREFIX, MAX_ACCOUNT_ID_LENGTH, MIN_ACCOUNT_ID_LENGTH, SECP256K1_KEY_PREFIX, } from \"../core/constants.js\";\nimport { parseAmount } from \"./amount.js\";\nimport { parseGas } from \"./gas.js\";\n// ==================== Base58 Validation ====================\n/**\n * Check if a string is valid base58 encoding.\n * @internal\n */\nfunction isValidBase58(str) {\n    const base58Regex = /^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]+$/;\n    return base58Regex.test(str);\n}\n// ==================== Account ID Schema ====================\n/**\n * Schema for validating NEAR account IDs.\n *\n * Rules:\n * - Length: 2-64 characters\n * - Characters: lowercase alphanumeric, hyphens, underscores, and dots\n * - Pattern: subdomain-like structure (e.g., alice.near, contract.mainnet)\n */\nexport const AccountIdSchema = z\n    .string()\n    .min(MIN_ACCOUNT_ID_LENGTH, `Account ID must be at least ${MIN_ACCOUNT_ID_LENGTH} characters`)\n    .max(MAX_ACCOUNT_ID_LENGTH, `Account ID must be at most ${MAX_ACCOUNT_ID_LENGTH} characters`)\n    .regex(ACCOUNT_ID_REGEX, \"Account ID must contain only lowercase alphanumeric characters, hyphens, underscores, and dots\");\n// ==================== Public Key Schema ====================\n/**\n * Schema for validating NEAR public keys.\n *\n * Supports:\n * - Ed25519: \"ed25519:...\" (base58 encoded)\n * - Secp256k1: \"secp256k1:...\" (base58 encoded)\n */\nexport const PublicKeySchema = z\n    .string()\n    .refine((key) => key.startsWith(ED25519_KEY_PREFIX) ||\n    key.startsWith(SECP256K1_KEY_PREFIX), \"Public key must start with 'ed25519:' or 'secp256k1:'\")\n    .refine((key) => {\n    const keyData = key.startsWith(ED25519_KEY_PREFIX)\n        ? key.slice(ED25519_KEY_PREFIX.length)\n        : key.slice(SECP256K1_KEY_PREFIX.length);\n    return isValidBase58(keyData);\n}, \"Public key must be valid base58 encoding\");\n/**\n * Schema for validating NEAR private keys.\n *\n * Supports:\n * - Ed25519: \"ed25519:...\" (base58 encoded, 64 bytes)\n * - Secp256k1: \"secp256k1:...\" (base58 encoded, 96 bytes)\n */\nexport const PrivateKeySchema = z\n    .string()\n    .refine((key) => key.startsWith(ED25519_KEY_PREFIX) ||\n    key.startsWith(SECP256K1_KEY_PREFIX), \"Private key must start with 'ed25519:' or 'secp256k1:'\")\n    .refine((key) => {\n    const keyData = key.startsWith(ED25519_KEY_PREFIX)\n        ? key.slice(ED25519_KEY_PREFIX.length)\n        : key.slice(SECP256K1_KEY_PREFIX.length);\n    return keyData.length > 0 && isValidBase58(keyData);\n}, \"Private key must be valid base58 encoding\");\n// ==================== Amount Schema ====================\n/**\n * Schema for NEAR amounts with explicit units.\n *\n * Accepts:\n * - String with unit: \"10 NEAR\", \"1000000 yocto\"\n * - Created via Amount.NEAR(10) or Amount.yocto(1000000n)\n * - Raw bigint: 1000000n (treated as yoctoNEAR)\n *\n * Rejects bare numbers to prevent unit confusion.\n * Normalizes to yoctoNEAR string.\n */\nexport const AmountSchema = z\n    .union([z.string(), z.bigint()])\n    .transform((amount) => {\n    return parseAmount(amount);\n});\n// ==================== Gas Schema ====================\n/**\n * Schema for gas amounts.\n *\n * Accepts:\n * - String with unit: \"30 Tgas\", Gas.Tgas(30)\n * - Raw gas number strings for advanced use\n *\n * Normalizes to raw gas string.\n */\nexport const GasSchema = z.string().transform((gas) => {\n    return parseGas(gas);\n});\n// ==================== Helper Functions ====================\n/**\n * Validate account ID (throws on invalid).\n */\nexport function validateAccountId(accountId) {\n    return AccountIdSchema.parse(accountId);\n}\n/**\n * Check if account ID is valid (boolean).\n */\nexport function isValidAccountId(accountId) {\n    return AccountIdSchema.safeParse(accountId).success;\n}\n/**\n * Validate public key (throws on invalid).\n */\nexport function validatePublicKey(key) {\n    return PublicKeySchema.parse(key);\n}\n/**\n * Check if public key is valid (boolean).\n */\nexport function isValidPublicKey(key) {\n    return PublicKeySchema.safeParse(key).success;\n}\n/**\n * Validate private key (throws on invalid).\n */\nexport function validatePrivateKey(key) {\n    return PrivateKeySchema.parse(key);\n}\n/**\n * Check if private key is valid (boolean).\n */\nexport function isPrivateKey(key) {\n    return PrivateKeySchema.safeParse(key).success;\n}\n/**\n * Normalize amount to yoctoNEAR string.\n */\nexport function normalizeAmount(amount) {\n    return AmountSchema.parse(amount);\n}\n/**\n * Normalize gas to gas string.\n */\nexport function normalizeGas(gas) {\n    return GasSchema.parse(gas);\n}\n//# sourceMappingURL=validation.js.map","/**\n * Zod schemas for NEAR client configuration.\n *\n * @remarks\n * These schemas validate network, call options, and {@link NearConfig} input.\n * Most applications should use the higher-level {@link Near} API and treat\n * these schemas as an implementation detail.\n */\nimport { z } from \"zod\";\nimport { PrivateKeySchema, } from \"../utils/validation.js\";\nimport { NETWORK_PRESETS } from \"./constants.js\";\n// ==================== Network Config Schema ====================\n/**\n * Schema for network presets (mainnet, testnet, localnet)\n */\nexport const NetworkPresetSchema = z.enum([\n    \"mainnet\",\n    \"testnet\",\n    \"localnet\",\n    \"betanet\",\n]);\n/**\n * Schema for custom network configuration\n */\nexport const CustomNetworkConfigSchema = z.object({\n    rpcUrl: z.string().url(\"RPC URL must be a valid URL\"),\n    networkId: z.string().min(1, \"Network ID is required\"),\n});\n/**\n * Schema for network configuration (preset or custom)\n */\nexport const NetworkConfigSchema = z.union([\n    NetworkPresetSchema,\n    CustomNetworkConfigSchema,\n]);\n// ==================== Transaction Execution Status Schema ====================\n/**\n * Schema for transaction execution status\n */\nexport const TxExecutionStatusSchema = z.enum([\n    \"NONE\",\n    \"INCLUDED\",\n    \"EXECUTED_OPTIMISTIC\",\n    \"INCLUDED_FINAL\",\n    \"EXECUTED\",\n    \"FINAL\",\n]);\n// ==================== Call Options Schema ====================\n/**\n * Schema for function call options\n */\nexport const CallOptionsSchema = z.object({\n    // Runtime validation: keep loose string/bigint types so config\n    // parsing fails fast on obviously invalid shapes.\n    gas: z.string().optional(),\n    attachedDeposit: z.union([z.string(), z.bigint()]).optional(),\n    signerId: z.string().optional(),\n    waitUntil: TxExecutionStatusSchema.optional(),\n});\n// ==================== Block Reference Schema ====================\n/**\n * Block reference for RPC queries\n *\n * Specify either `finality` OR `blockId` (not both).\n * If both are provided, `blockId` takes precedence.\n *\n * @example\n * ```typescript\n * // Query at final block (default)\n * await near.view('contract.near', 'get_value')\n *\n * // Query at optimistic for latest state\n * await near.view('contract.near', 'get_value', {}, {\n *   finality: 'optimistic'\n * })\n *\n * // Query at specific block height\n * await near.view('contract.near', 'get_value', {}, {\n *   blockId: 27912554\n * })\n *\n * // Query at specific block hash\n * await near.view('contract.near', 'get_value', {}, {\n *   blockId: '3Xz2wM9rigMXzA2c5vgCP8wTgFBaePucgUmVYPkMqhRL'\n * })\n * ```\n */\nexport const BlockReferenceSchema = z.object({\n    /**\n     * Finality level for the query\n     *\n     * - `optimistic`: Block that might be skipped (~1s after submission). Use for latest state.\n     * - `near-final`: Irreversible unless a validator is slashed (~2s after submission)\n     * - `final`: Fully finalized and irreversible (~3s after submission). DEFAULT for view calls.\n     *\n     * @default \"final\" for view calls, \"optimistic\" for account/key queries\n     * @see https://docs.near.org/api/rpc/setup#using-finality-param\n     */\n    finality: z.enum([\"optimistic\", \"near-final\", \"final\"]).optional(),\n    /**\n     * Block ID to query at - can be block number or block hash\n     *\n     * Use block number (e.g., `27912554`) or block hash\n     * (e.g., `'3Xz2wM9rigMXzA2c5vgCP8wTgFBaePucgUmVYPkMqhRL'`) to query\n     * historical state.\n     *\n     * Mutually exclusive with `finality`. If both are provided, `blockId` takes precedence.\n     */\n    blockId: z.union([z.number(), z.string()]).optional(),\n});\n// ==================== Near Config Schema ====================\n/**\n * Schema for key store configuration\n */\nexport const KeyStoreConfigSchema = z.union([\n    z.string(), // File path\n    z.record(z.string(), z.string()), // { accountId: privateKey }\n    z.any(), // KeyStore interface - too complex for Zod validation\n]);\n/**\n * Schema for signer function\n */\nexport const SignerSchema = z.any(); // Function schema validation - simplified\n/**\n * Schema for RPC retry configuration\n */\nexport const RpcRetryConfigSchema = z\n    .object({\n    maxRetries: z.number().int().min(0),\n    initialDelayMs: z.number().int().min(0),\n})\n    .partial();\n/**\n * Schema for NEAR client configuration\n */\nexport const NearConfigSchema = z.object({\n    network: NetworkConfigSchema.optional(),\n    rpcUrl: z.string().url(\"RPC URL must be a valid URL\").optional(),\n    headers: z.record(z.string(), z.string()).optional(),\n    keyStore: KeyStoreConfigSchema.optional(),\n    signer: SignerSchema.optional(),\n    privateKey: z.union([PrivateKeySchema, z.instanceof(Uint8Array)]).optional(),\n    wallet: z.any().optional(), // WalletConnection interface\n    defaultSignerId: z.string().optional(),\n    defaultWaitUntil: TxExecutionStatusSchema.optional(),\n    retryConfig: RpcRetryConfigSchema.optional(),\n});\n// ==================== Helper Functions ====================\n/**\n * Resolve network configuration with validation\n */\nexport function resolveNetworkConfig(network) {\n    // Default to mainnet\n    if (!network) {\n        const envNetwork = typeof process !== \"undefined\" ? process.env[\"NEAR_NETWORK\"] : undefined;\n        if (envNetwork &&\n            (envNetwork === \"mainnet\" ||\n                envNetwork === \"testnet\" ||\n                envNetwork === \"localnet\" ||\n                envNetwork === \"betanet\")) {\n            return NETWORK_PRESETS[envNetwork];\n        }\n        return NETWORK_PRESETS.mainnet;\n    }\n    // Validate and parse network config\n    const validated = NetworkConfigSchema.parse(network);\n    // Network preset\n    if (typeof validated === \"string\") {\n        return NETWORK_PRESETS[validated];\n    }\n    // Custom network config (already validated)\n    return validated;\n}\n//# sourceMappingURL=config-schemas.js.map","/**\n * Zod schemas for NEAR RPC responses\n * Provides runtime validation and type inference\n */\nimport { z } from \"zod\";\n// ==================== Permissions ====================\n/**\n * Function call permission details schema\n */\nexport const FunctionCallPermissionDetailsSchema = z.object({\n    receiver_id: z.string(),\n    method_names: z.array(z.string()),\n    allowance: z.string().nullable().optional(),\n});\n/**\n * Access key permission schema\n * Either \"FullAccess\" string or object with FunctionCall details\n */\nexport const AccessKeyPermissionSchema = z.union([\n    z.literal(\"FullAccess\"),\n    z.object({\n        FunctionCall: FunctionCallPermissionDetailsSchema,\n    }),\n]);\n// ==================== RPC Response Schemas ====================\n/**\n * View function call result schema\n */\nexport const ViewFunctionCallResultSchema = z.object({\n    result: z.array(z.number()),\n    logs: z.array(z.string()),\n    block_height: z.number(),\n    block_hash: z.string(),\n});\n/**\n * Account view schema\n */\nexport const AccountViewSchema = z.object({\n    amount: z.string(),\n    locked: z.string(),\n    code_hash: z.string(),\n    storage_usage: z.number(),\n    storage_paid_at: z.number(),\n    block_height: z.number(),\n    block_hash: z.string(),\n});\n/**\n * Access key view schema\n */\nexport const AccessKeyViewSchema = z.object({\n    nonce: z.number(),\n    permission: AccessKeyPermissionSchema,\n    block_height: z.number(),\n    block_hash: z.string(),\n});\n/**\n * Access key info view schema\n */\nexport const AccessKeyInfoViewSchema = z.object({\n    public_key: z.string(),\n    access_key: AccessKeyViewSchema,\n});\n/**\n * Status response schema\n */\nexport const StatusResponseSchema = z.object({\n    version: z.object({\n        version: z.string(),\n        build: z.string(),\n        commit: z.string().optional(),\n        rustc_version: z.string().optional(),\n    }),\n    chain_id: z.string(),\n    genesis_hash: z.string(),\n    protocol_version: z.number(),\n    latest_protocol_version: z.number(),\n    rpc_addr: z.string(),\n    node_public_key: z.string(),\n    node_key: z.string().nullable(),\n    validator_account_id: z.string().nullable(),\n    validator_public_key: z.string().nullable(),\n    validators: z.array(z.object({\n        account_id: z.string(),\n    })),\n    sync_info: z.object({\n        latest_block_hash: z.string(),\n        latest_block_height: z.number(),\n        latest_state_root: z.string(),\n        latest_block_time: z.string(),\n        syncing: z.boolean(),\n        earliest_block_hash: z.string().optional(),\n        earliest_block_height: z.number().optional(),\n        earliest_block_time: z.string().optional(),\n        epoch_id: z.string().optional(),\n        epoch_start_height: z.number().optional(),\n    }),\n    uptime_sec: z.number().optional(),\n});\n/**\n * Gas price response schema\n */\nexport const GasPriceResponseSchema = z.object({\n    gas_price: z.string(),\n});\n/**\n * Access key list response schema\n */\nexport const AccessKeyListResponseSchema = z.object({\n    block_hash: z.string(),\n    block_height: z.number(),\n    keys: z.array(z.object({\n        public_key: z.string(),\n        access_key: z.object({\n            nonce: z.number(),\n            permission: AccessKeyPermissionSchema,\n        }),\n    })),\n});\n/**\n * RPC error response schema\n * Follows the NEAR RPC error structure with name, cause, code, message, and data\n */\nexport const RpcErrorResponseSchema = z.object({\n    name: z.string(), // ERROR_TYPE (e.g., \"HANDLER_ERROR\", \"REQUEST_VALIDATION_ERROR\", \"INTERNAL_ERROR\")\n    code: z.number(), // Legacy field (e.g., -32000)\n    message: z.string(), // Error message\n    data: z.any().optional(), // Optional additional data (can be string or object with error details)\n    cause: z\n        .object({\n        name: z.string(), // ERROR_CAUSE (e.g., \"UNKNOWN_ACCOUNT\", \"TIMEOUT_ERROR\")\n        info: z\n            .object({\n            // Common fields\n            requested_account_id: z.string().optional(),\n            contract_id: z.string().optional(),\n            method_name: z.string().optional(),\n            // Transaction-specific fields\n            ShardCongested: z.boolean().optional(),\n            ShardStuck: z.boolean().optional(),\n        })\n            .catchall(z.any()) // Allow any other fields\n            .optional(),\n    })\n        .optional(),\n});\n// ==================== Transaction Schemas ====================\n/**\n * Transaction execution status enum\n */\nexport const TxExecutionStatusSchema = z.enum([\n    \"NONE\",\n    \"INCLUDED\",\n    \"EXECUTED_OPTIMISTIC\",\n    \"INCLUDED_FINAL\",\n    \"EXECUTED\",\n    \"FINAL\",\n]);\n/**\n * Execution status - can be success with value/receipt or failure\n *\n * Variants returned depend on waitUntil level:\n * - NONE/INCLUDED: Unknown or Pending (execution not started/incomplete)\n * - EXECUTED_OPTIMISTIC/EXECUTED/FINAL: SuccessValue, SuccessReceiptId, or Failure\n */\nexport const ExecutionStatusSchema = z.union([\n    z.literal(\"Unknown\"),\n    z.literal(\"Pending\"),\n    z.object({ SuccessValue: z.string() }),\n    z.object({ SuccessReceiptId: z.string() }),\n    z.object({\n        Failure: z\n            .object({\n            error_message: z.string().optional(),\n            error_type: z.string().optional(),\n        })\n            .catchall(z.any()),\n    }),\n]);\n/**\n * Gas profile entry (for metadata)\n */\nexport const GasProfileEntrySchema = z\n    .object({\n    cost: z.string().optional(),\n    cost_category: z.string().optional(),\n    gas_used: z.string().optional(),\n})\n    .catchall(z.any());\n/**\n * Execution metadata\n */\nexport const ExecutionMetadataSchema = z.object({\n    version: z.number(),\n    gas_profile: z.array(GasProfileEntrySchema).nullable().optional(),\n});\n/**\n * Execution outcome\n */\nexport const ExecutionOutcomeSchema = z.object({\n    logs: z.array(z.string()),\n    receipt_ids: z.array(z.string()),\n    gas_burnt: z.number(),\n    tokens_burnt: z.string(),\n    executor_id: z.string(),\n    status: ExecutionStatusSchema,\n    metadata: ExecutionMetadataSchema.optional(),\n});\n/**\n * Merkle path item for cryptographic proofs\n */\nexport const MerklePathItemSchema = z.object({\n    hash: z.string(),\n    direction: z.enum([\"Left\", \"Right\"]),\n});\n/**\n * Execution outcome with ID (used in transaction results)\n */\nexport const ExecutionOutcomeWithIdSchema = z.object({\n    id: z.string(),\n    outcome: ExecutionOutcomeSchema,\n    block_hash: z.string(),\n    proof: z.array(MerklePathItemSchema),\n});\n/**\n * Action schemas - matches RPC response format\n * Note: RPC returns actions with no parameters as strings (e.g., \"CreateAccount\")\n * instead of objects (e.g., { \"CreateAccount\": {} })\n */\nexport const ActionSchema = z.union([\n    // CreateAccount can be either a string or an object (when no params, RPC returns string)\n    z.literal(\"CreateAccount\"),\n    z.object({ CreateAccount: z.object({}) }),\n    z.object({ Transfer: z.object({ deposit: z.string() }) }),\n    z.object({\n        FunctionCall: z.object({\n            method_name: z.string(),\n            args: z.string(),\n            gas: z.number(),\n            deposit: z.string(),\n        }),\n    }),\n    z.object({\n        DeployContract: z.object({\n            code: z.string(), // base64 encoded\n        }),\n    }),\n    z.object({\n        DeployGlobalContractByAccountId: z.object({\n            code: z.string(), // base64 encoded contract code\n        }),\n    }),\n    z.object({\n        DeployGlobalContractByCodeHash: z.object({\n            code: z.string(), // base64 encoded contract code\n        }),\n    }),\n    z.object({\n        Stake: z.object({\n            stake: z.string(),\n            public_key: z.string(),\n        }),\n    }),\n    z.object({\n        AddKey: z.object({\n            public_key: z.string(),\n            access_key: z.object({\n                nonce: z.number(),\n                permission: AccessKeyPermissionSchema,\n            }),\n        }),\n    }),\n    z.object({\n        DeleteKey: z.object({\n            public_key: z.string(),\n        }),\n    }),\n    z.object({\n        DeleteAccount: z.object({\n            beneficiary_id: z.string(),\n        }),\n    }),\n    z.object({\n        UseGlobalContractByAccountId: z.object({\n            account_id: z.string(),\n        }),\n    }),\n    z.object({\n        UseGlobalContractByCodeHash: z.object({\n            code_hash: z.string(),\n        }),\n    }),\n    z.object({\n        Delegate: z.object({\n            delegate_action: z.object({\n                sender_id: z.string(),\n                receiver_id: z.string(),\n                actions: z.array(z.any()),\n                nonce: z.number(),\n                max_block_height: z.number(),\n                public_key: z.string(),\n            }),\n            signature: z.string(),\n        }),\n    }),\n    z.object({\n        DeterministicStateInit: z.object({\n            // Note: The RPC only returns deposit, not state_init data\n            // StateInit is only needed during transaction construction\n            deposit: z.string(), // yoctoNEAR as string\n        }),\n    }),\n]);\n/**\n * Transaction schema (as returned by RPC)\n */\nexport const TransactionSchema = z.object({\n    signer_id: z.string(),\n    public_key: z.string(),\n    nonce: z.number(),\n    receiver_id: z.string(),\n    actions: z.array(ActionSchema),\n    signature: z.string(),\n    hash: z.string(),\n    priority_fee: z.number().optional(),\n});\n/**\n * Minimal transaction schema for NONE/INCLUDED/INCLUDED_FINAL responses.\n *\n * This contains just enough information for transaction tracking:\n * - hash: Transaction hash for lookups\n * - signer_id: Account that signed the transaction\n * - receiver_id: Account receiving the transaction\n * - nonce: Transaction nonce for debugging\n *\n * Note: The client library injects this object for NONE/INCLUDED/INCLUDED_FINAL\n * responses to ensure transaction.hash is always available.\n */\nexport const MinimalTransactionSchema = z.object({\n    hash: z.string(),\n    signer_id: z.string(),\n    receiver_id: z.string(),\n    nonce: z.number(),\n});\n/**\n * Final execution outcome schema - the response from send_tx\n *\n * Uses discriminated union based on final_execution_status for type safety:\n * - NONE: Transaction submitted but not executed yet (minimal response with transaction hash)\n * - INCLUDED: Transaction included in block (minimal response with transaction hash)\n * - EXECUTED_OPTIMISTIC/EXECUTED/FINAL: Transaction executed (full response)\n *\n * Note: For NONE/INCLUDED/INCLUDED_FINAL, the RPC doesn't return transaction details,\n * but the client library injects a minimal transaction object to ensure hash tracking.\n */\nexport const FinalExecutionOutcomeSchema = z.discriminatedUnion(\"final_execution_status\", [\n    // NONE: Transaction submitted, no execution yet (transaction is injected client-side)\n    z.object({\n        final_execution_status: z.literal(\"NONE\"),\n        transaction: MinimalTransactionSchema.optional(),\n    }),\n    // INCLUDED: Transaction in block (transaction is injected client-side)\n    z.object({\n        final_execution_status: z.literal(\"INCLUDED\"),\n        transaction: MinimalTransactionSchema.optional(),\n    }),\n    // INCLUDED_FINAL: Alternative name for INCLUDED with finality (transaction is injected client-side)\n    z.object({\n        final_execution_status: z.literal(\"INCLUDED_FINAL\"),\n        transaction: MinimalTransactionSchema.optional(),\n    }),\n    // EXECUTED_OPTIMISTIC: Executed but not finalized\n    z.object({\n        final_execution_status: z.literal(\"EXECUTED_OPTIMISTIC\"),\n        status: ExecutionStatusSchema,\n        transaction: TransactionSchema,\n        transaction_outcome: ExecutionOutcomeWithIdSchema,\n        receipts_outcome: z.array(ExecutionOutcomeWithIdSchema),\n    }),\n    // EXECUTED: Executed (legacy)\n    z.object({\n        final_execution_status: z.literal(\"EXECUTED\"),\n        status: ExecutionStatusSchema,\n        transaction: TransactionSchema,\n        transaction_outcome: ExecutionOutcomeWithIdSchema,\n        receipts_outcome: z.array(ExecutionOutcomeWithIdSchema),\n    }),\n    // FINAL: Fully finalized\n    z.object({\n        final_execution_status: z.literal(\"FINAL\"),\n        status: ExecutionStatusSchema,\n        transaction: TransactionSchema,\n        transaction_outcome: ExecutionOutcomeWithIdSchema,\n        receipts_outcome: z.array(ExecutionOutcomeWithIdSchema),\n    }),\n]);\n/**\n * Receipt schema (for EXPERIMENTAL_tx_status)\n */\nexport const ReceiptSchema = z.object({\n    predecessor_id: z.string(),\n    receiver_id: z.string(),\n    receipt_id: z.string(),\n    receipt: z.union([\n        z.object({\n            Action: z.object({\n                signer_id: z.string(),\n                signer_public_key: z.string(),\n                gas_price: z.string(),\n                output_data_receivers: z.array(z.any()),\n                input_data_ids: z.array(z.string()),\n                actions: z.array(ActionSchema),\n                is_promise_yield: z.boolean().optional(),\n            }),\n        }),\n        z.object({\n            Data: z.object({\n                data_id: z.string(),\n                data: z.string().nullable().optional(),\n            }),\n        }),\n    ]),\n    priority: z.number().optional(),\n});\n/**\n * Final execution outcome with receipts (EXPERIMENTAL_tx_status response)\n * Uses intersection since we can't extend discriminated unions\n */\nexport const FinalExecutionOutcomeWithReceiptsSchema = z.intersection(FinalExecutionOutcomeSchema, z.object({\n    receipts: z.array(ReceiptSchema),\n}));\n//# sourceMappingURL=rpc-schemas.js.map","/**\n * RPC error handling utilities\n * Parses NEAR RPC errors and throws appropriate typed exceptions\n */\nimport { AccessKeyDoesNotExistError, AccountDoesNotExistError, ContractExecutionError, ContractNotDeployedError, ContractStateTooLargeError, FunctionCallError, InternalServerError, InvalidAccountError, InvalidNonceError, InvalidShardIdError, InvalidTransactionError, NearError, NetworkError, NodeNotSyncedError, ParseError, ShardUnavailableError, TimeoutError, UnknownBlockError, UnknownChunkError, UnknownEpochError, UnknownReceiptError, } from \"../../errors/index.js\";\nimport { RpcErrorResponseSchema } from \"./rpc-schemas.js\";\n// ==================== Helper Functions ====================\n/**\n * Check if a failure object represents a FunctionCallError\n */\nfunction isFunctionCallError(failure) {\n    return (failure.ActionError?.kind?.FunctionCallError !==\n        undefined ||\n        failure.FunctionCallError !== undefined);\n}\n/**\n * Extract panic message from FunctionCallError\n */\nfunction extractPanicMessage(failure) {\n    const functionCallError = failure.ActionError?.kind?.FunctionCallError ||\n        failure.FunctionCallError;\n    if (!functionCallError)\n        return undefined;\n    if (typeof functionCallError.ExecutionError === \"string\") {\n        return functionCallError.ExecutionError;\n    }\n    if (typeof functionCallError.HostError === \"string\") {\n        return functionCallError.HostError;\n    }\n    return JSON.stringify(functionCallError);\n}\n/**\n * Extract method name from transaction actions\n */\nfunction extractMethodName(transaction) {\n    if (!transaction)\n        return undefined;\n    const functionCallAction = transaction.actions.find((action) => typeof action === \"object\" && \"FunctionCall\" in action);\n    if (functionCallAction &&\n        typeof functionCallAction === \"object\" &&\n        \"FunctionCall\" in functionCallAction) {\n        return functionCallAction.FunctionCall.method_name;\n    }\n    return undefined;\n}\n/**\n * Extract error message from an ActionError failure object.\n *\n * @internal\n */\nexport function extractErrorMessage(failure) {\n    // Handle ActionError structure\n    if (\"ActionError\" in failure &&\n        typeof failure[\"ActionError\"] === \"object\" &&\n        failure[\"ActionError\"] !== null) {\n        const actionError = failure[\"ActionError\"];\n        if (\"kind\" in actionError &&\n            typeof actionError[\"kind\"] === \"object\" &&\n            actionError[\"kind\"] !== null) {\n            const kind = actionError[\"kind\"];\n            // Get the error type (first key in kind object)\n            const errorType = Object.keys(kind)[0];\n            if (!errorType) {\n                return JSON.stringify(failure);\n            }\n            const errorData = kind[errorType];\n            // Format error message with data if available\n            if (errorData && typeof errorData === \"object\" && errorData !== null) {\n                const dataObj = errorData;\n                const dataStr = Object.entries(dataObj)\n                    .map(([key, value]) => `${key}: ${value}`)\n                    .join(\", \");\n                return `${errorType} (${dataStr})`;\n            }\n            return errorType;\n        }\n    }\n    // Fallback to JSON stringified representation\n    return JSON.stringify(failure);\n}\n/**\n * Check outcome for FunctionCallError and throw if found.\n *\n * @internal\n */\nexport function checkOutcomeForFunctionCallError(outcome, transaction) {\n    if (typeof outcome.outcome.status === \"object\" &&\n        \"Failure\" in outcome.outcome.status) {\n        const failure = outcome.outcome.status.Failure;\n        if (isFunctionCallError(failure)) {\n            const contractId = outcome.outcome.executor_id;\n            const logs = outcome.outcome.logs;\n            const methodName = extractMethodName(transaction);\n            const panicMessage = extractPanicMessage(failure);\n            throw new FunctionCallError(contractId, methodName, panicMessage, logs);\n        }\n    }\n}\n/**\n * Determine if an HTTP status code indicates a retryable error.\n *\n * @internal\n */\nexport function isRetryableStatus(statusCode) {\n    // 408 Request Timeout - retryable\n    // 429 Too Many Requests - retryable (rate limiting)\n    // 503 Service Unavailable - retryable\n    // 5xx Server Errors - retryable\n    return (statusCode === 408 ||\n        statusCode === 429 ||\n        statusCode === 503 ||\n        (statusCode >= 500 && statusCode < 600));\n}\n/**\n * Parse query result errors (from `result.error` field).\n *\n * Query methods (e.g. `view_access_key`, `call_function`) return errors in\n * `result.error` instead of the top-level error field.\n *\n * @internal\n */\nexport function parseQueryError(result, context = {}) {\n    if (!result || typeof result !== \"object\" || !(\"error\" in result)) {\n        return;\n    }\n    const errorMsg = result.error;\n    // Function call errors (method not found, execution failures, etc.)\n    // Check this FIRST to avoid misinterpreting \"Method X does not exist\" as access key error\n    if (context.contractId) {\n        throw new FunctionCallError(context.contractId, context.methodName, errorMsg);\n    }\n    // Access key not found\n    // Only check this for access key queries (when accountId/publicKey are in context)\n    if ((context.accountId || context.publicKey) &&\n        errorMsg.includes(\"does not exist\")) {\n        const accountId = context.accountId || \"unknown\";\n        const publicKey = context.publicKey || \"unknown\";\n        throw new AccessKeyDoesNotExistError(accountId, publicKey);\n    }\n    // Generic query error\n    throw new NetworkError(`Query error: ${errorMsg}`);\n}\n/**\n * Parse RPC error and throw appropriate typed error.\n * Follows NEAR RPC error documentation.\n *\n * @internal\n */\nexport function parseRpcError(error, statusCode) {\n    if (!error) {\n        throw new NetworkError(\"Unknown RPC error\");\n    }\n    // Try to parse the error using the schema\n    try {\n        const parsedError = RpcErrorResponseSchema.parse(error);\n        const causeName = parsedError.cause?.name;\n        const causeInfo = parsedError.cause?.info || {};\n        // Handle errors based on ERROR_CAUSE (as per documentation)\n        // This is more reliable than string matching on error messages\n        // === General Errors (HANDLER_ERROR) ===\n        if (causeName === \"UNKNOWN_BLOCK\") {\n            // block_reference can be a string or an object like { block_id: 999999999 }\n            let blockRef;\n            const blockReference = causeInfo[\"block_reference\"];\n            if (typeof blockReference === \"string\") {\n                blockRef = blockReference;\n            }\n            else if (blockReference && typeof blockReference === \"object\") {\n                const blockId = blockReference[\"block_id\"] ||\n                    blockReference[\"BlockId\"];\n                blockRef = blockId\n                    ? String(blockId)\n                    : parsedError.data || parsedError.message;\n            }\n            else {\n                blockRef = parsedError.data || parsedError.message;\n            }\n            throw new UnknownBlockError(blockRef);\n        }\n        if (causeName === \"INVALID_ACCOUNT\") {\n            const accountId = causeInfo.requested_account_id || \"unknown\";\n            throw new InvalidAccountError(accountId);\n        }\n        if (causeName === \"UNKNOWN_ACCOUNT\") {\n            const accountId = causeInfo.requested_account_id || \"unknown\";\n            throw new AccountDoesNotExistError(accountId);\n        }\n        if (causeName === \"UNAVAILABLE_SHARD\") {\n            throw new ShardUnavailableError(parsedError.message);\n        }\n        if (causeName === \"NO_SYNCED_BLOCKS\" || causeName === \"NOT_SYNCED_YET\") {\n            throw new NodeNotSyncedError(parsedError.message);\n        }\n        // === Contract Errors ===\n        if (causeName === \"NO_CONTRACT_CODE\") {\n            const accountId = causeInfo[\"contract_account_id\"] ||\n                causeInfo[\"account_id\"] ||\n                causeInfo[\"contract_id\"] ||\n                \"unknown\";\n            throw new ContractNotDeployedError(accountId);\n        }\n        if (causeName === \"TOO_LARGE_CONTRACT_STATE\") {\n            const accountId = causeInfo[\"account_id\"] ||\n                causeInfo[\"contract_id\"] ||\n                \"unknown\";\n            throw new ContractStateTooLargeError(accountId);\n        }\n        if (causeName === \"CONTRACT_EXECUTION_ERROR\") {\n            const contractId = causeInfo[\"contract_id\"] || \"unknown\";\n            const methodName = causeInfo.method_name;\n            throw new ContractExecutionError(contractId, methodName, causeInfo);\n        }\n        // ActionError is for function call panics during transaction execution\n        if (causeName === \"ActionError\") {\n            const contractId = causeInfo[\"contract_id\"] || \"unknown\";\n            const methodName = causeInfo.method_name || \"unknown\";\n            const panic = parsedError.message || undefined;\n            throw new FunctionCallError(contractId, methodName, panic);\n        }\n        // === Block / Chunk Errors ===\n        if (causeName === \"UNKNOWN_CHUNK\") {\n            // chunk_reference might be an object structure, or there may be a chunk_hash field\n            let chunkRef;\n            const chunkHash = causeInfo[\"chunk_hash\"];\n            const chunkReference = causeInfo[\"chunk_reference\"];\n            if (typeof chunkHash === \"string\") {\n                chunkRef = chunkHash;\n            }\n            else if (typeof chunkReference === \"string\") {\n                chunkRef = chunkReference;\n            }\n            else if (chunkReference && typeof chunkReference === \"object\") {\n                // Extract chunk_id or similar field, fallback to data/message\n                const chunkId = chunkReference[\"chunk_id\"];\n                chunkRef = chunkId\n                    ? String(chunkId)\n                    : parsedError.data || parsedError.message;\n            }\n            else {\n                chunkRef = parsedError.data || parsedError.message;\n            }\n            throw new UnknownChunkError(chunkRef);\n        }\n        if (causeName === \"INVALID_SHARD_ID\") {\n            const shardId = causeInfo[\"shard_id\"] || \"unknown\";\n            throw new InvalidShardIdError(shardId);\n        }\n        // === Network Errors ===\n        if (causeName === \"UNKNOWN_EPOCH\") {\n            // block_reference can be a string or an object like { block_id: 999999999 }\n            let blockRef;\n            const blockReference = causeInfo[\"block_reference\"];\n            if (typeof blockReference === \"string\") {\n                blockRef = blockReference;\n            }\n            else if (blockReference && typeof blockReference === \"object\") {\n                const blockId = blockReference[\"block_id\"] ||\n                    blockReference[\"BlockId\"];\n                blockRef = blockId\n                    ? String(blockId)\n                    : parsedError.data || parsedError.message;\n            }\n            else {\n                blockRef = parsedError.data || parsedError.message;\n            }\n            throw new UnknownEpochError(blockRef);\n        }\n        // === Transaction Errors ===\n        if (causeName === \"INVALID_TRANSACTION\") {\n            // Check for InvalidNonce error in data field\n            if (parsedError.data && typeof parsedError.data === \"object\") {\n                // Navigate nested error structure: TxExecutionError.InvalidTxError.InvalidNonce\n                const txExecError = parsedError.data.TxExecutionError;\n                const invalidTxError = txExecError?.InvalidTxError || parsedError.data.InvalidTxError;\n                const invalidNonce = invalidTxError?.InvalidNonce;\n                if (invalidNonce &&\n                    \"ak_nonce\" in invalidNonce &&\n                    \"tx_nonce\" in invalidNonce) {\n                    throw new InvalidNonceError(invalidNonce.tx_nonce, invalidNonce.ak_nonce);\n                }\n            }\n            // Extract detailed error info from data field if available\n            let errorDetails = causeInfo;\n            if (parsedError.data && typeof parsedError.data === \"object\") {\n                const txError = parsedError.data.TxExecutionError || parsedError.data.InvalidTxError;\n                if (txError) {\n                    errorDetails = { ...causeInfo, ...txError };\n                }\n            }\n            throw new InvalidTransactionError(parsedError.message, errorDetails);\n        }\n        if (causeName === \"UNKNOWN_RECEIPT\") {\n            const receiptId = causeInfo[\"receipt_id\"] || \"unknown\";\n            throw new UnknownReceiptError(receiptId);\n        }\n        if (causeName === \"TIMEOUT_ERROR\") {\n            const txHash = causeInfo[\"transaction_hash\"];\n            throw new TimeoutError(parsedError.message, txHash);\n        }\n        // === Request Validation Errors (400) ===\n        if (causeName === \"PARSE_ERROR\" ||\n            parsedError.name === \"REQUEST_VALIDATION_ERROR\") {\n            throw new ParseError(parsedError.message, causeInfo);\n        }\n        // === Internal Errors (500) ===\n        if (causeName === \"INTERNAL_ERROR\" ||\n            parsedError.name === \"INTERNAL_ERROR\") {\n            throw new InternalServerError(parsedError.message, causeInfo);\n        }\n        // === Fallback for unknown error types ===\n        // Determine if error is retryable based on HTTP status code\n        const retryable = statusCode ? isRetryableStatus(statusCode) : false;\n        throw new NetworkError(`RPC error [${causeName || parsedError.name}]: ${parsedError.message}`, parsedError.code, retryable);\n    }\n    catch (parseError) {\n        // If parsing fails or we already threw a specific error, re-throw it\n        if (parseError instanceof NearError) {\n            throw parseError;\n        }\n        // Parsing failed, fall back to generic error\n        throw new NetworkError(`RPC error: ${error.message}`, error.code, false);\n    }\n}\n//# sourceMappingURL=rpc-error-handler.js.map","import { base64 } from \"@scure/base\";\nimport { InvalidTransactionError, NearError, NetworkError, } from \"../../errors/index.js\";\nimport { checkOutcomeForFunctionCallError, extractErrorMessage, isRetryableStatus, parseQueryError, parseRpcError, } from \"./rpc-error-handler.js\";\nimport { AccessKeyViewSchema, AccountViewSchema, FinalExecutionOutcomeSchema, FinalExecutionOutcomeWithReceiptsSchema, GasPriceResponseSchema, StatusResponseSchema, ViewFunctionCallResultSchema, } from \"./rpc-schemas.js\";\nconst DEFAULT_RETRY_CONFIG = {\n    maxRetries: 4,\n    initialDelayMs: 1000, // 1 second\n};\n/**\n * Low-level JSON-RPC client for NEAR Protocol.\n *\n * @remarks\n * Most applications should use {@link Near} instead of interacting with this\n * class directly. `RpcClient` is exposed for advanced use cases that need full\n * control over RPC calls or access to methods not wrapped by `Near`.\n */\nexport class RpcClient {\n    constructor(url, headers, retryConfig) {\n        this.url = url;\n        this.headers = headers || {};\n        this.requestId = 0;\n        this.retryConfig = {\n            maxRetries: retryConfig?.maxRetries ?? DEFAULT_RETRY_CONFIG.maxRetries,\n            initialDelayMs: retryConfig?.initialDelayMs ?? DEFAULT_RETRY_CONFIG.initialDelayMs,\n        };\n    }\n    /**\n     * Sleep for the specified number of milliseconds.\n     * @internal\n     */\n    async sleep(ms) {\n        return new Promise((resolve) => setTimeout(resolve, ms));\n    }\n    /**\n     * Perform a raw JSON-RPC call with automatic retries and error mapping.\n     *\n     * @param method - RPC method name (e.g. `\"query\"`, `\"status\"`).\n     * @param params - RPC params object or array.\n     *\n     * @returns Parsed JSON result typed as `T`.\n     *\n     * @throws {NetworkError} On HTTP failures, network issues, or malformed responses.\n     * @throws {InvalidTransactionError} For transaction failures detected by {@link parseRpcError}.\n     * @throws {NearError} For other RPC-level errors.\n     */\n    async call(method, params) {\n        const request = {\n            jsonrpc: \"2.0\",\n            id: ++this.requestId,\n            method,\n            params,\n        };\n        let lastError = null;\n        // Retry loop with exponential backoff\n        // Total attempts = 1 (initial) + maxRetries\n        const totalAttempts = 1 + this.retryConfig.maxRetries;\n        for (let attempt = 0; attempt < totalAttempts; attempt++) {\n            try {\n                // Debug logging for RPC requests\n                if (typeof process !== \"undefined\" &&\n                    process.env[\"NEAR_RPC_DEBUG\"] === \"true\") {\n                    console.log(\"[RPC Request]\", JSON.stringify(request, null, 2));\n                }\n                const response = await fetch(this.url, {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        ...this.headers,\n                    },\n                    body: JSON.stringify(request),\n                });\n                if (!response.ok) {\n                    // Use isRetryableStatus to determine if this HTTP error is retryable\n                    throw new NetworkError(`HTTP ${response.status}: ${response.statusText}`, response.status, isRetryableStatus(response.status));\n                }\n                const data = await response.json();\n                // Debug logging for RPC responses\n                if (typeof process !== \"undefined\" &&\n                    process.env[\"NEAR_RPC_DEBUG\"] === \"true\") {\n                    console.log(\"[RPC Response]\", JSON.stringify(data, null, 2));\n                }\n                if (data.error) {\n                    // Pass status code to parseRpcError for better retryable detection\n                    parseRpcError(data.error, response.status);\n                }\n                if (data.result === undefined) {\n                    throw new NetworkError(\"RPC response missing result field\");\n                }\n                return data.result;\n            }\n            catch (error) {\n                // Re-throw non-NearError instances as NetworkError\n                let nearError;\n                if (!(error instanceof NearError)) {\n                    // Network failure (fetch threw an error)\n                    nearError = new NetworkError(`Network request failed: ${error.message}`, undefined, true);\n                }\n                else {\n                    nearError = error;\n                }\n                lastError = nearError;\n                // Check if we should retry\n                const isRetryable = \"retryable\" in lastError && lastError.retryable;\n                const hasRetriesLeft = attempt + 1 < totalAttempts;\n                if (!isRetryable || !hasRetriesLeft) {\n                    // Not retryable or out of retries - throw the error\n                    throw lastError;\n                }\n                // Calculate exponential backoff delay: initialDelay * 2^attempt\n                const delayMs = this.retryConfig.initialDelayMs * 2 ** attempt;\n                // Wait before retrying\n                await this.sleep(delayMs);\n            }\n        }\n        // This should never be reached, but TypeScript needs it\n        throw lastError || new NetworkError(\"Unknown error during RPC call\");\n    }\n    /**\n     * Perform a generic `query` RPC call.\n     *\n     * @param path - `request_type` (e.g. `\"view_account\"`, `\"view_access_key\"`).\n     * @param data - Raw args as base64 string or bytes.\n     */\n    async query(path, data) {\n        return this.call(\"query\", {\n            request_type: path,\n            finality: \"final\",\n            args_base64: typeof data === \"string\" ? data : base64.encode(data),\n        });\n    }\n    /**\n     * Call a contract view function via RPC.\n     *\n     * @param contractId - Account ID of the target contract.\n     * @param methodName - Name of the view method.\n     * @param args - Arguments object or raw bytes; defaults to `{}`.\n     * @param options - Optional {@link BlockReference} to control finality or block.\n     */\n    async viewFunction(contractId, methodName, args = {}, options) {\n        const argsBytes = args instanceof Uint8Array\n            ? args\n            : new TextEncoder().encode(JSON.stringify(args));\n        const argsBase64 = base64.encode(argsBytes);\n        const result = await this.call(\"query\", {\n            request_type: \"call_function\",\n            ...(options?.blockId\n                ? { block_id: options.blockId }\n                : { finality: options?.finality || \"final\" }),\n            account_id: contractId,\n            method_name: methodName,\n            args_base64: argsBase64,\n        });\n        // Check for errors in result (NEAR returns view function errors this way)\n        parseQueryError(result, { contractId, methodName });\n        return ViewFunctionCallResultSchema.parse(result);\n    }\n    /**\n     * Get basic account information via `view_account`.\n     *\n     * @param accountId - Account ID to query.\n     * @param options - Optional {@link BlockReference} to control finality or block.\n     */\n    async getAccount(accountId, options) {\n        const result = await this.call(\"query\", {\n            request_type: \"view_account\",\n            ...(options?.blockId\n                ? { block_id: options.blockId }\n                : { finality: options?.finality || \"optimistic\" }),\n            account_id: accountId,\n        });\n        return AccountViewSchema.parse(result);\n    }\n    /**\n     * Get an access key via `view_access_key`.\n     *\n     * @param accountId - Account ID that owns the key.\n     * @param publicKey - Public key string (e.g. `\"ed25519:...\"`).\n     * @param options - Optional {@link BlockReference} to control finality or block.\n     */\n    async getAccessKey(accountId, publicKey, options) {\n        const result = await this.call(\"query\", {\n            request_type: \"view_access_key\",\n            ...(options?.blockId\n                ? { block_id: options.blockId }\n                : { finality: options?.finality || \"optimistic\" }),\n            account_id: accountId,\n            public_key: publicKey,\n        });\n        // Check for errors in result (NEAR returns access key errors this way)\n        parseQueryError(result, { accountId, publicKey });\n        return AccessKeyViewSchema.parse(result);\n    }\n    /**\n     * Send a signed transaction via `send_tx`.\n     *\n     * @param signedTransaction - Borsh-serialized signed transaction bytes.\n     * @param waitUntil - Execution status level to wait for (see {@link TxExecutionStatus}).\n     */\n    async sendTransaction(signedTransaction, waitUntil) {\n        const actualWaitUntil = (waitUntil ?? \"EXECUTED_OPTIMISTIC\");\n        const base64Encoded = base64.encode(signedTransaction);\n        // Use send_tx with wait_until parameter instead of deprecated broadcast_tx_commit\n        const result = await this.call(\"send_tx\", {\n            signed_tx_base64: base64Encoded,\n            wait_until: actualWaitUntil,\n        });\n        const parsed = FinalExecutionOutcomeSchema.parse(result);\n        // Check for execution failures (only in modes that return execution status)\n        // NONE, INCLUDED, and INCLUDED_FINAL don't have status/transaction/outcome fields\n        if (parsed.final_execution_status !== \"NONE\" &&\n            parsed.final_execution_status !== \"INCLUDED\" &&\n            parsed.final_execution_status !== \"INCLUDED_FINAL\") {\n            // TypeScript now knows parsed has status, transaction, transaction_outcome, receipts_outcome\n            if (parsed.status &&\n                typeof parsed.status === \"object\" &&\n                \"Failure\" in parsed.status) {\n                // Check transaction_outcome for direct failures\n                if (parsed.transaction_outcome) {\n                    checkOutcomeForFunctionCallError(parsed.transaction_outcome, parsed.transaction);\n                }\n                // Check receipts_outcome for cross-contract failures\n                const failedReceipt = parsed.receipts_outcome?.find((receipt) => typeof receipt.outcome.status === \"object\" &&\n                    \"Failure\" in receipt.outcome.status);\n                if (failedReceipt) {\n                    checkOutcomeForFunctionCallError(failedReceipt, parsed.transaction);\n                }\n                // Generic transaction failure (non-function-call errors)\n                // Extract error message from the actual failure in transaction_outcome or receipts\n                let errorMessage = \"Transaction execution failed\";\n                let failureDetails = parsed.status.Failure;\n                if (parsed.transaction_outcome &&\n                    typeof parsed.transaction_outcome.outcome.status === \"object\" &&\n                    \"Failure\" in parsed.transaction_outcome.outcome.status) {\n                    failureDetails = parsed.transaction_outcome.outcome.status.Failure;\n                    errorMessage = extractErrorMessage(failureDetails);\n                }\n                else if (failedReceipt &&\n                    typeof failedReceipt.outcome.status === \"object\" &&\n                    \"Failure\" in failedReceipt.outcome.status) {\n                    failureDetails = failedReceipt.outcome.status.Failure;\n                    errorMessage = extractErrorMessage(failureDetails);\n                }\n                throw new InvalidTransactionError(errorMessage, failureDetails);\n            }\n        }\n        // Safe cast: TypeScript guarantees W is a valid key, Zod validates the structure,\n        // and waitUntil determines which variant we get from the RPC\n        return parsed;\n    }\n    /**\n     * Query transaction status with receipts via `EXPERIMENTAL_tx_status`.\n     *\n     * @param txHash - Transaction hash.\n     * @param senderAccountId - Account ID that sent the transaction.\n     * @param waitUntil - Execution status level to wait for.\n     */\n    async getTransactionStatus(txHash, senderAccountId, waitUntil) {\n        const actualWaitUntil = (waitUntil ?? \"EXECUTED_OPTIMISTIC\");\n        // Call EXPERIMENTAL_tx_status with wait_until parameter\n        const result = await this.call(\"EXPERIMENTAL_tx_status\", {\n            tx_hash: txHash,\n            sender_account_id: senderAccountId,\n            wait_until: actualWaitUntil,\n        });\n        const parsed = FinalExecutionOutcomeWithReceiptsSchema.parse(result);\n        // Check for execution failures (only in modes that return execution status)\n        // NONE, INCLUDED, and INCLUDED_FINAL don't have status/transaction/outcome fields\n        if (parsed.final_execution_status !== \"NONE\" &&\n            parsed.final_execution_status !== \"INCLUDED\" &&\n            parsed.final_execution_status !== \"INCLUDED_FINAL\") {\n            // TypeScript now knows parsed has status, transaction, transaction_outcome, receipts_outcome\n            if (parsed.status &&\n                typeof parsed.status === \"object\" &&\n                \"Failure\" in parsed.status) {\n                // Check transaction_outcome for direct failures\n                if (parsed.transaction_outcome) {\n                    checkOutcomeForFunctionCallError(parsed.transaction_outcome, parsed.transaction);\n                }\n                // Check receipts_outcome for cross-contract failures\n                const failedReceipt = parsed.receipts_outcome?.find((receipt) => typeof receipt.outcome.status === \"object\" &&\n                    \"Failure\" in receipt.outcome.status);\n                if (failedReceipt) {\n                    checkOutcomeForFunctionCallError(failedReceipt, parsed.transaction);\n                }\n                // Generic transaction failure (non-function-call errors)\n                // Extract error message from the actual failure in transaction_outcome or receipts\n                let errorMessage = \"Transaction execution failed\";\n                let failureDetails = parsed.status.Failure;\n                if (parsed.transaction_outcome &&\n                    typeof parsed.transaction_outcome.outcome.status === \"object\" &&\n                    \"Failure\" in parsed.transaction_outcome.outcome.status) {\n                    failureDetails = parsed.transaction_outcome.outcome.status.Failure;\n                    errorMessage = extractErrorMessage(failureDetails);\n                }\n                else if (failedReceipt &&\n                    typeof failedReceipt.outcome.status === \"object\" &&\n                    \"Failure\" in failedReceipt.outcome.status) {\n                    failureDetails = failedReceipt.outcome.status.Failure;\n                    errorMessage = extractErrorMessage(failureDetails);\n                }\n                throw new InvalidTransactionError(errorMessage, failureDetails);\n            }\n        }\n        // Safe cast: TypeScript guarantees W is a valid key, Zod validates the structure,\n        // and waitUntil determines which variant we get from the RPC\n        return parsed;\n    }\n    /**\n     * Get node status via `status`.\n     */\n    async getStatus() {\n        const result = await this.call(\"status\", []);\n        return StatusResponseSchema.parse(result);\n    }\n    /**\n     * Get gas price via `gas_price`.\n     *\n     * @param blockId - Optional block hash or height; `null` for latest.\n     */\n    async getGasPrice(blockId = null) {\n        const result = await this.call(\"gas_price\", [blockId]);\n        return GasPriceResponseSchema.parse(result);\n    }\n}\n//# sourceMappingURL=rpc.js.map","/**\n * Manages nonces for concurrent transactions.\n *\n * Prevents nonce collisions when sending multiple transactions in parallel\n * by caching nonces in memory and incrementing them locally.\n *\n * @internal Used by {@link TransactionBuilder}; not typically needed directly.\n */\nexport class NonceManager {\n    constructor() {\n        this.nonces = new Map();\n        this.fetching = new Map();\n    }\n    /**\n     * Get the next nonce for an account and public key\n     *\n     * Fetches from blockchain on first call, then increments locally.\n     * Handles concurrent calls gracefully by deduplicating fetches.\n     *\n     * @param accountId - Account ID to get nonce for\n     * @param publicKey - Public key to get nonce for\n     * @param fetchFromBlockchain - Callback to fetch current nonce from blockchain\n     * @returns Next nonce to use for transaction\n     */\n    async getNextNonce(accountId, publicKey, fetchFromBlockchain) {\n        const key = `${accountId}:${publicKey}`;\n        // Wait if another call is already fetching for this key\n        const pendingFetch = this.fetching.get(key);\n        if (pendingFetch) {\n            await pendingFetch;\n        }\n        // Fetch from blockchain if not cached\n        if (!this.nonces.has(key)) {\n            const fetchPromise = fetchFromBlockchain()\n                .then((blockchainNonce) => {\n                this.nonces.set(key, blockchainNonce + 1n);\n                this.fetching.delete(key);\n            })\n                .catch((error) => {\n                this.fetching.delete(key);\n                throw error;\n            });\n            this.fetching.set(key, fetchPromise);\n            await fetchPromise;\n        }\n        // Return current nonce and increment for next call\n        const nonce = this.nonces.get(key);\n        if (nonce === undefined) {\n            throw new Error(`Nonce not found for ${key} after fetch`);\n        }\n        this.nonces.set(key, nonce + 1n);\n        return nonce;\n    }\n    /**\n     * Invalidate cached nonce for an account and public key\n     *\n     * Call this when an InvalidNonceError occurs to force a fresh fetch\n     * from the blockchain on the next transaction.\n     *\n     * @param accountId - Account ID to invalidate\n     * @param publicKey - Public key to invalidate\n     */\n    invalidate(accountId, publicKey) {\n        this.nonces.delete(`${accountId}:${publicKey}`);\n    }\n    /**\n     * Clear all cached nonces\n     */\n    clear() {\n        this.nonces.clear();\n    }\n}\n//# sourceMappingURL=nonce-manager.js.map","/**\n * Fluent API for building and sending NEAR transactions.\n *\n * Allows chaining multiple actions (transfers, function calls, account creation, etc.)\n * into a single atomic transaction. All actions either succeed together or fail together.\n *\n * The builder is created via {@link Near.transaction} with a signer account ID. This\n * account must have signing credentials available (via keyStore, privateKey, custom\n * signer, or wallet connection).\n *\n * @example\n * ```typescript\n * // Single action\n * await near.transaction('alice.near')\n *   .transfer('bob.near', '10 NEAR')\n *   .send()\n *\n * // Multiple actions (atomic)\n * await near.transaction('alice.near')\n *   .createAccount('sub.alice.near')\n *   .transfer('sub.alice.near', '5 NEAR')\n *   .addKey(newKey, { type: 'fullAccess' })\n *   .send()\n * ```\n *\n * @remarks\n * - The `signerId` (set via `Near.transaction()`) is the account that signs and pays for gas\n * - All actions execute in the order they are added\n * - Transaction is only sent when `.send()` is called\n * - Use `.build()` to get unsigned transaction\n */\nimport { sha256 } from \"@noble/hashes/sha2.js\";\nimport { base58 } from \"@scure/base\";\nimport { InvalidKeyError, InvalidNonceError, NearError, } from \"../errors/index.js\";\nimport { parseKey, parsePublicKey } from \"../utils/key.js\";\nimport { deriveAccountId } from \"../utils/state-init.js\";\nimport { normalizeAmount, normalizeGas, } from \"../utils/validation.js\";\nimport * as actions from \"./actions.js\";\nimport { DEFAULT_FUNCTION_CALL_GAS } from \"./constants.js\";\nimport { NonceManager } from \"./nonce-manager.js\";\nimport { encodeSignedDelegateAction, serializeDelegateAction, serializeSignedTransaction, serializeTransaction, } from \"./schema.js\";\n/**\n * Compare two public keys for byte-level equality.\n * @internal\n */\nfunction publicKeysEqual(a, b) {\n    if (a.keyType !== b.keyType || a.data.length !== b.data.length) {\n        return false;\n    }\n    for (let i = 0; i < a.data.length; i += 1) {\n        if (a.data[i] !== b.data[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Convert user-friendly permission format to Borsh format.\n * @internal\n */\nfunction toAccessKeyPermissionBorsh(permission) {\n    if (permission.type === \"fullAccess\") {\n        return { fullAccess: {} };\n    }\n    else {\n        return {\n            functionCall: {\n                receiverId: permission.receiverId,\n                methodNames: permission.methodNames || [],\n                allowance: permission.allowance\n                    ? BigInt(normalizeAmount(permission.allowance))\n                    : null,\n            },\n        };\n    }\n}\n/**\n * Fluent builder for constructing and sending NEAR transactions.\n *\n * Created via {@link Near.transaction}. Supports chaining multiple actions\n * (transfers, function calls, key management, staking, delegate actions) into\n * a single atomic transaction.\n */\nexport class TransactionBuilder {\n    constructor(signerId, rpc, keyStore, signer, defaultWaitUntil = \"EXECUTED_OPTIMISTIC\", wallet, ensureKeyStoreReady) {\n        this.signerId = signerId;\n        this.actions = [];\n        this.rpc = rpc;\n        this.keyStore = keyStore;\n        if (ensureKeyStoreReady !== undefined) {\n            this.ensureKeyStoreReady = ensureKeyStoreReady;\n        }\n        if (signer !== undefined) {\n            this.signer = signer;\n        }\n        this.defaultWaitUntil = defaultWaitUntil;\n        if (wallet !== undefined) {\n            this.wallet = wallet;\n        }\n    }\n    /**\n     * Invalidate cached signed transaction when builder state changes\n     */\n    invalidateCache() {\n        delete this.cachedSignedTx;\n        return this;\n    }\n    /**\n     * Resolve the key pair for the current signer from either `signWith()` or keyStore.\n     */\n    async resolveKeyPair() {\n        if (this.keyPair) {\n            return this.keyPair;\n        }\n        if (this.ensureKeyStoreReady) {\n            await this.ensureKeyStoreReady();\n        }\n        const keyPair = await this.keyStore.get(this.signerId);\n        if (!keyPair) {\n            throw new InvalidKeyError(`No key found for account: ${this.signerId}`);\n        }\n        // Cache the resolved key pair to ensure keyStore.get() is only called once\n        // per TransactionBuilder instance. This is critical for RotatingKeyStore\n        // which returns a different key on each get() call.\n        this.keyPair = keyPair;\n        return keyPair;\n    }\n    /**\n     * Add a token transfer action.\n     *\n     * @param receiverId - Account ID that will receive the tokens.\n     * @param amount - Amount to transfer, expressed as {@link Amount} (e.g. `\"10 NEAR\"`).\n     *\n     * @returns This builder instance for chaining.\n     *\n     * @remarks\n     * If no receiver has been set yet, this also sets the transaction `receiverId`\n     * to `receiverId`.\n     */\n    transfer(receiverId, amount) {\n        const amountYocto = normalizeAmount(amount);\n        this.actions.push(actions.transfer(BigInt(amountYocto)));\n        if (!this.receiverId) {\n            this.receiverId = receiverId;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Add a function call action.\n     *\n     * @param contractId - Account ID of the target contract.\n     * @param methodName - Name of the change method to call.\n     * @param args - Arguments object or raw bytes; defaults to `{}`.\n     * @param options - Optional gas and attached deposit settings.\n     *\n     * @returns This builder instance for chaining.\n     *\n     * @remarks\n     * - `options.gas` accepts human-readable values such as `\"30 Tgas\"` or {@link Gas.Tgas}.\n     * - `options.attachedDeposit` uses {@link Amount} semantics (e.g. `\"1 yocto\"`).\n     * - If no receiver has been set yet, this also sets the transaction `receiverId`\n     *   to `contractId`.\n     */\n    functionCall(contractId, methodName, args = {}, options = {}) {\n        const argsBytes = args instanceof Uint8Array\n            ? args\n            : new TextEncoder().encode(JSON.stringify(args));\n        const gas = options.gas\n            ? normalizeGas(options.gas)\n            : DEFAULT_FUNCTION_CALL_GAS;\n        const deposit = options.attachedDeposit\n            ? normalizeAmount(options.attachedDeposit)\n            : \"0\";\n        this.actions.push(actions.functionCall(methodName, argsBytes, BigInt(gas), BigInt(deposit)));\n        if (!this.receiverId) {\n            this.receiverId = contractId;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Add a create account action\n     */\n    createAccount(accountId) {\n        this.actions.push(actions.createAccount());\n        if (!this.receiverId) {\n            this.receiverId = accountId;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Add a delete account action.\n     *\n     * Deletes the account that is the **receiver of this transaction** (typically set\n     * by a prior action or explicitly via the first action in the chain). The remaining\n     * balance is transferred to the specified beneficiary.\n     *\n     * @param options - Delete account options.\n     * @param options.beneficiary - Account ID that will receive the remaining NEAR balance\n     *                              after the account is deleted.\n     *\n     * @returns This builder instance for chaining.\n     *\n     * @example\n     * ```typescript\n     * // Delete \"old-account.alice.near\" and send remaining funds to \"alice.near\"\n     * await near.transaction('old-account.alice.near')\n     *   .deleteAccount({ beneficiary: 'alice.near' })\n     *   .send()\n     * ```\n     *\n     * @remarks\n     * - The account being deleted is the transaction receiver (set via `.transaction()` or\n     *   the first action).\n     * - Only the account itself can delete itself (the signer must have full access to the\n     *   account being deleted).\n     */\n    deleteAccount(options) {\n        this.actions.push(actions.deleteAccount(options.beneficiary));\n        // The account being deleted is the receiver of the transaction\n        if (!this.receiverId) {\n            this.receiverId = this.signerId;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Add a deploy contract action\n     */\n    deployContract(accountId, code) {\n        this.actions.push(actions.deployContract(code));\n        if (!this.receiverId) {\n            this.receiverId = accountId;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Publish a global contract that can be reused by multiple accounts.\n     *\n     * Global contracts are deployed once and referenced by multiple accounts,\n     * saving storage costs. Two modes are available:\n     *\n     * - **\"account\" (default)** - Contract is identified by the signer's account ID. The signer\n     *   can update the contract later, and all accounts using it will automatically\n     *   use the updated version. Use this when you need to push updates to users.\n     *\n     * - **\"hash\"** - Contract is identified by its code hash. This creates\n     *   an immutable contract that cannot be updated. Other accounts reference it by\n     *   the hash. Use this when you want guaranteed immutability.\n     *\n     * @param code - The compiled contract code bytes (WASM)\n     * @param options - Optional configuration\n     * @param options.identifiedBy - How the contract is identified and referenced:\n     *   - `\"account\"` (default): Updatable by signer, identified by signer's account ID\n     *   - `\"hash\"`: Immutable, identified by code hash\n     *\n     * @example\n     * ```typescript\n     * // Publish updatable contract (identified by your account) - default\n     * await near.transaction(accountId)\n     *   .publishContract(contractCode)\n     *   .send()\n     *\n     * // Publish immutable contract (identified by its hash)\n     * await near.transaction(accountId)\n     *   .publishContract(contractCode, { identifiedBy: \"hash\" })\n     *   .send()\n     * ```\n     */\n    publishContract(code, options) {\n        this.actions.push(actions.publishContract(code, options));\n        if (!this.receiverId) {\n            this.receiverId = this.signerId;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Deploy a contract to this account from previously published code in the global registry\n     *\n     * @param reference - Reference to the published contract, either:\n     *                    - { codeHash: Uint8Array | string } - Reference by code hash (Uint8Array or base58 string)\n     *                    - { accountId: string } - Reference by the account that published it\n     *\n     * @example\n     * ```typescript\n     * // Deploy from code hash (Uint8Array)\n     * await near.transaction(accountId)\n     *   .deployFromPublished({ codeHash: hashBytes })\n     *   .send()\n     *\n     * // Deploy from code hash (base58 string)\n     * await near.transaction(accountId)\n     *   .deployFromPublished({ codeHash: \"5FzD8...\" })\n     *   .send()\n     *\n     * // Deploy from account ID\n     * await near.transaction(accountId)\n     *   .deployFromPublished({ accountId: \"contract-publisher.near\" })\n     *   .send()\n     * ```\n     */\n    deployFromPublished(reference) {\n        this.actions.push(actions.deployFromPublished(reference));\n        if (!this.receiverId) {\n            this.receiverId = this.signerId;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Add a StateInit action for deploying a contract with a deterministically derived account ID.\n     *\n     * This enables NEP-616 deterministic AccountIds where the account ID is derived from:\n     * `\"0s\" + hex(keccak256(borsh(state_init))[12..32])`\n     *\n     * The transaction's receiverId will be automatically set to the derived account ID.\n     *\n     * @param options - StateInit configuration\n     * @param options.code - Reference to the contract code (codeHash or accountId)\n     * @param options.data - Optional initial storage key-value pairs\n     * @param options.deposit - Amount to attach for storage costs\n     *\n     * @example\n     * ```typescript\n     * // Deploy from a published global contract by account ID\n     * await near.transaction(signerAccount)\n     *   .stateInit({\n     *     code: { accountId: \"publisher.near\" },\n     *     deposit: \"1 NEAR\",\n     *   })\n     *   .send()\n     *\n     * // Deploy from a code hash with initial storage data\n     * await near.transaction(signerAccount)\n     *   .stateInit({\n     *     code: { codeHash: hashBytes },\n     *     data: new Map([[key1, value1]]),\n     *     deposit: \"2 NEAR\",\n     *   })\n     *   .send()\n     * ```\n     */\n    stateInit(options) {\n        const depositYocto = normalizeAmount(options.deposit);\n        const stateInitOptions = {\n            code: options.code,\n            deposit: BigInt(depositYocto),\n        };\n        if (options.data !== undefined) {\n            stateInitOptions.data = options.data;\n        }\n        this.actions.push(actions.stateInit(stateInitOptions));\n        // Set receiverId to the deterministically derived account ID\n        if (!this.receiverId) {\n            const deriveOptions = {\n                code: options.code,\n            };\n            if (options.data !== undefined) {\n                deriveOptions.data = options.data;\n            }\n            this.receiverId = deriveAccountId(deriveOptions);\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Add a stake action\n     */\n    stake(publicKey, amount) {\n        const amountYocto = normalizeAmount(amount);\n        const pk = parsePublicKey(publicKey);\n        this.actions.push(actions.stake(BigInt(amountYocto), pk));\n        // The account being staked is the receiver of the transaction\n        if (!this.receiverId) {\n            this.receiverId = this.signerId;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Add an add key action\n     *\n     * The key is added to the receiverId of the transaction.\n     * If receiverId is not set, it defaults to signerId.\n     */\n    addKey(publicKey, permission) {\n        const pk = parsePublicKey(publicKey);\n        const borshPermission = toAccessKeyPermissionBorsh(permission);\n        this.actions.push(actions.addKey(pk, borshPermission));\n        // Set receiverId if not already set\n        if (!this.receiverId) {\n            this.receiverId = this.signerId;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Add a delete key action\n     */\n    deleteKey(accountId, publicKey) {\n        const pk = parsePublicKey(publicKey);\n        this.actions.push(actions.deleteKey(pk));\n        if (!this.receiverId) {\n            this.receiverId = accountId;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Build and sign a delegate action from the queued actions.\n     *\n     * @param options - Optional overrides for receiver, nonce, and expiration\n     */\n    /**\n     * Add a signed delegate action to this transaction (for relayers).\n     */\n    signedDelegateAction(signedDelegate) {\n        this.actions.push(signedDelegate);\n        this.receiverId = signedDelegate.signedDelegate.delegateAction.senderId;\n        return this.invalidateCache();\n    }\n    /**\n     * Build and sign a delegate action from the queued actions.\n     *\n     * @returns Structured delegate action plus an encoded payload (`base64` by default)\n     */\n    async delegate(options) {\n        const opts = options ?? {};\n        if (this.actions.length === 0) {\n            throw new NearError(\"Delegate action requires at least one action to perform\", \"INVALID_TRANSACTION\");\n        }\n        if (this.actions.some((action) => \"signedDelegate\" in action)) {\n            throw new NearError(\"Delegate actions cannot contain nested signed delegate actions\", \"INVALID_TRANSACTION\");\n        }\n        const receiverId = opts.receiverId ?? this.receiverId;\n        if (!receiverId) {\n            throw new NearError(\"Delegate action requires a receiver. Set receiverId via the first action or provide it explicitly.\", \"INVALID_TRANSACTION\");\n        }\n        const keyPair = await this.resolveKeyPair();\n        let delegatePublicKey;\n        if (opts.publicKey === undefined) {\n            delegatePublicKey = keyPair.publicKey;\n        }\n        else if (typeof opts.publicKey === \"string\") {\n            delegatePublicKey = parsePublicKey(opts.publicKey);\n        }\n        else {\n            delegatePublicKey = opts.publicKey;\n        }\n        if (!publicKeysEqual(delegatePublicKey, keyPair.publicKey)) {\n            throw new InvalidKeyError(\"Delegate action public key must match the signer key. Use signWith() when you need a different key.\");\n        }\n        let nonce;\n        if (opts.nonce !== undefined) {\n            nonce = opts.nonce;\n        }\n        else {\n            const accessKey = await this.rpc.getAccessKey(this.signerId, delegatePublicKey.toString());\n            nonce = BigInt(accessKey.nonce) + 1n;\n        }\n        let maxBlockHeight;\n        if (opts.maxBlockHeight !== undefined) {\n            maxBlockHeight = opts.maxBlockHeight;\n        }\n        else {\n            const status = await this.rpc.getStatus();\n            const offset = BigInt(opts.blockHeightOffset ?? 200);\n            maxBlockHeight = BigInt(status.sync_info.latest_block_height) + offset;\n        }\n        const delegateActions = this.actions.map((action) => action);\n        const delegateAction = new actions.DelegateAction(this.signerId, receiverId, delegateActions, nonce, maxBlockHeight, delegatePublicKey);\n        const hash = sha256(serializeDelegateAction(delegateAction));\n        const signature = keyPair.sign(hash);\n        const signedDelegateAction = actions.signedDelegate(delegateAction, signature);\n        const format = (opts.payloadFormat ?? \"base64\");\n        const payload = encodeSignedDelegateAction(signedDelegateAction, format);\n        return {\n            signedDelegateAction,\n            payload,\n            format,\n        };\n    }\n    /**\n     * Override the signing function for this specific transaction.\n     *\n     * Use this to sign with a different signer than the one configured in the\n     * Near client, while keeping the same signerId. Useful for:\n     *\n     * - Using a hardware wallet for a specific transaction\n     * - Testing with mock signers\n     * - Signing with a specific private key for the same account\n     * - One-off custom signing logic\n     *\n     * **Important:** This overrides HOW the transaction is signed, not WHO signs it.\n     * The signerId (set via `.transaction()`) remains the same. To sign as a different\n     * account, use `.transaction(otherAccountId)` instead.\n     *\n     * @param key - Either a custom signer function or a private key string\n     *              (e.g., 'ed25519:...' or 'secp256k1:...')\n     *              Type-safe: TypeScript will enforce the correct format at compile time\n     * @returns This builder instance for chaining\n     *\n     * @example\n     * ```typescript\n     * // Override with different hardware wallet\n     * await near.transaction('alice.near')\n     *   .signWith(aliceHardwareWallet)\n     *   .transfer('bob.near', '5 NEAR')\n     *   .send()\n     *\n     * // Sign with specific ed25519 private key (type-safe)\n     * await near.transaction('alice.near')\n     *   .signWith('ed25519:...')  //  TypeScript ensures correct format\n     *   .transfer('bob.near', '1 NEAR')\n     *   .send()\n     *\n     * // Sign with specific secp256k1 private key\n     * await near.transaction('alice.near')\n     *   .signWith('secp256k1:...')  //  TypeScript ensures correct format\n     *   .transfer('bob.near', '1 NEAR')\n     *   .send()\n     *\n     * // TypeScript will catch mistakes at compile time:\n     * await near.transaction('alice.near')\n     *   .signWith('alice.near')  //  Type error: not a PrivateKey\n     *\n     * // Mock signer for testing\n     * const mockSigner: Signer = async (msg) => ({\n     *   keyType: KeyType.ED25519,\n     *   data: new Uint8Array(64)\n     * })\n     *\n     * await near.transaction('test.near')\n     *   .signWith(mockSigner)\n     *   .transfer('receiver.near', '1')\n     *   .send()\n     * ```\n     *\n     * @remarks\n     * Supports both ed25519 and secp256k1 keys.\n     */\n    signWith(key) {\n        if (typeof key === \"string\") {\n            // Parse key and create signer\n            // TypeScript ensures key is PrivateKey format, but we still validate at runtime\n            const keyPair = parseKey(key);\n            this.keyPair = keyPair; // Store for build() to use\n            this.signer = async (message) => keyPair.sign(message);\n        }\n        else {\n            // Clear cached keyPair when using custom signer to prevent stale public key\n            delete this.keyPair;\n            this.signer = key;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Build the unsigned transaction\n     */\n    async build() {\n        if (!this.receiverId) {\n            throw new NearError(\"No receiver ID set for transaction\", \"INVALID_TRANSACTION\");\n        }\n        // Resolve signer key pair (used for public key + nonce lookup)\n        const keyPair = await this.resolveKeyPair();\n        const publicKey = keyPair.publicKey;\n        // Use NonceManager to get next nonce (handles concurrent transactions)\n        const nonce = await TransactionBuilder.nonceManager.getNextNonce(this.signerId, publicKey.toString(), async () => {\n            const accessKey = await this.rpc.getAccessKey(this.signerId, publicKey.toString());\n            return BigInt(accessKey.nonce);\n        });\n        const status = await this.rpc.getStatus();\n        const blockHash = base58.decode(status.sync_info.latest_block_hash);\n        const transaction = {\n            signerId: this.signerId,\n            publicKey,\n            nonce,\n            receiverId: this.receiverId,\n            actions: this.actions,\n            blockHash,\n        };\n        return transaction;\n    }\n    /**\n     * Sign the transaction without sending it.\n     *\n     * This creates a signed transaction that can be:\n     * - Inspected via `getHash()`\n     * - Serialized via `serialize()`\n     * - Sent later via `send()`\n     *\n     * The signed transaction is cached internally. If you modify the transaction\n     * (add actions, change signer, etc.), the cache is automatically invalidated.\n     *\n     * @returns This builder instance (now in a signed state)\n     *\n     * @example\n     * ```typescript\n     * // Sign and inspect hash\n     * const tx = await near.transaction('alice.near')\n     *   .transfer('bob.near', '1 NEAR')\n     *   .sign()\n     *\n     * console.log('Transaction hash:', tx.getHash())\n     *\n     * // Serialize for offline use\n     * const bytes = tx.serialize()\n     *\n     * // Send when ready\n     * const result = await tx.send({ waitUntil: 'FINAL' })\n     * ```\n     */\n    async sign() {\n        if (this.cachedSignedTx) {\n            // Already signed, return this\n            return this;\n        }\n        if (!this.receiverId) {\n            throw new NearError(\"No receiver ID set for transaction\", \"INVALID_TRANSACTION\");\n        }\n        // Build the transaction\n        const transaction = await this.build();\n        // Serialize transaction using Borsh\n        const serialized = serializeTransaction(transaction);\n        // NEAR protocol requires signing the SHA256 hash of the serialized transaction\n        const messageHash = (await crypto.subtle.digest(\"SHA-256\", serialized));\n        const messageHashArray = new Uint8Array(messageHash);\n        // Compute transaction hash (base58 of SHA256)\n        const txHash = base58.encode(messageHashArray);\n        // Use custom signer if provided, otherwise fall back to keyStore\n        const signature = this.signer\n            ? await this.signer(messageHashArray)\n            : (await this.resolveKeyPair()).sign(messageHashArray);\n        // Cache the signed transaction\n        this.cachedSignedTx = {\n            signedTx: {\n                transaction,\n                signature,\n            },\n            hash: txHash,\n        };\n        return this;\n    }\n    /**\n     * Get the transaction hash (only available after signing).\n     *\n     * @returns The base58-encoded transaction hash, or null if not yet signed\n     *\n     * @example\n     * ```typescript\n     * const tx = await near.transaction('alice.near')\n     *   .transfer('bob.near', '1 NEAR')\n     *   .sign()\n     *\n     * console.log(tx.getHash()) // \"8ZQ7...\"\n     * ```\n     */\n    getHash() {\n        return this.cachedSignedTx?.hash ?? null;\n    }\n    /**\n     * Serialize the signed transaction to bytes.\n     *\n     * This is useful for:\n     * - Storing signed transactions for later broadcast\n     * - Sending transactions through external tools\n     * - Multi-sig workflows\n     *\n     * @returns Borsh-serialized signed transaction bytes\n     * @throws {NearError} If transaction has not been signed yet\n     *\n     * @example\n     * ```typescript\n     * const tx = await near.transaction('alice.near')\n     *   .transfer('bob.near', '1 NEAR')\n     *   .sign()\n     *\n     * const bytes = tx.serialize()\n     * fs.writeFileSync('transaction.bin', bytes)\n     * ```\n     */\n    serialize() {\n        if (!this.cachedSignedTx) {\n            throw new NearError(\"Transaction must be signed before serializing. Call .sign() first.\", \"INVALID_STATE\");\n        }\n        return serializeSignedTransaction(this.cachedSignedTx.signedTx);\n    }\n    async send(options) {\n        if (!this.receiverId) {\n            throw new NearError(\"No receiver ID set for transaction\", \"INVALID_TRANSACTION\");\n        }\n        // Use wallet if available\n        if (this.wallet) {\n            const result = await this.wallet.signAndSendTransaction({\n                signerId: this.signerId,\n                receiverId: this.receiverId,\n                actions: this.actions,\n            });\n            // Wallet doesn't support waitUntil parameter, always returns executed result\n            // Cast to the expected type (this is safe because wallet always waits for execution)\n            return result;\n        }\n        // Determine waitUntil - use option if provided, otherwise use default\n        const waitUntil = (options?.waitUntil ?? this.defaultWaitUntil);\n        // Retry loop for InvalidNonceError\n        const MAX_NONCE_RETRIES = 3;\n        let lastError = null;\n        for (let attempt = 0; attempt < MAX_NONCE_RETRIES; attempt++) {\n            try {\n                // Sign if not already signed (or re-sign on retry for fresh nonce)\n                if (!this.cachedSignedTx || attempt > 0) {\n                    // Clear cache on retry to get fresh nonce\n                    delete this.cachedSignedTx;\n                    await this.sign();\n                }\n                if (!this.cachedSignedTx) {\n                    throw new NearError(\"Failed to sign transaction\", \"TRANSACTION_SIGNING_FAILED\");\n                }\n                const { signedTx, hash } = this.cachedSignedTx;\n                // Serialize signed transaction using Borsh\n                const signedSerialized = serializeSignedTransaction(signedTx);\n                // Send to network\n                const result = await this.rpc.sendTransaction(signedSerialized, waitUntil);\n                // Inject minimal transaction fields if not present (for NONE/INCLUDED/INCLUDED_FINAL)\n                // This ensures transaction.hash is always available\n                if (!(\"transaction\" in result) || !result.transaction) {\n                    ;\n                    result[\"transaction\"] = {\n                        hash,\n                        signer_id: signedTx.transaction.signerId,\n                        receiver_id: this.receiverId,\n                        nonce: Number(signedTx.transaction.nonce),\n                    };\n                }\n                return result;\n            }\n            catch (error) {\n                lastError = error;\n                // Check if it's an InvalidNonceError\n                if (error instanceof InvalidNonceError) {\n                    // Invalidate cached nonce to force fresh fetch on retry\n                    if (this.cachedSignedTx) {\n                        TransactionBuilder.nonceManager.invalidate(this.signerId, this.cachedSignedTx.signedTx.transaction.publicKey.toString());\n                    }\n                    // If we have retries left, continue the loop to rebuild with fresh nonce\n                    if (attempt < MAX_NONCE_RETRIES - 1) {\n                        continue;\n                    }\n                }\n                // Not an InvalidNonceError or out of retries - throw the error\n                throw error;\n            }\n        }\n        // This should never be reached, but TypeScript needs it\n        throw (lastError ||\n            new NearError(\"Unknown error during transaction send\", \"UNKNOWN_TRANSACTION_ERROR\"));\n    }\n}\n// Shared nonce manager across all TransactionBuilder instances\nTransactionBuilder.nonceManager = new NonceManager();\n//# sourceMappingURL=transaction.js.map","/**\n * Main NEAR client class\n */\nimport { createContract } from \"../contracts/contract.js\";\nimport { NearError } from \"../errors/index.js\";\nimport { InMemoryKeyStore } from \"../keys/index.js\";\nimport { parseKey } from \"../utils/key.js\";\nimport { generateNonce } from \"../utils/nep413.js\";\nimport { normalizeAmount, normalizeGas } from \"../utils/validation.js\";\nimport * as actions from \"./actions.js\";\nimport { NearConfigSchema, resolveNetworkConfig, } from \"./config-schemas.js\";\nimport { DEFAULT_FUNCTION_CALL_GAS } from \"./constants.js\";\nimport { RpcClient } from \"./rpc/rpc.js\";\nimport { TransactionBuilder } from \"./transaction.js\";\n/**\n * Main client for interacting with the NEAR blockchain.\n *\n * Wraps RPC access, key management, wallet integrations, and the fluent\n * transaction builder. Most applications create one `Near` instance per\n * network and reuse it for all operations.\n *\n * @remarks\n * Configure the client with {@link NearConfig} to choose networks, key stores,\n * wallets, and retry behavior. For a guided overview see\n * `docs/01-getting-started.md` and `docs/02-core-concepts.md`.\n */\nexport class Near {\n    constructor(config = {}) {\n        const validatedConfig = NearConfigSchema.parse(config);\n        this._initializeRpc(validatedConfig);\n        this._resolveKeyStore(validatedConfig);\n        this._resolveSigner(validatedConfig, config);\n        if (validatedConfig.defaultSignerId) {\n            this.defaultSignerId = validatedConfig.defaultSignerId;\n        }\n        this.defaultWaitUntil =\n            validatedConfig.defaultWaitUntil || \"EXECUTED_OPTIMISTIC\";\n        this.wallet = validatedConfig.wallet;\n    }\n    /**\n     * Initialize RPC client from configuration\n     * @internal\n     */\n    _initializeRpc(validatedConfig) {\n        const networkConfig = resolveNetworkConfig(validatedConfig.network);\n        const rpcUrl = validatedConfig.rpcUrl || networkConfig.rpcUrl;\n        this.rpc = new RpcClient(rpcUrl, validatedConfig.headers, validatedConfig.retryConfig);\n    }\n    /**\n     * Resolve and initialize keystore from configuration\n     * @internal\n     */\n    _resolveKeyStore(validatedConfig) {\n        this.keyStore = this.resolveKeyStore(validatedConfig.keyStore);\n    }\n    /**\n     * Resolve and initialize signer from configuration\n     * Handles privateKey, custom signer, and sandbox root key auto-detection\n     * @internal\n     */\n    _resolveSigner(validatedConfig, originalConfig) {\n        const signer = validatedConfig.signer;\n        const privateKey = validatedConfig.privateKey;\n        if (signer) {\n            // Custom signer function (e.g., hardware wallet)\n            this.signer = signer;\n        }\n        else if (privateKey) {\n            // When privateKey is provided, add it to keyStore instead of creating a signer wrapper\n            // This ensures consistent behavior - all key-based operations go through keyStore\n            const keyPair = typeof privateKey === \"string\"\n                ? parseKey(privateKey)\n                : parseKey(privateKey.toString());\n            // Determine which account ID to use for storing the key\n            let accountId;\n            // If network is a Sandbox-like object with rootAccount, use that\n            const network = originalConfig.network;\n            if (network && typeof network === \"object\" && \"rootAccount\" in network) {\n                const rootAccount = network\n                    .rootAccount;\n                accountId = rootAccount.id;\n            }\n            // If defaultSignerId is provided, use that (takes precedence)\n            if (validatedConfig.defaultSignerId) {\n                accountId = validatedConfig.defaultSignerId;\n            }\n            // Add the key to keyStore if we have an account ID\n            // Store the promise to ensure async keystores complete initialization\n            if (accountId) {\n                this.pendingKeyStoreInit = this.keyStore.add(accountId, keyPair);\n            }\n        }\n        // Auto-add sandbox root key to keyStore if available and no explicit signer/privateKey\n        // This enables simple usage like: new Near({ network: sandbox })\n        // while still allowing multi-account scenarios via keyStore\n        if (!signer && !privateKey) {\n            const network = originalConfig.network;\n            if (network && typeof network === \"object\" && \"rootAccount\" in network) {\n                const rootAccount = network;\n                // Guard: only auto-add if both id and secretKey are non-empty strings\n                if (rootAccount.rootAccount?.id &&\n                    rootAccount.rootAccount?.secretKey &&\n                    typeof rootAccount.rootAccount.secretKey === \"string\") {\n                    const keyPair = parseKey(rootAccount.rootAccount.secretKey);\n                    // Store the promise to ensure async keystores complete initialization\n                    this.pendingKeyStoreInit = this.keyStore.add(rootAccount.rootAccount.id, keyPair);\n                }\n            }\n        }\n    }\n    /**\n     * Ensure any pending keystore initialization is complete\n     * @internal\n     */\n    async ensureKeyStoreReady() {\n        if (this.pendingKeyStoreInit) {\n            await this.pendingKeyStoreInit;\n            delete this.pendingKeyStoreInit;\n        }\n    }\n    /**\n     * Resolve key store from config input\n     * @internal\n     */\n    resolveKeyStore(keyStoreConfig) {\n        if (!keyStoreConfig) {\n            return new InMemoryKeyStore();\n        }\n        if (typeof keyStoreConfig === \"string\") {\n            // Import FileKeyStore dynamically to avoid bundling in browser\n            // For now, return in-memory\n            return new InMemoryKeyStore();\n        }\n        if (\"add\" in keyStoreConfig && \"get\" in keyStoreConfig) {\n            return keyStoreConfig;\n        }\n        // Record of account -> key mappings\n        return new InMemoryKeyStore(keyStoreConfig);\n    }\n    /**\n     * Get signer ID from options, default, or wallet\n     * @internal\n     */\n    async getSignerId(signerId) {\n        if (signerId)\n            return signerId;\n        if (this.defaultSignerId)\n            return this.defaultSignerId;\n        // Get from wallet if available\n        if (this.wallet) {\n            const accounts = await this.wallet.getAccounts();\n            if (accounts.length === 0) {\n                throw new NearError(\"No accounts connected to wallet\", \"NO_WALLET_ACCOUNTS\");\n            }\n            // Safe to use non-null assertion after length check\n            // biome-ignore lint/style/noNonNullAssertion: verified accounts[0] exists above\n            return accounts[0].accountId;\n        }\n        throw new NearError(\"No signer ID provided. Set signerId in options or config.\", \"MISSING_SIGNER\");\n    }\n    /**\n     * Call a view function on a contract (read-only, no gas).\n     *\n     * @param contractId - Target contract account ID.\n     * @param methodName - Name of the view method to call.\n     * @param args - Arguments object or raw bytes; defaults to `{}`.\n     * @param options - Optional {@link BlockReference} to specify finality or block.\n     *\n     * @returns Parsed JSON result when the contract returns JSON, otherwise the\n     * raw string value typed as `T`. Returns `undefined` when the contract returns\n     * an empty response.\n     *\n     * @remarks\n     * - View calls are free and do not require a signer or gas.\n     * - Errors thrown by the contract surface as {@link ContractExecutionError}.\n     * - The generic type `T` is a type assertion for convenience; no runtime\n     *   validation is performed against `T`.\n     *\n     * @see NearConfig.defaultWaitUntil\n     */\n    async view(contractId, methodName, args = {}, options) {\n        const result = await this.rpc.viewFunction(contractId, methodName, args, options);\n        // Decode result\n        const resultBuffer = new Uint8Array(result.result);\n        const resultString = new TextDecoder().decode(resultBuffer);\n        if (!resultString) {\n            return undefined;\n        }\n        try {\n            return JSON.parse(resultString);\n        }\n        catch {\n            return resultString;\n        }\n    }\n    /**\n     * Call a change function on a contract (requires signature and gas).\n     *\n     * Uses the connected wallet when available, otherwise falls back to the\n     * configured signer / private key / key store.\n     *\n     * @param contractId - Target contract account ID.\n     * @param methodName - Name of the change method to call.\n     * @param args - Arguments object or raw bytes; defaults to `{}`.\n     * @param options - Call options such as gas, attached deposit, signerId and wait level.\n     *\n     * @returns The decoded contract return value typed as `T`.\n     *\n     * @throws {NearError} If no signer can be resolved.\n     * @throws {FunctionCallError} If the contract panics or returns an error.\n     * @throws {InvalidTransactionError} If the transaction itself is invalid.\n     * @throws {NetworkError} If the RPC request fails after retries.\n     *\n     * @example\n     * ```typescript\n     * await near.call(\n     *   \"contract.near\",\n     *   \"increment\",\n     *   { by: 1 },\n     *   { attachedDeposit: \"1 yocto\", gas: \"30 Tgas\" },\n     * )\n     * ```\n     */\n    async call(contractId, methodName, args = {}, options = {}) {\n        const signerId = await this.getSignerId(options.signerId);\n        // Use wallet if available\n        if (this.wallet) {\n            const argsBytes = args instanceof Uint8Array\n                ? args\n                : new TextEncoder().encode(JSON.stringify(args));\n            const gas = options.gas\n                ? normalizeGas(options.gas)\n                : DEFAULT_FUNCTION_CALL_GAS;\n            const deposit = options.attachedDeposit\n                ? normalizeAmount(options.attachedDeposit)\n                : \"0\";\n            const result = await this.wallet.signAndSendTransaction({\n                signerId,\n                receiverId: contractId,\n                actions: [\n                    actions.functionCall(methodName, argsBytes, BigInt(gas), BigInt(deposit)),\n                ],\n            });\n            return result;\n        }\n        // Use private key/signer approach\n        const functionCallOptions = {};\n        if (options.gas !== undefined) {\n            functionCallOptions.gas = options.gas;\n        }\n        if (options.attachedDeposit !== undefined) {\n            functionCallOptions.attachedDeposit = options.attachedDeposit;\n        }\n        const sendOptions = options.waitUntil\n            ? { waitUntil: options.waitUntil }\n            : {};\n        const result = await this.transaction(signerId)\n            .functionCall(contractId, methodName, args, functionCallOptions)\n            .send(sendOptions);\n        return result;\n    }\n    /**\n     * Send NEAR tokens to an account.\n     *\n     * @param receiverId - Account ID that will receive the tokens.\n     * @param amount - Amount to send, expressed as {@link Amount} (e.g. `\"10 NEAR\"` or `\"1 yocto\"`).\n     *\n     * @returns The final transaction outcome from the wallet or RPC.\n     *\n     * @throws {NearError} If no signer can be resolved.\n     * @throws {InvalidTransactionError} If the transfer transaction is invalid.\n     * @throws {NetworkError} If the RPC request fails after retries.\n     *\n     * @remarks\n     * This is a convenience wrapper over {@link Near.transaction} with a single\n     * `transfer` action.\n     */\n    async send(receiverId, amount) {\n        const signerId = await this.getSignerId();\n        // Use wallet if available\n        if (this.wallet) {\n            const amountYocto = normalizeAmount(amount);\n            return await this.wallet.signAndSendTransaction({\n                signerId,\n                receiverId,\n                actions: [actions.transfer(BigInt(amountYocto))],\n            });\n        }\n        // Use private key/signer approach\n        return await this.transaction(signerId).transfer(receiverId, amount).send();\n    }\n    /**\n     * Sign a message using NEP-413 standard.\n     *\n     * NEP-413 enables off-chain message signing for authentication and ownership verification\n     * without gas fees or blockchain transactions. Useful for:\n     * - Login/authentication flows\n     * - Proving account ownership\n     * - Signing intents for meta-transactions\n     * - Off-chain authorization\n     *\n     * @param params - Message signing parameters\n     * @param options - Optional signer ID (defaults to first account)\n     * @returns Signed message with account ID, public key, and signature\n     *\n     * @throws {NearError} If no wallet or keystore is configured\n     * @throws {NearError} If the key doesn't support NEP-413 signing\n     *\n     * @see https://github.com/near/NEPs/blob/master/neps/nep-0413.md\n     *\n     * @example\n     * ```typescript\n     * // Sign a message for authentication\n     * const signedMessage = await near.signMessage({\n     *   message: \"Login to MyApp\",\n     *   recipient: \"myapp.near\",\n     *   nonce: crypto.getRandomValues(new Uint8Array(32)),\n     * })\n     *\n     * // Send to backend for verification\n     * await fetch(\"/api/auth\", {\n     *   method: \"POST\",\n     *   body: JSON.stringify(signedMessage),\n     * })\n     * ```\n     */\n    async signMessage(params, options) {\n        const signerId = await this.getSignerId(options?.signerId);\n        // Add nonce if not provided\n        const fullParams = {\n            ...params,\n            nonce: \"nonce\" in params ? params.nonce : generateNonce(),\n        };\n        // Try wallet first if available\n        if (this.wallet?.signMessage) {\n            try {\n                return await this.wallet.signMessage(fullParams);\n            }\n            catch (error) {\n                // Fall through to keystore if wallet doesn't support it\n                console.warn(\"Wallet signMessage failed, trying keystore:\", error);\n            }\n        }\n        // Use keystore approach\n        // Ensure any pending keystore initialization is complete\n        await this.ensureKeyStoreReady();\n        const keyPair = await this.keyStore.get(signerId);\n        if (!keyPair) {\n            throw new NearError(`No key found for account ${signerId}. Add a key using keyStore.add() or configure a wallet.`, \"NO_KEY_FOUND\");\n        }\n        if (!keyPair.signNep413Message) {\n            throw new NearError(\"Key pair does not support NEP-413 message signing\", \"UNSUPPORTED_OPERATION\");\n        }\n        return keyPair.signNep413Message(signerId, fullParams);\n    }\n    /**\n     * Get account balance in NEAR.\n     *\n     * @param accountId - Account ID to query.\n     * @param options - Optional {@link BlockReference} to control finality or block.\n     *\n     * @returns Balance formatted as `\"X.YY NEAR\"`.\n     *\n     * @throws {AccountDoesNotExistError} If the account does not exist.\n     * @throws {NetworkError} If the RPC request fails.\n     *\n     * @remarks\n     * This is a convenience helper over {@link RpcClient.getAccount}. For more\n     * detailed information (storage, locked balance, etc.) call `rpc.getAccount`\n     * directly.\n     */\n    async getBalance(accountId, options) {\n        // RPC client now throws AccountDoesNotExistError directly\n        const account = await this.rpc.getAccount(accountId, options);\n        // Convert yoctoNEAR to NEAR\n        const balanceYocto = BigInt(account.amount);\n        const balanceNear = Number(balanceYocto) / 1e24;\n        return balanceNear.toFixed(2);\n    }\n    /**\n     * Check if an account exists.\n     *\n     * @param accountId - Account ID to check.\n     * @param options - Optional {@link BlockReference} to control finality or block.\n     *\n     * @returns `true` if the account exists, `false` otherwise.\n     *\n     * @remarks\n     * This method swallows all errors and returns `false` on failure. Use\n     * {@link RpcClient.getAccount} if you need to distinguish error causes.\n     */\n    async accountExists(accountId, options) {\n        try {\n            await this.rpc.getAccount(accountId, options);\n            return true;\n        }\n        catch {\n            return false;\n        }\n    }\n    /**\n     * Check if a full access key exists for an account.\n     *\n     * @param accountId - Account ID to check.\n     * @param publicKey - Public key string (e.g., \"ed25519:...\").\n     * @param options - Optional {@link BlockReference} to control finality or block.\n     *\n     * @returns `true` if the full access key exists for the account, `false` otherwise.\n     *\n     * @remarks\n     * This method verifies that a public key belongs to an account AND has full access\n     * permission (not a function call key). This is important for validating NEP-413\n     * signed messages, which should only be signed by full access keys.\n     *\n     * @example\n     * ```typescript\n     * const hasFullAccessKey = await near.fullAccessKeyExists(\"alice.near\", \"ed25519:...\")\n     * if (!hasFullAccessKey) {\n     *   console.log(\"Key does not exist or is not a full access key\")\n     * }\n     * ```\n     */\n    async fullAccessKeyExists(accountId, publicKey, options) {\n        try {\n            const accessKey = await this.rpc.getAccessKey(accountId, publicKey, options);\n            // Check if it's a full access key (permission === \"FullAccess\")\n            return accessKey.permission === \"FullAccess\";\n        }\n        catch {\n            return false;\n        }\n    }\n    /**\n     * Get transaction status with detailed receipt information\n     *\n     * Queries the status of a transaction by hash using the EXPERIMENTAL_tx_status RPC method,\n     * returning the final transaction result with detailed receipt information.\n     *\n     * @param txHash - Transaction hash to query\n     * @param senderAccountId - Account ID that sent the transaction (used to determine shard)\n     * @param waitUntil - Optional execution level to wait for (default: \"EXECUTED_OPTIMISTIC\")\n     *\n     * @returns Transaction status with receipts, typed based on waitUntil parameter\n     *\n     * @throws {InvalidTransactionError} If transaction execution failed\n     * @throws {NetworkError} If network request failed\n     *\n     * @example\n     * ```typescript\n     * // Get transaction status with default wait level\n     * const status = await near.getTransactionStatus(\n     *   '7AfonAhbK4ZbdBU9VPcQdrTZVZBXE25HmZAMEABs9To1',\n     *   'alice.near'\n     * )\n     *\n     * // Wait for full finality\n     * const finalStatus = await near.getTransactionStatus(\n     *   '7AfonAhbK4ZbdBU9VPcQdrTZVZBXE25HmZAMEABs9To1',\n     *   'alice.near',\n     *   'FINAL'\n     * )\n     *\n     * // Access receipt details\n     * console.log('Receipts:', finalStatus.receipts)\n     * ```\n     *\n     * @see {@link https://docs.near.org/api/rpc/transactions#transaction-status-with-receipts NEAR RPC Documentation}\n     */\n    async getTransactionStatus(txHash, senderAccountId, waitUntil) {\n        return this.rpc.getTransactionStatus(txHash, senderAccountId, waitUntil);\n    }\n    /**\n     * Get basic network status information.\n     *\n     * @returns An object containing `chainId`, `latestBlockHeight`, and `syncing` flag.\n     */\n    async getStatus() {\n        const status = await this.rpc.getStatus();\n        return {\n            chainId: status.chain_id,\n            latestBlockHeight: status.sync_info.latest_block_height,\n            syncing: status.sync_info.syncing,\n        };\n    }\n    /**\n     * Batch multiple read operations.\n     *\n     * @param promises - Promises to execute in parallel.\n     *\n     * @returns A tuple of resolved values preserving the input order.\n     *\n     * @remarks\n     * This is a thin wrapper over `Promise.all` with a tuple-friendly signature.\n     * It does not perform any RPC-level batching.\n     */\n    async batch(...promises) {\n        return Promise.all(promises);\n    }\n    /**\n     * Create a transaction builder for the specified signer account.\n     *\n     * The `signerId` determines which account will sign and send this transaction.\n     * This account must have keys available in the configured keyStore, privateKey,\n     * custom signer, or be connected via wallet.\n     *\n     * @param signerId - The account ID that will sign and pay for this transaction\n     *\n     * @returns A transaction builder for chaining actions\n     *\n     * @example\n     * ```typescript\n     * // Alice sends NEAR to Bob\n     * await near.transaction('alice.near')\n     *   .transfer('bob.near', '10 NEAR')\n     *   .send()\n     *\n     * // Alice calls a contract and creates a new account\n     * await near.transaction('alice.near')\n     *   .functionCall('market.near', 'buy', { id: 123 })\n     *   .createAccount('sub.alice.near')\n     *   .transfer('sub.alice.near', '5 NEAR')\n     *   .send()\n     * ```\n     *\n     * @see {@link TransactionBuilder} for available actions\n     */\n    transaction(signerId) {\n        return new TransactionBuilder(signerId, this.rpc, this.keyStore, this.signer, this.defaultWaitUntil, this.wallet, this.pendingKeyStoreInit ? () => this.ensureKeyStoreReady() : undefined);\n    }\n    /**\n     * Create a type-safe contract interface.\n     *\n     * @param contractId - Account ID of the target contract.\n     *\n     * @returns A proxy implementing your {@link ContractMethods} interface.\n     *\n     * @example\n     * ```typescript\n     * type Counter = Contract<{\n     *   view: { get_count: () => Promise<number> }\n     *   call: { increment: () => Promise<void> }\n     * }>\n     *\n     * const counter = near.contract<Counter>(\"counter.near\")\n     * ```\n     */\n    contract(contractId) {\n        return createContract(this, contractId);\n    }\n}\n//# sourceMappingURL=near.js.map","// src/errors.ts\nvar ErrorCode = /* @__PURE__ */ ((ErrorCode2) => {\n  ErrorCode2[ErrorCode2[\"InvalidAccountIdError\"] = 2e3] = \"InvalidAccountIdError\";\n  ErrorCode2[ErrorCode2[\"AccountNotFoundError\"] = 2001] = \"AccountNotFoundError\";\n  ErrorCode2[ErrorCode2[\"KeyNotAllowedError\"] = 3e3] = \"KeyNotAllowedError\";\n  ErrorCode2[ErrorCode2[\"UnknownNetworkError\"] = 4e3] = \"UnknownNetworkError\";\n  return ErrorCode2;\n})(ErrorCode || {});\nvar SocialError = class extends Error {\n  code;\n  name;\n  constructor(code, message, name) {\n    super(message.toLowerCase());\n    this.code = code;\n    this.name = name;\n  }\n};\nvar AccountNotFoundError = class extends SocialError {\n  accountId;\n  constructor(accountId, message) {\n    super(\n      2001 /* AccountNotFoundError */,\n      message || `account \"${accountId}\" not found`,\n      \"AccountNotFoundError\"\n    );\n    this.accountId = accountId;\n  }\n};\nvar InvalidAccountIdError = class extends SocialError {\n  accountId;\n  constructor(accountId, message) {\n    super(\n      2e3 /* InvalidAccountIdError */,\n      message || `account id \"${accountId}\" not a valid account`,\n      \"InvalidAccountIdError\"\n    );\n    this.accountId = accountId;\n  }\n};\nvar KeyNotAllowedError = class extends SocialError {\n  key;\n  constructor(key, message) {\n    super(\n      3e3 /* KeyNotAllowedError */,\n      message || `key \"${key}\" not valid`,\n      \"KeyNotAllowedError\"\n    );\n    this.key = key;\n  }\n};\nvar UnknownNetworkError = class extends SocialError {\n  networkId;\n  constructor(networkId, message) {\n    super(\n      4e3 /* UnknownNetworkError */,\n      message || `network ID \"${networkId}\" not known`,\n      \"UnknownNetworkError\"\n    );\n    this.networkId = networkId;\n  }\n};\n\nexport {\n  ErrorCode,\n  SocialError,\n  AccountNotFoundError,\n  InvalidAccountIdError,\n  KeyNotAllowedError,\n  UnknownNetworkError\n};\n//# sourceMappingURL=chunk-35XQS2E7.mjs.map","// src/constants.ts\nvar DEFAULT_CONTRACT_ID = \"social.near\";\nvar DEFAULT_API_SERVER = \"https://api.near.social\";\nvar GAS_FEE_IN_ATOMIC_UNITS = \"100000000000000\";\nvar MINIMUM_STORAGE_IN_BYTES = \"2000\";\nvar ONE_YOCTO = \"1\";\nvar STORAGE_COST_PER_BYTES_IN_ATOMIC_UNITS = \"10000000000000000000\";\nvar EXTRA_STORAGE_BALANCE = \"500\";\nvar NEAR_NOMINATION_EXP = 24;\nvar ESTIMATED_KEY_VALUE_SIZE = 140;\nvar ESTIMATED_NODE_SIZE = 98;\n\nexport {\n  DEFAULT_CONTRACT_ID,\n  DEFAULT_API_SERVER,\n  GAS_FEE_IN_ATOMIC_UNITS,\n  MINIMUM_STORAGE_IN_BYTES,\n  ONE_YOCTO,\n  STORAGE_COST_PER_BYTES_IN_ATOMIC_UNITS,\n  EXTRA_STORAGE_BALANCE,\n  NEAR_NOMINATION_EXP,\n  ESTIMATED_KEY_VALUE_SIZE,\n  ESTIMATED_NODE_SIZE\n};\n//# sourceMappingURL=chunk-G2Z3ZTTP.mjs.map","/*\r\n *      bignumber.js v9.3.1\r\n *      A JavaScript library for arbitrary-precision arithmetic.\r\n *      https://github.com/MikeMcl/bignumber.js\r\n *      Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>\r\n *      MIT Licensed.\r\n *\r\n *      BigNumber.prototype methods     |  BigNumber methods\r\n *                                      |\r\n *      absoluteValue            abs    |  clone\r\n *      comparedTo                      |  config               set\r\n *      decimalPlaces            dp     |      DECIMAL_PLACES\r\n *      dividedBy                div    |      ROUNDING_MODE\r\n *      dividedToIntegerBy       idiv   |      EXPONENTIAL_AT\r\n *      exponentiatedBy          pow    |      RANGE\r\n *      integerValue                    |      CRYPTO\r\n *      isEqualTo                eq     |      MODULO_MODE\r\n *      isFinite                        |      POW_PRECISION\r\n *      isGreaterThan            gt     |      FORMAT\r\n *      isGreaterThanOrEqualTo   gte    |      ALPHABET\r\n *      isInteger                       |  isBigNumber\r\n *      isLessThan               lt     |  maximum              max\r\n *      isLessThanOrEqualTo      lte    |  minimum              min\r\n *      isNaN                           |  random\r\n *      isNegative                      |  sum\r\n *      isPositive                      |\r\n *      isZero                          |\r\n *      minus                           |\r\n *      modulo                   mod    |\r\n *      multipliedBy             times  |\r\n *      negated                         |\r\n *      plus                            |\r\n *      precision                sd     |\r\n *      shiftedBy                       |\r\n *      squareRoot               sqrt   |\r\n *      toExponential                   |\r\n *      toFixed                         |\r\n *      toFormat                        |\r\n *      toFraction                      |\r\n *      toJSON                          |\r\n *      toNumber                        |\r\n *      toPrecision                     |\r\n *      toString                        |\r\n *      valueOf                         |\r\n *\r\n */\r\n\r\n\r\nvar\r\n  isNumeric = /^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,\r\n  mathceil = Math.ceil,\r\n  mathfloor = Math.floor,\r\n\r\n  bignumberError = '[BigNumber Error] ',\r\n  tooManyDigits = bignumberError + 'Number primitive has more than 15 significant digits: ',\r\n\r\n  BASE = 1e14,\r\n  LOG_BASE = 14,\r\n  MAX_SAFE_INTEGER = 0x1fffffffffffff,         // 2^53 - 1\r\n  // MAX_INT32 = 0x7fffffff,                   // 2^31 - 1\r\n  POWS_TEN = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13],\r\n  SQRT_BASE = 1e7,\r\n\r\n  // EDITABLE\r\n  // The limit on the value of DECIMAL_PLACES, TO_EXP_NEG, TO_EXP_POS, MIN_EXP, MAX_EXP, and\r\n  // the arguments to toExponential, toFixed, toFormat, and toPrecision.\r\n  MAX = 1E9;                                   // 0 to MAX_INT32\r\n\r\n\r\n/*\r\n * Create and return a BigNumber constructor.\r\n */\r\nfunction clone(configObject) {\r\n  var div, convertBase, parseNumeric,\r\n    P = BigNumber.prototype = { constructor: BigNumber, toString: null, valueOf: null },\r\n    ONE = new BigNumber(1),\r\n\r\n\r\n    //----------------------------- EDITABLE CONFIG DEFAULTS -------------------------------\r\n\r\n\r\n    // The default values below must be integers within the inclusive ranges stated.\r\n    // The values can also be changed at run-time using BigNumber.set.\r\n\r\n    // The maximum number of decimal places for operations involving division.\r\n    DECIMAL_PLACES = 20,                     // 0 to MAX\r\n\r\n    // The rounding mode used when rounding to the above decimal places, and when using\r\n    // toExponential, toFixed, toFormat and toPrecision, and round (default value).\r\n    // UP         0 Away from zero.\r\n    // DOWN       1 Towards zero.\r\n    // CEIL       2 Towards +Infinity.\r\n    // FLOOR      3 Towards -Infinity.\r\n    // HALF_UP    4 Towards nearest neighbour. If equidistant, up.\r\n    // HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.\r\n    // HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.\r\n    // HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.\r\n    // HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.\r\n    ROUNDING_MODE = 4,                       // 0 to 8\r\n\r\n    // EXPONENTIAL_AT : [TO_EXP_NEG , TO_EXP_POS]\r\n\r\n    // The exponent value at and beneath which toString returns exponential notation.\r\n    // Number type: -7\r\n    TO_EXP_NEG = -7,                         // 0 to -MAX\r\n\r\n    // The exponent value at and above which toString returns exponential notation.\r\n    // Number type: 21\r\n    TO_EXP_POS = 21,                         // 0 to MAX\r\n\r\n    // RANGE : [MIN_EXP, MAX_EXP]\r\n\r\n    // The minimum exponent value, beneath which underflow to zero occurs.\r\n    // Number type: -324  (5e-324)\r\n    MIN_EXP = -1e7,                          // -1 to -MAX\r\n\r\n    // The maximum exponent value, above which overflow to Infinity occurs.\r\n    // Number type:  308  (1.7976931348623157e+308)\r\n    // For MAX_EXP > 1e7, e.g. new BigNumber('1e100000000').plus(1) may be slow.\r\n    MAX_EXP = 1e7,                           // 1 to MAX\r\n\r\n    // Whether to use cryptographically-secure random number generation, if available.\r\n    CRYPTO = false,                          // true or false\r\n\r\n    // The modulo mode used when calculating the modulus: a mod n.\r\n    // The quotient (q = a / n) is calculated according to the corresponding rounding mode.\r\n    // The remainder (r) is calculated as: r = a - n * q.\r\n    //\r\n    // UP        0 The remainder is positive if the dividend is negative, else is negative.\r\n    // DOWN      1 The remainder has the same sign as the dividend.\r\n    //             This modulo mode is commonly known as 'truncated division' and is\r\n    //             equivalent to (a % n) in JavaScript.\r\n    // FLOOR     3 The remainder has the same sign as the divisor (Python %).\r\n    // HALF_EVEN 6 This modulo mode implements the IEEE 754 remainder function.\r\n    // EUCLID    9 Euclidian division. q = sign(n) * floor(a / abs(n)).\r\n    //             The remainder is always positive.\r\n    //\r\n    // The truncated division, floored division, Euclidian division and IEEE 754 remainder\r\n    // modes are commonly used for the modulus operation.\r\n    // Although the other rounding modes can also be used, they may not give useful results.\r\n    MODULO_MODE = 1,                         // 0 to 9\r\n\r\n    // The maximum number of significant digits of the result of the exponentiatedBy operation.\r\n    // If POW_PRECISION is 0, there will be unlimited significant digits.\r\n    POW_PRECISION = 0,                       // 0 to MAX\r\n\r\n    // The format specification used by the BigNumber.prototype.toFormat method.\r\n    FORMAT = {\r\n      prefix: '',\r\n      groupSize: 3,\r\n      secondaryGroupSize: 0,\r\n      groupSeparator: ',',\r\n      decimalSeparator: '.',\r\n      fractionGroupSize: 0,\r\n      fractionGroupSeparator: '\\xA0',        // non-breaking space\r\n      suffix: ''\r\n    },\r\n\r\n    // The alphabet used for base conversion. It must be at least 2 characters long, with no '+',\r\n    // '-', '.', whitespace, or repeated character.\r\n    // '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_'\r\n    ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyz',\r\n    alphabetHasNormalDecimalDigits = true;\r\n\r\n\r\n  //------------------------------------------------------------------------------------------\r\n\r\n\r\n  // CONSTRUCTOR\r\n\r\n\r\n  /*\r\n   * The BigNumber constructor and exported function.\r\n   * Create and return a new instance of a BigNumber object.\r\n   *\r\n   * v {number|string|BigNumber} A numeric value.\r\n   * [b] {number} The base of v. Integer, 2 to ALPHABET.length inclusive.\r\n   */\r\n  function BigNumber(v, b) {\r\n    var alphabet, c, caseChanged, e, i, isNum, len, str,\r\n      x = this;\r\n\r\n    // Enable constructor call without `new`.\r\n    if (!(x instanceof BigNumber)) return new BigNumber(v, b);\r\n\r\n    if (b == null) {\r\n\r\n      if (v && v._isBigNumber === true) {\r\n        x.s = v.s;\r\n\r\n        if (!v.c || v.e > MAX_EXP) {\r\n          x.c = x.e = null;\r\n        } else if (v.e < MIN_EXP) {\r\n          x.c = [x.e = 0];\r\n        } else {\r\n          x.e = v.e;\r\n          x.c = v.c.slice();\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      if ((isNum = typeof v == 'number') && v * 0 == 0) {\r\n\r\n        // Use `1 / n` to handle minus zero also.\r\n        x.s = 1 / v < 0 ? (v = -v, -1) : 1;\r\n\r\n        // Fast path for integers, where n < 2147483648 (2**31).\r\n        if (v === ~~v) {\r\n          for (e = 0, i = v; i >= 10; i /= 10, e++);\r\n\r\n          if (e > MAX_EXP) {\r\n            x.c = x.e = null;\r\n          } else {\r\n            x.e = e;\r\n            x.c = [v];\r\n          }\r\n\r\n          return;\r\n        }\r\n\r\n        str = String(v);\r\n      } else {\r\n\r\n        if (!isNumeric.test(str = String(v))) return parseNumeric(x, str, isNum);\r\n\r\n        x.s = str.charCodeAt(0) == 45 ? (str = str.slice(1), -1) : 1;\r\n      }\r\n\r\n      // Decimal point?\r\n      if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n\r\n      // Exponential form?\r\n      if ((i = str.search(/e/i)) > 0) {\r\n\r\n        // Determine exponent.\r\n        if (e < 0) e = i;\r\n        e += +str.slice(i + 1);\r\n        str = str.substring(0, i);\r\n      } else if (e < 0) {\r\n\r\n        // Integer.\r\n        e = str.length;\r\n      }\r\n\r\n    } else {\r\n\r\n      // '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n      intCheck(b, 2, ALPHABET.length, 'Base');\r\n\r\n      // Allow exponential notation to be used with base 10 argument, while\r\n      // also rounding to DECIMAL_PLACES as with other bases.\r\n      if (b == 10 && alphabetHasNormalDecimalDigits) {\r\n        x = new BigNumber(v);\r\n        return round(x, DECIMAL_PLACES + x.e + 1, ROUNDING_MODE);\r\n      }\r\n\r\n      str = String(v);\r\n\r\n      if (isNum = typeof v == 'number') {\r\n\r\n        // Avoid potential interpretation of Infinity and NaN as base 44+ values.\r\n        if (v * 0 != 0) return parseNumeric(x, str, isNum, b);\r\n\r\n        x.s = 1 / v < 0 ? (str = str.slice(1), -1) : 1;\r\n\r\n        // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n        if (BigNumber.DEBUG && str.replace(/^0\\.0*|\\./, '').length > 15) {\r\n          throw Error\r\n           (tooManyDigits + v);\r\n        }\r\n      } else {\r\n        x.s = str.charCodeAt(0) === 45 ? (str = str.slice(1), -1) : 1;\r\n      }\r\n\r\n      alphabet = ALPHABET.slice(0, b);\r\n      e = i = 0;\r\n\r\n      // Check that str is a valid base b number.\r\n      // Don't use RegExp, so alphabet can contain special characters.\r\n      for (len = str.length; i < len; i++) {\r\n        if (alphabet.indexOf(c = str.charAt(i)) < 0) {\r\n          if (c == '.') {\r\n\r\n            // If '.' is not the first character and it has not be found before.\r\n            if (i > e) {\r\n              e = len;\r\n              continue;\r\n            }\r\n          } else if (!caseChanged) {\r\n\r\n            // Allow e.g. hexadecimal 'FF' as well as 'ff'.\r\n            if (str == str.toUpperCase() && (str = str.toLowerCase()) ||\r\n                str == str.toLowerCase() && (str = str.toUpperCase())) {\r\n              caseChanged = true;\r\n              i = -1;\r\n              e = 0;\r\n              continue;\r\n            }\r\n          }\r\n\r\n          return parseNumeric(x, String(v), isNum, b);\r\n        }\r\n      }\r\n\r\n      // Prevent later check for length on converted number.\r\n      isNum = false;\r\n      str = convertBase(str, b, 10, x.s);\r\n\r\n      // Decimal point?\r\n      if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n      else e = str.length;\r\n    }\r\n\r\n    // Determine leading zeros.\r\n    for (i = 0; str.charCodeAt(i) === 48; i++);\r\n\r\n    // Determine trailing zeros.\r\n    for (len = str.length; str.charCodeAt(--len) === 48;);\r\n\r\n    if (str = str.slice(i, ++len)) {\r\n      len -= i;\r\n\r\n      // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n      if (isNum && BigNumber.DEBUG &&\r\n        len > 15 && (v > MAX_SAFE_INTEGER || v !== mathfloor(v))) {\r\n          throw Error\r\n           (tooManyDigits + (x.s * v));\r\n      }\r\n\r\n       // Overflow?\r\n      if ((e = e - i - 1) > MAX_EXP) {\r\n\r\n        // Infinity.\r\n        x.c = x.e = null;\r\n\r\n      // Underflow?\r\n      } else if (e < MIN_EXP) {\r\n\r\n        // Zero.\r\n        x.c = [x.e = 0];\r\n      } else {\r\n        x.e = e;\r\n        x.c = [];\r\n\r\n        // Transform base\r\n\r\n        // e is the base 10 exponent.\r\n        // i is where to slice str to get the first element of the coefficient array.\r\n        i = (e + 1) % LOG_BASE;\r\n        if (e < 0) i += LOG_BASE;  // i < 1\r\n\r\n        if (i < len) {\r\n          if (i) x.c.push(+str.slice(0, i));\r\n\r\n          for (len -= LOG_BASE; i < len;) {\r\n            x.c.push(+str.slice(i, i += LOG_BASE));\r\n          }\r\n\r\n          i = LOG_BASE - (str = str.slice(i)).length;\r\n        } else {\r\n          i -= len;\r\n        }\r\n\r\n        for (; i--; str += '0');\r\n        x.c.push(+str);\r\n      }\r\n    } else {\r\n\r\n      // Zero.\r\n      x.c = [x.e = 0];\r\n    }\r\n  }\r\n\r\n\r\n  // CONSTRUCTOR PROPERTIES\r\n\r\n\r\n  BigNumber.clone = clone;\r\n\r\n  BigNumber.ROUND_UP = 0;\r\n  BigNumber.ROUND_DOWN = 1;\r\n  BigNumber.ROUND_CEIL = 2;\r\n  BigNumber.ROUND_FLOOR = 3;\r\n  BigNumber.ROUND_HALF_UP = 4;\r\n  BigNumber.ROUND_HALF_DOWN = 5;\r\n  BigNumber.ROUND_HALF_EVEN = 6;\r\n  BigNumber.ROUND_HALF_CEIL = 7;\r\n  BigNumber.ROUND_HALF_FLOOR = 8;\r\n  BigNumber.EUCLID = 9;\r\n\r\n\r\n  /*\r\n   * Configure infrequently-changing library-wide settings.\r\n   *\r\n   * Accept an object with the following optional properties (if the value of a property is\r\n   * a number, it must be an integer within the inclusive range stated):\r\n   *\r\n   *   DECIMAL_PLACES   {number}           0 to MAX\r\n   *   ROUNDING_MODE    {number}           0 to 8\r\n   *   EXPONENTIAL_AT   {number|number[]}  -MAX to MAX  or  [-MAX to 0, 0 to MAX]\r\n   *   RANGE            {number|number[]}  -MAX to MAX (not zero)  or  [-MAX to -1, 1 to MAX]\r\n   *   CRYPTO           {boolean}          true or false\r\n   *   MODULO_MODE      {number}           0 to 9\r\n   *   POW_PRECISION       {number}           0 to MAX\r\n   *   ALPHABET         {string}           A string of two or more unique characters which does\r\n   *                                       not contain '.'.\r\n   *   FORMAT           {object}           An object with some of the following properties:\r\n   *     prefix                 {string}\r\n   *     groupSize              {number}\r\n   *     secondaryGroupSize     {number}\r\n   *     groupSeparator         {string}\r\n   *     decimalSeparator       {string}\r\n   *     fractionGroupSize      {number}\r\n   *     fractionGroupSeparator {string}\r\n   *     suffix                 {string}\r\n   *\r\n   * (The values assigned to the above FORMAT object properties are not checked for validity.)\r\n   *\r\n   * E.g.\r\n   * BigNumber.config({ DECIMAL_PLACES : 20, ROUNDING_MODE : 4 })\r\n   *\r\n   * Ignore properties/parameters set to null or undefined, except for ALPHABET.\r\n   *\r\n   * Return an object with the properties current values.\r\n   */\r\n  BigNumber.config = BigNumber.set = function (obj) {\r\n    var p, v;\r\n\r\n    if (obj != null) {\r\n\r\n      if (typeof obj == 'object') {\r\n\r\n        // DECIMAL_PLACES {number} Integer, 0 to MAX inclusive.\r\n        // '[BigNumber Error] DECIMAL_PLACES {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'DECIMAL_PLACES')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, MAX, p);\r\n          DECIMAL_PLACES = v;\r\n        }\r\n\r\n        // ROUNDING_MODE {number} Integer, 0 to 8 inclusive.\r\n        // '[BigNumber Error] ROUNDING_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'ROUNDING_MODE')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, 8, p);\r\n          ROUNDING_MODE = v;\r\n        }\r\n\r\n        // EXPONENTIAL_AT {number|number[]}\r\n        // Integer, -MAX to MAX inclusive or\r\n        // [integer -MAX to 0 inclusive, 0 to MAX inclusive].\r\n        // '[BigNumber Error] EXPONENTIAL_AT {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'EXPONENTIAL_AT')) {\r\n          v = obj[p];\r\n          if (v && v.pop) {\r\n            intCheck(v[0], -MAX, 0, p);\r\n            intCheck(v[1], 0, MAX, p);\r\n            TO_EXP_NEG = v[0];\r\n            TO_EXP_POS = v[1];\r\n          } else {\r\n            intCheck(v, -MAX, MAX, p);\r\n            TO_EXP_NEG = -(TO_EXP_POS = v < 0 ? -v : v);\r\n          }\r\n        }\r\n\r\n        // RANGE {number|number[]} Non-zero integer, -MAX to MAX inclusive or\r\n        // [integer -MAX to -1 inclusive, integer 1 to MAX inclusive].\r\n        // '[BigNumber Error] RANGE {not a primitive number|not an integer|out of range|cannot be zero}: {v}'\r\n        if (obj.hasOwnProperty(p = 'RANGE')) {\r\n          v = obj[p];\r\n          if (v && v.pop) {\r\n            intCheck(v[0], -MAX, -1, p);\r\n            intCheck(v[1], 1, MAX, p);\r\n            MIN_EXP = v[0];\r\n            MAX_EXP = v[1];\r\n          } else {\r\n            intCheck(v, -MAX, MAX, p);\r\n            if (v) {\r\n              MIN_EXP = -(MAX_EXP = v < 0 ? -v : v);\r\n            } else {\r\n              throw Error\r\n               (bignumberError + p + ' cannot be zero: ' + v);\r\n            }\r\n          }\r\n        }\r\n\r\n        // CRYPTO {boolean} true or false.\r\n        // '[BigNumber Error] CRYPTO not true or false: {v}'\r\n        // '[BigNumber Error] crypto unavailable'\r\n        if (obj.hasOwnProperty(p = 'CRYPTO')) {\r\n          v = obj[p];\r\n          if (v === !!v) {\r\n            if (v) {\r\n              if (typeof crypto != 'undefined' && crypto &&\r\n               (crypto.getRandomValues || crypto.randomBytes)) {\r\n                CRYPTO = v;\r\n              } else {\r\n                CRYPTO = !v;\r\n                throw Error\r\n                 (bignumberError + 'crypto unavailable');\r\n              }\r\n            } else {\r\n              CRYPTO = v;\r\n            }\r\n          } else {\r\n            throw Error\r\n             (bignumberError + p + ' not true or false: ' + v);\r\n          }\r\n        }\r\n\r\n        // MODULO_MODE {number} Integer, 0 to 9 inclusive.\r\n        // '[BigNumber Error] MODULO_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'MODULO_MODE')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, 9, p);\r\n          MODULO_MODE = v;\r\n        }\r\n\r\n        // POW_PRECISION {number} Integer, 0 to MAX inclusive.\r\n        // '[BigNumber Error] POW_PRECISION {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'POW_PRECISION')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, MAX, p);\r\n          POW_PRECISION = v;\r\n        }\r\n\r\n        // FORMAT {object}\r\n        // '[BigNumber Error] FORMAT not an object: {v}'\r\n        if (obj.hasOwnProperty(p = 'FORMAT')) {\r\n          v = obj[p];\r\n          if (typeof v == 'object') FORMAT = v;\r\n          else throw Error\r\n           (bignumberError + p + ' not an object: ' + v);\r\n        }\r\n\r\n        // ALPHABET {string}\r\n        // '[BigNumber Error] ALPHABET invalid: {v}'\r\n        if (obj.hasOwnProperty(p = 'ALPHABET')) {\r\n          v = obj[p];\r\n\r\n          // Disallow if less than two characters,\r\n          // or if it contains '+', '-', '.', whitespace, or a repeated character.\r\n          if (typeof v == 'string' && !/^.?$|[+\\-.\\s]|(.).*\\1/.test(v)) {\r\n            alphabetHasNormalDecimalDigits = v.slice(0, 10) == '0123456789';\r\n            ALPHABET = v;\r\n          } else {\r\n            throw Error\r\n             (bignumberError + p + ' invalid: ' + v);\r\n          }\r\n        }\r\n\r\n      } else {\r\n\r\n        // '[BigNumber Error] Object expected: {v}'\r\n        throw Error\r\n         (bignumberError + 'Object expected: ' + obj);\r\n      }\r\n    }\r\n\r\n    return {\r\n      DECIMAL_PLACES: DECIMAL_PLACES,\r\n      ROUNDING_MODE: ROUNDING_MODE,\r\n      EXPONENTIAL_AT: [TO_EXP_NEG, TO_EXP_POS],\r\n      RANGE: [MIN_EXP, MAX_EXP],\r\n      CRYPTO: CRYPTO,\r\n      MODULO_MODE: MODULO_MODE,\r\n      POW_PRECISION: POW_PRECISION,\r\n      FORMAT: FORMAT,\r\n      ALPHABET: ALPHABET\r\n    };\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if v is a BigNumber instance, otherwise return false.\r\n   *\r\n   * If BigNumber.DEBUG is true, throw if a BigNumber instance is not well-formed.\r\n   *\r\n   * v {any}\r\n   *\r\n   * '[BigNumber Error] Invalid BigNumber: {v}'\r\n   */\r\n  BigNumber.isBigNumber = function (v) {\r\n    if (!v || v._isBigNumber !== true) return false;\r\n    if (!BigNumber.DEBUG) return true;\r\n\r\n    var i, n,\r\n      c = v.c,\r\n      e = v.e,\r\n      s = v.s;\r\n\r\n    out: if ({}.toString.call(c) == '[object Array]') {\r\n\r\n      if ((s === 1 || s === -1) && e >= -MAX && e <= MAX && e === mathfloor(e)) {\r\n\r\n        // If the first element is zero, the BigNumber value must be zero.\r\n        if (c[0] === 0) {\r\n          if (e === 0 && c.length === 1) return true;\r\n          break out;\r\n        }\r\n\r\n        // Calculate number of digits that c[0] should have, based on the exponent.\r\n        i = (e + 1) % LOG_BASE;\r\n        if (i < 1) i += LOG_BASE;\r\n\r\n        // Calculate number of digits of c[0].\r\n        //if (Math.ceil(Math.log(c[0] + 1) / Math.LN10) == i) {\r\n        if (String(c[0]).length == i) {\r\n\r\n          for (i = 0; i < c.length; i++) {\r\n            n = c[i];\r\n            if (n < 0 || n >= BASE || n !== mathfloor(n)) break out;\r\n          }\r\n\r\n          // Last element cannot be zero, unless it is the only element.\r\n          if (n !== 0) return true;\r\n        }\r\n      }\r\n\r\n    // Infinity/NaN\r\n    } else if (c === null && e === null && (s === null || s === 1 || s === -1)) {\r\n      return true;\r\n    }\r\n\r\n    throw Error\r\n      (bignumberError + 'Invalid BigNumber: ' + v);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the maximum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.maximum = BigNumber.max = function () {\r\n    return maxOrMin(arguments, -1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the minimum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.minimum = BigNumber.min = function () {\r\n    return maxOrMin(arguments, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber with a random value equal to or greater than 0 and less than 1,\r\n   * and with dp, or DECIMAL_PLACES if dp is omitted, decimal places (or less if trailing\r\n   * zeros are produced).\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp}'\r\n   * '[BigNumber Error] crypto unavailable'\r\n   */\r\n  BigNumber.random = (function () {\r\n    var pow2_53 = 0x20000000000000;\r\n\r\n    // Return a 53 bit integer n, where 0 <= n < 9007199254740992.\r\n    // Check if Math.random() produces more than 32 bits of randomness.\r\n    // If it does, assume at least 53 bits are produced, otherwise assume at least 30 bits.\r\n    // 0x40000000 is 2^30, 0x800000 is 2^23, 0x1fffff is 2^21 - 1.\r\n    var random53bitInt = (Math.random() * pow2_53) & 0x1fffff\r\n     ? function () { return mathfloor(Math.random() * pow2_53); }\r\n     : function () { return ((Math.random() * 0x40000000 | 0) * 0x800000) +\r\n       (Math.random() * 0x800000 | 0); };\r\n\r\n    return function (dp) {\r\n      var a, b, e, k, v,\r\n        i = 0,\r\n        c = [],\r\n        rand = new BigNumber(ONE);\r\n\r\n      if (dp == null) dp = DECIMAL_PLACES;\r\n      else intCheck(dp, 0, MAX);\r\n\r\n      k = mathceil(dp / LOG_BASE);\r\n\r\n      if (CRYPTO) {\r\n\r\n        // Browsers supporting crypto.getRandomValues.\r\n        if (crypto.getRandomValues) {\r\n\r\n          a = crypto.getRandomValues(new Uint32Array(k *= 2));\r\n\r\n          for (; i < k;) {\r\n\r\n            // 53 bits:\r\n            // ((Math.pow(2, 32) - 1) * Math.pow(2, 21)).toString(2)\r\n            // 11111 11111111 11111111 11111111 11100000 00000000 00000000\r\n            // ((Math.pow(2, 32) - 1) >>> 11).toString(2)\r\n            //                                     11111 11111111 11111111\r\n            // 0x20000 is 2^21.\r\n            v = a[i] * 0x20000 + (a[i + 1] >>> 11);\r\n\r\n            // Rejection sampling:\r\n            // 0 <= v < 9007199254740992\r\n            // Probability that v >= 9e15, is\r\n            // 7199254740992 / 9007199254740992 ~= 0.0008, i.e. 1 in 1251\r\n            if (v >= 9e15) {\r\n              b = crypto.getRandomValues(new Uint32Array(2));\r\n              a[i] = b[0];\r\n              a[i + 1] = b[1];\r\n            } else {\r\n\r\n              // 0 <= v <= 8999999999999999\r\n              // 0 <= (v % 1e14) <= 99999999999999\r\n              c.push(v % 1e14);\r\n              i += 2;\r\n            }\r\n          }\r\n          i = k / 2;\r\n\r\n        // Node.js supporting crypto.randomBytes.\r\n        } else if (crypto.randomBytes) {\r\n\r\n          // buffer\r\n          a = crypto.randomBytes(k *= 7);\r\n\r\n          for (; i < k;) {\r\n\r\n            // 0x1000000000000 is 2^48, 0x10000000000 is 2^40\r\n            // 0x100000000 is 2^32, 0x1000000 is 2^24\r\n            // 11111 11111111 11111111 11111111 11111111 11111111 11111111\r\n            // 0 <= v < 9007199254740992\r\n            v = ((a[i] & 31) * 0x1000000000000) + (a[i + 1] * 0x10000000000) +\r\n               (a[i + 2] * 0x100000000) + (a[i + 3] * 0x1000000) +\r\n               (a[i + 4] << 16) + (a[i + 5] << 8) + a[i + 6];\r\n\r\n            if (v >= 9e15) {\r\n              crypto.randomBytes(7).copy(a, i);\r\n            } else {\r\n\r\n              // 0 <= (v % 1e14) <= 99999999999999\r\n              c.push(v % 1e14);\r\n              i += 7;\r\n            }\r\n          }\r\n          i = k / 7;\r\n        } else {\r\n          CRYPTO = false;\r\n          throw Error\r\n           (bignumberError + 'crypto unavailable');\r\n        }\r\n      }\r\n\r\n      // Use Math.random.\r\n      if (!CRYPTO) {\r\n\r\n        for (; i < k;) {\r\n          v = random53bitInt();\r\n          if (v < 9e15) c[i++] = v % 1e14;\r\n        }\r\n      }\r\n\r\n      k = c[--i];\r\n      dp %= LOG_BASE;\r\n\r\n      // Convert trailing digits to zeros according to dp.\r\n      if (k && dp) {\r\n        v = POWS_TEN[LOG_BASE - dp];\r\n        c[i] = mathfloor(k / v) * v;\r\n      }\r\n\r\n      // Remove trailing elements which are zero.\r\n      for (; c[i] === 0; c.pop(), i--);\r\n\r\n      // Zero?\r\n      if (i < 0) {\r\n        c = [e = 0];\r\n      } else {\r\n\r\n        // Remove leading elements which are zero and adjust exponent accordingly.\r\n        for (e = -1 ; c[0] === 0; c.splice(0, 1), e -= LOG_BASE);\r\n\r\n        // Count the digits of the first element of c to determine leading zeros, and...\r\n        for (i = 1, v = c[0]; v >= 10; v /= 10, i++);\r\n\r\n        // adjust the exponent accordingly.\r\n        if (i < LOG_BASE) e -= LOG_BASE - i;\r\n      }\r\n\r\n      rand.e = e;\r\n      rand.c = c;\r\n      return rand;\r\n    };\r\n  })();\r\n\r\n\r\n   /*\r\n   * Return a BigNumber whose value is the sum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.sum = function () {\r\n    var i = 1,\r\n      args = arguments,\r\n      sum = new BigNumber(args[0]);\r\n    for (; i < args.length;) sum = sum.plus(args[i++]);\r\n    return sum;\r\n  };\r\n\r\n\r\n  // PRIVATE FUNCTIONS\r\n\r\n\r\n  // Called by BigNumber and BigNumber.prototype.toString.\r\n  convertBase = (function () {\r\n    var decimal = '0123456789';\r\n\r\n    /*\r\n     * Convert string of baseIn to an array of numbers of baseOut.\r\n     * Eg. toBaseOut('255', 10, 16) returns [15, 15].\r\n     * Eg. toBaseOut('ff', 16, 10) returns [2, 5, 5].\r\n     */\r\n    function toBaseOut(str, baseIn, baseOut, alphabet) {\r\n      var j,\r\n        arr = [0],\r\n        arrL,\r\n        i = 0,\r\n        len = str.length;\r\n\r\n      for (; i < len;) {\r\n        for (arrL = arr.length; arrL--; arr[arrL] *= baseIn);\r\n\r\n        arr[0] += alphabet.indexOf(str.charAt(i++));\r\n\r\n        for (j = 0; j < arr.length; j++) {\r\n\r\n          if (arr[j] > baseOut - 1) {\r\n            if (arr[j + 1] == null) arr[j + 1] = 0;\r\n            arr[j + 1] += arr[j] / baseOut | 0;\r\n            arr[j] %= baseOut;\r\n          }\r\n        }\r\n      }\r\n\r\n      return arr.reverse();\r\n    }\r\n\r\n    // Convert a numeric string of baseIn to a numeric string of baseOut.\r\n    // If the caller is toString, we are converting from base 10 to baseOut.\r\n    // If the caller is BigNumber, we are converting from baseIn to base 10.\r\n    return function (str, baseIn, baseOut, sign, callerIsToString) {\r\n      var alphabet, d, e, k, r, x, xc, y,\r\n        i = str.indexOf('.'),\r\n        dp = DECIMAL_PLACES,\r\n        rm = ROUNDING_MODE;\r\n\r\n      // Non-integer.\r\n      if (i >= 0) {\r\n        k = POW_PRECISION;\r\n\r\n        // Unlimited precision.\r\n        POW_PRECISION = 0;\r\n        str = str.replace('.', '');\r\n        y = new BigNumber(baseIn);\r\n        x = y.pow(str.length - i);\r\n        POW_PRECISION = k;\r\n\r\n        // Convert str as if an integer, then restore the fraction part by dividing the\r\n        // result by its base raised to a power.\r\n\r\n        y.c = toBaseOut(toFixedPoint(coeffToString(x.c), x.e, '0'),\r\n         10, baseOut, decimal);\r\n        y.e = y.c.length;\r\n      }\r\n\r\n      // Convert the number as integer.\r\n\r\n      xc = toBaseOut(str, baseIn, baseOut, callerIsToString\r\n       ? (alphabet = ALPHABET, decimal)\r\n       : (alphabet = decimal, ALPHABET));\r\n\r\n      // xc now represents str as an integer and converted to baseOut. e is the exponent.\r\n      e = k = xc.length;\r\n\r\n      // Remove trailing zeros.\r\n      for (; xc[--k] == 0; xc.pop());\r\n\r\n      // Zero?\r\n      if (!xc[0]) return alphabet.charAt(0);\r\n\r\n      // Does str represent an integer? If so, no need for the division.\r\n      if (i < 0) {\r\n        --e;\r\n      } else {\r\n        x.c = xc;\r\n        x.e = e;\r\n\r\n        // The sign is needed for correct rounding.\r\n        x.s = sign;\r\n        x = div(x, y, dp, rm, baseOut);\r\n        xc = x.c;\r\n        r = x.r;\r\n        e = x.e;\r\n      }\r\n\r\n      // xc now represents str converted to baseOut.\r\n\r\n      // The index of the rounding digit.\r\n      d = e + dp + 1;\r\n\r\n      // The rounding digit: the digit to the right of the digit that may be rounded up.\r\n      i = xc[d];\r\n\r\n      // Look at the rounding digits and mode to determine whether to round up.\r\n\r\n      k = baseOut / 2;\r\n      r = r || d < 0 || xc[d + 1] != null;\r\n\r\n      r = rm < 4 ? (i != null || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n            : i > k || i == k &&(rm == 4 || r || rm == 6 && xc[d - 1] & 1 ||\r\n             rm == (x.s < 0 ? 8 : 7));\r\n\r\n      // If the index of the rounding digit is not greater than zero, or xc represents\r\n      // zero, then the result of the base conversion is zero or, if rounding up, a value\r\n      // such as 0.00001.\r\n      if (d < 1 || !xc[0]) {\r\n\r\n        // 1^-dp or 0\r\n        str = r ? toFixedPoint(alphabet.charAt(1), -dp, alphabet.charAt(0)) : alphabet.charAt(0);\r\n      } else {\r\n\r\n        // Truncate xc to the required number of decimal places.\r\n        xc.length = d;\r\n\r\n        // Round up?\r\n        if (r) {\r\n\r\n          // Rounding up may mean the previous digit has to be rounded up and so on.\r\n          for (--baseOut; ++xc[--d] > baseOut;) {\r\n            xc[d] = 0;\r\n\r\n            if (!d) {\r\n              ++e;\r\n              xc = [1].concat(xc);\r\n            }\r\n          }\r\n        }\r\n\r\n        // Determine trailing zeros.\r\n        for (k = xc.length; !xc[--k];);\r\n\r\n        // E.g. [4, 11, 15] becomes 4bf.\r\n        for (i = 0, str = ''; i <= k; str += alphabet.charAt(xc[i++]));\r\n\r\n        // Add leading zeros, decimal point and trailing zeros as required.\r\n        str = toFixedPoint(str, e, alphabet.charAt(0));\r\n      }\r\n\r\n      // The caller will add the sign.\r\n      return str;\r\n    };\r\n  })();\r\n\r\n\r\n  // Perform division in the specified base. Called by div and convertBase.\r\n  div = (function () {\r\n\r\n    // Assume non-zero x and k.\r\n    function multiply(x, k, base) {\r\n      var m, temp, xlo, xhi,\r\n        carry = 0,\r\n        i = x.length,\r\n        klo = k % SQRT_BASE,\r\n        khi = k / SQRT_BASE | 0;\r\n\r\n      for (x = x.slice(); i--;) {\r\n        xlo = x[i] % SQRT_BASE;\r\n        xhi = x[i] / SQRT_BASE | 0;\r\n        m = khi * xlo + xhi * klo;\r\n        temp = klo * xlo + ((m % SQRT_BASE) * SQRT_BASE) + carry;\r\n        carry = (temp / base | 0) + (m / SQRT_BASE | 0) + khi * xhi;\r\n        x[i] = temp % base;\r\n      }\r\n\r\n      if (carry) x = [carry].concat(x);\r\n\r\n      return x;\r\n    }\r\n\r\n    function compare(a, b, aL, bL) {\r\n      var i, cmp;\r\n\r\n      if (aL != bL) {\r\n        cmp = aL > bL ? 1 : -1;\r\n      } else {\r\n\r\n        for (i = cmp = 0; i < aL; i++) {\r\n\r\n          if (a[i] != b[i]) {\r\n            cmp = a[i] > b[i] ? 1 : -1;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      return cmp;\r\n    }\r\n\r\n    function subtract(a, b, aL, base) {\r\n      var i = 0;\r\n\r\n      // Subtract b from a.\r\n      for (; aL--;) {\r\n        a[aL] -= i;\r\n        i = a[aL] < b[aL] ? 1 : 0;\r\n        a[aL] = i * base + a[aL] - b[aL];\r\n      }\r\n\r\n      // Remove leading zeros.\r\n      for (; !a[0] && a.length > 1; a.splice(0, 1));\r\n    }\r\n\r\n    // x: dividend, y: divisor.\r\n    return function (x, y, dp, rm, base) {\r\n      var cmp, e, i, more, n, prod, prodL, q, qc, rem, remL, rem0, xi, xL, yc0,\r\n        yL, yz,\r\n        s = x.s == y.s ? 1 : -1,\r\n        xc = x.c,\r\n        yc = y.c;\r\n\r\n      // Either NaN, Infinity or 0?\r\n      if (!xc || !xc[0] || !yc || !yc[0]) {\r\n\r\n        return new BigNumber(\r\n\r\n         // Return NaN if either NaN, or both Infinity or 0.\r\n         !x.s || !y.s || (xc ? yc && xc[0] == yc[0] : !yc) ? NaN :\r\n\r\n          // Return 0 if x is 0 or y is Infinity, or return Infinity as y is 0.\r\n          xc && xc[0] == 0 || !yc ? s * 0 : s / 0\r\n       );\r\n      }\r\n\r\n      q = new BigNumber(s);\r\n      qc = q.c = [];\r\n      e = x.e - y.e;\r\n      s = dp + e + 1;\r\n\r\n      if (!base) {\r\n        base = BASE;\r\n        e = bitFloor(x.e / LOG_BASE) - bitFloor(y.e / LOG_BASE);\r\n        s = s / LOG_BASE | 0;\r\n      }\r\n\r\n      // Result exponent may be one less then the current value of e.\r\n      // The coefficients of the BigNumbers from convertBase may have trailing zeros.\r\n      for (i = 0; yc[i] == (xc[i] || 0); i++);\r\n\r\n      if (yc[i] > (xc[i] || 0)) e--;\r\n\r\n      if (s < 0) {\r\n        qc.push(1);\r\n        more = true;\r\n      } else {\r\n        xL = xc.length;\r\n        yL = yc.length;\r\n        i = 0;\r\n        s += 2;\r\n\r\n        // Normalise xc and yc so highest order digit of yc is >= base / 2.\r\n\r\n        n = mathfloor(base / (yc[0] + 1));\r\n\r\n        // Not necessary, but to handle odd bases where yc[0] == (base / 2) - 1.\r\n        // if (n > 1 || n++ == 1 && yc[0] < base / 2) {\r\n        if (n > 1) {\r\n          yc = multiply(yc, n, base);\r\n          xc = multiply(xc, n, base);\r\n          yL = yc.length;\r\n          xL = xc.length;\r\n        }\r\n\r\n        xi = yL;\r\n        rem = xc.slice(0, yL);\r\n        remL = rem.length;\r\n\r\n        // Add zeros to make remainder as long as divisor.\r\n        for (; remL < yL; rem[remL++] = 0);\r\n        yz = yc.slice();\r\n        yz = [0].concat(yz);\r\n        yc0 = yc[0];\r\n        if (yc[1] >= base / 2) yc0++;\r\n        // Not necessary, but to prevent trial digit n > base, when using base 3.\r\n        // else if (base == 3 && yc0 == 1) yc0 = 1 + 1e-15;\r\n\r\n        do {\r\n          n = 0;\r\n\r\n          // Compare divisor and remainder.\r\n          cmp = compare(yc, rem, yL, remL);\r\n\r\n          // If divisor < remainder.\r\n          if (cmp < 0) {\r\n\r\n            // Calculate trial digit, n.\r\n\r\n            rem0 = rem[0];\r\n            if (yL != remL) rem0 = rem0 * base + (rem[1] || 0);\r\n\r\n            // n is how many times the divisor goes into the current remainder.\r\n            n = mathfloor(rem0 / yc0);\r\n\r\n            //  Algorithm:\r\n            //  product = divisor multiplied by trial digit (n).\r\n            //  Compare product and remainder.\r\n            //  If product is greater than remainder:\r\n            //    Subtract divisor from product, decrement trial digit.\r\n            //  Subtract product from remainder.\r\n            //  If product was less than remainder at the last compare:\r\n            //    Compare new remainder and divisor.\r\n            //    If remainder is greater than divisor:\r\n            //      Subtract divisor from remainder, increment trial digit.\r\n\r\n            if (n > 1) {\r\n\r\n              // n may be > base only when base is 3.\r\n              if (n >= base) n = base - 1;\r\n\r\n              // product = divisor * trial digit.\r\n              prod = multiply(yc, n, base);\r\n              prodL = prod.length;\r\n              remL = rem.length;\r\n\r\n              // Compare product and remainder.\r\n              // If product > remainder then trial digit n too high.\r\n              // n is 1 too high about 5% of the time, and is not known to have\r\n              // ever been more than 1 too high.\r\n              while (compare(prod, rem, prodL, remL) == 1) {\r\n                n--;\r\n\r\n                // Subtract divisor from product.\r\n                subtract(prod, yL < prodL ? yz : yc, prodL, base);\r\n                prodL = prod.length;\r\n                cmp = 1;\r\n              }\r\n            } else {\r\n\r\n              // n is 0 or 1, cmp is -1.\r\n              // If n is 0, there is no need to compare yc and rem again below,\r\n              // so change cmp to 1 to avoid it.\r\n              // If n is 1, leave cmp as -1, so yc and rem are compared again.\r\n              if (n == 0) {\r\n\r\n                // divisor < remainder, so n must be at least 1.\r\n                cmp = n = 1;\r\n              }\r\n\r\n              // product = divisor\r\n              prod = yc.slice();\r\n              prodL = prod.length;\r\n            }\r\n\r\n            if (prodL < remL) prod = [0].concat(prod);\r\n\r\n            // Subtract product from remainder.\r\n            subtract(rem, prod, remL, base);\r\n            remL = rem.length;\r\n\r\n             // If product was < remainder.\r\n            if (cmp == -1) {\r\n\r\n              // Compare divisor and new remainder.\r\n              // If divisor < new remainder, subtract divisor from remainder.\r\n              // Trial digit n too low.\r\n              // n is 1 too low about 5% of the time, and very rarely 2 too low.\r\n              while (compare(yc, rem, yL, remL) < 1) {\r\n                n++;\r\n\r\n                // Subtract divisor from remainder.\r\n                subtract(rem, yL < remL ? yz : yc, remL, base);\r\n                remL = rem.length;\r\n              }\r\n            }\r\n          } else if (cmp === 0) {\r\n            n++;\r\n            rem = [0];\r\n          } // else cmp === 1 and n will be 0\r\n\r\n          // Add the next digit, n, to the result array.\r\n          qc[i++] = n;\r\n\r\n          // Update the remainder.\r\n          if (rem[0]) {\r\n            rem[remL++] = xc[xi] || 0;\r\n          } else {\r\n            rem = [xc[xi]];\r\n            remL = 1;\r\n          }\r\n        } while ((xi++ < xL || rem[0] != null) && s--);\r\n\r\n        more = rem[0] != null;\r\n\r\n        // Leading zero?\r\n        if (!qc[0]) qc.splice(0, 1);\r\n      }\r\n\r\n      if (base == BASE) {\r\n\r\n        // To calculate q.e, first get the number of digits of qc[0].\r\n        for (i = 1, s = qc[0]; s >= 10; s /= 10, i++);\r\n\r\n        round(q, dp + (q.e = i + e * LOG_BASE - 1) + 1, rm, more);\r\n\r\n      // Caller is convertBase.\r\n      } else {\r\n        q.e = e;\r\n        q.r = +more;\r\n      }\r\n\r\n      return q;\r\n    };\r\n  })();\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of BigNumber n in fixed-point or exponential\r\n   * notation rounded to the specified decimal places or significant digits.\r\n   *\r\n   * n: a BigNumber.\r\n   * i: the index of the last digit required (i.e. the digit that may be rounded up).\r\n   * rm: the rounding mode.\r\n   * id: 1 (toExponential) or 2 (toPrecision).\r\n   */\r\n  function format(n, i, rm, id) {\r\n    var c0, e, ne, len, str;\r\n\r\n    if (rm == null) rm = ROUNDING_MODE;\r\n    else intCheck(rm, 0, 8);\r\n\r\n    if (!n.c) return n.toString();\r\n\r\n    c0 = n.c[0];\r\n    ne = n.e;\r\n\r\n    if (i == null) {\r\n      str = coeffToString(n.c);\r\n      str = id == 1 || id == 2 && (ne <= TO_EXP_NEG || ne >= TO_EXP_POS)\r\n       ? toExponential(str, ne)\r\n       : toFixedPoint(str, ne, '0');\r\n    } else {\r\n      n = round(new BigNumber(n), i, rm);\r\n\r\n      // n.e may have changed if the value was rounded up.\r\n      e = n.e;\r\n\r\n      str = coeffToString(n.c);\r\n      len = str.length;\r\n\r\n      // toPrecision returns exponential notation if the number of significant digits\r\n      // specified is less than the number of digits necessary to represent the integer\r\n      // part of the value in fixed-point notation.\r\n\r\n      // Exponential notation.\r\n      if (id == 1 || id == 2 && (i <= e || e <= TO_EXP_NEG)) {\r\n\r\n        // Append zeros?\r\n        for (; len < i; str += '0', len++);\r\n        str = toExponential(str, e);\r\n\r\n      // Fixed-point notation.\r\n      } else {\r\n        i -= ne + (id === 2 && e > ne);\r\n        str = toFixedPoint(str, e, '0');\r\n\r\n        // Append zeros?\r\n        if (e + 1 > len) {\r\n          if (--i > 0) for (str += '.'; i--; str += '0');\r\n        } else {\r\n          i += e - len;\r\n          if (i > 0) {\r\n            if (e + 1 == len) str += '.';\r\n            for (; i--; str += '0');\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return n.s < 0 && c0 ? '-' + str : str;\r\n  }\r\n\r\n\r\n  // Handle BigNumber.max and BigNumber.min.\r\n  // If any number is NaN, return NaN.\r\n  function maxOrMin(args, n) {\r\n    var k, y,\r\n      i = 1,\r\n      x = new BigNumber(args[0]);\r\n\r\n    for (; i < args.length; i++) {\r\n      y = new BigNumber(args[i]);\r\n      if (!y.s || (k = compare(x, y)) === n || k === 0 && x.s === n) {\r\n        x = y;\r\n      }\r\n    }\r\n\r\n    return x;\r\n  }\r\n\r\n\r\n  /*\r\n   * Strip trailing zeros, calculate base 10 exponent and check against MIN_EXP and MAX_EXP.\r\n   * Called by minus, plus and times.\r\n   */\r\n  function normalise(n, c, e) {\r\n    var i = 1,\r\n      j = c.length;\r\n\r\n     // Remove trailing zeros.\r\n    for (; !c[--j]; c.pop());\r\n\r\n    // Calculate the base 10 exponent. First get the number of digits of c[0].\r\n    for (j = c[0]; j >= 10; j /= 10, i++);\r\n\r\n    // Overflow?\r\n    if ((e = i + e * LOG_BASE - 1) > MAX_EXP) {\r\n\r\n      // Infinity.\r\n      n.c = n.e = null;\r\n\r\n    // Underflow?\r\n    } else if (e < MIN_EXP) {\r\n\r\n      // Zero.\r\n      n.c = [n.e = 0];\r\n    } else {\r\n      n.e = e;\r\n      n.c = c;\r\n    }\r\n\r\n    return n;\r\n  }\r\n\r\n\r\n  // Handle values that fail the validity test in BigNumber.\r\n  parseNumeric = (function () {\r\n    var basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i,\r\n      dotAfter = /^([^.]+)\\.$/,\r\n      dotBefore = /^\\.([^.]+)$/,\r\n      isInfinityOrNaN = /^-?(Infinity|NaN)$/,\r\n      whitespaceOrPlus = /^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g;\r\n\r\n    return function (x, str, isNum, b) {\r\n      var base,\r\n        s = isNum ? str : str.replace(whitespaceOrPlus, '');\r\n\r\n      // No exception on Infinity or NaN.\r\n      if (isInfinityOrNaN.test(s)) {\r\n        x.s = isNaN(s) ? null : s < 0 ? -1 : 1;\r\n      } else {\r\n        if (!isNum) {\r\n\r\n          // basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i\r\n          s = s.replace(basePrefix, function (m, p1, p2) {\r\n            base = (p2 = p2.toLowerCase()) == 'x' ? 16 : p2 == 'b' ? 2 : 8;\r\n            return !b || b == base ? p1 : m;\r\n          });\r\n\r\n          if (b) {\r\n            base = b;\r\n\r\n            // E.g. '1.' to '1', '.1' to '0.1'\r\n            s = s.replace(dotAfter, '$1').replace(dotBefore, '0.$1');\r\n          }\r\n\r\n          if (str != s) return new BigNumber(s, base);\r\n        }\r\n\r\n        // '[BigNumber Error] Not a number: {n}'\r\n        // '[BigNumber Error] Not a base {b} number: {n}'\r\n        if (BigNumber.DEBUG) {\r\n          throw Error\r\n            (bignumberError + 'Not a' + (b ? ' base ' + b : '') + ' number: ' + str);\r\n        }\r\n\r\n        // NaN\r\n        x.s = null;\r\n      }\r\n\r\n      x.c = x.e = null;\r\n    }\r\n  })();\r\n\r\n\r\n  /*\r\n   * Round x to sd significant digits using rounding mode rm. Check for over/under-flow.\r\n   * If r is truthy, it is known that there are more digits after the rounding digit.\r\n   */\r\n  function round(x, sd, rm, r) {\r\n    var d, i, j, k, n, ni, rd,\r\n      xc = x.c,\r\n      pows10 = POWS_TEN;\r\n\r\n    // if x is not Infinity or NaN...\r\n    if (xc) {\r\n\r\n      // rd is the rounding digit, i.e. the digit after the digit that may be rounded up.\r\n      // n is a base 1e14 number, the value of the element of array x.c containing rd.\r\n      // ni is the index of n within x.c.\r\n      // d is the number of digits of n.\r\n      // i is the index of rd within n including leading zeros.\r\n      // j is the actual index of rd within n (if < 0, rd is a leading zero).\r\n      out: {\r\n\r\n        // Get the number of digits of the first element of xc.\r\n        for (d = 1, k = xc[0]; k >= 10; k /= 10, d++);\r\n        i = sd - d;\r\n\r\n        // If the rounding digit is in the first element of xc...\r\n        if (i < 0) {\r\n          i += LOG_BASE;\r\n          j = sd;\r\n          n = xc[ni = 0];\r\n\r\n          // Get the rounding digit at index j of n.\r\n          rd = mathfloor(n / pows10[d - j - 1] % 10);\r\n        } else {\r\n          ni = mathceil((i + 1) / LOG_BASE);\r\n\r\n          if (ni >= xc.length) {\r\n\r\n            if (r) {\r\n\r\n              // Needed by sqrt.\r\n              for (; xc.length <= ni; xc.push(0));\r\n              n = rd = 0;\r\n              d = 1;\r\n              i %= LOG_BASE;\r\n              j = i - LOG_BASE + 1;\r\n            } else {\r\n              break out;\r\n            }\r\n          } else {\r\n            n = k = xc[ni];\r\n\r\n            // Get the number of digits of n.\r\n            for (d = 1; k >= 10; k /= 10, d++);\r\n\r\n            // Get the index of rd within n.\r\n            i %= LOG_BASE;\r\n\r\n            // Get the index of rd within n, adjusted for leading zeros.\r\n            // The number of leading zeros of n is given by LOG_BASE - d.\r\n            j = i - LOG_BASE + d;\r\n\r\n            // Get the rounding digit at index j of n.\r\n            rd = j < 0 ? 0 : mathfloor(n / pows10[d - j - 1] % 10);\r\n          }\r\n        }\r\n\r\n        r = r || sd < 0 ||\r\n\r\n        // Are there any non-zero digits after the rounding digit?\r\n        // The expression  n % pows10[d - j - 1]  returns all digits of n to the right\r\n        // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.\r\n         xc[ni + 1] != null || (j < 0 ? n : n % pows10[d - j - 1]);\r\n\r\n        r = rm < 4\r\n         ? (rd || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n         : rd > 5 || rd == 5 && (rm == 4 || r || rm == 6 &&\r\n\r\n          // Check whether the digit to the left of the rounding digit is odd.\r\n          ((i > 0 ? j > 0 ? n / pows10[d - j] : 0 : xc[ni - 1]) % 10) & 1 ||\r\n           rm == (x.s < 0 ? 8 : 7));\r\n\r\n        if (sd < 1 || !xc[0]) {\r\n          xc.length = 0;\r\n\r\n          if (r) {\r\n\r\n            // Convert sd to decimal places.\r\n            sd -= x.e + 1;\r\n\r\n            // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n            xc[0] = pows10[(LOG_BASE - sd % LOG_BASE) % LOG_BASE];\r\n            x.e = -sd || 0;\r\n          } else {\r\n\r\n            // Zero.\r\n            xc[0] = x.e = 0;\r\n          }\r\n\r\n          return x;\r\n        }\r\n\r\n        // Remove excess digits.\r\n        if (i == 0) {\r\n          xc.length = ni;\r\n          k = 1;\r\n          ni--;\r\n        } else {\r\n          xc.length = ni + 1;\r\n          k = pows10[LOG_BASE - i];\r\n\r\n          // E.g. 56700 becomes 56000 if 7 is the rounding digit.\r\n          // j > 0 means i > number of leading zeros of n.\r\n          xc[ni] = j > 0 ? mathfloor(n / pows10[d - j] % pows10[j]) * k : 0;\r\n        }\r\n\r\n        // Round up?\r\n        if (r) {\r\n\r\n          for (; ;) {\r\n\r\n            // If the digit to be rounded up is in the first element of xc...\r\n            if (ni == 0) {\r\n\r\n              // i will be the length of xc[0] before k is added.\r\n              for (i = 1, j = xc[0]; j >= 10; j /= 10, i++);\r\n              j = xc[0] += k;\r\n              for (k = 1; j >= 10; j /= 10, k++);\r\n\r\n              // if i != k the length has increased.\r\n              if (i != k) {\r\n                x.e++;\r\n                if (xc[0] == BASE) xc[0] = 1;\r\n              }\r\n\r\n              break;\r\n            } else {\r\n              xc[ni] += k;\r\n              if (xc[ni] != BASE) break;\r\n              xc[ni--] = 0;\r\n              k = 1;\r\n            }\r\n          }\r\n        }\r\n\r\n        // Remove trailing zeros.\r\n        for (i = xc.length; xc[--i] === 0; xc.pop());\r\n      }\r\n\r\n      // Overflow? Infinity.\r\n      if (x.e > MAX_EXP) {\r\n        x.c = x.e = null;\r\n\r\n      // Underflow? Zero.\r\n      } else if (x.e < MIN_EXP) {\r\n        x.c = [x.e = 0];\r\n      }\r\n    }\r\n\r\n    return x;\r\n  }\r\n\r\n\r\n  function valueOf(n) {\r\n    var str,\r\n      e = n.e;\r\n\r\n    if (e === null) return n.toString();\r\n\r\n    str = coeffToString(n.c);\r\n\r\n    str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n      ? toExponential(str, e)\r\n      : toFixedPoint(str, e, '0');\r\n\r\n    return n.s < 0 ? '-' + str : str;\r\n  }\r\n\r\n\r\n  // PROTOTYPE/INSTANCE METHODS\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the absolute value of this BigNumber.\r\n   */\r\n  P.absoluteValue = P.abs = function () {\r\n    var x = new BigNumber(this);\r\n    if (x.s < 0) x.s = 1;\r\n    return x;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return\r\n   *   1 if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n   *   -1 if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n   *   0 if they have the same value,\r\n   *   or null if the value of either is NaN.\r\n   */\r\n  P.comparedTo = function (y, b) {\r\n    return compare(this, new BigNumber(y, b));\r\n  };\r\n\r\n\r\n  /*\r\n   * If dp is undefined or null or true or false, return the number of decimal places of the\r\n   * value of this BigNumber, or null if the value of this BigNumber is Infinity or NaN.\r\n   *\r\n   * Otherwise, if dp is a number, return a new BigNumber whose value is the value of this\r\n   * BigNumber rounded to a maximum of dp decimal places using rounding mode rm, or\r\n   * ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * [dp] {number} Decimal places: integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.decimalPlaces = P.dp = function (dp, rm) {\r\n    var c, n, v,\r\n      x = this;\r\n\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      return round(new BigNumber(x), dp + x.e + 1, rm);\r\n    }\r\n\r\n    if (!(c = x.c)) return null;\r\n    n = ((v = c.length - 1) - bitFloor(this.e / LOG_BASE)) * LOG_BASE;\r\n\r\n    // Subtract the number of trailing zeros of the last number.\r\n    if (v = c[v]) for (; v % 10 == 0; v /= 10, n--);\r\n    if (n < 0) n = 0;\r\n\r\n    return n;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n / 0 = I\r\n   *  n / N = N\r\n   *  n / I = 0\r\n   *  0 / n = 0\r\n   *  0 / 0 = N\r\n   *  0 / N = N\r\n   *  0 / I = 0\r\n   *  N / n = N\r\n   *  N / 0 = N\r\n   *  N / N = N\r\n   *  N / I = N\r\n   *  I / n = I\r\n   *  I / 0 = I\r\n   *  I / N = N\r\n   *  I / I = N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber divided by the value of\r\n   * BigNumber(y, b), rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   */\r\n  P.dividedBy = P.div = function (y, b) {\r\n    return div(this, new BigNumber(y, b), DECIMAL_PLACES, ROUNDING_MODE);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the integer part of dividing the value of this\r\n   * BigNumber by the value of BigNumber(y, b).\r\n   */\r\n  P.dividedToIntegerBy = P.idiv = function (y, b) {\r\n    return div(this, new BigNumber(y, b), 0, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a BigNumber whose value is the value of this BigNumber exponentiated by n.\r\n   *\r\n   * If m is present, return the result modulo m.\r\n   * If n is negative round according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   * If POW_PRECISION is non-zero and m is not present, round to POW_PRECISION using ROUNDING_MODE.\r\n   *\r\n   * The modular power operation works efficiently when x, n, and m are integers, otherwise it\r\n   * is equivalent to calculating x.exponentiatedBy(n).modulo(m) with a POW_PRECISION of 0.\r\n   *\r\n   * n {number|string|BigNumber} The exponent. An integer.\r\n   * [m] {number|string|BigNumber} The modulus.\r\n   *\r\n   * '[BigNumber Error] Exponent not an integer: {n}'\r\n   */\r\n  P.exponentiatedBy = P.pow = function (n, m) {\r\n    var half, isModExp, i, k, more, nIsBig, nIsNeg, nIsOdd, y,\r\n      x = this;\r\n\r\n    n = new BigNumber(n);\r\n\r\n    // Allow NaN and Infinity, but not other non-integers.\r\n    if (n.c && !n.isInteger()) {\r\n      throw Error\r\n        (bignumberError + 'Exponent not an integer: ' + valueOf(n));\r\n    }\r\n\r\n    if (m != null) m = new BigNumber(m);\r\n\r\n    // Exponent of MAX_SAFE_INTEGER is 15.\r\n    nIsBig = n.e > 14;\r\n\r\n    // If x is NaN, Infinity, 0 or 1, or n is Infinity, NaN or 0.\r\n    if (!x.c || !x.c[0] || x.c[0] == 1 && !x.e && x.c.length == 1 || !n.c || !n.c[0]) {\r\n\r\n      // The sign of the result of pow when x is negative depends on the evenness of n.\r\n      // If +n overflows to Infinity, the evenness of n would be not be known.\r\n      y = new BigNumber(Math.pow(+valueOf(x), nIsBig ? n.s * (2 - isOdd(n)) : +valueOf(n)));\r\n      return m ? y.mod(m) : y;\r\n    }\r\n\r\n    nIsNeg = n.s < 0;\r\n\r\n    if (m) {\r\n\r\n      // x % m returns NaN if abs(m) is zero, or m is NaN.\r\n      if (m.c ? !m.c[0] : !m.s) return new BigNumber(NaN);\r\n\r\n      isModExp = !nIsNeg && x.isInteger() && m.isInteger();\r\n\r\n      if (isModExp) x = x.mod(m);\r\n\r\n    // Overflow to Infinity: >=2**1e10 or >=1.0000024**1e15.\r\n    // Underflow to 0: <=0.79**1e10 or <=0.9999975**1e15.\r\n    } else if (n.e > 9 && (x.e > 0 || x.e < -1 || (x.e == 0\r\n      // [1, 240000000]\r\n      ? x.c[0] > 1 || nIsBig && x.c[1] >= 24e7\r\n      // [80000000000000]  [99999750000000]\r\n      : x.c[0] < 8e13 || nIsBig && x.c[0] <= 9999975e7))) {\r\n\r\n      // If x is negative and n is odd, k = -0, else k = 0.\r\n      k = x.s < 0 && isOdd(n) ? -0 : 0;\r\n\r\n      // If x >= 1, k = Infinity.\r\n      if (x.e > -1) k = 1 / k;\r\n\r\n      // If n is negative return 0, else return Infinity.\r\n      return new BigNumber(nIsNeg ? 1 / k : k);\r\n\r\n    } else if (POW_PRECISION) {\r\n\r\n      // Truncating each coefficient array to a length of k after each multiplication\r\n      // equates to truncating significant digits to POW_PRECISION + [28, 41],\r\n      // i.e. there will be a minimum of 28 guard digits retained.\r\n      k = mathceil(POW_PRECISION / LOG_BASE + 2);\r\n    }\r\n\r\n    if (nIsBig) {\r\n      half = new BigNumber(0.5);\r\n      if (nIsNeg) n.s = 1;\r\n      nIsOdd = isOdd(n);\r\n    } else {\r\n      i = Math.abs(+valueOf(n));\r\n      nIsOdd = i % 2;\r\n    }\r\n\r\n    y = new BigNumber(ONE);\r\n\r\n    // Performs 54 loop iterations for n of 9007199254740991.\r\n    for (; ;) {\r\n\r\n      if (nIsOdd) {\r\n        y = y.times(x);\r\n        if (!y.c) break;\r\n\r\n        if (k) {\r\n          if (y.c.length > k) y.c.length = k;\r\n        } else if (isModExp) {\r\n          y = y.mod(m);    //y = y.minus(div(y, m, 0, MODULO_MODE).times(m));\r\n        }\r\n      }\r\n\r\n      if (i) {\r\n        i = mathfloor(i / 2);\r\n        if (i === 0) break;\r\n        nIsOdd = i % 2;\r\n      } else {\r\n        n = n.times(half);\r\n        round(n, n.e + 1, 1);\r\n\r\n        if (n.e > 14) {\r\n          nIsOdd = isOdd(n);\r\n        } else {\r\n          i = +valueOf(n);\r\n          if (i === 0) break;\r\n          nIsOdd = i % 2;\r\n        }\r\n      }\r\n\r\n      x = x.times(x);\r\n\r\n      if (k) {\r\n        if (x.c && x.c.length > k) x.c.length = k;\r\n      } else if (isModExp) {\r\n        x = x.mod(m);    //x = x.minus(div(x, m, 0, MODULO_MODE).times(m));\r\n      }\r\n    }\r\n\r\n    if (isModExp) return y;\r\n    if (nIsNeg) y = ONE.div(y);\r\n\r\n    return m ? y.mod(m) : k ? round(y, POW_PRECISION, ROUNDING_MODE, more) : y;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber rounded to an integer\r\n   * using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {rm}'\r\n   */\r\n  P.integerValue = function (rm) {\r\n    var n = new BigNumber(this);\r\n    if (rm == null) rm = ROUNDING_MODE;\r\n    else intCheck(rm, 0, 8);\r\n    return round(n, n.e + 1, rm);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is equal to the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isEqualTo = P.eq = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) === 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is a finite number, otherwise return false.\r\n   */\r\n  P.isFinite = function () {\r\n    return !!this.c;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isGreaterThan = P.gt = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) > 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is greater than or equal to the value of\r\n   * BigNumber(y, b), otherwise return false.\r\n   */\r\n  P.isGreaterThanOrEqualTo = P.gte = function (y, b) {\r\n    return (b = compare(this, new BigNumber(y, b))) === 1 || b === 0;\r\n\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is an integer, otherwise return false.\r\n   */\r\n  P.isInteger = function () {\r\n    return !!this.c && bitFloor(this.e / LOG_BASE) > this.c.length - 2;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isLessThan = P.lt = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) < 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is less than or equal to the value of\r\n   * BigNumber(y, b), otherwise return false.\r\n   */\r\n  P.isLessThanOrEqualTo = P.lte = function (y, b) {\r\n    return (b = compare(this, new BigNumber(y, b))) === -1 || b === 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is NaN, otherwise return false.\r\n   */\r\n  P.isNaN = function () {\r\n    return !this.s;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is negative, otherwise return false.\r\n   */\r\n  P.isNegative = function () {\r\n    return this.s < 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is positive, otherwise return false.\r\n   */\r\n  P.isPositive = function () {\r\n    return this.s > 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is 0 or -0, otherwise return false.\r\n   */\r\n  P.isZero = function () {\r\n    return !!this.c && this.c[0] == 0;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n - 0 = n\r\n   *  n - N = N\r\n   *  n - I = -I\r\n   *  0 - n = -n\r\n   *  0 - 0 = 0\r\n   *  0 - N = N\r\n   *  0 - I = -I\r\n   *  N - n = N\r\n   *  N - 0 = N\r\n   *  N - N = N\r\n   *  N - I = N\r\n   *  I - n = I\r\n   *  I - 0 = I\r\n   *  I - N = N\r\n   *  I - I = N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber minus the value of\r\n   * BigNumber(y, b).\r\n   */\r\n  P.minus = function (y, b) {\r\n    var i, j, t, xLTy,\r\n      x = this,\r\n      a = x.s;\r\n\r\n    y = new BigNumber(y, b);\r\n    b = y.s;\r\n\r\n    // Either NaN?\r\n    if (!a || !b) return new BigNumber(NaN);\r\n\r\n    // Signs differ?\r\n    if (a != b) {\r\n      y.s = -b;\r\n      return x.plus(y);\r\n    }\r\n\r\n    var xe = x.e / LOG_BASE,\r\n      ye = y.e / LOG_BASE,\r\n      xc = x.c,\r\n      yc = y.c;\r\n\r\n    if (!xe || !ye) {\r\n\r\n      // Either Infinity?\r\n      if (!xc || !yc) return xc ? (y.s = -b, y) : new BigNumber(yc ? x : NaN);\r\n\r\n      // Either zero?\r\n      if (!xc[0] || !yc[0]) {\r\n\r\n        // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n        return yc[0] ? (y.s = -b, y) : new BigNumber(xc[0] ? x :\r\n\r\n         // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity\r\n         ROUNDING_MODE == 3 ? -0 : 0);\r\n      }\r\n    }\r\n\r\n    xe = bitFloor(xe);\r\n    ye = bitFloor(ye);\r\n    xc = xc.slice();\r\n\r\n    // Determine which is the bigger number.\r\n    if (a = xe - ye) {\r\n\r\n      if (xLTy = a < 0) {\r\n        a = -a;\r\n        t = xc;\r\n      } else {\r\n        ye = xe;\r\n        t = yc;\r\n      }\r\n\r\n      t.reverse();\r\n\r\n      // Prepend zeros to equalise exponents.\r\n      for (b = a; b--; t.push(0));\r\n      t.reverse();\r\n    } else {\r\n\r\n      // Exponents equal. Check digit by digit.\r\n      j = (xLTy = (a = xc.length) < (b = yc.length)) ? a : b;\r\n\r\n      for (a = b = 0; b < j; b++) {\r\n\r\n        if (xc[b] != yc[b]) {\r\n          xLTy = xc[b] < yc[b];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // x < y? Point xc to the array of the bigger number.\r\n    if (xLTy) {\r\n      t = xc;\r\n      xc = yc;\r\n      yc = t;\r\n      y.s = -y.s;\r\n    }\r\n\r\n    b = (j = yc.length) - (i = xc.length);\r\n\r\n    // Append zeros to xc if shorter.\r\n    // No need to add zeros to yc if shorter as subtract only needs to start at yc.length.\r\n    if (b > 0) for (; b--; xc[i++] = 0);\r\n    b = BASE - 1;\r\n\r\n    // Subtract yc from xc.\r\n    for (; j > a;) {\r\n\r\n      if (xc[--j] < yc[j]) {\r\n        for (i = j; i && !xc[--i]; xc[i] = b);\r\n        --xc[i];\r\n        xc[j] += BASE;\r\n      }\r\n\r\n      xc[j] -= yc[j];\r\n    }\r\n\r\n    // Remove leading zeros and adjust exponent accordingly.\r\n    for (; xc[0] == 0; xc.splice(0, 1), --ye);\r\n\r\n    // Zero?\r\n    if (!xc[0]) {\r\n\r\n      // Following IEEE 754 (2008) 6.3,\r\n      // n - n = +0  but  n - n = -0  when rounding towards -Infinity.\r\n      y.s = ROUNDING_MODE == 3 ? -1 : 1;\r\n      y.c = [y.e = 0];\r\n      return y;\r\n    }\r\n\r\n    // No need to check for Infinity as +x - +y != Infinity && -x - -y != Infinity\r\n    // for finite x and y.\r\n    return normalise(y, xc, ye);\r\n  };\r\n\r\n\r\n  /*\r\n   *   n % 0 =  N\r\n   *   n % N =  N\r\n   *   n % I =  n\r\n   *   0 % n =  0\r\n   *  -0 % n = -0\r\n   *   0 % 0 =  N\r\n   *   0 % N =  N\r\n   *   0 % I =  0\r\n   *   N % n =  N\r\n   *   N % 0 =  N\r\n   *   N % N =  N\r\n   *   N % I =  N\r\n   *   I % n =  N\r\n   *   I % 0 =  N\r\n   *   I % N =  N\r\n   *   I % I =  N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber modulo the value of\r\n   * BigNumber(y, b). The result depends on the value of MODULO_MODE.\r\n   */\r\n  P.modulo = P.mod = function (y, b) {\r\n    var q, s,\r\n      x = this;\r\n\r\n    y = new BigNumber(y, b);\r\n\r\n    // Return NaN if x is Infinity or NaN, or y is NaN or zero.\r\n    if (!x.c || !y.s || y.c && !y.c[0]) {\r\n      return new BigNumber(NaN);\r\n\r\n    // Return x if y is Infinity or x is zero.\r\n    } else if (!y.c || x.c && !x.c[0]) {\r\n      return new BigNumber(x);\r\n    }\r\n\r\n    if (MODULO_MODE == 9) {\r\n\r\n      // Euclidian division: q = sign(y) * floor(x / abs(y))\r\n      // r = x - qy    where  0 <= r < abs(y)\r\n      s = y.s;\r\n      y.s = 1;\r\n      q = div(x, y, 0, 3);\r\n      y.s = s;\r\n      q.s *= s;\r\n    } else {\r\n      q = div(x, y, 0, MODULO_MODE);\r\n    }\r\n\r\n    y = x.minus(q.times(y));\r\n\r\n    // To match JavaScript %, ensure sign of zero is sign of dividend.\r\n    if (!y.c[0] && MODULO_MODE == 1) y.s = x.s;\r\n\r\n    return y;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n * 0 = 0\r\n   *  n * N = N\r\n   *  n * I = I\r\n   *  0 * n = 0\r\n   *  0 * 0 = 0\r\n   *  0 * N = N\r\n   *  0 * I = N\r\n   *  N * n = N\r\n   *  N * 0 = N\r\n   *  N * N = N\r\n   *  N * I = N\r\n   *  I * n = I\r\n   *  I * 0 = N\r\n   *  I * N = N\r\n   *  I * I = I\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber multiplied by the value\r\n   * of BigNumber(y, b).\r\n   */\r\n  P.multipliedBy = P.times = function (y, b) {\r\n    var c, e, i, j, k, m, xcL, xlo, xhi, ycL, ylo, yhi, zc,\r\n      base, sqrtBase,\r\n      x = this,\r\n      xc = x.c,\r\n      yc = (y = new BigNumber(y, b)).c;\r\n\r\n    // Either NaN, Infinity or 0?\r\n    if (!xc || !yc || !xc[0] || !yc[0]) {\r\n\r\n      // Return NaN if either is NaN, or one is 0 and the other is Infinity.\r\n      if (!x.s || !y.s || xc && !xc[0] && !yc || yc && !yc[0] && !xc) {\r\n        y.c = y.e = y.s = null;\r\n      } else {\r\n        y.s *= x.s;\r\n\r\n        // Return Infinity if either is Infinity.\r\n        if (!xc || !yc) {\r\n          y.c = y.e = null;\r\n\r\n        // Return 0 if either is 0.\r\n        } else {\r\n          y.c = [0];\r\n          y.e = 0;\r\n        }\r\n      }\r\n\r\n      return y;\r\n    }\r\n\r\n    e = bitFloor(x.e / LOG_BASE) + bitFloor(y.e / LOG_BASE);\r\n    y.s *= x.s;\r\n    xcL = xc.length;\r\n    ycL = yc.length;\r\n\r\n    // Ensure xc points to longer array and xcL to its length.\r\n    if (xcL < ycL) {\r\n      zc = xc;\r\n      xc = yc;\r\n      yc = zc;\r\n      i = xcL;\r\n      xcL = ycL;\r\n      ycL = i;\r\n    }\r\n\r\n    // Initialise the result array with zeros.\r\n    for (i = xcL + ycL, zc = []; i--; zc.push(0));\r\n\r\n    base = BASE;\r\n    sqrtBase = SQRT_BASE;\r\n\r\n    for (i = ycL; --i >= 0;) {\r\n      c = 0;\r\n      ylo = yc[i] % sqrtBase;\r\n      yhi = yc[i] / sqrtBase | 0;\r\n\r\n      for (k = xcL, j = i + k; j > i;) {\r\n        xlo = xc[--k] % sqrtBase;\r\n        xhi = xc[k] / sqrtBase | 0;\r\n        m = yhi * xlo + xhi * ylo;\r\n        xlo = ylo * xlo + ((m % sqrtBase) * sqrtBase) + zc[j] + c;\r\n        c = (xlo / base | 0) + (m / sqrtBase | 0) + yhi * xhi;\r\n        zc[j--] = xlo % base;\r\n      }\r\n\r\n      zc[j] = c;\r\n    }\r\n\r\n    if (c) {\r\n      ++e;\r\n    } else {\r\n      zc.splice(0, 1);\r\n    }\r\n\r\n    return normalise(y, zc, e);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber negated,\r\n   * i.e. multiplied by -1.\r\n   */\r\n  P.negated = function () {\r\n    var x = new BigNumber(this);\r\n    x.s = -x.s || null;\r\n    return x;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n + 0 = n\r\n   *  n + N = N\r\n   *  n + I = I\r\n   *  0 + n = n\r\n   *  0 + 0 = 0\r\n   *  0 + N = N\r\n   *  0 + I = I\r\n   *  N + n = N\r\n   *  N + 0 = N\r\n   *  N + N = N\r\n   *  N + I = N\r\n   *  I + n = I\r\n   *  I + 0 = I\r\n   *  I + N = N\r\n   *  I + I = I\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber plus the value of\r\n   * BigNumber(y, b).\r\n   */\r\n  P.plus = function (y, b) {\r\n    var t,\r\n      x = this,\r\n      a = x.s;\r\n\r\n    y = new BigNumber(y, b);\r\n    b = y.s;\r\n\r\n    // Either NaN?\r\n    if (!a || !b) return new BigNumber(NaN);\r\n\r\n    // Signs differ?\r\n     if (a != b) {\r\n      y.s = -b;\r\n      return x.minus(y);\r\n    }\r\n\r\n    var xe = x.e / LOG_BASE,\r\n      ye = y.e / LOG_BASE,\r\n      xc = x.c,\r\n      yc = y.c;\r\n\r\n    if (!xe || !ye) {\r\n\r\n      // Return Infinity if either Infinity.\r\n      if (!xc || !yc) return new BigNumber(a / 0);\r\n\r\n      // Either zero?\r\n      // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n      if (!xc[0] || !yc[0]) return yc[0] ? y : new BigNumber(xc[0] ? x : a * 0);\r\n    }\r\n\r\n    xe = bitFloor(xe);\r\n    ye = bitFloor(ye);\r\n    xc = xc.slice();\r\n\r\n    // Prepend zeros to equalise exponents. Faster to use reverse then do unshifts.\r\n    if (a = xe - ye) {\r\n      if (a > 0) {\r\n        ye = xe;\r\n        t = yc;\r\n      } else {\r\n        a = -a;\r\n        t = xc;\r\n      }\r\n\r\n      t.reverse();\r\n      for (; a--; t.push(0));\r\n      t.reverse();\r\n    }\r\n\r\n    a = xc.length;\r\n    b = yc.length;\r\n\r\n    // Point xc to the longer array, and b to the shorter length.\r\n    if (a - b < 0) {\r\n      t = yc;\r\n      yc = xc;\r\n      xc = t;\r\n      b = a;\r\n    }\r\n\r\n    // Only start adding at yc.length - 1 as the further digits of xc can be ignored.\r\n    for (a = 0; b;) {\r\n      a = (xc[--b] = xc[b] + yc[b] + a) / BASE | 0;\r\n      xc[b] = BASE === xc[b] ? 0 : xc[b] % BASE;\r\n    }\r\n\r\n    if (a) {\r\n      xc = [a].concat(xc);\r\n      ++ye;\r\n    }\r\n\r\n    // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n    // ye = MAX_EXP + 1 possible\r\n    return normalise(y, xc, ye);\r\n  };\r\n\r\n\r\n  /*\r\n   * If sd is undefined or null or true or false, return the number of significant digits of\r\n   * the value of this BigNumber, or null if the value of this BigNumber is Infinity or NaN.\r\n   * If sd is true include integer-part trailing zeros in the count.\r\n   *\r\n   * Otherwise, if sd is a number, return a new BigNumber whose value is the value of this\r\n   * BigNumber rounded to a maximum of sd significant digits using rounding mode rm, or\r\n   * ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * sd {number|boolean} number: significant digits: integer, 1 to MAX inclusive.\r\n   *                     boolean: whether to count integer-part trailing zeros: true or false.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n   */\r\n  P.precision = P.sd = function (sd, rm) {\r\n    var c, n, v,\r\n      x = this;\r\n\r\n    if (sd != null && sd !== !!sd) {\r\n      intCheck(sd, 1, MAX);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      return round(new BigNumber(x), sd, rm);\r\n    }\r\n\r\n    if (!(c = x.c)) return null;\r\n    v = c.length - 1;\r\n    n = v * LOG_BASE + 1;\r\n\r\n    if (v = c[v]) {\r\n\r\n      // Subtract the number of trailing zeros of the last element.\r\n      for (; v % 10 == 0; v /= 10, n--);\r\n\r\n      // Add the number of digits of the first element.\r\n      for (v = c[0]; v >= 10; v /= 10, n++);\r\n    }\r\n\r\n    if (sd && x.e + 1 > n) n = x.e + 1;\r\n\r\n    return n;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber shifted by k places\r\n   * (powers of 10). Shift to the right if n > 0, and to the left if n < 0.\r\n   *\r\n   * k {number} Integer, -MAX_SAFE_INTEGER to MAX_SAFE_INTEGER inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {k}'\r\n   */\r\n  P.shiftedBy = function (k) {\r\n    intCheck(k, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER);\r\n    return this.times('1e' + k);\r\n  };\r\n\r\n\r\n  /*\r\n   *  sqrt(-n) =  N\r\n   *  sqrt(N) =  N\r\n   *  sqrt(-I) =  N\r\n   *  sqrt(I) =  I\r\n   *  sqrt(0) =  0\r\n   *  sqrt(-0) = -0\r\n   *\r\n   * Return a new BigNumber whose value is the square root of the value of this BigNumber,\r\n   * rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   */\r\n  P.squareRoot = P.sqrt = function () {\r\n    var m, n, r, rep, t,\r\n      x = this,\r\n      c = x.c,\r\n      s = x.s,\r\n      e = x.e,\r\n      dp = DECIMAL_PLACES + 4,\r\n      half = new BigNumber('0.5');\r\n\r\n    // Negative/NaN/Infinity/zero?\r\n    if (s !== 1 || !c || !c[0]) {\r\n      return new BigNumber(!s || s < 0 && (!c || c[0]) ? NaN : c ? x : 1 / 0);\r\n    }\r\n\r\n    // Initial estimate.\r\n    s = Math.sqrt(+valueOf(x));\r\n\r\n    // Math.sqrt underflow/overflow?\r\n    // Pass x to Math.sqrt as integer, then adjust the exponent of the result.\r\n    if (s == 0 || s == 1 / 0) {\r\n      n = coeffToString(c);\r\n      if ((n.length + e) % 2 == 0) n += '0';\r\n      s = Math.sqrt(+n);\r\n      e = bitFloor((e + 1) / 2) - (e < 0 || e % 2);\r\n\r\n      if (s == 1 / 0) {\r\n        n = '5e' + e;\r\n      } else {\r\n        n = s.toExponential();\r\n        n = n.slice(0, n.indexOf('e') + 1) + e;\r\n      }\r\n\r\n      r = new BigNumber(n);\r\n    } else {\r\n      r = new BigNumber(s + '');\r\n    }\r\n\r\n    // Check for zero.\r\n    // r could be zero if MIN_EXP is changed after the this value was created.\r\n    // This would cause a division by zero (x/t) and hence Infinity below, which would cause\r\n    // coeffToString to throw.\r\n    if (r.c[0]) {\r\n      e = r.e;\r\n      s = e + dp;\r\n      if (s < 3) s = 0;\r\n\r\n      // Newton-Raphson iteration.\r\n      for (; ;) {\r\n        t = r;\r\n        r = half.times(t.plus(div(x, t, dp, 1)));\r\n\r\n        if (coeffToString(t.c).slice(0, s) === (n = coeffToString(r.c)).slice(0, s)) {\r\n\r\n          // The exponent of r may here be one less than the final result exponent,\r\n          // e.g 0.0009999 (e-4) --> 0.001 (e-3), so adjust s so the rounding digits\r\n          // are indexed correctly.\r\n          if (r.e < e) --s;\r\n          n = n.slice(s - 3, s + 1);\r\n\r\n          // The 4th rounding digit may be in error by -1 so if the 4 rounding digits\r\n          // are 9999 or 4999 (i.e. approaching a rounding boundary) continue the\r\n          // iteration.\r\n          if (n == '9999' || !rep && n == '4999') {\r\n\r\n            // On the first iteration only, check to see if rounding up gives the\r\n            // exact result as the nines may infinitely repeat.\r\n            if (!rep) {\r\n              round(t, t.e + DECIMAL_PLACES + 2, 0);\r\n\r\n              if (t.times(t).eq(x)) {\r\n                r = t;\r\n                break;\r\n              }\r\n            }\r\n\r\n            dp += 4;\r\n            s += 4;\r\n            rep = 1;\r\n          } else {\r\n\r\n            // If rounding digits are null, 0{0,4} or 50{0,3}, check for exact\r\n            // result. If not, then there are further digits and m will be truthy.\r\n            if (!+n || !+n.slice(1) && n.charAt(0) == '5') {\r\n\r\n              // Truncate to the first rounding digit.\r\n              round(r, r.e + DECIMAL_PLACES + 2, 1);\r\n              m = !r.times(r).eq(x);\r\n            }\r\n\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return round(r, r.e + DECIMAL_PLACES + 1, ROUNDING_MODE, m);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in exponential notation and\r\n   * rounded using ROUNDING_MODE to dp fixed decimal places.\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.toExponential = function (dp, rm) {\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      dp++;\r\n    }\r\n    return format(this, dp, rm, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in fixed-point notation rounding\r\n   * to dp fixed decimal places using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * Note: as with JavaScript's number type, (-0).toFixed(0) is '0',\r\n   * but e.g. (-0.00001).toFixed(0) is '-0'.\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.toFixed = function (dp, rm) {\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      dp = dp + this.e + 1;\r\n    }\r\n    return format(this, dp, rm);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in fixed-point notation rounded\r\n   * using rm or ROUNDING_MODE to dp decimal places, and formatted according to the properties\r\n   * of the format or FORMAT object (see BigNumber.set).\r\n   *\r\n   * The formatting object may contain some or all of the properties shown below.\r\n   *\r\n   * FORMAT = {\r\n   *   prefix: '',\r\n   *   groupSize: 3,\r\n   *   secondaryGroupSize: 0,\r\n   *   groupSeparator: ',',\r\n   *   decimalSeparator: '.',\r\n   *   fractionGroupSize: 0,\r\n   *   fractionGroupSeparator: '\\xA0',      // non-breaking space\r\n   *   suffix: ''\r\n   * };\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   * [format] {object} Formatting options. See FORMAT pbject above.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   * '[BigNumber Error] Argument not an object: {format}'\r\n   */\r\n  P.toFormat = function (dp, rm, format) {\r\n    var str,\r\n      x = this;\r\n\r\n    if (format == null) {\r\n      if (dp != null && rm && typeof rm == 'object') {\r\n        format = rm;\r\n        rm = null;\r\n      } else if (dp && typeof dp == 'object') {\r\n        format = dp;\r\n        dp = rm = null;\r\n      } else {\r\n        format = FORMAT;\r\n      }\r\n    } else if (typeof format != 'object') {\r\n      throw Error\r\n        (bignumberError + 'Argument not an object: ' + format);\r\n    }\r\n\r\n    str = x.toFixed(dp, rm);\r\n\r\n    if (x.c) {\r\n      var i,\r\n        arr = str.split('.'),\r\n        g1 = +format.groupSize,\r\n        g2 = +format.secondaryGroupSize,\r\n        groupSeparator = format.groupSeparator || '',\r\n        intPart = arr[0],\r\n        fractionPart = arr[1],\r\n        isNeg = x.s < 0,\r\n        intDigits = isNeg ? intPart.slice(1) : intPart,\r\n        len = intDigits.length;\r\n\r\n      if (g2) {\r\n        i = g1;\r\n        g1 = g2;\r\n        g2 = i;\r\n        len -= i;\r\n      }\r\n\r\n      if (g1 > 0 && len > 0) {\r\n        i = len % g1 || g1;\r\n        intPart = intDigits.substr(0, i);\r\n        for (; i < len; i += g1) intPart += groupSeparator + intDigits.substr(i, g1);\r\n        if (g2 > 0) intPart += groupSeparator + intDigits.slice(i);\r\n        if (isNeg) intPart = '-' + intPart;\r\n      }\r\n\r\n      str = fractionPart\r\n       ? intPart + (format.decimalSeparator || '') + ((g2 = +format.fractionGroupSize)\r\n        ? fractionPart.replace(new RegExp('\\\\d{' + g2 + '}\\\\B', 'g'),\r\n         '$&' + (format.fractionGroupSeparator || ''))\r\n        : fractionPart)\r\n       : intPart;\r\n    }\r\n\r\n    return (format.prefix || '') + str + (format.suffix || '');\r\n  };\r\n\r\n\r\n  /*\r\n   * Return an array of two BigNumbers representing the value of this BigNumber as a simple\r\n   * fraction with an integer numerator and an integer denominator.\r\n   * The denominator will be a positive non-zero value less than or equal to the specified\r\n   * maximum denominator. If a maximum denominator is not specified, the denominator will be\r\n   * the lowest value necessary to represent the number exactly.\r\n   *\r\n   * [md] {number|string|BigNumber} Integer >= 1, or Infinity. The maximum denominator.\r\n   *\r\n   * '[BigNumber Error] Argument {not an integer|out of range} : {md}'\r\n   */\r\n  P.toFraction = function (md) {\r\n    var d, d0, d1, d2, e, exp, n, n0, n1, q, r, s,\r\n      x = this,\r\n      xc = x.c;\r\n\r\n    if (md != null) {\r\n      n = new BigNumber(md);\r\n\r\n      // Throw if md is less than one or is not an integer, unless it is Infinity.\r\n      if (!n.isInteger() && (n.c || n.s !== 1) || n.lt(ONE)) {\r\n        throw Error\r\n          (bignumberError + 'Argument ' +\r\n            (n.isInteger() ? 'out of range: ' : 'not an integer: ') + valueOf(n));\r\n      }\r\n    }\r\n\r\n    if (!xc) return new BigNumber(x);\r\n\r\n    d = new BigNumber(ONE);\r\n    n1 = d0 = new BigNumber(ONE);\r\n    d1 = n0 = new BigNumber(ONE);\r\n    s = coeffToString(xc);\r\n\r\n    // Determine initial denominator.\r\n    // d is a power of 10 and the minimum max denominator that specifies the value exactly.\r\n    e = d.e = s.length - x.e - 1;\r\n    d.c[0] = POWS_TEN[(exp = e % LOG_BASE) < 0 ? LOG_BASE + exp : exp];\r\n    md = !md || n.comparedTo(d) > 0 ? (e > 0 ? d : n1) : n;\r\n\r\n    exp = MAX_EXP;\r\n    MAX_EXP = 1 / 0;\r\n    n = new BigNumber(s);\r\n\r\n    // n0 = d1 = 0\r\n    n0.c[0] = 0;\r\n\r\n    for (; ;)  {\r\n      q = div(n, d, 0, 1);\r\n      d2 = d0.plus(q.times(d1));\r\n      if (d2.comparedTo(md) == 1) break;\r\n      d0 = d1;\r\n      d1 = d2;\r\n      n1 = n0.plus(q.times(d2 = n1));\r\n      n0 = d2;\r\n      d = n.minus(q.times(d2 = d));\r\n      n = d2;\r\n    }\r\n\r\n    d2 = div(md.minus(d0), d1, 0, 1);\r\n    n0 = n0.plus(d2.times(n1));\r\n    d0 = d0.plus(d2.times(d1));\r\n    n0.s = n1.s = x.s;\r\n    e = e * 2;\r\n\r\n    // Determine which fraction is closer to x, n0/d0 or n1/d1\r\n    r = div(n1, d1, e, ROUNDING_MODE).minus(x).abs().comparedTo(\r\n        div(n0, d0, e, ROUNDING_MODE).minus(x).abs()) < 1 ? [n1, d1] : [n0, d0];\r\n\r\n    MAX_EXP = exp;\r\n\r\n    return r;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return the value of this BigNumber converted to a number primitive.\r\n   */\r\n  P.toNumber = function () {\r\n    return +valueOf(this);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber rounded to sd significant digits\r\n   * using rounding mode rm or ROUNDING_MODE. If sd is less than the number of digits\r\n   * necessary to represent the integer part of the value in fixed-point notation, then use\r\n   * exponential notation.\r\n   *\r\n   * [sd] {number} Significant digits. Integer, 1 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n   */\r\n  P.toPrecision = function (sd, rm) {\r\n    if (sd != null) intCheck(sd, 1, MAX);\r\n    return format(this, sd, rm, 2);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in base b, or base 10 if b is\r\n   * omitted. If a base is specified, including base 10, round according to DECIMAL_PLACES and\r\n   * ROUNDING_MODE. If a base is not specified, and this BigNumber has a positive exponent\r\n   * that is equal to or greater than TO_EXP_POS, or a negative exponent equal to or less than\r\n   * TO_EXP_NEG, return exponential notation.\r\n   *\r\n   * [b] {number} Integer, 2 to ALPHABET.length inclusive.\r\n   *\r\n   * '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n   */\r\n  P.toString = function (b) {\r\n    var str,\r\n      n = this,\r\n      s = n.s,\r\n      e = n.e;\r\n\r\n    // Infinity or NaN?\r\n    if (e === null) {\r\n      if (s) {\r\n        str = 'Infinity';\r\n        if (s < 0) str = '-' + str;\r\n      } else {\r\n        str = 'NaN';\r\n      }\r\n    } else {\r\n      if (b == null) {\r\n        str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n         ? toExponential(coeffToString(n.c), e)\r\n         : toFixedPoint(coeffToString(n.c), e, '0');\r\n      } else if (b === 10 && alphabetHasNormalDecimalDigits) {\r\n        n = round(new BigNumber(n), DECIMAL_PLACES + e + 1, ROUNDING_MODE);\r\n        str = toFixedPoint(coeffToString(n.c), n.e, '0');\r\n      } else {\r\n        intCheck(b, 2, ALPHABET.length, 'Base');\r\n        str = convertBase(toFixedPoint(coeffToString(n.c), e, '0'), 10, b, s, true);\r\n      }\r\n\r\n      if (s < 0 && n.c[0]) str = '-' + str;\r\n    }\r\n\r\n    return str;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return as toString, but do not accept a base argument, and include the minus sign for\r\n   * negative zero.\r\n   */\r\n  P.valueOf = P.toJSON = function () {\r\n    return valueOf(this);\r\n  };\r\n\r\n\r\n  P._isBigNumber = true;\r\n\r\n  P[Symbol.toStringTag] = 'BigNumber';\r\n\r\n  // Node.js v10.12.0+\r\n  P[Symbol.for('nodejs.util.inspect.custom')] = P.valueOf;\r\n\r\n  if (configObject != null) BigNumber.set(configObject);\r\n\r\n  return BigNumber;\r\n}\r\n\r\n\r\n// PRIVATE HELPER FUNCTIONS\r\n\r\n// These functions don't need access to variables,\r\n// e.g. DECIMAL_PLACES, in the scope of the `clone` function above.\r\n\r\n\r\nfunction bitFloor(n) {\r\n  var i = n | 0;\r\n  return n > 0 || n === i ? i : i - 1;\r\n}\r\n\r\n\r\n// Return a coefficient array as a string of base 10 digits.\r\nfunction coeffToString(a) {\r\n  var s, z,\r\n    i = 1,\r\n    j = a.length,\r\n    r = a[0] + '';\r\n\r\n  for (; i < j;) {\r\n    s = a[i++] + '';\r\n    z = LOG_BASE - s.length;\r\n    for (; z--; s = '0' + s);\r\n    r += s;\r\n  }\r\n\r\n  // Determine trailing zeros.\r\n  for (j = r.length; r.charCodeAt(--j) === 48;);\r\n\r\n  return r.slice(0, j + 1 || 1);\r\n}\r\n\r\n\r\n// Compare the value of BigNumbers x and y.\r\nfunction compare(x, y) {\r\n  var a, b,\r\n    xc = x.c,\r\n    yc = y.c,\r\n    i = x.s,\r\n    j = y.s,\r\n    k = x.e,\r\n    l = y.e;\r\n\r\n  // Either NaN?\r\n  if (!i || !j) return null;\r\n\r\n  a = xc && !xc[0];\r\n  b = yc && !yc[0];\r\n\r\n  // Either zero?\r\n  if (a || b) return a ? b ? 0 : -j : i;\r\n\r\n  // Signs differ?\r\n  if (i != j) return i;\r\n\r\n  a = i < 0;\r\n  b = k == l;\r\n\r\n  // Either Infinity?\r\n  if (!xc || !yc) return b ? 0 : !xc ^ a ? 1 : -1;\r\n\r\n  // Compare exponents.\r\n  if (!b) return k > l ^ a ? 1 : -1;\r\n\r\n  j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n  // Compare digit by digit.\r\n  for (i = 0; i < j; i++) if (xc[i] != yc[i]) return xc[i] > yc[i] ^ a ? 1 : -1;\r\n\r\n  // Compare lengths.\r\n  return k == l ? 0 : k > l ^ a ? 1 : -1;\r\n}\r\n\r\n\r\n/*\r\n * Check that n is a primitive number, an integer, and in range, otherwise throw.\r\n */\r\nfunction intCheck(n, min, max, name) {\r\n  if (n < min || n > max || n !== mathfloor(n)) {\r\n    throw Error\r\n     (bignumberError + (name || 'Argument') + (typeof n == 'number'\r\n       ? n < min || n > max ? ' out of range: ' : ' not an integer: '\r\n       : ' not a primitive number: ') + String(n));\r\n  }\r\n}\r\n\r\n\r\n// Assumes finite n.\r\nfunction isOdd(n) {\r\n  var k = n.c.length - 1;\r\n  return bitFloor(n.e / LOG_BASE) == k && n.c[k] % 2 != 0;\r\n}\r\n\r\n\r\nfunction toExponential(str, e) {\r\n  return (str.length > 1 ? str.charAt(0) + '.' + str.slice(1) : str) +\r\n   (e < 0 ? 'e' : 'e+') + e;\r\n}\r\n\r\n\r\nfunction toFixedPoint(str, e, z) {\r\n  var len, zs;\r\n\r\n  // Negative exponent?\r\n  if (e < 0) {\r\n\r\n    // Prepend zeros.\r\n    for (zs = z + '.'; ++e; zs += z);\r\n    str = zs + str;\r\n\r\n  // Positive exponent\r\n  } else {\r\n    len = str.length;\r\n\r\n    // Append zeros.\r\n    if (++e > len) {\r\n      for (zs = z, e -= len; --e; zs += z);\r\n      str += zs;\r\n    } else if (e < len) {\r\n      str = str.slice(0, e) + '.' + str.slice(e);\r\n    }\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\n\r\n// EXPORT\r\n\r\n\r\nexport var BigNumber = clone();\r\n\r\nexport default BigNumber;\r\n","import {\n  ESTIMATED_KEY_VALUE_SIZE,\n  ESTIMATED_NODE_SIZE,\n  EXTRA_STORAGE_BALANCE,\n  MINIMUM_STORAGE_IN_BYTES,\n  STORAGE_COST_PER_BYTES_IN_ATOMIC_UNITS\n} from \"./chunk-G2Z3ZTTP.mjs\";\n\n// src/utils.ts\nimport BigNumber from \"bignumber.js\";\nfunction validateAccountId(accountId) {\n  return accountId.length >= 2 && accountId.length <= 64 && /^(([a-z\\d]+[-_])*[a-z\\d]+\\.)*([a-z\\d]+[-_])*[a-z\\d]+$/.test(accountId);\n}\nfunction isObject(value) {\n  return value === Object(value) && !Array.isArray(value) && typeof value !== \"function\";\n}\nfunction parseKeysFromData(data) {\n  const parse = (keys, value) => {\n    if (value === null || typeof value !== \"object\") {\n      return keys.join(\"/\");\n    }\n    return Object.entries(value).flatMap(\n      ([key, val]) => parse([...keys, key], val)\n    );\n  };\n  return parse([], data);\n}\nfunction calculateSizeOfData(data) {\n  const calculate = (_data, previousData) => {\n    if (isObject(_data)) {\n      return Object.entries(_data).reduce(\n        (acc, [key, value]) => {\n          if (previousData && isObject(previousData)) {\n            const prev = previousData[key];\n            return acc + calculate(value, prev);\n          }\n          return acc + BigInt(key.length * 2) + calculate(value) + BigInt(ESTIMATED_KEY_VALUE_SIZE);\n        },\n        BigInt(isObject(previousData) ? 0 : ESTIMATED_NODE_SIZE)\n      );\n    }\n    return BigInt(\n      (typeof _data === \"string\" ? _data.length : 8) - (previousData && typeof previousData === \"string\" ? previousData.length : 0)\n    );\n  };\n  return calculate(data);\n}\nfunction calculateRequiredDeposit({\n  data,\n  storageBalance\n}) {\n  const minimumStorageCost = new BigNumber(\n    MINIMUM_STORAGE_IN_BYTES\n  ).multipliedBy(new BigNumber(STORAGE_COST_PER_BYTES_IN_ATOMIC_UNITS));\n  const storageCostOfData = new BigNumber(String(calculateSizeOfData(data))).plus(EXTRA_STORAGE_BALANCE).multipliedBy(STORAGE_COST_PER_BYTES_IN_ATOMIC_UNITS);\n  if (!storageBalance) {\n    return storageCostOfData.lt(minimumStorageCost) ? minimumStorageCost : storageCostOfData;\n  }\n  const storageDepositAvailable = new BigNumber(\n    storageBalance.available.toString()\n  );\n  return storageDepositAvailable.lt(storageCostOfData) ? storageCostOfData.minus(storageDepositAvailable) : new BigNumber(\"0\");\n}\nfunction uniqueAccountIdsFromKeys(keys) {\n  return keys.reduce((acc, currentValue) => {\n    const accountId = currentValue.split(\"/\")[0] || \"\";\n    return acc.find((value) => value === accountId) ? acc : [...acc, accountId];\n  }, []);\n}\n\nexport {\n  validateAccountId,\n  isObject,\n  parseKeysFromData,\n  calculateSizeOfData,\n  calculateRequiredDeposit,\n  uniqueAccountIdsFromKeys\n};\n//# sourceMappingURL=chunk-H7IJBNMA.mjs.map","import {\n  InvalidAccountIdError,\n  KeyNotAllowedError\n} from \"./chunk-35XQS2E7.mjs\";\nimport {\n  calculateRequiredDeposit,\n  parseKeysFromData,\n  uniqueAccountIdsFromKeys,\n  validateAccountId\n} from \"./chunk-H7IJBNMA.mjs\";\nimport {\n  DEFAULT_API_SERVER,\n  DEFAULT_CONTRACT_ID\n} from \"./chunk-G2Z3ZTTP.mjs\";\n\n// src/graph.ts\nimport { Amount, Near } from \"near-kit\";\nvar Graph = class {\n  near;\n  contractId;\n  apiServer;\n  defaultUseApiServer;\n  constructor(options) {\n    this.contractId = options?.contractId ?? DEFAULT_CONTRACT_ID;\n    this.apiServer = options?.apiServer ?? DEFAULT_API_SERVER;\n    this.defaultUseApiServer = options?.useApiServer ?? true;\n    if (options?.near) {\n      this.near = options.near;\n    } else {\n      this.near = new Near({\n        network: options?.network ?? \"mainnet\"\n      });\n    }\n  }\n  async fetchFromApi(endpoint, body) {\n    const response = await fetch(this.apiServer + endpoint, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(body)\n    });\n    return response.json();\n  }\n  async get({\n    keys,\n    blockHeight,\n    returnDeleted,\n    withBlockHeight,\n    withNodeId,\n    withTimestamp,\n    useApiServer\n  }) {\n    const shouldUseApi = useApiServer ?? this.defaultUseApiServer;\n    if (shouldUseApi) {\n      return this.fetchFromApi(\"/get\", {\n        keys,\n        blockHeight,\n        ...(returnDeleted || withBlockHeight || withTimestamp) && {\n          options: {\n            with_block_height: withBlockHeight,\n            return_deleted: returnDeleted,\n            with_timestamp: withTimestamp\n          }\n        }\n      });\n    }\n    const result = await this.near.view(\n      this.contractId,\n      \"get\",\n      {\n        keys,\n        ...(returnDeleted || withBlockHeight || withNodeId) && {\n          options: {\n            with_block_height: withBlockHeight,\n            with_node_id: withNodeId,\n            return_deleted: returnDeleted\n          }\n        }\n      }\n    );\n    return result ?? null;\n  }\n  async keys({\n    keys,\n    blockHeight,\n    returnDeleted,\n    returnType,\n    valuesOnly,\n    useApiServer\n  }) {\n    const shouldUseApi = useApiServer ?? this.defaultUseApiServer;\n    if (shouldUseApi) {\n      return this.fetchFromApi(\"/keys\", {\n        keys,\n        blockHeight,\n        ...(returnDeleted || returnType || valuesOnly) && {\n          options: {\n            return_deleted: returnDeleted,\n            return_type: returnType,\n            values_only: valuesOnly\n          }\n        }\n      });\n    }\n    const result = await this.near.view(this.contractId, \"keys\", {\n      keys,\n      ...(returnDeleted || returnType || valuesOnly) && {\n        options: {\n          return_deleted: returnDeleted,\n          return_type: returnType,\n          values_only: valuesOnly\n        }\n      }\n    });\n    return result ?? null;\n  }\n  async index({\n    action,\n    key,\n    accountId,\n    order,\n    limit,\n    from\n  }) {\n    return this.fetchFromApi(\"/index\", {\n      action,\n      key,\n      ...(accountId || order || limit || from) && {\n        options: { accountId, order, limit, from }\n      }\n    });\n  }\n  async getVersion() {\n    const version = await this.near.view(\n      this.contractId,\n      \"get_version\",\n      {}\n    );\n    if (typeof version !== \"string\") {\n      throw new Error(\n        `Unexpected response format from get_version: ${JSON.stringify(version)}`\n      );\n    }\n    return version;\n  }\n  async getAccount({\n    accountId\n  }) {\n    const result = await this.near.view(this.contractId, \"get_account\", {\n      account_id: accountId\n    });\n    return result ?? null;\n  }\n  async getAccounts({\n    fromIndex,\n    limit\n  } = {}) {\n    const result = await this.near.view(this.contractId, \"get_accounts\", {\n      ...fromIndex !== void 0 && { from_index: fromIndex },\n      ...limit !== void 0 && { limit }\n    });\n    return result ?? null;\n  }\n  async getAccountCount() {\n    const count = await this.near.view(\n      this.contractId,\n      \"get_account_count\",\n      {}\n    );\n    if (typeof count !== \"number\") {\n      throw new Error(\n        `Unexpected response format from get_account_count: ${JSON.stringify(count)}`\n      );\n    }\n    return count;\n  }\n  async getNode({\n    nodeId,\n    fromIndex,\n    limit\n  }) {\n    const result = await this.near.view(this.contractId, \"get_node\", {\n      node_id: nodeId,\n      ...fromIndex !== void 0 && { from_index: fromIndex },\n      ...limit !== void 0 && { limit }\n    });\n    return result ?? null;\n  }\n  async getNodes({ fromIndex, limit } = {}) {\n    const result = await this.near.view(this.contractId, \"get_nodes\", {\n      ...fromIndex !== void 0 && { from_index: fromIndex },\n      ...limit !== void 0 && { limit }\n    });\n    return result ?? null;\n  }\n  async getNodeCount() {\n    const count = await this.near.view(\n      this.contractId,\n      \"get_node_count\",\n      {}\n    );\n    if (typeof count !== \"number\") {\n      throw new Error(\n        `Unexpected response format from get_node_count: ${JSON.stringify(count)}`\n      );\n    }\n    return count;\n  }\n  async isWritePermissionGranted({\n    key,\n    granteeAccountId,\n    granteePublicKey\n  }) {\n    if (granteeAccountId) {\n      if (!validateAccountId(granteeAccountId)) {\n        throw new InvalidAccountIdError(\n          granteeAccountId,\n          \"the grantee account id is not valid\"\n        );\n      }\n      if (granteeAccountId === (key.split(\"/\")[0] || \"\")) {\n        return true;\n      }\n    }\n    const result = await this.near.view(\n      this.contractId,\n      \"is_write_permission_granted\",\n      {\n        key,\n        ...granteeAccountId && { predecessor_id: granteeAccountId },\n        ...granteePublicKey && { public_key: granteePublicKey }\n      }\n    );\n    if (typeof result !== \"boolean\") {\n      throw new Error(\n        `Unexpected response format from is_write_permission_granted: ${JSON.stringify(result)}`\n      );\n    }\n    return result;\n  }\n  async storageBalanceOf(accountId) {\n    const result = await this.near.view(\n      this.contractId,\n      \"storage_balance_of\",\n      { account_id: accountId }\n    );\n    if (!result) return null;\n    return {\n      available: String(result.available),\n      total: String(result.total)\n    };\n  }\n  async set({ signerId, data, deposit, refundUnusedDeposit }) {\n    const keys = parseKeysFromData(data);\n    for (const key of keys) {\n      const keyAccountId = key.split(\"/\")[0] || \"\";\n      if (keyAccountId !== signerId) {\n        const hasPermission = await this.isWritePermissionGranted({\n          key,\n          granteeAccountId: signerId\n        });\n        if (!hasPermission) {\n          throw new KeyNotAllowedError(\n            key,\n            `the signer has not been granted write permission for \"${key}\"`\n          );\n        }\n      }\n    }\n    let depositAmount;\n    if (deposit) {\n      depositAmount = BigInt(deposit);\n    } else {\n      const accountIds = uniqueAccountIdsFromKeys(keys);\n      if (accountIds.includes(signerId)) {\n        const storageBalance = await this.near.view(\n          this.contractId,\n          \"storage_balance_of\",\n          { account_id: signerId }\n        ) ?? null;\n        const calculatedDeposit = calculateRequiredDeposit({\n          data,\n          storageBalance\n        });\n        depositAmount = BigInt(calculatedDeposit.toFixed());\n      } else {\n        depositAmount = 1n;\n      }\n    }\n    return this.near.transaction(signerId).functionCall(\n      this.contractId,\n      \"set\",\n      {\n        data,\n        ...refundUnusedDeposit && {\n          options: { refund_unused_deposit: refundUnusedDeposit }\n        }\n      },\n      { gas: \"100 Tgas\", attachedDeposit: depositAmount }\n    );\n  }\n  async grantWritePermission({\n    signerId,\n    keys,\n    granteeAccountId,\n    granteePublicKey\n  }) {\n    if (granteeAccountId && !validateAccountId(granteeAccountId)) {\n      throw new InvalidAccountIdError(\n        granteeAccountId,\n        \"the grantee account id is not valid\"\n      );\n    }\n    for (const key of keys) {\n      const keyAccountId = key.split(\"/\")[0] || \"\";\n      if (!validateAccountId(keyAccountId)) {\n        throw new InvalidAccountIdError(keyAccountId);\n      }\n      if (keyAccountId !== signerId) {\n        throw new KeyNotAllowedError(\n          key,\n          `key \"${key}\" does not belong to granter \"${signerId}\"`\n        );\n      }\n    }\n    return this.near.transaction(signerId).functionCall(\n      this.contractId,\n      \"grant_write_permission\",\n      {\n        keys,\n        ...granteeAccountId && { predecessor_id: granteeAccountId },\n        ...granteePublicKey && { public_key: granteePublicKey }\n      },\n      { gas: \"30 Tgas\", attachedDeposit: Amount.ONE_YOCTO }\n    );\n  }\n  async storageDeposit({\n    signerId,\n    accountId,\n    deposit,\n    registrationOnly\n  }) {\n    const depositAmount = BigInt(deposit);\n    return this.near.transaction(signerId).functionCall(\n      this.contractId,\n      \"storage_deposit\",\n      {\n        ...accountId && { account_id: accountId },\n        ...registrationOnly && { registration_only: registrationOnly }\n      },\n      { gas: \"30 Tgas\", attachedDeposit: depositAmount }\n    );\n  }\n  async storageWithdraw({ signerId, amount }) {\n    return this.near.transaction(signerId).functionCall(\n      this.contractId,\n      \"storage_withdraw\",\n      { ...amount && { amount } },\n      { gas: \"30 Tgas\", attachedDeposit: Amount.ONE_YOCTO }\n    );\n  }\n  async storageUnregister({ signerId, force }) {\n    return this.near.transaction(signerId).functionCall(\n      this.contractId,\n      \"storage_unregister\",\n      { ...force !== void 0 && { force } },\n      { gas: \"30 Tgas\", attachedDeposit: Amount.ONE_YOCTO }\n    );\n  }\n  createDelegateKey(signerId, publicKey, allowance) {\n    return this.near.transaction(signerId).addKey(publicKey, {\n      type: \"functionCall\",\n      receiverId: this.contractId,\n      methodNames: [],\n      allowance: allowance ?? \"0.25 NEAR\"\n    });\n  }\n  getContractId() {\n    return this.contractId;\n  }\n};\n\nexport {\n  Graph\n};\n//# sourceMappingURL=chunk-4C2DNQLY.mjs.map","/**\n * Interface encapsulating the various crypto computations used by the library,\n * allowing pluggable underlying crypto implementations.\n */\nexport class CryptoProvider {\n    /**\n     * Computes a SHA-256 HMAC given a secret and a payload (encoded in UTF-8).\n     * The output HMAC should be encoded in hexadecimal.\n     *\n     * Sample values for implementations:\n     * - computeHMACSignature('', 'test_secret') => 'f7f9bd47fb987337b5796fdc1fdb9ba221d0d5396814bfcaf9521f43fd8927fd'\n     * - computeHMACSignature('\\ud83d\\ude00', 'test_secret') => '837da296d05c4fe31f61d5d7ead035099d9585a5bcde87de952012a78f0b0c43\n     */\n    computeHMACSignature(payload, secret) {\n        throw new Error('computeHMACSignature not implemented.');\n    }\n    /**\n     * Asynchronous version of `computeHMACSignature`. Some implementations may\n     * only allow support async signature computation.\n     *\n     * Computes a SHA-256 HMAC given a secret and a payload (encoded in UTF-8).\n     * The output HMAC should be encoded in hexadecimal.\n     *\n     * Sample values for implementations:\n     * - computeHMACSignature('', 'test_secret') => 'f7f9bd47fb987337b5796fdc1fdb9ba221d0d5396814bfcaf9521f43fd8927fd'\n     * - computeHMACSignature('\\ud83d\\ude00', 'test_secret') => '837da296d05c4fe31f61d5d7ead035099d9585a5bcde87de952012a78f0b0c43\n     */\n    computeHMACSignatureAsync(payload, secret) {\n        throw new Error('computeHMACSignatureAsync not implemented.');\n    }\n    /**\n     * Computes a SHA-256 hash of the data.\n     */\n    computeSHA256Async(data) {\n        throw new Error('computeSHA256 not implemented.');\n    }\n}\n/**\n * If the crypto provider only supports asynchronous operations,\n * throw CryptoProviderOnlySupportsAsyncError instead of\n * a generic error so that the caller can choose to provide\n * a more helpful error message to direct the user to use\n * an asynchronous pathway.\n */\nexport class CryptoProviderOnlySupportsAsyncError extends Error {\n}\n","import * as crypto from 'crypto';\nimport { CryptoProvider } from './CryptoProvider.js';\n/**\n * `CryptoProvider which uses the Node `crypto` package for its computations.\n */\nexport class NodeCryptoProvider extends CryptoProvider {\n    /** @override */\n    computeHMACSignature(payload, secret) {\n        return crypto\n            .createHmac('sha256', secret)\n            .update(payload, 'utf8')\n            .digest('hex');\n    }\n    /** @override */\n    async computeHMACSignatureAsync(payload, secret) {\n        const signature = await this.computeHMACSignature(payload, secret);\n        return signature;\n    }\n    /** @override */\n    async computeSHA256Async(data) {\n        return new Uint8Array(await crypto\n            .createHash('sha256')\n            .update(data)\n            .digest());\n    }\n}\n","/**\n * Encapsulates the logic for issuing a request to the Stripe API.\n *\n * A custom HTTP client should should implement:\n * 1. A response class which extends HttpClientResponse and wraps around their\n *    own internal representation of a response.\n * 2. A client class which extends HttpClient and implements all methods,\n *    returning their own response class when making requests.\n */\nexport class HttpClient {\n    /** The client name used for diagnostics. */\n    getClientName() {\n        throw new Error('getClientName not implemented.');\n    }\n    makeRequest(host, port, path, method, headers, requestData, protocol, timeout) {\n        throw new Error('makeRequest not implemented.');\n    }\n    /** Helper to make a consistent timeout error across implementations. */\n    static makeTimeoutError() {\n        const timeoutErr = new TypeError(HttpClient.TIMEOUT_ERROR_CODE);\n        timeoutErr.code = HttpClient.TIMEOUT_ERROR_CODE;\n        return timeoutErr;\n    }\n}\n// Public API accessible via Stripe.HttpClient\nHttpClient.CONNECTION_CLOSED_ERROR_CODES = ['ECONNRESET', 'EPIPE'];\nHttpClient.TIMEOUT_ERROR_CODE = 'ETIMEDOUT';\nexport class HttpClientResponse {\n    constructor(statusCode, headers) {\n        this._statusCode = statusCode;\n        this._headers = headers;\n    }\n    getStatusCode() {\n        return this._statusCode;\n    }\n    getHeaders() {\n        return this._headers;\n    }\n    getRawResponse() {\n        throw new Error('getRawResponse not implemented.');\n    }\n    toStream(streamCompleteCallback) {\n        throw new Error('toStream not implemented.');\n    }\n    toJSON() {\n        throw new Error('toJSON not implemented.');\n    }\n}\n","import * as http_ from 'http';\nimport * as https_ from 'https';\nimport { HttpClient, HttpClientResponse, } from './HttpClient.js';\n// `import * as http_ from 'http'` creates a \"Module Namespace Exotic Object\"\n// which is immune to monkey-patching, whereas http_.default (in an ES Module context)\n// will resolve to the same thing as require('http'), which is\n// monkey-patchable. We care about this because users in their test\n// suites might be using a library like \"nock\" which relies on the ability\n// to monkey-patch and intercept calls to http.request.\nconst http = http_.default || http_;\nconst https = https_.default || https_;\nconst defaultHttpAgent = new http.Agent({ keepAlive: true });\nconst defaultHttpsAgent = new https.Agent({ keepAlive: true });\n/**\n * HTTP client which uses the Node `http` and `https` packages to issue\n * requests.`\n */\nexport class NodeHttpClient extends HttpClient {\n    constructor(agent) {\n        super();\n        this._agent = agent;\n    }\n    /** @override. */\n    getClientName() {\n        return 'node';\n    }\n    makeRequest(host, port, path, method, headers, requestData, protocol, timeout) {\n        const isInsecureConnection = protocol === 'http';\n        let agent = this._agent;\n        if (!agent) {\n            agent = isInsecureConnection ? defaultHttpAgent : defaultHttpsAgent;\n        }\n        const requestPromise = new Promise((resolve, reject) => {\n            const req = (isInsecureConnection ? http : https).request({\n                host: host,\n                port: port,\n                path,\n                method,\n                agent,\n                headers,\n                ciphers: 'DEFAULT:!aNULL:!eNULL:!LOW:!EXPORT:!SSLv2:!MD5',\n            });\n            req.setTimeout(timeout, () => {\n                req.destroy(HttpClient.makeTimeoutError());\n            });\n            req.on('response', (res) => {\n                resolve(new NodeHttpClientResponse(res));\n            });\n            req.on('error', (error) => {\n                reject(error);\n            });\n            req.once('socket', (socket) => {\n                if (socket.connecting) {\n                    socket.once(isInsecureConnection ? 'connect' : 'secureConnect', () => {\n                        // Send payload; we're safe:\n                        req.write(requestData);\n                        req.end();\n                    });\n                }\n                else {\n                    // we're already connected\n                    req.write(requestData);\n                    req.end();\n                }\n            });\n        });\n        return requestPromise;\n    }\n}\nexport class NodeHttpClientResponse extends HttpClientResponse {\n    constructor(res) {\n        // @ts-ignore\n        super(res.statusCode, res.headers || {});\n        this._res = res;\n    }\n    getRawResponse() {\n        return this._res;\n    }\n    toStream(streamCompleteCallback) {\n        // The raw response is itself the stream, so we just return that. To be\n        // backwards compatible, we should invoke the streamCompleteCallback only\n        // once the stream has been fully consumed.\n        this._res.once('end', () => streamCompleteCallback());\n        return this._res;\n    }\n    toJSON() {\n        return new Promise((resolve, reject) => {\n            let response = '';\n            this._res.setEncoding('utf8');\n            this._res.on('data', (chunk) => {\n                response += chunk;\n            });\n            this._res.once('end', () => {\n                try {\n                    resolve(JSON.parse(response));\n                }\n                catch (e) {\n                    reject(e);\n                }\n            });\n        });\n    }\n}\n","import * as qs from 'qs';\nconst OPTIONS_KEYS = [\n    'apiKey',\n    'idempotencyKey',\n    'stripeAccount',\n    'apiVersion',\n    'maxNetworkRetries',\n    'timeout',\n    'host',\n    'authenticator',\n    'stripeContext',\n    'additionalHeaders',\n    'streaming',\n];\nexport function isOptionsHash(o) {\n    return (o &&\n        typeof o === 'object' &&\n        OPTIONS_KEYS.some((prop) => Object.prototype.hasOwnProperty.call(o, prop)));\n}\n/**\n * Stringifies an Object, accommodating nested objects\n * (forming the conventional key 'parent[child]=value')\n */\nexport function queryStringifyRequestData(data, apiMode) {\n    return (qs\n        .stringify(data, {\n        serializeDate: (d) => Math.floor(d.getTime() / 1000).toString(),\n        // Always use indexed format for arrays\n        arrayFormat: 'indices',\n    })\n        // Don't use strict form encoding by changing the square bracket control\n        // characters back to their literals. This is fine by the server, and\n        // makes these parameter strings easier to read.\n        .replace(/%5B/g, '[')\n        .replace(/%5D/g, ']'));\n}\n/**\n * Outputs a new function with interpolated object property values.\n * Use like so:\n *   const fn = makeURLInterpolator('some/url/{param1}/{param2}');\n *   fn({ param1: 123, param2: 456 }); // => 'some/url/123/456'\n */\nexport const makeURLInterpolator = (() => {\n    const rc = {\n        '\\n': '\\\\n',\n        '\"': '\\\\\"',\n        '\\u2028': '\\\\u2028',\n        '\\u2029': '\\\\u2029',\n    };\n    return (str) => {\n        const cleanString = str.replace(/[\"\\n\\r\\u2028\\u2029]/g, ($0) => rc[$0]);\n        return (outputs) => {\n            return cleanString.replace(/\\{([\\s\\S]+?)\\}/g, ($0, $1) => {\n                const output = outputs[$1];\n                if (isValidEncodeUriComponentType(output))\n                    return encodeURIComponent(output);\n                return '';\n            });\n        };\n    };\n})();\nfunction isValidEncodeUriComponentType(value) {\n    return ['number', 'string', 'boolean'].includes(typeof value);\n}\nexport function extractUrlParams(path) {\n    const params = path.match(/\\{\\w+\\}/g);\n    if (!params) {\n        return [];\n    }\n    return params.map((param) => param.replace(/[{}]/g, ''));\n}\n/**\n * Return the data argument from a list of arguments\n *\n * @param {object[]} args\n * @returns {object}\n */\nexport function getDataFromArgs(args) {\n    if (!Array.isArray(args) || !args[0] || typeof args[0] !== 'object') {\n        return {};\n    }\n    if (!isOptionsHash(args[0])) {\n        return args.shift();\n    }\n    const argKeys = Object.keys(args[0]);\n    const optionKeysInArgs = argKeys.filter((key) => OPTIONS_KEYS.includes(key));\n    // In some cases options may be the provided as the first argument.\n    // Here we're detecting a case where there are two distinct arguments\n    // (the first being args and the second options) and with known\n    // option keys in the first so that we can warn the user about it.\n    if (optionKeysInArgs.length > 0 &&\n        optionKeysInArgs.length !== argKeys.length) {\n        emitWarning(`Options found in arguments (${optionKeysInArgs.join(', ')}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`);\n    }\n    return {};\n}\n/**\n * Return the options hash from a list of arguments\n */\nexport function getOptionsFromArgs(args) {\n    const opts = {\n        host: null,\n        headers: {},\n        settings: {},\n        streaming: false,\n    };\n    if (args.length > 0) {\n        const arg = args[args.length - 1];\n        if (typeof arg === 'string') {\n            opts.authenticator = createApiKeyAuthenticator(args.pop());\n        }\n        else if (isOptionsHash(arg)) {\n            const params = Object.assign({}, args.pop());\n            const extraKeys = Object.keys(params).filter((key) => !OPTIONS_KEYS.includes(key));\n            if (extraKeys.length) {\n                emitWarning(`Invalid options found (${extraKeys.join(', ')}); ignoring.`);\n            }\n            if (params.apiKey) {\n                opts.authenticator = createApiKeyAuthenticator(params.apiKey);\n            }\n            if (params.idempotencyKey) {\n                opts.headers['Idempotency-Key'] = params.idempotencyKey;\n            }\n            if (params.stripeAccount) {\n                opts.headers['Stripe-Account'] = params.stripeAccount;\n            }\n            if (params.stripeContext) {\n                if (opts.headers['Stripe-Account']) {\n                    throw new Error(\"Can't specify both stripeAccount and stripeContext.\");\n                }\n                opts.headers['Stripe-Context'] = params.stripeContext;\n            }\n            if (params.apiVersion) {\n                opts.headers['Stripe-Version'] = params.apiVersion;\n            }\n            if (Number.isInteger(params.maxNetworkRetries)) {\n                opts.settings.maxNetworkRetries = params.maxNetworkRetries;\n            }\n            if (Number.isInteger(params.timeout)) {\n                opts.settings.timeout = params.timeout;\n            }\n            if (params.host) {\n                opts.host = params.host;\n            }\n            if (params.authenticator) {\n                if (params.apiKey) {\n                    throw new Error(\"Can't specify both apiKey and authenticator.\");\n                }\n                if (typeof params.authenticator !== 'function') {\n                    throw new Error('The authenticator must be a function ' +\n                        'receiving a request as the first parameter.');\n                }\n                opts.authenticator = params.authenticator;\n            }\n            if (params.additionalHeaders) {\n                opts.headers = params.additionalHeaders;\n            }\n            if (params.streaming) {\n                opts.streaming = true;\n            }\n        }\n    }\n    return opts;\n}\n/**\n * Provide simple \"Class\" extension mechanism.\n * <!-- Public API accessible via Stripe.StripeResource.extend -->\n */\nexport function protoExtend(sub) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const Super = this;\n    const Constructor = Object.prototype.hasOwnProperty.call(sub, 'constructor')\n        ? sub.constructor\n        : function (...args) {\n            Super.apply(this, args);\n        };\n    // This initialization logic is somewhat sensitive to be compatible with\n    // divergent JS implementations like the one found in Qt. See here for more\n    // context:\n    //\n    // https://github.com/stripe/stripe-node/pull/334\n    Object.assign(Constructor, Super);\n    Constructor.prototype = Object.create(Super.prototype);\n    Object.assign(Constructor.prototype, sub);\n    return Constructor;\n}\n/**\n * Remove empty values from an object\n */\nexport function removeNullish(obj) {\n    if (typeof obj !== 'object') {\n        throw new Error('Argument must be an object');\n    }\n    return Object.keys(obj).reduce((result, key) => {\n        if (obj[key] != null) {\n            result[key] = obj[key];\n        }\n        return result;\n    }, {});\n}\n/**\n * Normalize standard HTTP Headers:\n * {'foo-bar': 'hi'}\n * becomes\n * {'Foo-Bar': 'hi'}\n */\nexport function normalizeHeaders(obj) {\n    if (!(obj && typeof obj === 'object')) {\n        return obj;\n    }\n    return Object.keys(obj).reduce((result, header) => {\n        result[normalizeHeader(header)] = obj[header];\n        return result;\n    }, {});\n}\n/**\n * Stolen from https://github.com/marten-de-vries/header-case-normalizer/blob/master/index.js#L36-L41\n * without the exceptions which are irrelevant to us.\n */\nexport function normalizeHeader(header) {\n    return header\n        .split('-')\n        .map((text) => text.charAt(0).toUpperCase() + text.substr(1).toLowerCase())\n        .join('-');\n}\nexport function callbackifyPromiseWithTimeout(promise, callback) {\n    if (callback) {\n        // Ensure callback is called outside of promise stack.\n        return promise.then((res) => {\n            setTimeout(() => {\n                callback(null, res);\n            }, 0);\n        }, (err) => {\n            setTimeout(() => {\n                callback(err, null);\n            }, 0);\n        });\n    }\n    return promise;\n}\n/**\n * Allow for special capitalization cases (such as OAuth)\n */\nexport function pascalToCamelCase(name) {\n    if (name === 'OAuth') {\n        return 'oauth';\n    }\n    else {\n        return name[0].toLowerCase() + name.substring(1);\n    }\n}\nexport function emitWarning(warning) {\n    if (typeof process.emitWarning !== 'function') {\n        return console.warn(`Stripe: ${warning}`); /* eslint-disable-line no-console */\n    }\n    return process.emitWarning(warning, 'Stripe');\n}\nexport function isObject(obj) {\n    const type = typeof obj;\n    return (type === 'function' || type === 'object') && !!obj;\n}\n// For use in multipart requests\nexport function flattenAndStringify(data) {\n    const result = {};\n    const step = (obj, prevKey) => {\n        Object.entries(obj).forEach(([key, value]) => {\n            const newKey = prevKey ? `${prevKey}[${key}]` : key;\n            if (isObject(value)) {\n                if (!(value instanceof Uint8Array) &&\n                    !Object.prototype.hasOwnProperty.call(value, 'data')) {\n                    // Non-buffer non-file Objects are recursively flattened\n                    return step(value, newKey);\n                }\n                else {\n                    // Buffers and file objects are stored without modification\n                    result[newKey] = value;\n                }\n            }\n            else {\n                // Primitives are converted to strings\n                result[newKey] = String(value);\n            }\n        });\n    };\n    step(data, null);\n    return result;\n}\nexport function validateInteger(name, n, defaultVal) {\n    if (!Number.isInteger(n)) {\n        if (defaultVal !== undefined) {\n            return defaultVal;\n        }\n        else {\n            throw new Error(`${name} must be an integer`);\n        }\n    }\n    return n;\n}\nexport function determineProcessUserAgentProperties() {\n    return typeof process === 'undefined'\n        ? {}\n        : {\n            lang_version: process.version,\n            platform: process.platform,\n        };\n}\nexport function createApiKeyAuthenticator(apiKey) {\n    const authenticator = (request) => {\n        request.headers.Authorization = 'Bearer ' + apiKey;\n        return Promise.resolve();\n    };\n    // For testing\n    authenticator._apiKey = apiKey;\n    return authenticator;\n}\n/**\n * Joins an array of Uint8Arrays into a single Uint8Array\n */\nexport function concat(arrays) {\n    const totalLength = arrays.reduce((len, array) => len + array.length, 0);\n    const merged = new Uint8Array(totalLength);\n    let offset = 0;\n    arrays.forEach((array) => {\n        merged.set(array, offset);\n        offset += array.length;\n    });\n    return merged;\n}\n/**\n * Replaces Date objects with Unix timestamps\n */\nfunction dateTimeReplacer(key, value) {\n    if (this[key] instanceof Date) {\n        return Math.floor(this[key].getTime() / 1000).toString();\n    }\n    return value;\n}\n/**\n * JSON stringifies an Object, replacing Date objects with Unix timestamps\n */\nexport function jsonStringifyRequestData(data) {\n    return JSON.stringify(data, dateTimeReplacer);\n}\n/**\n * Inspects the given path to determine if the endpoint is for v1 or v2 API\n */\nexport function getAPIMode(path) {\n    if (!path) {\n        return 'v1';\n    }\n    return path.startsWith('/v2') ? 'v2' : 'v1';\n}\nexport function parseHttpHeaderAsString(header) {\n    if (Array.isArray(header)) {\n        return header.join(', ');\n    }\n    return String(header);\n}\nexport function parseHttpHeaderAsNumber(header) {\n    const number = Array.isArray(header) ? header[0] : header;\n    return Number(number);\n}\nexport function parseHeadersForFetch(headers) {\n    return Object.entries(headers).map(([key, value]) => {\n        return [key, parseHttpHeaderAsString(value)];\n    });\n}\n","import { parseHeadersForFetch } from '../utils.js';\nimport { HttpClient, HttpClientResponse, } from './HttpClient.js';\n/**\n * HTTP client which uses a `fetch` function to issue requests.\n *\n * By default relies on the global `fetch` function, but an optional function\n * can be passed in. If passing in a function, it is expected to match the Web\n * Fetch API. As an example, this could be the function provided by the\n * node-fetch package (https://github.com/node-fetch/node-fetch).\n */\nexport class FetchHttpClient extends HttpClient {\n    constructor(fetchFn) {\n        super();\n        // Default to global fetch if available\n        if (!fetchFn) {\n            if (!globalThis.fetch) {\n                throw new Error('fetch() function not provided and is not defined in the global scope. ' +\n                    'You must provide a fetch implementation.');\n            }\n            fetchFn = globalThis.fetch;\n        }\n        // Both timeout behaviors differs from Node:\n        // - Fetch uses a single timeout for the entire length of the request.\n        // - Node is more fine-grained and resets the timeout after each stage of the request.\n        if (globalThis.AbortController) {\n            // Utilise native AbortController if available\n            // AbortController was added in Node v15.0.0, v14.17.0\n            this._fetchFn = FetchHttpClient.makeFetchWithAbortTimeout(fetchFn);\n        }\n        else {\n            // Fall back to racing against a timeout promise if not available in the runtime\n            // This does not actually cancel the underlying fetch operation or resources\n            this._fetchFn = FetchHttpClient.makeFetchWithRaceTimeout(fetchFn);\n        }\n    }\n    static makeFetchWithRaceTimeout(fetchFn) {\n        return (url, init, timeout) => {\n            let pendingTimeoutId;\n            const timeoutPromise = new Promise((_, reject) => {\n                pendingTimeoutId = setTimeout(() => {\n                    pendingTimeoutId = null;\n                    reject(HttpClient.makeTimeoutError());\n                }, timeout);\n            });\n            const fetchPromise = fetchFn(url, init);\n            return Promise.race([fetchPromise, timeoutPromise]).finally(() => {\n                if (pendingTimeoutId) {\n                    clearTimeout(pendingTimeoutId);\n                }\n            });\n        };\n    }\n    static makeFetchWithAbortTimeout(fetchFn) {\n        return async (url, init, timeout) => {\n            // Use AbortController because AbortSignal.timeout() was added later in Node v17.3.0, v16.14.0\n            const abort = new AbortController();\n            let timeoutId = setTimeout(() => {\n                timeoutId = null;\n                abort.abort(HttpClient.makeTimeoutError());\n            }, timeout);\n            try {\n                return await fetchFn(url, Object.assign(Object.assign({}, init), { signal: abort.signal }));\n            }\n            catch (err) {\n                // Some implementations, like node-fetch, do not respect the reason passed to AbortController.abort()\n                // and instead it always throws an AbortError\n                // We catch this case to normalise all timeout errors\n                if (err.name === 'AbortError') {\n                    throw HttpClient.makeTimeoutError();\n                }\n                else {\n                    throw err;\n                }\n            }\n            finally {\n                if (timeoutId) {\n                    clearTimeout(timeoutId);\n                }\n            }\n        };\n    }\n    /** @override. */\n    getClientName() {\n        return 'fetch';\n    }\n    async makeRequest(host, port, path, method, headers, requestData, protocol, timeout) {\n        const isInsecureConnection = protocol === 'http';\n        const url = new URL(path, `${isInsecureConnection ? 'http' : 'https'}://${host}`);\n        url.port = port;\n        // For methods which expect payloads, we should always pass a body value\n        // even when it is empty. Without this, some JS runtimes (eg. Deno) will\n        // inject a second Content-Length header. See https://github.com/stripe/stripe-node/issues/1519\n        // for more details.\n        const methodHasPayload = method == 'POST' || method == 'PUT' || method == 'PATCH';\n        const body = requestData || (methodHasPayload ? '' : undefined);\n        const res = await this._fetchFn(url.toString(), {\n            method,\n            headers: parseHeadersForFetch(headers),\n            body: body,\n        }, timeout);\n        return new FetchHttpClientResponse(res);\n    }\n}\nexport class FetchHttpClientResponse extends HttpClientResponse {\n    constructor(res) {\n        super(res.status, FetchHttpClientResponse._transformHeadersToObject(res.headers));\n        this._res = res;\n    }\n    getRawResponse() {\n        return this._res;\n    }\n    toStream(streamCompleteCallback) {\n        // Unfortunately `fetch` does not have event handlers for when the stream is\n        // completely read. We therefore invoke the streamCompleteCallback right\n        // away. This callback emits a response event with metadata and completes\n        // metrics, so it's ok to do this without waiting for the stream to be\n        // completely read.\n        streamCompleteCallback();\n        // Fetch's `body` property is expected to be a readable stream of the body.\n        return this._res.body;\n    }\n    toJSON() {\n        return this._res.json();\n    }\n    static _transformHeadersToObject(headers) {\n        // Fetch uses a Headers instance so this must be converted to a barebones\n        // JS object to meet the HttpClient interface.\n        const headersObj = {};\n        for (const entry of headers) {\n            if (!Array.isArray(entry) || entry.length != 2) {\n                throw new Error('Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.');\n            }\n            headersObj[entry[0]] = entry[1];\n        }\n        return headersObj;\n    }\n}\n","import { CryptoProvider, CryptoProviderOnlySupportsAsyncError, } from './CryptoProvider.js';\n/**\n * `CryptoProvider which uses the SubtleCrypto interface of the Web Crypto API.\n *\n * This only supports asynchronous operations.\n */\nexport class SubtleCryptoProvider extends CryptoProvider {\n    constructor(subtleCrypto) {\n        super();\n        // If no subtle crypto is interface, default to the global namespace. This\n        // is to allow custom interfaces (eg. using the Node webcrypto interface in\n        // tests).\n        this.subtleCrypto = subtleCrypto || crypto.subtle;\n    }\n    /** @override */\n    computeHMACSignature(payload, secret) {\n        throw new CryptoProviderOnlySupportsAsyncError('SubtleCryptoProvider cannot be used in a synchronous context.');\n    }\n    /** @override */\n    async computeHMACSignatureAsync(payload, secret) {\n        const encoder = new TextEncoder();\n        const key = await this.subtleCrypto.importKey('raw', encoder.encode(secret), {\n            name: 'HMAC',\n            hash: { name: 'SHA-256' },\n        }, false, ['sign']);\n        const signatureBuffer = await this.subtleCrypto.sign('hmac', key, encoder.encode(payload));\n        // crypto.subtle returns the signature in base64 format. This must be\n        // encoded in hex to match the CryptoProvider contract. We map each byte in\n        // the buffer to its corresponding hex octet and then combine into a string.\n        const signatureBytes = new Uint8Array(signatureBuffer);\n        const signatureHexCodes = new Array(signatureBytes.length);\n        for (let i = 0; i < signatureBytes.length; i++) {\n            signatureHexCodes[i] = byteHexMapping[signatureBytes[i]];\n        }\n        return signatureHexCodes.join('');\n    }\n    /** @override */\n    async computeSHA256Async(data) {\n        return new Uint8Array(await this.subtleCrypto.digest('SHA-256', data));\n    }\n}\n// Cached mapping of byte to hex representation. We do this once to avoid re-\n// computing every time we need to convert the result of a signature to hex.\nconst byteHexMapping = new Array(256);\nfor (let i = 0; i < byteHexMapping.length; i++) {\n    byteHexMapping[i] = i.toString(16).padStart(2, '0');\n}\n","import { FetchHttpClient } from '../net/FetchHttpClient.js';\nimport { SubtleCryptoProvider } from '../crypto/SubtleCryptoProvider.js';\n/**\n * Interface encapsulating various utility functions whose\n * implementations depend on the platform / JS runtime.\n */\nexport class PlatformFunctions {\n    constructor() {\n        this._fetchFn = null;\n        this._agent = null;\n    }\n    /**\n     * Gets uname with Node's built-in `exec` function, if available.\n     */\n    getUname() {\n        throw new Error('getUname not implemented.');\n    }\n    /**\n     * Generates a v4 UUID. See https://stackoverflow.com/a/2117523\n     */\n    uuid4() {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n            const r = (Math.random() * 16) | 0;\n            const v = c === 'x' ? r : (r & 0x3) | 0x8;\n            return v.toString(16);\n        });\n    }\n    /**\n     * Compares strings in constant time.\n     */\n    secureCompare(a, b) {\n        // return early here if buffer lengths are not equal\n        if (a.length !== b.length) {\n            return false;\n        }\n        const len = a.length;\n        let result = 0;\n        for (let i = 0; i < len; ++i) {\n            result |= a.charCodeAt(i) ^ b.charCodeAt(i);\n        }\n        return result === 0;\n    }\n    /**\n     * Creates an event emitter.\n     */\n    createEmitter() {\n        throw new Error('createEmitter not implemented.');\n    }\n    /**\n     * Checks if the request data is a stream. If so, read the entire stream\n     * to a buffer and return the buffer.\n     */\n    tryBufferData(data) {\n        throw new Error('tryBufferData not implemented.');\n    }\n    /**\n     * Creates an HTTP client which uses the Node `http` and `https` packages\n     * to issue requests.\n     */\n    createNodeHttpClient(agent) {\n        throw new Error('createNodeHttpClient not implemented.');\n    }\n    /**\n     * Creates an HTTP client for issuing Stripe API requests which uses the Web\n     * Fetch API.\n     *\n     * A fetch function can optionally be passed in as a parameter. If none is\n     * passed, will default to the default `fetch` function in the global scope.\n     */\n    createFetchHttpClient(fetchFn) {\n        return new FetchHttpClient(fetchFn);\n    }\n    /**\n     * Creates an HTTP client using runtime-specific APIs.\n     */\n    createDefaultHttpClient() {\n        throw new Error('createDefaultHttpClient not implemented.');\n    }\n    /**\n     * Creates a CryptoProvider which uses the Node `crypto` package for its computations.\n     */\n    createNodeCryptoProvider() {\n        throw new Error('createNodeCryptoProvider not implemented.');\n    }\n    /**\n     * Creates a CryptoProvider which uses the SubtleCrypto interface of the Web Crypto API.\n     */\n    createSubtleCryptoProvider(subtleCrypto) {\n        return new SubtleCryptoProvider(subtleCrypto);\n    }\n    createDefaultCryptoProvider() {\n        throw new Error('createDefaultCryptoProvider not implemented.');\n    }\n}\n","/* eslint-disable camelcase */\n/* eslint-disable no-warning-comments */\nexport const generateV1Error = (rawStripeError) => {\n    switch (rawStripeError.type) {\n        case 'card_error':\n            return new StripeCardError(rawStripeError);\n        case 'invalid_request_error':\n            return new StripeInvalidRequestError(rawStripeError);\n        case 'api_error':\n            return new StripeAPIError(rawStripeError);\n        case 'authentication_error':\n            return new StripeAuthenticationError(rawStripeError);\n        case 'rate_limit_error':\n            return new StripeRateLimitError(rawStripeError);\n        case 'idempotency_error':\n            return new StripeIdempotencyError(rawStripeError);\n        case 'invalid_grant':\n            return new StripeInvalidGrantError(rawStripeError);\n        default:\n            return new StripeUnknownError(rawStripeError);\n    }\n};\n// eslint-disable-next-line complexity\nexport const generateV2Error = (rawStripeError) => {\n    switch (rawStripeError.type) {\n        // switchCases: The beginning of the section generated from our OpenAPI spec\n        case 'temporary_session_expired':\n            return new TemporarySessionExpiredError(rawStripeError);\n        // switchCases: The end of the section generated from our OpenAPI spec\n    }\n    // Special handling for requests with missing required fields in V2 APIs.\n    // invalid_field response in V2 APIs returns the field 'code' instead of 'type'.\n    switch (rawStripeError.code) {\n        case 'invalid_fields':\n            return new StripeInvalidRequestError(rawStripeError);\n    }\n    return generateV1Error(rawStripeError);\n};\n/**\n * StripeError is the base error from which all other more specific Stripe errors derive.\n * Specifically for errors returned from Stripe's REST API.\n */\nexport class StripeError extends Error {\n    constructor(raw = {}, type = null) {\n        var _a;\n        super(raw.message);\n        this.type = type || this.constructor.name;\n        this.raw = raw;\n        this.rawType = raw.type;\n        this.code = raw.code;\n        this.doc_url = raw.doc_url;\n        this.param = raw.param;\n        this.detail = raw.detail;\n        this.headers = raw.headers;\n        this.requestId = raw.requestId;\n        this.statusCode = raw.statusCode;\n        this.message = (_a = raw.message) !== null && _a !== void 0 ? _a : '';\n        this.userMessage = raw.user_message;\n        this.charge = raw.charge;\n        this.decline_code = raw.decline_code;\n        this.payment_intent = raw.payment_intent;\n        this.payment_method = raw.payment_method;\n        this.payment_method_type = raw.payment_method_type;\n        this.setup_intent = raw.setup_intent;\n        this.source = raw.source;\n    }\n}\n/**\n * Helper factory which takes raw stripe errors and outputs wrapping instances\n */\nStripeError.generate = generateV1Error;\n// Specific Stripe Error types:\n/**\n * CardError is raised when a user enters a card that can't be charged for\n * some reason.\n */\nexport class StripeCardError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeCardError');\n    }\n}\n/**\n * InvalidRequestError is raised when a request is initiated with invalid\n * parameters.\n */\nexport class StripeInvalidRequestError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeInvalidRequestError');\n    }\n}\n/**\n * APIError is a generic error that may be raised in cases where none of the\n * other named errors cover the problem. It could also be raised in the case\n * that a new error has been introduced in the API, but this version of the\n * Node.JS SDK doesn't know how to handle it.\n */\nexport class StripeAPIError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeAPIError');\n    }\n}\n/**\n * AuthenticationError is raised when invalid credentials are used to connect\n * to Stripe's servers.\n */\nexport class StripeAuthenticationError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeAuthenticationError');\n    }\n}\n/**\n * PermissionError is raised in cases where access was attempted on a resource\n * that wasn't allowed.\n */\nexport class StripePermissionError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripePermissionError');\n    }\n}\n/**\n * RateLimitError is raised in cases where an account is putting too much load\n * on Stripe's API servers (usually by performing too many requests). Please\n * back off on request rate.\n */\nexport class StripeRateLimitError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeRateLimitError');\n    }\n}\n/**\n * StripeConnectionError is raised in the event that the SDK can't connect to\n * Stripe's servers. That can be for a variety of different reasons from a\n * downed network to a bad TLS certificate.\n */\nexport class StripeConnectionError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeConnectionError');\n    }\n}\n/**\n * SignatureVerificationError is raised when the signature verification for a\n * webhook fails\n */\nexport class StripeSignatureVerificationError extends StripeError {\n    constructor(header, payload, raw = {}) {\n        super(raw, 'StripeSignatureVerificationError');\n        this.header = header;\n        this.payload = payload;\n    }\n}\n/**\n * IdempotencyError is raised in cases where an idempotency key was used\n * improperly.\n */\nexport class StripeIdempotencyError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeIdempotencyError');\n    }\n}\n/**\n * InvalidGrantError is raised when a specified code doesn't exist, is\n * expired, has been used, or doesn't belong to you; a refresh token doesn't\n * exist, or doesn't belong to you; or if an API key's mode (live or test)\n * doesn't match the mode of a code or refresh token.\n */\nexport class StripeInvalidGrantError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeInvalidGrantError');\n    }\n}\n/**\n * Any other error from Stripe not specifically captured above\n */\nexport class StripeUnknownError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeUnknownError');\n    }\n}\n// classDefinitions: The beginning of the section generated from our OpenAPI spec\nexport class TemporarySessionExpiredError extends StripeError {\n    constructor(rawStripeError = {}) {\n        super(rawStripeError, 'TemporarySessionExpiredError');\n    }\n}\n// classDefinitions: The end of the section generated from our OpenAPI spec\n","import * as crypto from 'crypto';\nimport { EventEmitter } from 'events';\nimport { NodeCryptoProvider } from '../crypto/NodeCryptoProvider.js';\nimport { NodeHttpClient } from '../net/NodeHttpClient.js';\nimport { PlatformFunctions } from './PlatformFunctions.js';\nimport { StripeError } from '../Error.js';\nimport { concat } from '../utils.js';\nimport { exec } from 'child_process';\nclass StreamProcessingError extends StripeError {\n}\n/**\n * Specializes WebPlatformFunctions using APIs available in Node.js.\n */\nexport class NodePlatformFunctions extends PlatformFunctions {\n    constructor() {\n        super();\n        this._exec = exec;\n        this._UNAME_CACHE = null;\n    }\n    /** @override */\n    uuid4() {\n        // available in: v14.17.x+\n        if (crypto.randomUUID) {\n            return crypto.randomUUID();\n        }\n        return super.uuid4();\n    }\n    /**\n     * @override\n     * Node's built in `exec` function sometimes throws outright,\n     * and sometimes has a callback with an error,\n     * depending on the type of error.\n     *\n     * This unifies that interface by resolving with a null uname\n     * if an error is encountered.\n     */\n    getUname() {\n        if (!this._UNAME_CACHE) {\n            this._UNAME_CACHE = new Promise((resolve, reject) => {\n                try {\n                    this._exec('uname -a', (err, uname) => {\n                        if (err) {\n                            return resolve(null);\n                        }\n                        resolve(uname);\n                    });\n                }\n                catch (e) {\n                    resolve(null);\n                }\n            });\n        }\n        return this._UNAME_CACHE;\n    }\n    /**\n     * @override\n     * Secure compare, from https://github.com/freewil/scmp\n     */\n    secureCompare(a, b) {\n        if (!a || !b) {\n            throw new Error('secureCompare must receive two arguments');\n        }\n        // return early here if buffer lengths are not equal since timingSafeEqual\n        // will throw if buffer lengths are not equal\n        if (a.length !== b.length) {\n            return false;\n        }\n        // use crypto.timingSafeEqual if available (since Node.js v6.6.0),\n        // otherwise use our own scmp-internal function.\n        if (crypto.timingSafeEqual) {\n            const textEncoder = new TextEncoder();\n            const aEncoded = textEncoder.encode(a);\n            const bEncoded = textEncoder.encode(b);\n            return crypto.timingSafeEqual(aEncoded, bEncoded);\n        }\n        return super.secureCompare(a, b);\n    }\n    createEmitter() {\n        return new EventEmitter();\n    }\n    /** @override */\n    tryBufferData(data) {\n        if (!(data.file.data instanceof EventEmitter)) {\n            return Promise.resolve(data);\n        }\n        const bufferArray = [];\n        return new Promise((resolve, reject) => {\n            data.file.data\n                .on('data', (line) => {\n                bufferArray.push(line);\n            })\n                .once('end', () => {\n                // @ts-ignore\n                const bufferData = Object.assign({}, data);\n                bufferData.file.data = concat(bufferArray);\n                resolve(bufferData);\n            })\n                .on('error', (err) => {\n                reject(new StreamProcessingError({\n                    message: 'An error occurred while attempting to process the file for upload.',\n                    detail: err,\n                }));\n            });\n        });\n    }\n    /** @override */\n    createNodeHttpClient(agent) {\n        return new NodeHttpClient(agent);\n    }\n    /** @override */\n    createDefaultHttpClient() {\n        return new NodeHttpClient();\n    }\n    /** @override */\n    createNodeCryptoProvider() {\n        return new NodeCryptoProvider();\n    }\n    /** @override */\n    createDefaultCryptoProvider() {\n        return this.createNodeCryptoProvider();\n    }\n}\n","import { StripeAPIError, StripeAuthenticationError, StripeConnectionError, StripeError, StripePermissionError, StripeRateLimitError, generateV1Error, generateV2Error, } from './Error.js';\nimport { HttpClient } from './net/HttpClient.js';\nimport { emitWarning, jsonStringifyRequestData, normalizeHeaders, queryStringifyRequestData, removeNullish, getAPIMode, getOptionsFromArgs, getDataFromArgs, parseHttpHeaderAsString, parseHttpHeaderAsNumber, } from './utils.js';\nconst MAX_RETRY_AFTER_WAIT = 60;\nexport class RequestSender {\n    constructor(stripe, maxBufferedRequestMetric) {\n        this._stripe = stripe;\n        this._maxBufferedRequestMetric = maxBufferedRequestMetric;\n    }\n    _normalizeStripeContext(optsContext, clientContext) {\n        if (optsContext) {\n            return optsContext.toString() || null; // return null for empty strings\n        }\n        return (clientContext === null || clientContext === void 0 ? void 0 : clientContext.toString()) || null; // return null for empty strings\n    }\n    _addHeadersDirectlyToObject(obj, headers) {\n        // For convenience, make some headers easily accessible on\n        // lastResponse.\n        // NOTE: Stripe responds with lowercase header names/keys.\n        obj.requestId = headers['request-id'];\n        obj.stripeAccount = obj.stripeAccount || headers['stripe-account'];\n        obj.apiVersion = obj.apiVersion || headers['stripe-version'];\n        obj.idempotencyKey = obj.idempotencyKey || headers['idempotency-key'];\n    }\n    _makeResponseEvent(requestEvent, statusCode, headers) {\n        const requestEndTime = Date.now();\n        const requestDurationMs = requestEndTime - requestEvent.request_start_time;\n        return removeNullish({\n            api_version: headers['stripe-version'],\n            account: headers['stripe-account'],\n            idempotency_key: headers['idempotency-key'],\n            method: requestEvent.method,\n            path: requestEvent.path,\n            status: statusCode,\n            request_id: this._getRequestId(headers),\n            elapsed: requestDurationMs,\n            request_start_time: requestEvent.request_start_time,\n            request_end_time: requestEndTime,\n        });\n    }\n    _getRequestId(headers) {\n        return headers['request-id'];\n    }\n    /**\n     * Used by methods with spec.streaming === true. For these methods, we do not\n     * buffer successful responses into memory or do parse them into stripe\n     * objects, we delegate that all of that to the user and pass back the raw\n     * http.Response object to the callback.\n     *\n     * (Unsuccessful responses shouldn't make it here, they should\n     * still be buffered/parsed and handled by _jsonResponseHandler -- see\n     * makeRequest)\n     */\n    _streamingResponseHandler(requestEvent, usage, callback) {\n        return (res) => {\n            const headers = res.getHeaders();\n            const streamCompleteCallback = () => {\n                const responseEvent = this._makeResponseEvent(requestEvent, res.getStatusCode(), headers);\n                this._stripe._emitter.emit('response', responseEvent);\n                this._recordRequestMetrics(this._getRequestId(headers), responseEvent.elapsed, usage);\n            };\n            const stream = res.toStream(streamCompleteCallback);\n            // This is here for backwards compatibility, as the stream is a raw\n            // HTTP response in Node and the legacy behavior was to mutate this\n            // response.\n            this._addHeadersDirectlyToObject(stream, headers);\n            return callback(null, stream);\n        };\n    }\n    /**\n     * Default handler for Stripe responses. Buffers the response into memory,\n     * parses the JSON and returns it (i.e. passes it to the callback) if there\n     * is no \"error\" field. Otherwise constructs/passes an appropriate Error.\n     */\n    _jsonResponseHandler(requestEvent, apiMode, usage, callback) {\n        return (res) => {\n            const headers = res.getHeaders();\n            const requestId = this._getRequestId(headers);\n            const statusCode = res.getStatusCode();\n            const responseEvent = this._makeResponseEvent(requestEvent, statusCode, headers);\n            this._stripe._emitter.emit('response', responseEvent);\n            res\n                .toJSON()\n                .then((jsonResponse) => {\n                if (jsonResponse.error) {\n                    let err;\n                    // Convert OAuth error responses into a standard format\n                    // so that the rest of the error logic can be shared\n                    if (typeof jsonResponse.error === 'string') {\n                        jsonResponse.error = {\n                            type: jsonResponse.error,\n                            message: jsonResponse.error_description,\n                        };\n                    }\n                    jsonResponse.error.headers = headers;\n                    jsonResponse.error.statusCode = statusCode;\n                    jsonResponse.error.requestId = requestId;\n                    if (statusCode === 401) {\n                        err = new StripeAuthenticationError(jsonResponse.error);\n                    }\n                    else if (statusCode === 403) {\n                        err = new StripePermissionError(jsonResponse.error);\n                    }\n                    else if (statusCode === 429) {\n                        err = new StripeRateLimitError(jsonResponse.error);\n                    }\n                    else if (apiMode === 'v2') {\n                        err = generateV2Error(jsonResponse.error);\n                    }\n                    else {\n                        err = generateV1Error(jsonResponse.error);\n                    }\n                    throw err;\n                }\n                return jsonResponse;\n            }, (e) => {\n                throw new StripeAPIError({\n                    message: 'Invalid JSON received from the Stripe API',\n                    exception: e,\n                    requestId: headers['request-id'],\n                });\n            })\n                .then((jsonResponse) => {\n                this._recordRequestMetrics(requestId, responseEvent.elapsed, usage);\n                // Expose raw response object.\n                const rawResponse = res.getRawResponse();\n                this._addHeadersDirectlyToObject(rawResponse, headers);\n                Object.defineProperty(jsonResponse, 'lastResponse', {\n                    enumerable: false,\n                    writable: false,\n                    value: rawResponse,\n                });\n                callback(null, jsonResponse);\n            }, (e) => callback(e, null));\n        };\n    }\n    static _generateConnectionErrorMessage(requestRetries) {\n        return `An error occurred with our connection to Stripe.${requestRetries > 0 ? ` Request was retried ${requestRetries} times.` : ''}`;\n    }\n    // For more on when and how to retry API requests, see https://stripe.com/docs/error-handling#safely-retrying-requests-with-idempotency\n    static _shouldRetry(res, numRetries, maxRetries, error) {\n        if (error &&\n            numRetries === 0 &&\n            HttpClient.CONNECTION_CLOSED_ERROR_CODES.includes(error.code)) {\n            return true;\n        }\n        // Do not retry if we are out of retries.\n        if (numRetries >= maxRetries) {\n            return false;\n        }\n        // Retry on connection error.\n        if (!res) {\n            return true;\n        }\n        // The API may ask us not to retry (e.g., if doing so would be a no-op)\n        // or advise us to retry (e.g., in cases of lock timeouts); we defer to that.\n        if (res.getHeaders()['stripe-should-retry'] === 'false') {\n            return false;\n        }\n        if (res.getHeaders()['stripe-should-retry'] === 'true') {\n            return true;\n        }\n        // Retry on conflict errors.\n        if (res.getStatusCode() === 409) {\n            return true;\n        }\n        // Retry on 500, 503, and other internal errors.\n        //\n        // Note that we expect the stripe-should-retry header to be false\n        // in most cases when a 500 is returned, since our idempotency framework\n        // would typically replay it anyway.\n        if (res.getStatusCode() >= 500) {\n            return true;\n        }\n        return false;\n    }\n    _getSleepTimeInMS(numRetries, retryAfter = null) {\n        const initialNetworkRetryDelay = this._stripe.getInitialNetworkRetryDelay();\n        const maxNetworkRetryDelay = this._stripe.getMaxNetworkRetryDelay();\n        // Apply exponential backoff with initialNetworkRetryDelay on the\n        // number of numRetries so far as inputs. Do not allow the number to exceed\n        // maxNetworkRetryDelay.\n        let sleepSeconds = Math.min(initialNetworkRetryDelay * Math.pow(2, numRetries - 1), maxNetworkRetryDelay);\n        // Apply some jitter by randomizing the value in the range of\n        // (sleepSeconds / 2) to (sleepSeconds).\n        sleepSeconds *= 0.5 * (1 + Math.random());\n        // But never sleep less than the base sleep seconds.\n        sleepSeconds = Math.max(initialNetworkRetryDelay, sleepSeconds);\n        // And never sleep less than the time the API asks us to wait, assuming it's a reasonable ask.\n        if (Number.isInteger(retryAfter) && retryAfter <= MAX_RETRY_AFTER_WAIT) {\n            sleepSeconds = Math.max(sleepSeconds, retryAfter);\n        }\n        return sleepSeconds * 1000;\n    }\n    // Max retries can be set on a per request basis. Favor those over the global setting\n    _getMaxNetworkRetries(settings = {}) {\n        return settings.maxNetworkRetries !== undefined &&\n            Number.isInteger(settings.maxNetworkRetries)\n            ? settings.maxNetworkRetries\n            : this._stripe.getMaxNetworkRetries();\n    }\n    _defaultIdempotencyKey(method, settings, apiMode) {\n        // If this is a POST and we allow multiple retries, ensure an idempotency key.\n        const maxRetries = this._getMaxNetworkRetries(settings);\n        const genKey = () => `stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`;\n        // more verbose than it needs to be, but gives clear separation between V1 and V2 behavior\n        if (apiMode === 'v2') {\n            if (method === 'POST' || method === 'DELETE') {\n                return genKey();\n            }\n        }\n        else if (apiMode === 'v1') {\n            if (method === 'POST' && maxRetries > 0) {\n                return genKey();\n            }\n        }\n        return null;\n    }\n    _makeHeaders({ contentType, contentLength, apiVersion, clientUserAgent, method, userSuppliedHeaders, userSuppliedSettings, stripeAccount, stripeContext, apiMode, }) {\n        const defaultHeaders = {\n            Accept: 'application/json',\n            'Content-Type': contentType,\n            'User-Agent': this._getUserAgentString(apiMode),\n            'X-Stripe-Client-User-Agent': clientUserAgent,\n            'X-Stripe-Client-Telemetry': this._getTelemetryHeader(),\n            'Stripe-Version': apiVersion,\n            'Stripe-Account': stripeAccount,\n            'Stripe-Context': stripeContext,\n            'Idempotency-Key': this._defaultIdempotencyKey(method, userSuppliedSettings, apiMode),\n        };\n        // As per https://datatracker.ietf.org/doc/html/rfc7230#section-3.3.2:\n        //   A user agent SHOULD send a Content-Length in a request message when\n        //   no Transfer-Encoding is sent and the request method defines a meaning\n        //   for an enclosed payload body.  For example, a Content-Length header\n        //   field is normally sent in a POST request even when the value is 0\n        //   (indicating an empty payload body).  A user agent SHOULD NOT send a\n        //   Content-Length header field when the request message does not contain\n        //   a payload body and the method semantics do not anticipate such a\n        //   body.\n        //\n        // These method types are expected to have bodies and so we should always\n        // include a Content-Length.\n        const methodHasPayload = method == 'POST' || method == 'PUT' || method == 'PATCH';\n        // If a content length was specified, we always include it regardless of\n        // whether the method semantics anticipate such a body. This keeps us\n        // consistent with historical behavior. We do however want to warn on this\n        // and fix these cases as they are semantically incorrect.\n        if (methodHasPayload || contentLength) {\n            if (!methodHasPayload) {\n                emitWarning(`${method} method had non-zero contentLength but no payload is expected for this verb`);\n            }\n            defaultHeaders['Content-Length'] = contentLength;\n        }\n        return Object.assign(removeNullish(defaultHeaders), \n        // If the user supplied, say 'idempotency-key', override instead of appending by ensuring caps are the same.\n        normalizeHeaders(userSuppliedHeaders));\n    }\n    _getUserAgentString(apiMode) {\n        const packageVersion = this._stripe.getConstant('PACKAGE_VERSION');\n        const appInfo = this._stripe._appInfo\n            ? this._stripe.getAppInfoAsString()\n            : '';\n        return `Stripe/${apiMode} NodeBindings/${packageVersion} ${appInfo}`.trim();\n    }\n    _getTelemetryHeader() {\n        if (this._stripe.getTelemetryEnabled() &&\n            this._stripe._prevRequestMetrics.length > 0) {\n            const metrics = this._stripe._prevRequestMetrics.shift();\n            return JSON.stringify({\n                last_request_metrics: metrics,\n            });\n        }\n    }\n    _recordRequestMetrics(requestId, requestDurationMs, usage) {\n        if (this._stripe.getTelemetryEnabled() && requestId) {\n            if (this._stripe._prevRequestMetrics.length > this._maxBufferedRequestMetric) {\n                emitWarning('Request metrics buffer is full, dropping telemetry message.');\n            }\n            else {\n                const m = {\n                    request_id: requestId,\n                    request_duration_ms: requestDurationMs,\n                };\n                if (usage && usage.length > 0) {\n                    m.usage = usage;\n                }\n                this._stripe._prevRequestMetrics.push(m);\n            }\n        }\n    }\n    _rawRequest(method, path, params, options, usage) {\n        const requestPromise = new Promise((resolve, reject) => {\n            let opts;\n            try {\n                const requestMethod = method.toUpperCase();\n                if (requestMethod !== 'POST' &&\n                    params &&\n                    Object.keys(params).length !== 0) {\n                    throw new Error('rawRequest only supports params on POST requests. Please pass null and add your parameters to path.');\n                }\n                const args = [].slice.call([params, options]);\n                // Pull request data and options (headers, auth) from args.\n                const dataFromArgs = getDataFromArgs(args);\n                const data = requestMethod === 'POST' ? Object.assign({}, dataFromArgs) : null;\n                const calculatedOptions = getOptionsFromArgs(args);\n                const headers = calculatedOptions.headers;\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                const authenticator = calculatedOptions.authenticator;\n                opts = {\n                    requestMethod,\n                    requestPath: path,\n                    bodyData: data,\n                    queryData: {},\n                    authenticator,\n                    headers,\n                    host: calculatedOptions.host,\n                    streaming: !!calculatedOptions.streaming,\n                    settings: {},\n                    // We use this for thin event internals, so we should record the more specific `usage`, when available\n                    usage: usage || ['raw_request'],\n                };\n            }\n            catch (err) {\n                reject(err);\n                return;\n            }\n            function requestCallback(err, response) {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(response);\n                }\n            }\n            const { headers, settings } = opts;\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            const authenticator = opts.authenticator;\n            this._request(opts.requestMethod, opts.host, path, opts.bodyData, authenticator, { headers, settings, streaming: opts.streaming }, opts.usage, requestCallback);\n        });\n        return requestPromise;\n    }\n    _request(method, host, path, data, authenticator, options, usage = [], callback, requestDataProcessor = null) {\n        var _a;\n        let requestData;\n        authenticator = (_a = authenticator !== null && authenticator !== void 0 ? authenticator : this._stripe._authenticator) !== null && _a !== void 0 ? _a : null;\n        const apiMode = getAPIMode(path);\n        const retryRequest = (requestFn, apiVersion, headers, requestRetries, retryAfter) => {\n            return setTimeout(requestFn, this._getSleepTimeInMS(requestRetries, retryAfter), apiVersion, headers, requestRetries + 1);\n        };\n        const makeRequest = (apiVersion, headers, numRetries) => {\n            // timeout can be set on a per-request basis. Favor that over the global setting\n            const timeout = options.settings &&\n                options.settings.timeout &&\n                Number.isInteger(options.settings.timeout) &&\n                options.settings.timeout >= 0\n                ? options.settings.timeout\n                : this._stripe.getApiField('timeout');\n            const request = {\n                host: host || this._stripe.getApiField('host'),\n                port: this._stripe.getApiField('port'),\n                path: path,\n                method: method,\n                headers: Object.assign({}, headers),\n                body: requestData,\n                protocol: this._stripe.getApiField('protocol'),\n            };\n            authenticator(request)\n                .then(() => {\n                const req = this._stripe\n                    .getApiField('httpClient')\n                    .makeRequest(request.host, request.port, request.path, request.method, request.headers, request.body, request.protocol, timeout);\n                const requestStartTime = Date.now();\n                const requestEvent = removeNullish({\n                    api_version: apiVersion,\n                    account: parseHttpHeaderAsString(headers['Stripe-Account']),\n                    idempotency_key: parseHttpHeaderAsString(headers['Idempotency-Key']),\n                    method,\n                    path,\n                    request_start_time: requestStartTime,\n                });\n                const requestRetries = numRetries || 0;\n                const maxRetries = this._getMaxNetworkRetries(options.settings || {});\n                this._stripe._emitter.emit('request', requestEvent);\n                req\n                    .then((res) => {\n                    if (RequestSender._shouldRetry(res, requestRetries, maxRetries)) {\n                        return retryRequest(makeRequest, apiVersion, headers, requestRetries, parseHttpHeaderAsNumber(res.getHeaders()['retry-after']));\n                    }\n                    else if (options.streaming && res.getStatusCode() < 400) {\n                        return this._streamingResponseHandler(requestEvent, usage, callback)(res);\n                    }\n                    else {\n                        return this._jsonResponseHandler(requestEvent, apiMode, usage, callback)(res);\n                    }\n                })\n                    .catch((error) => {\n                    if (RequestSender._shouldRetry(null, requestRetries, maxRetries, error)) {\n                        return retryRequest(makeRequest, apiVersion, headers, requestRetries, null);\n                    }\n                    else {\n                        const isTimeoutError = error.code && error.code === HttpClient.TIMEOUT_ERROR_CODE;\n                        return callback(new StripeConnectionError({\n                            message: isTimeoutError\n                                ? `Request aborted due to timeout being reached (${timeout}ms)`\n                                : RequestSender._generateConnectionErrorMessage(requestRetries),\n                            detail: error,\n                        }));\n                    }\n                });\n            })\n                .catch((e) => {\n                throw new StripeError({\n                    message: 'Unable to authenticate the request',\n                    exception: e,\n                });\n            });\n        };\n        const prepareAndMakeRequest = (error, data) => {\n            if (error) {\n                return callback(error);\n            }\n            requestData = data;\n            this._stripe.getClientUserAgent((clientUserAgent) => {\n                var _a, _b, _c;\n                const apiVersion = this._stripe.getApiField('version');\n                const headers = this._makeHeaders({\n                    contentType: apiMode == 'v2'\n                        ? 'application/json'\n                        : 'application/x-www-form-urlencoded',\n                    contentLength: new TextEncoder().encode(requestData).length,\n                    apiVersion: apiVersion,\n                    clientUserAgent,\n                    method,\n                    // other callers expect null, but .headers being optional means it's undefined if not supplied. So we normalize to null.\n                    userSuppliedHeaders: (_a = options.headers) !== null && _a !== void 0 ? _a : null,\n                    userSuppliedSettings: (_b = options.settings) !== null && _b !== void 0 ? _b : {},\n                    stripeAccount: (_c = options.stripeAccount) !== null && _c !== void 0 ? _c : this._stripe.getApiField('stripeAccount'),\n                    stripeContext: this._normalizeStripeContext(options.stripeContext, this._stripe.getApiField('stripeContext')),\n                    apiMode: apiMode,\n                });\n                makeRequest(apiVersion, headers, 0);\n            });\n        };\n        if (requestDataProcessor) {\n            requestDataProcessor(method, data, options.headers, prepareAndMakeRequest);\n        }\n        else {\n            let stringifiedData;\n            if (apiMode == 'v2') {\n                stringifiedData = data ? jsonStringifyRequestData(data) : '';\n            }\n            else {\n                stringifiedData = queryStringifyRequestData(data || {}, apiMode);\n            }\n            prepareAndMakeRequest(null, stringifiedData);\n        }\n    }\n}\n","import { callbackifyPromiseWithTimeout, getDataFromArgs, getAPIMode, } from './utils.js';\nclass V1Iterator {\n    constructor(firstPagePromise, requestArgs, spec, stripeResource) {\n        this.index = 0;\n        this.pagePromise = firstPagePromise;\n        this.promiseCache = { currentPromise: null };\n        this.requestArgs = requestArgs;\n        this.spec = spec;\n        this.stripeResource = stripeResource;\n    }\n    async iterate(pageResult) {\n        if (!(pageResult &&\n            pageResult.data &&\n            typeof pageResult.data.length === 'number')) {\n            throw Error('Unexpected: Stripe API response does not have a well-formed `data` array.');\n        }\n        const reverseIteration = isReverseIteration(this.requestArgs);\n        if (this.index < pageResult.data.length) {\n            const idx = reverseIteration\n                ? pageResult.data.length - 1 - this.index\n                : this.index;\n            const value = pageResult.data[idx];\n            this.index += 1;\n            return { value, done: false };\n        }\n        else if (pageResult.has_more) {\n            // Reset counter, request next page, and recurse.\n            this.index = 0;\n            this.pagePromise = this.getNextPage(pageResult);\n            const nextPageResult = await this.pagePromise;\n            return this.iterate(nextPageResult);\n        }\n        return { done: true, value: undefined };\n    }\n    /** @abstract */\n    getNextPage(_pageResult) {\n        throw new Error('Unimplemented');\n    }\n    async _next() {\n        return this.iterate(await this.pagePromise);\n    }\n    next() {\n        /**\n         * If a user calls `.next()` multiple times in parallel,\n         * return the same result until something has resolved\n         * to prevent page-turning race conditions.\n         */\n        if (this.promiseCache.currentPromise) {\n            return this.promiseCache.currentPromise;\n        }\n        const nextPromise = (async () => {\n            const ret = await this._next();\n            this.promiseCache.currentPromise = null;\n            return ret;\n        })();\n        this.promiseCache.currentPromise = nextPromise;\n        return nextPromise;\n    }\n}\nclass V1ListIterator extends V1Iterator {\n    getNextPage(pageResult) {\n        const reverseIteration = isReverseIteration(this.requestArgs);\n        const lastId = getLastId(pageResult, reverseIteration);\n        return this.stripeResource._makeRequest(this.requestArgs, this.spec, {\n            [reverseIteration ? 'ending_before' : 'starting_after']: lastId,\n        });\n    }\n}\nclass V1SearchIterator extends V1Iterator {\n    getNextPage(pageResult) {\n        if (!pageResult.next_page) {\n            throw Error('Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.');\n        }\n        return this.stripeResource._makeRequest(this.requestArgs, this.spec, {\n            page: pageResult.next_page,\n        });\n    }\n}\nclass V2ListIterator {\n    constructor(firstPagePromise, requestArgs, spec, stripeResource) {\n        this.currentPageIterator = (async () => {\n            const page = await firstPagePromise;\n            return page.data[Symbol.iterator]();\n        })();\n        this.nextPageUrl = (async () => {\n            const page = await firstPagePromise;\n            return page.next_page_url || null;\n        })();\n        this.requestArgs = requestArgs;\n        this.spec = spec;\n        this.stripeResource = stripeResource;\n    }\n    async turnPage() {\n        const nextPageUrl = await this.nextPageUrl;\n        if (!nextPageUrl)\n            return null;\n        this.spec.fullPath = nextPageUrl;\n        const page = await this.stripeResource._makeRequest([], this.spec, {});\n        this.nextPageUrl = Promise.resolve(page.next_page_url);\n        this.currentPageIterator = Promise.resolve(page.data[Symbol.iterator]());\n        return this.currentPageIterator;\n    }\n    async next() {\n        {\n            const result = (await this.currentPageIterator).next();\n            if (!result.done)\n                return { done: false, value: result.value };\n        }\n        const nextPageIterator = await this.turnPage();\n        if (!nextPageIterator) {\n            return { done: true, value: undefined };\n        }\n        const result = nextPageIterator.next();\n        if (!result.done)\n            return { done: false, value: result.value };\n        return { done: true, value: undefined };\n    }\n}\nexport const makeAutoPaginationMethods = (stripeResource, requestArgs, spec, firstPagePromise) => {\n    const apiMode = getAPIMode(spec.fullPath || spec.path);\n    if (apiMode !== 'v2' && spec.methodType === 'search') {\n        return makeAutoPaginationMethodsFromIterator(new V1SearchIterator(firstPagePromise, requestArgs, spec, stripeResource));\n    }\n    if (apiMode !== 'v2' && spec.methodType === 'list') {\n        return makeAutoPaginationMethodsFromIterator(new V1ListIterator(firstPagePromise, requestArgs, spec, stripeResource));\n    }\n    if (apiMode === 'v2' && spec.methodType === 'list') {\n        return makeAutoPaginationMethodsFromIterator(new V2ListIterator(firstPagePromise, requestArgs, spec, stripeResource));\n    }\n    return null;\n};\nconst makeAutoPaginationMethodsFromIterator = (iterator) => {\n    const autoPagingEach = makeAutoPagingEach((...args) => iterator.next(...args));\n    const autoPagingToArray = makeAutoPagingToArray(autoPagingEach);\n    const autoPaginationMethods = {\n        autoPagingEach,\n        autoPagingToArray,\n        // Async iterator functions:\n        next: () => iterator.next(),\n        return: () => {\n            // This is required for `break`.\n            return {};\n        },\n        [getAsyncIteratorSymbol()]: () => {\n            return autoPaginationMethods;\n        },\n    };\n    return autoPaginationMethods;\n};\n/**\n * ----------------\n * Private Helpers:\n * ----------------\n */\nfunction getAsyncIteratorSymbol() {\n    if (typeof Symbol !== 'undefined' && Symbol.asyncIterator) {\n        return Symbol.asyncIterator;\n    }\n    // Follow the convention from libraries like iterall: https://github.com/leebyron/iterall#asynciterator-1\n    return '@@asyncIterator';\n}\nfunction getDoneCallback(args) {\n    if (args.length < 2) {\n        return null;\n    }\n    const onDone = args[1];\n    if (typeof onDone !== 'function') {\n        throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof onDone}`);\n    }\n    return onDone;\n}\n/**\n * We allow four forms of the `onItem` callback (the middle two being equivalent),\n *\n *   1. `.autoPagingEach((item) => { doSomething(item); return false; });`\n *   2. `.autoPagingEach(async (item) => { await doSomething(item); return false; });`\n *   3. `.autoPagingEach((item) => doSomething(item).then(() => false));`\n *   4. `.autoPagingEach((item, next) => { doSomething(item); next(false); });`\n *\n * In addition to standard validation, this helper\n * coalesces the former forms into the latter form.\n */\nfunction getItemCallback(args) {\n    if (args.length === 0) {\n        return undefined;\n    }\n    const onItem = args[0];\n    if (typeof onItem !== 'function') {\n        throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof onItem}`);\n    }\n    // 4. `.autoPagingEach((item, next) => { doSomething(item); next(false); });`\n    if (onItem.length === 2) {\n        return onItem;\n    }\n    if (onItem.length > 2) {\n        throw Error(`The \\`onItem\\` callback function passed to autoPagingEach must accept at most two arguments; got ${onItem}`);\n    }\n    // This magically handles all three of these usecases (the latter two being functionally identical):\n    // 1. `.autoPagingEach((item) => { doSomething(item); return false; });`\n    // 2. `.autoPagingEach(async (item) => { await doSomething(item); return false; });`\n    // 3. `.autoPagingEach((item) => doSomething(item).then(() => false));`\n    return function _onItem(item, next) {\n        const shouldContinue = onItem(item);\n        next(shouldContinue);\n    };\n}\nfunction getLastId(listResult, reverseIteration) {\n    const lastIdx = reverseIteration ? 0 : listResult.data.length - 1;\n    const lastItem = listResult.data[lastIdx];\n    const lastId = lastItem && lastItem.id;\n    if (!lastId) {\n        throw Error('Unexpected: No `id` found on the last item while auto-paging a list.');\n    }\n    return lastId;\n}\nfunction makeAutoPagingEach(asyncIteratorNext) {\n    return function autoPagingEach( /* onItem?, onDone? */) {\n        const args = [].slice.call(arguments);\n        const onItem = getItemCallback(args);\n        const onDone = getDoneCallback(args);\n        if (args.length > 2) {\n            throw Error(`autoPagingEach takes up to two arguments; received ${args}`);\n        }\n        const autoPagePromise = wrapAsyncIteratorWithCallback(asyncIteratorNext, \n        // @ts-ignore we might need a null check\n        onItem);\n        return callbackifyPromiseWithTimeout(autoPagePromise, onDone);\n    };\n}\nfunction makeAutoPagingToArray(autoPagingEach) {\n    return function autoPagingToArray(opts, onDone) {\n        const limit = opts && opts.limit;\n        if (!limit) {\n            throw Error('You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.');\n        }\n        if (limit > 10000) {\n            throw Error('You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.');\n        }\n        const promise = new Promise((resolve, reject) => {\n            const items = [];\n            autoPagingEach((item) => {\n                items.push(item);\n                if (items.length >= limit) {\n                    return false;\n                }\n            })\n                .then(() => {\n                resolve(items);\n            })\n                .catch(reject);\n        });\n        // @ts-ignore\n        return callbackifyPromiseWithTimeout(promise, onDone);\n    };\n}\nfunction wrapAsyncIteratorWithCallback(asyncIteratorNext, onItem) {\n    return new Promise((resolve, reject) => {\n        function handleIteration(iterResult) {\n            if (iterResult.done) {\n                resolve();\n                return;\n            }\n            const item = iterResult.value;\n            return new Promise((next) => {\n                // Bit confusing, perhaps; we pass a `resolve` fn\n                // to the user, so they can decide when and if to continue.\n                // They can return false, or a promise which resolves to false, to break.\n                onItem(item, next);\n            }).then((shouldContinue) => {\n                if (shouldContinue === false) {\n                    return handleIteration({ done: true, value: undefined });\n                }\n                else {\n                    return asyncIteratorNext().then(handleIteration);\n                }\n            });\n        }\n        asyncIteratorNext()\n            .then(handleIteration)\n            .catch(reject);\n    });\n}\nfunction isReverseIteration(requestArgs) {\n    const args = [].slice.call(requestArgs);\n    const dataFromArgs = getDataFromArgs(args);\n    return !!dataFromArgs.ending_before;\n}\n","import { callbackifyPromiseWithTimeout, extractUrlParams } from './utils.js';\nimport { makeAutoPaginationMethods } from './autoPagination.js';\n/**\n * Create an API method from the declared spec.\n *\n * @param [spec.method='GET'] Request Method (POST, GET, DELETE, PUT)\n * @param [spec.path=''] Path to be appended to the API BASE_PATH, joined with\n *  the instance's path (e.g. 'charges' or 'customers')\n * @param [spec.fullPath=''] Fully qualified path to the method (eg. /v1/a/b/c).\n *  If this is specified, path should not be specified.\n * @param [spec.urlParams=[]] Array of required arguments in the order that they\n *  must be passed by the consumer of the API. Subsequent optional arguments are\n *  optionally passed through a hash (Object) as the penultimate argument\n *  (preceding the also-optional callback argument\n * @param [spec.encode] Function for mutating input parameters to a method.\n *  Usefully for applying transforms to data on a per-method basis.\n * @param [spec.host] Hostname for the request.\n *\n * <!-- Public API accessible via Stripe.StripeResource.method -->\n */\nexport function stripeMethod(spec) {\n    if (spec.path !== undefined && spec.fullPath !== undefined) {\n        throw new Error(`Method spec specified both a 'path' (${spec.path}) and a 'fullPath' (${spec.fullPath}).`);\n    }\n    return function (...args) {\n        const callback = typeof args[args.length - 1] == 'function' && args.pop();\n        spec.urlParams = extractUrlParams(spec.fullPath || this.createResourcePathWithSymbols(spec.path || ''));\n        const requestPromise = callbackifyPromiseWithTimeout(this._makeRequest(args, spec, {}), callback);\n        Object.assign(requestPromise, makeAutoPaginationMethods(this, args, spec, requestPromise));\n        return requestPromise;\n    };\n}\n","import { getDataFromArgs, getOptionsFromArgs, makeURLInterpolator, protoExtend, queryStringifyRequestData, getAPIMode, } from './utils.js';\nimport { stripeMethod } from './StripeMethod.js';\n// Provide extension mechanism for Stripe Resource Sub-Classes\nStripeResource.extend = protoExtend;\n// Expose method-creator\nStripeResource.method = stripeMethod;\nStripeResource.MAX_BUFFERED_REQUEST_METRICS = 100;\n/**\n * Encapsulates request logic for a Stripe Resource\n */\nfunction StripeResource(stripe, deprecatedUrlData) {\n    this._stripe = stripe;\n    if (deprecatedUrlData) {\n        throw new Error('Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.');\n    }\n    this.basePath = makeURLInterpolator(\n    // @ts-ignore changing type of basePath\n    this.basePath || stripe.getApiField('basePath'));\n    // @ts-ignore changing type of path\n    this.resourcePath = this.path;\n    // @ts-ignore changing type of path\n    this.path = makeURLInterpolator(this.path);\n    this.initialize(...arguments);\n}\nStripeResource.prototype = {\n    _stripe: null,\n    // @ts-ignore the type of path changes in ctor\n    path: '',\n    resourcePath: '',\n    // Methods that don't use the API's default '/v1' path can override it with this setting.\n    basePath: null,\n    initialize() { },\n    // Function to override the default data processor. This allows full control\n    // over how a StripeResource's request data will get converted into an HTTP\n    // body. This is useful for non-standard HTTP requests. The function should\n    // take method name, data, and headers as arguments.\n    requestDataProcessor: null,\n    // Function to add a validation checks before sending the request, errors should\n    // be thrown, and they will be passed to the callback/promise.\n    validateRequest: null,\n    createFullPath(commandPath, urlData) {\n        const urlParts = [this.basePath(urlData), this.path(urlData)];\n        if (typeof commandPath === 'function') {\n            const computedCommandPath = commandPath(urlData);\n            // If we have no actual command path, we just omit it to avoid adding a\n            // trailing slash. This is important for top-level listing requests, which\n            // do not have a command path.\n            if (computedCommandPath) {\n                urlParts.push(computedCommandPath);\n            }\n        }\n        else {\n            urlParts.push(commandPath);\n        }\n        return this._joinUrlParts(urlParts);\n    },\n    // Creates a relative resource path with symbols left in (unlike\n    // createFullPath which takes some data to replace them with). For example it\n    // might produce: /invoices/{id}\n    createResourcePathWithSymbols(pathWithSymbols) {\n        // If there is no path beyond the resource path, we want to produce just\n        // /<resource path> rather than /<resource path>/.\n        if (pathWithSymbols) {\n            return `/${this._joinUrlParts([this.resourcePath, pathWithSymbols])}`;\n        }\n        else {\n            return `/${this.resourcePath}`;\n        }\n    },\n    _joinUrlParts(parts) {\n        // Replace any accidentally doubled up slashes. This previously used\n        // path.join, which would do this as well. Unfortunately we need to do this\n        // as the functions for creating paths are technically part of the public\n        // interface and so we need to preserve backwards compatibility.\n        return parts.join('/').replace(/\\/{2,}/g, '/');\n    },\n    _getRequestOpts(requestArgs, spec, overrideData) {\n        var _a;\n        // Extract spec values with defaults.\n        const requestMethod = (spec.method || 'GET').toUpperCase();\n        const usage = spec.usage || [];\n        const urlParams = spec.urlParams || [];\n        const encode = spec.encode || ((data) => data);\n        const isUsingFullPath = !!spec.fullPath;\n        const commandPath = makeURLInterpolator(isUsingFullPath ? spec.fullPath : spec.path || '');\n        // When using fullPath, we ignore the resource path as it should already be\n        // fully qualified.\n        const path = isUsingFullPath\n            ? spec.fullPath\n            : this.createResourcePathWithSymbols(spec.path);\n        // Don't mutate args externally.\n        const args = [].slice.call(requestArgs);\n        // Generate and validate url params.\n        const urlData = urlParams.reduce((urlData, param) => {\n            const arg = args.shift();\n            if (typeof arg !== 'string') {\n                throw new Error(`Stripe: Argument \"${param}\" must be a string, but got: ${arg} (on API request to \\`${requestMethod} ${path}\\`)`);\n            }\n            urlData[param] = arg;\n            return urlData;\n        }, {});\n        // Pull request data and options (headers, auth) from args.\n        const dataFromArgs = getDataFromArgs(args);\n        const data = encode(Object.assign({}, dataFromArgs, overrideData));\n        const options = getOptionsFromArgs(args);\n        const host = options.host || spec.host;\n        const streaming = !!spec.streaming || !!options.streaming;\n        // Validate that there are no more args.\n        if (args.filter((x) => x != null).length) {\n            throw new Error(`Stripe: Unknown arguments (${args}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${requestMethod} \\`${path}\\`)`);\n        }\n        // When using full path, we can just invoke the URL interpolator directly\n        // as we don't need to use the resource to create a full path.\n        const requestPath = isUsingFullPath\n            ? commandPath(urlData)\n            : this.createFullPath(commandPath, urlData);\n        const headers = Object.assign(options.headers, spec.headers);\n        if (spec.validator) {\n            spec.validator(data, { headers });\n        }\n        const dataInQuery = spec.method === 'GET' || spec.method === 'DELETE';\n        const bodyData = dataInQuery ? null : data;\n        const queryData = dataInQuery ? data : {};\n        return {\n            requestMethod,\n            requestPath,\n            bodyData,\n            queryData,\n            authenticator: (_a = options.authenticator) !== null && _a !== void 0 ? _a : null,\n            headers,\n            host: host !== null && host !== void 0 ? host : null,\n            streaming,\n            settings: options.settings,\n            usage,\n        };\n    },\n    _makeRequest(requestArgs, spec, overrideData) {\n        return new Promise((resolve, reject) => {\n            var _a;\n            let opts;\n            try {\n                opts = this._getRequestOpts(requestArgs, spec, overrideData);\n            }\n            catch (err) {\n                reject(err);\n                return;\n            }\n            function requestCallback(err, response) {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(spec.transformResponseData\n                        ? spec.transformResponseData(response)\n                        : response);\n                }\n            }\n            const emptyQuery = Object.keys(opts.queryData).length === 0;\n            const path = [\n                opts.requestPath,\n                emptyQuery ? '' : '?',\n                queryStringifyRequestData(opts.queryData, getAPIMode(opts.requestPath)),\n            ].join('');\n            const { headers, settings } = opts;\n            this._stripe._requestSender._request(opts.requestMethod, opts.host, path, opts.bodyData, opts.authenticator, {\n                headers,\n                settings,\n                streaming: opts.streaming,\n            }, opts.usage, requestCallback, (_a = this.requestDataProcessor) === null || _a === void 0 ? void 0 : _a.bind(this));\n        });\n    },\n};\nexport { StripeResource };\n","/**\n * The StripeContext class provides an immutable container and convenience methods for interacting with the `Stripe-Context` header. All methods return a new instance of StripeContext.\n * You can use it whenever you're initializing a `Stripe` instance or sending `stripeContext` with a request. It's also found in the `EventNotification.context` property.\n */\nexport class StripeContext {\n    /**\n     * Creates a new StripeContext with the given segments.\n     */\n    constructor(segments = []) {\n        this._segments = [...segments];\n    }\n    /**\n     * Gets a copy of the segments of this Context.\n     */\n    get segments() {\n        return [...this._segments];\n    }\n    /**\n     * Creates a new StripeContext with an additional segment appended.\n     */\n    push(segment) {\n        if (!segment) {\n            throw new Error('Segment cannot be null or undefined');\n        }\n        return new StripeContext([...this._segments, segment]);\n    }\n    /**\n     * Creates a new StripeContext with the last segment removed.\n     * If there are no segments, throws an error.\n     */\n    pop() {\n        if (this._segments.length === 0) {\n            throw new Error('Cannot pop from an empty context');\n        }\n        return new StripeContext(this._segments.slice(0, -1));\n    }\n    /**\n     * Converts this context to its string representation.\n     */\n    toString() {\n        return this._segments.join('/');\n    }\n    /**\n     * Parses a context string into a StripeContext instance.\n     */\n    static parse(contextStr) {\n        if (!contextStr) {\n            return new StripeContext([]);\n        }\n        return new StripeContext(contextStr.split('/'));\n    }\n}\n","import { StripeError, StripeSignatureVerificationError } from './Error.js';\nimport { CryptoProviderOnlySupportsAsyncError, } from './crypto/CryptoProvider.js';\nexport function createWebhooks(platformFunctions) {\n    const Webhook = {\n        DEFAULT_TOLERANCE: 300,\n        signature: null,\n        constructEvent(payload, header, secret, tolerance, cryptoProvider, receivedAt) {\n            try {\n                if (!this.signature) {\n                    throw new Error('ERR: missing signature helper, unable to verify');\n                }\n                this.signature.verifyHeader(payload, header, secret, tolerance || Webhook.DEFAULT_TOLERANCE, cryptoProvider, receivedAt);\n            }\n            catch (e) {\n                if (e instanceof CryptoProviderOnlySupportsAsyncError) {\n                    e.message +=\n                        '\\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`';\n                }\n                throw e;\n            }\n            const jsonPayload = payload instanceof Uint8Array\n                ? JSON.parse(new TextDecoder('utf8').decode(payload))\n                : JSON.parse(payload);\n            return jsonPayload;\n        },\n        async constructEventAsync(payload, header, secret, tolerance, cryptoProvider, receivedAt) {\n            if (!this.signature) {\n                throw new Error('ERR: missing signature helper, unable to verify');\n            }\n            await this.signature.verifyHeaderAsync(payload, header, secret, tolerance || Webhook.DEFAULT_TOLERANCE, cryptoProvider, receivedAt);\n            const jsonPayload = payload instanceof Uint8Array\n                ? JSON.parse(new TextDecoder('utf8').decode(payload))\n                : JSON.parse(payload);\n            return jsonPayload;\n        },\n        /**\n         * Generates a header to be used for webhook mocking\n         *\n         * @typedef {object} opts\n         * @property {number} timestamp - Timestamp of the header. Defaults to Date.now()\n         * @property {string} payload - JSON stringified payload object, containing the 'id' and 'object' parameters\n         * @property {string} secret - Stripe webhook secret 'whsec_...'\n         * @property {string} scheme - Version of API to hit. Defaults to 'v1'.\n         * @property {string} signature - Computed webhook signature\n         * @property {CryptoProvider} cryptoProvider - Crypto provider to use for computing the signature if none was provided. Defaults to NodeCryptoProvider.\n         */\n        generateTestHeaderString: function (opts) {\n            const preparedOpts = prepareOptions(opts);\n            const signature = preparedOpts.signature ||\n                preparedOpts.cryptoProvider.computeHMACSignature(preparedOpts.payloadString, preparedOpts.secret);\n            return preparedOpts.generateHeaderString(signature);\n        },\n        generateTestHeaderStringAsync: async function (opts) {\n            const preparedOpts = prepareOptions(opts);\n            const signature = preparedOpts.signature ||\n                (await preparedOpts.cryptoProvider.computeHMACSignatureAsync(preparedOpts.payloadString, preparedOpts.secret));\n            return preparedOpts.generateHeaderString(signature);\n        },\n    };\n    const signature = {\n        EXPECTED_SCHEME: 'v1',\n        verifyHeader(encodedPayload, encodedHeader, secret, tolerance, cryptoProvider, receivedAt) {\n            const { decodedHeader: header, decodedPayload: payload, details, suspectPayloadType, } = parseEventDetails(encodedPayload, encodedHeader, this.EXPECTED_SCHEME);\n            const secretContainsWhitespace = /\\s/.test(secret);\n            cryptoProvider = cryptoProvider || getCryptoProvider();\n            const expectedSignature = cryptoProvider.computeHMACSignature(makeHMACContent(payload, details), secret);\n            validateComputedSignature(payload, header, details, expectedSignature, tolerance, suspectPayloadType, secretContainsWhitespace, receivedAt);\n            return true;\n        },\n        async verifyHeaderAsync(encodedPayload, encodedHeader, secret, tolerance, cryptoProvider, receivedAt) {\n            const { decodedHeader: header, decodedPayload: payload, details, suspectPayloadType, } = parseEventDetails(encodedPayload, encodedHeader, this.EXPECTED_SCHEME);\n            const secretContainsWhitespace = /\\s/.test(secret);\n            cryptoProvider = cryptoProvider || getCryptoProvider();\n            const expectedSignature = await cryptoProvider.computeHMACSignatureAsync(makeHMACContent(payload, details), secret);\n            return validateComputedSignature(payload, header, details, expectedSignature, tolerance, suspectPayloadType, secretContainsWhitespace, receivedAt);\n        },\n    };\n    function makeHMACContent(payload, details) {\n        return `${details.timestamp}.${payload}`;\n    }\n    function parseEventDetails(encodedPayload, encodedHeader, expectedScheme) {\n        if (!encodedPayload) {\n            throw new StripeSignatureVerificationError(encodedHeader, encodedPayload, {\n                message: 'No webhook payload was provided.',\n            });\n        }\n        const suspectPayloadType = typeof encodedPayload != 'string' &&\n            !(encodedPayload instanceof Uint8Array);\n        const textDecoder = new TextDecoder('utf8');\n        const decodedPayload = encodedPayload instanceof Uint8Array\n            ? textDecoder.decode(encodedPayload)\n            : encodedPayload;\n        // Express's type for `Request#headers` is `string | []string`\n        // which is because the `set-cookie` header is an array,\n        // but no other headers are an array (docs: https://nodejs.org/api/http.html#http_message_headers)\n        // (Express's Request class is an extension of http.IncomingMessage, and doesn't appear to be relevantly modified: https://github.com/expressjs/express/blob/master/lib/request.js#L31)\n        if (Array.isArray(encodedHeader)) {\n            throw new Error('Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.');\n        }\n        if (encodedHeader == null || encodedHeader == '') {\n            throw new StripeSignatureVerificationError(encodedHeader, encodedPayload, {\n                message: 'No stripe-signature header value was provided.',\n            });\n        }\n        const decodedHeader = encodedHeader instanceof Uint8Array\n            ? textDecoder.decode(encodedHeader)\n            : encodedHeader;\n        const details = parseHeader(decodedHeader, expectedScheme);\n        if (!details || details.timestamp === -1) {\n            throw new StripeSignatureVerificationError(decodedHeader, decodedPayload, {\n                message: 'Unable to extract timestamp and signatures from header',\n            });\n        }\n        if (!details.signatures.length) {\n            throw new StripeSignatureVerificationError(decodedHeader, decodedPayload, {\n                message: 'No signatures found with expected scheme',\n            });\n        }\n        return {\n            decodedPayload,\n            decodedHeader,\n            details,\n            suspectPayloadType,\n        };\n    }\n    function validateComputedSignature(payload, header, details, expectedSignature, tolerance, suspectPayloadType, secretContainsWhitespace, receivedAt) {\n        const signatureFound = !!details.signatures.filter(platformFunctions.secureCompare.bind(platformFunctions, expectedSignature)).length;\n        const docsLocation = '\\nLearn more about webhook signing and explore webhook integration examples for various frameworks at ' +\n            'https://docs.stripe.com/webhooks/signature';\n        const whitespaceMessage = secretContainsWhitespace\n            ? '\\n\\nNote: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value'\n            : '';\n        if (!signatureFound) {\n            if (suspectPayloadType) {\n                throw new StripeSignatureVerificationError(header, payload, {\n                    message: 'Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.' +\n                        'Payload was provided as a parsed JavaScript object instead. \\n' +\n                        'Signature verification is impossible without access to the original signed material. \\n' +\n                        docsLocation +\n                        '\\n' +\n                        whitespaceMessage,\n                });\n            }\n            throw new StripeSignatureVerificationError(header, payload, {\n                message: 'No signatures found matching the expected signature for payload.' +\n                    ' Are you passing the raw request body you received from Stripe? \\n' +\n                    ' If a webhook request is being forwarded by a third-party tool,' +\n                    ' ensure that the exact request body, including JSON formatting and new line style, is preserved.\\n' +\n                    docsLocation +\n                    '\\n' +\n                    whitespaceMessage,\n            });\n        }\n        const timestampAge = Math.floor((typeof receivedAt === 'number' ? receivedAt : Date.now()) / 1000) - details.timestamp;\n        if (tolerance > 0 && timestampAge > tolerance) {\n            throw new StripeSignatureVerificationError(header, payload, {\n                message: 'Timestamp outside the tolerance zone',\n            });\n        }\n        return true;\n    }\n    function parseHeader(header, scheme) {\n        if (typeof header !== 'string') {\n            return null;\n        }\n        return header.split(',').reduce((accum, item) => {\n            const kv = item.split('=');\n            if (kv[0] === 't') {\n                accum.timestamp = parseInt(kv[1], 10);\n            }\n            if (kv[0] === scheme) {\n                accum.signatures.push(kv[1]);\n            }\n            return accum;\n        }, {\n            timestamp: -1,\n            signatures: [],\n        });\n    }\n    let webhooksCryptoProviderInstance = null;\n    /**\n     * Lazily instantiate a CryptoProvider instance. This is a stateless object\n     * so a singleton can be used here.\n     */\n    function getCryptoProvider() {\n        if (!webhooksCryptoProviderInstance) {\n            webhooksCryptoProviderInstance = platformFunctions.createDefaultCryptoProvider();\n        }\n        return webhooksCryptoProviderInstance;\n    }\n    function prepareOptions(opts) {\n        if (!opts) {\n            throw new StripeError({\n                message: 'Options are required',\n            });\n        }\n        const timestamp = Math.floor(opts.timestamp) || Math.floor(Date.now() / 1000);\n        const scheme = opts.scheme || signature.EXPECTED_SCHEME;\n        const cryptoProvider = opts.cryptoProvider || getCryptoProvider();\n        const payloadString = `${timestamp}.${opts.payload}`;\n        const generateHeaderString = (signature) => {\n            return `t=${timestamp},${scheme}=${signature}`;\n        };\n        return Object.assign(Object.assign({}, opts), { timestamp,\n            scheme,\n            cryptoProvider,\n            payloadString,\n            generateHeaderString });\n    }\n    Webhook.signature = signature;\n    return Webhook;\n}\n","// File generated from our OpenAPI spec\nexport const ApiVersion = '2025-11-17.clover';\nexport const ApiMajorVersion = 'clover';\n","// ResourceNamespace allows you to create nested resources, i.e. `stripe.issuing.cards`.\n// It also works recursively, so you could do i.e. `stripe.billing.invoicing.pay`.\nfunction ResourceNamespace(stripe, resources) {\n    for (const name in resources) {\n        if (!Object.prototype.hasOwnProperty.call(resources, name)) {\n            continue;\n        }\n        const camelCaseName = name[0].toLowerCase() + name.substring(1);\n        const resource = new resources[name](stripe);\n        this[camelCaseName] = resource;\n    }\n}\nexport function resourceNamespace(namespace, resources) {\n    return function (stripe) {\n        return new ResourceNamespace(stripe, resources);\n    };\n}\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Accounts = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/financial_connections/accounts/{account}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/financial_connections/accounts',\n        methodType: 'list',\n    }),\n    disconnect: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/financial_connections/accounts/{account}/disconnect',\n    }),\n    listOwners: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/financial_connections/accounts/{account}/owners',\n        methodType: 'list',\n    }),\n    refresh: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/financial_connections/accounts/{account}/refresh',\n    }),\n    subscribe: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/financial_connections/accounts/{account}/subscribe',\n    }),\n    unsubscribe: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/financial_connections/accounts/{account}/unsubscribe',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ActiveEntitlements = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/entitlements/active_entitlements/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/entitlements/active_entitlements',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Alerts = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/billing/alerts' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/billing/alerts/{id}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/alerts',\n        methodType: 'list',\n    }),\n    activate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/alerts/{id}/activate',\n    }),\n    archive: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/alerts/{id}/archive',\n    }),\n    deactivate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/alerts/{id}/deactivate',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Associations = StripeResource.extend({\n    find: stripeMethod({ method: 'GET', fullPath: '/v1/tax/associations/find' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Authorizations = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/authorizations/{authorization}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/authorizations/{authorization}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/authorizations',\n        methodType: 'list',\n    }),\n    approve: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/authorizations/{authorization}/approve',\n    }),\n    decline: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/authorizations/{authorization}/decline',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Authorizations = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/authorizations',\n    }),\n    capture: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/authorizations/{authorization}/capture',\n    }),\n    expire: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/authorizations/{authorization}/expire',\n    }),\n    finalizeAmount: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount',\n    }),\n    increment: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/authorizations/{authorization}/increment',\n    }),\n    respond: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond',\n    }),\n    reverse: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/authorizations/{authorization}/reverse',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Calculations = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/tax/calculations' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax/calculations/{calculation}',\n    }),\n    listLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax/calculations/{calculation}/line_items',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Cardholders = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/issuing/cardholders' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/cardholders/{cardholder}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/cardholders/{cardholder}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/cardholders',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Cards = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/issuing/cards' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/issuing/cards/{card}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/issuing/cards/{card}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/cards',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Cards = StripeResource.extend({\n    deliverCard: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/cards/{card}/shipping/deliver',\n    }),\n    failCard: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/cards/{card}/shipping/fail',\n    }),\n    returnCard: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/cards/{card}/shipping/return',\n    }),\n    shipCard: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/cards/{card}/shipping/ship',\n    }),\n    submitCard: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/cards/{card}/shipping/submit',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Configurations = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing_portal/configurations',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing_portal/configurations/{configuration}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing_portal/configurations/{configuration}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing_portal/configurations',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Configurations = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/configurations',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/terminal/configurations/{configuration}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/configurations/{configuration}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/terminal/configurations',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/terminal/configurations/{configuration}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ConfirmationTokens = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/confirmation_tokens',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ConnectionTokens = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/connection_tokens',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const CreditBalanceSummary = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/credit_balance_summary',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const CreditBalanceTransactions = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/credit_balance_transactions/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/credit_balance_transactions',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const CreditGrants = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/billing/credit_grants' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/credit_grants/{id}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/credit_grants/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/credit_grants',\n        methodType: 'list',\n    }),\n    expire: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/credit_grants/{id}/expire',\n    }),\n    voidGrant: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/credit_grants/{id}/void',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const CreditReversals = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/credit_reversals',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/credit_reversals/{credit_reversal}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/credit_reversals',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Customers = StripeResource.extend({\n    fundCashBalance: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/customers/{customer}/fund_cash_balance',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const DebitReversals = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/debit_reversals',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/debit_reversals/{debit_reversal}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/debit_reversals',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Disputes = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/issuing/disputes' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/disputes/{dispute}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/disputes/{dispute}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/disputes',\n        methodType: 'list',\n    }),\n    submit: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/disputes/{dispute}/submit',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const EarlyFraudWarnings = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/radar/early_fraud_warnings/{early_fraud_warning}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/radar/early_fraud_warnings',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const EventDestinations = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/core/event_destinations',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v2/core/event_destinations/{id}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/core/event_destinations/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v2/core/event_destinations',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v2/core/event_destinations/{id}',\n    }),\n    disable: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/core/event_destinations/{id}/disable',\n    }),\n    enable: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/core/event_destinations/{id}/enable',\n    }),\n    ping: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/core/event_destinations/{id}/ping',\n    }),\n});\n","// This file is manually maintained\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Events = StripeResource.extend({\n    retrieve(...args) {\n        const transformResponseData = (response) => {\n            return this.addFetchRelatedObjectIfNeeded(response);\n        };\n        return stripeMethod({\n            method: 'GET',\n            fullPath: '/v2/core/events/{id}',\n            transformResponseData,\n        }).apply(this, args);\n    },\n    list(...args) {\n        const transformResponseData = (response) => {\n            return Object.assign(Object.assign({}, response), { data: response.data.map(this.addFetchRelatedObjectIfNeeded.bind(this)) });\n        };\n        return stripeMethod({\n            method: 'GET',\n            fullPath: '/v2/core/events',\n            methodType: 'list',\n            transformResponseData,\n        }).apply(this, args);\n    },\n    /**\n     * @private\n     *\n     * For internal use in stripe-node.\n     *\n     * @param pulledEvent The retrieved event object\n     * @returns The retrieved event object with a fetchRelatedObject method,\n     * if pulledEvent.related_object is valid (non-null and has a url)\n     */\n    addFetchRelatedObjectIfNeeded(pulledEvent) {\n        if (!pulledEvent.related_object || !pulledEvent.related_object.url) {\n            return pulledEvent;\n        }\n        return Object.assign(Object.assign({}, pulledEvent), { fetchRelatedObject: () => \n            // call stripeMethod with 'this' resource to fetch\n            // the related object. 'this' is needed to construct\n            // and send the request, but the method spec controls\n            // the url endpoint and method, so it doesn't matter\n            // that 'this' is an Events resource object here\n            stripeMethod({\n                method: 'GET',\n                fullPath: pulledEvent.related_object.url,\n            }).apply(this, [\n                {\n                    stripeContext: pulledEvent.context,\n                },\n            ]) });\n    },\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Features = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/entitlements/features' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/entitlements/features/{id}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/entitlements/features/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/entitlements/features',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const FinancialAccounts = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/financial_accounts',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/financial_accounts/{financial_account}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/financial_accounts/{financial_account}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/financial_accounts',\n        methodType: 'list',\n    }),\n    close: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/financial_accounts/{financial_account}/close',\n    }),\n    retrieveFeatures: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/financial_accounts/{financial_account}/features',\n    }),\n    updateFeatures: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/financial_accounts/{financial_account}/features',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const InboundTransfers = StripeResource.extend({\n    fail: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/inbound_transfers/{id}/fail',\n    }),\n    returnInboundTransfer: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/inbound_transfers/{id}/return',\n    }),\n    succeed: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/inbound_transfers/{id}/succeed',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const InboundTransfers = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/inbound_transfers',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/inbound_transfers/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/inbound_transfers',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/inbound_transfers/{inbound_transfer}/cancel',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Locations = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/terminal/locations' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/terminal/locations/{location}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/locations/{location}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/terminal/locations',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/terminal/locations/{location}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const MeterEventAdjustments = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/meter_event_adjustments',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const MeterEventAdjustments = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/billing/meter_event_adjustments',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const MeterEventSession = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/billing/meter_event_session',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const MeterEventStream = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/billing/meter_event_stream',\n        host: 'meter-events.stripe.com',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const MeterEvents = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/billing/meter_events' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const MeterEvents = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v2/billing/meter_events' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Meters = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/billing/meters' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/billing/meters/{id}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/billing/meters/{id}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/meters',\n        methodType: 'list',\n    }),\n    deactivate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/meters/{id}/deactivate',\n    }),\n    listEventSummaries: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/meters/{id}/event_summaries',\n        methodType: 'list',\n    }),\n    reactivate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/meters/{id}/reactivate',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const OnboardingLinks = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/onboarding_links',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Orders = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/climate/orders' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/climate/orders/{order}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/climate/orders/{order}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/climate/orders',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/climate/orders/{order}/cancel',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const OutboundPayments = StripeResource.extend({\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_payments/{id}',\n    }),\n    fail: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_payments/{id}/fail',\n    }),\n    post: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_payments/{id}/post',\n    }),\n    returnOutboundPayment: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_payments/{id}/return',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const OutboundPayments = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/outbound_payments',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/outbound_payments/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/outbound_payments',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/outbound_payments/{id}/cancel',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const OutboundTransfers = StripeResource.extend({\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}',\n    }),\n    fail: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail',\n    }),\n    post: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post',\n    }),\n    returnOutboundTransfer: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const OutboundTransfers = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/outbound_transfers',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/outbound_transfers/{outbound_transfer}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/outbound_transfers',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/outbound_transfers/{outbound_transfer}/cancel',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PersonalizationDesigns = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/personalization_designs',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/personalization_designs/{personalization_design}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/personalization_designs/{personalization_design}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/personalization_designs',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PersonalizationDesigns = StripeResource.extend({\n    activate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate',\n    }),\n    deactivate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate',\n    }),\n    reject: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PhysicalBundles = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/physical_bundles/{physical_bundle}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/physical_bundles',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Products = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/climate/products/{product}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/climate/products',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Readers = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/terminal/readers' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/terminal/readers/{reader}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/terminal/readers',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/terminal/readers/{reader}',\n    }),\n    cancelAction: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}/cancel_action',\n    }),\n    collectInputs: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}/collect_inputs',\n    }),\n    collectPaymentMethod: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}/collect_payment_method',\n    }),\n    confirmPaymentIntent: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}/confirm_payment_intent',\n    }),\n    processPaymentIntent: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}/process_payment_intent',\n    }),\n    processSetupIntent: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}/process_setup_intent',\n    }),\n    refundPayment: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}/refund_payment',\n    }),\n    setReaderDisplay: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}/set_reader_display',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Readers = StripeResource.extend({\n    presentPaymentMethod: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/terminal/readers/{reader}/present_payment_method',\n    }),\n    succeedInputCollection: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/terminal/readers/{reader}/succeed_input_collection',\n    }),\n    timeoutInputCollection: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/terminal/readers/{reader}/timeout_input_collection',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ReceivedCredits = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/received_credits',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ReceivedCredits = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/received_credits/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/received_credits',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ReceivedDebits = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/received_debits',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ReceivedDebits = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/received_debits/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/received_debits',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Refunds = StripeResource.extend({\n    expire: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/refunds/{refund}/expire',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Registrations = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/tax/registrations' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax/registrations/{id}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/tax/registrations/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax/registrations',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ReportRuns = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/reporting/report_runs' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/reporting/report_runs/{report_run}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/reporting/report_runs',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ReportTypes = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/reporting/report_types/{report_type}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/reporting/report_types',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Requests = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/forwarding/requests' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/forwarding/requests/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/forwarding/requests',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ScheduledQueryRuns = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/sigma/scheduled_query_runs/{scheduled_query_run}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/sigma/scheduled_query_runs',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Secrets = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/apps/secrets' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/apps/secrets',\n        methodType: 'list',\n    }),\n    deleteWhere: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/apps/secrets/delete',\n    }),\n    find: stripeMethod({ method: 'GET', fullPath: '/v1/apps/secrets/find' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Sessions = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing_portal/sessions',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Sessions = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/checkout/sessions' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/checkout/sessions/{session}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/checkout/sessions/{session}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/checkout/sessions',\n        methodType: 'list',\n    }),\n    expire: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/checkout/sessions/{session}/expire',\n    }),\n    listLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/checkout/sessions/{session}/line_items',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Sessions = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/financial_connections/sessions',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/financial_connections/sessions/{session}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Settings = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/tax/settings' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/tax/settings' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Suppliers = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/climate/suppliers/{supplier}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/climate/suppliers',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const TestClocks = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/test_clocks',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/test_helpers/test_clocks/{test_clock}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/test_helpers/test_clocks',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/test_helpers/test_clocks/{test_clock}',\n    }),\n    advance: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/test_clocks/{test_clock}/advance',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Tokens = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/tokens/{token}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/tokens/{token}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/tokens',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const TransactionEntries = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/transaction_entries/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/transaction_entries',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Transactions = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/financial_connections/transactions/{transaction}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/financial_connections/transactions',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Transactions = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/transactions/{transaction}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/transactions/{transaction}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/transactions',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Transactions = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax/transactions/{transaction}',\n    }),\n    createFromCalculation: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/tax/transactions/create_from_calculation',\n    }),\n    createReversal: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/tax/transactions/create_reversal',\n    }),\n    listLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax/transactions/{transaction}/line_items',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Transactions = StripeResource.extend({\n    createForceCapture: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/transactions/create_force_capture',\n    }),\n    createUnlinkedRefund: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/transactions/create_unlinked_refund',\n    }),\n    refund: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/transactions/{transaction}/refund',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Transactions = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/transactions/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/transactions',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ValueListItems = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/radar/value_list_items',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/radar/value_list_items/{item}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/radar/value_list_items',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/radar/value_list_items/{item}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ValueLists = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/radar/value_lists' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/radar/value_lists/{value_list}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/radar/value_lists/{value_list}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/radar/value_lists',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/radar/value_lists/{value_list}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const VerificationReports = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/identity/verification_reports/{report}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/identity/verification_reports',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const VerificationSessions = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/identity/verification_sessions',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/identity/verification_sessions/{session}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/identity/verification_sessions/{session}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/identity/verification_sessions',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/identity/verification_sessions/{session}/cancel',\n    }),\n    redact: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/identity/verification_sessions/{session}/redact',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\n// Since path can either be `account` or `accounts`, support both through stripeMethod path\nexport const Accounts = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/accounts' }),\n    retrieve(id, ...args) {\n        // No longer allow an api key to be passed as the first string to this function due to ambiguity between\n        // old account ids and api keys. To request the account for an api key, send null as the id\n        if (typeof id === 'string') {\n            return stripeMethod({\n                method: 'GET',\n                fullPath: '/v1/accounts/{id}',\n            }).apply(this, [id, ...args]);\n        }\n        else {\n            if (id === null || id === undefined) {\n                // Remove id as stripeMethod would complain of unexpected argument\n                [].shift.apply([id, ...args]);\n            }\n            return stripeMethod({\n                method: 'GET',\n                fullPath: '/v1/account',\n            }).apply(this, [id, ...args]);\n        }\n    },\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/accounts/{account}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/accounts',\n        methodType: 'list',\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/accounts/{account}' }),\n    createExternalAccount: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/accounts/{account}/external_accounts',\n    }),\n    createLoginLink: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/accounts/{account}/login_links',\n    }),\n    createPerson: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/accounts/{account}/persons',\n    }),\n    deleteExternalAccount: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/accounts/{account}/external_accounts/{id}',\n    }),\n    deletePerson: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/accounts/{account}/persons/{person}',\n    }),\n    listCapabilities: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/accounts/{account}/capabilities',\n        methodType: 'list',\n    }),\n    listExternalAccounts: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/accounts/{account}/external_accounts',\n        methodType: 'list',\n    }),\n    listPersons: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/accounts/{account}/persons',\n        methodType: 'list',\n    }),\n    reject: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/accounts/{account}/reject',\n    }),\n    retrieveCurrent: stripeMethod({ method: 'GET', fullPath: '/v1/account' }),\n    retrieveCapability: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/accounts/{account}/capabilities/{capability}',\n    }),\n    retrieveExternalAccount: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/accounts/{account}/external_accounts/{id}',\n    }),\n    retrievePerson: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/accounts/{account}/persons/{person}',\n    }),\n    updateCapability: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/accounts/{account}/capabilities/{capability}',\n    }),\n    updateExternalAccount: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/accounts/{account}/external_accounts/{id}',\n    }),\n    updatePerson: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/accounts/{account}/persons/{person}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const AccountLinks = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/account_links' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const AccountSessions = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/account_sessions' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ApplePayDomains = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/apple_pay/domains' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/apple_pay/domains/{domain}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/apple_pay/domains',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/apple_pay/domains/{domain}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ApplicationFees = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/application_fees/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/application_fees',\n        methodType: 'list',\n    }),\n    createRefund: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/application_fees/{id}/refunds',\n    }),\n    listRefunds: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/application_fees/{id}/refunds',\n        methodType: 'list',\n    }),\n    retrieveRefund: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/application_fees/{fee}/refunds/{id}',\n    }),\n    updateRefund: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/application_fees/{fee}/refunds/{id}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Balance = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/balance' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const BalanceSettings = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/balance_settings' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/balance_settings' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const BalanceTransactions = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/balance_transactions/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/balance_transactions',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Charges = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/charges' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/charges/{charge}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/charges/{charge}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/charges',\n        methodType: 'list',\n    }),\n    capture: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/charges/{charge}/capture',\n    }),\n    search: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/charges/search',\n        methodType: 'search',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ConfirmationTokens = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/confirmation_tokens/{confirmation_token}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const CountrySpecs = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/country_specs/{country}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/country_specs',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Coupons = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/coupons' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/coupons/{coupon}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/coupons/{coupon}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/coupons',\n        methodType: 'list',\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/coupons/{coupon}' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const CreditNotes = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/credit_notes' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/credit_notes/{id}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/credit_notes/{id}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/credit_notes',\n        methodType: 'list',\n    }),\n    listLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/credit_notes/{credit_note}/lines',\n        methodType: 'list',\n    }),\n    listPreviewLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/credit_notes/preview/lines',\n        methodType: 'list',\n    }),\n    preview: stripeMethod({ method: 'GET', fullPath: '/v1/credit_notes/preview' }),\n    voidCreditNote: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/credit_notes/{id}/void',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const CustomerSessions = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/customer_sessions' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Customers = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/customers' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/customers/{customer}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/customers/{customer}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers',\n        methodType: 'list',\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/customers/{customer}' }),\n    createBalanceTransaction: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/balance_transactions',\n    }),\n    createFundingInstructions: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/funding_instructions',\n    }),\n    createSource: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/sources',\n    }),\n    createTaxId: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/tax_ids',\n    }),\n    deleteDiscount: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/customers/{customer}/discount',\n    }),\n    deleteSource: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/customers/{customer}/sources/{id}',\n    }),\n    deleteTaxId: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/customers/{customer}/tax_ids/{id}',\n    }),\n    listBalanceTransactions: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/balance_transactions',\n        methodType: 'list',\n    }),\n    listCashBalanceTransactions: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/cash_balance_transactions',\n        methodType: 'list',\n    }),\n    listPaymentMethods: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/payment_methods',\n        methodType: 'list',\n    }),\n    listSources: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/sources',\n        methodType: 'list',\n    }),\n    listTaxIds: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/tax_ids',\n        methodType: 'list',\n    }),\n    retrieveBalanceTransaction: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/balance_transactions/{transaction}',\n    }),\n    retrieveCashBalance: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/cash_balance',\n    }),\n    retrieveCashBalanceTransaction: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/cash_balance_transactions/{transaction}',\n    }),\n    retrievePaymentMethod: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/payment_methods/{payment_method}',\n    }),\n    retrieveSource: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/sources/{id}',\n    }),\n    retrieveTaxId: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/tax_ids/{id}',\n    }),\n    search: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/search',\n        methodType: 'search',\n    }),\n    updateBalanceTransaction: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/balance_transactions/{transaction}',\n    }),\n    updateCashBalance: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/cash_balance',\n    }),\n    updateSource: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/sources/{id}',\n    }),\n    verifySource: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/sources/{id}/verify',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Disputes = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/disputes/{dispute}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/disputes/{dispute}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/disputes',\n        methodType: 'list',\n    }),\n    close: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/disputes/{dispute}/close',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const EphemeralKeys = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/ephemeral_keys',\n        validator: (data, options) => {\n            if (!options.headers || !options.headers['Stripe-Version']) {\n                throw new Error('Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node');\n            }\n        },\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/ephemeral_keys/{key}' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Events = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/events/{id}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/events',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ExchangeRates = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/exchange_rates/{rate_id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/exchange_rates',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const FileLinks = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/file_links' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/file_links/{link}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/file_links/{link}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/file_links',\n        methodType: 'list',\n    }),\n});\n","import { flattenAndStringify, queryStringifyRequestData } from './utils.js';\n// Method for formatting HTTP body for the multipart/form-data specification\n// Mostly taken from Fermata.js\n// https://github.com/natevw/fermata/blob/5d9732a33d776ce925013a265935facd1626cc88/fermata.js#L315-L343\nconst multipartDataGenerator = (method, data, headers) => {\n    const segno = (Math.round(Math.random() * 1e16) + Math.round(Math.random() * 1e16)).toString();\n    headers['Content-Type'] = `multipart/form-data; boundary=${segno}`;\n    const textEncoder = new TextEncoder();\n    let buffer = new Uint8Array(0);\n    const endBuffer = textEncoder.encode('\\r\\n');\n    function push(l) {\n        const prevBuffer = buffer;\n        const newBuffer = l instanceof Uint8Array ? l : new Uint8Array(textEncoder.encode(l));\n        buffer = new Uint8Array(prevBuffer.length + newBuffer.length + 2);\n        buffer.set(prevBuffer);\n        buffer.set(newBuffer, prevBuffer.length);\n        buffer.set(endBuffer, buffer.length - 2);\n    }\n    function q(s) {\n        return `\"${s.replace(/\"|\"/g, '%22').replace(/\\r\\n|\\r|\\n/g, ' ')}\"`;\n    }\n    const flattenedData = flattenAndStringify(data);\n    for (const k in flattenedData) {\n        if (!Object.prototype.hasOwnProperty.call(flattenedData, k)) {\n            continue;\n        }\n        const v = flattenedData[k];\n        push(`--${segno}`);\n        if (Object.prototype.hasOwnProperty.call(v, 'data')) {\n            const typedEntry = v;\n            push(`Content-Disposition: form-data; name=${q(k)}; filename=${q(typedEntry.name || 'blob')}`);\n            push(`Content-Type: ${typedEntry.type || 'application/octet-stream'}`);\n            push('');\n            push(typedEntry.data);\n        }\n        else {\n            push(`Content-Disposition: form-data; name=${q(k)}`);\n            push('');\n            push(v);\n        }\n    }\n    push(`--${segno}--`);\n    return buffer;\n};\nexport function multipartRequestDataProcessor(method, data, headers, callback) {\n    data = data || {};\n    if (method !== 'POST') {\n        return callback(null, queryStringifyRequestData(data));\n    }\n    this._stripe._platformFunctions\n        .tryBufferData(data)\n        .then((bufferedData) => {\n        const buffer = multipartDataGenerator(method, bufferedData, headers);\n        return callback(null, buffer);\n    })\n        .catch((err) => callback(err, null));\n}\n","// File generated from our OpenAPI spec\nimport { multipartRequestDataProcessor } from '../multipart.js';\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Files = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/files',\n        headers: {\n            'Content-Type': 'multipart/form-data',\n        },\n        host: 'files.stripe.com',\n    }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/files/{file}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/files',\n        methodType: 'list',\n    }),\n    requestDataProcessor: multipartRequestDataProcessor,\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const InvoiceItems = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/invoiceitems' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoiceitems/{invoiceitem}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoiceitems/{invoiceitem}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoiceitems',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/invoiceitems/{invoiceitem}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const InvoicePayments = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoice_payments/{invoice_payment}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoice_payments',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const InvoiceRenderingTemplates = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoice_rendering_templates/{template}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoice_rendering_templates',\n        methodType: 'list',\n    }),\n    archive: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoice_rendering_templates/{template}/archive',\n    }),\n    unarchive: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoice_rendering_templates/{template}/unarchive',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Invoices = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/invoices' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/invoices/{invoice}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/invoices/{invoice}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoices',\n        methodType: 'list',\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/invoices/{invoice}' }),\n    addLines: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/add_lines',\n    }),\n    attachPayment: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/attach_payment',\n    }),\n    createPreview: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/create_preview',\n    }),\n    finalizeInvoice: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/finalize',\n    }),\n    listLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoices/{invoice}/lines',\n        methodType: 'list',\n    }),\n    markUncollectible: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/mark_uncollectible',\n    }),\n    pay: stripeMethod({ method: 'POST', fullPath: '/v1/invoices/{invoice}/pay' }),\n    removeLines: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/remove_lines',\n    }),\n    search: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoices/search',\n        methodType: 'search',\n    }),\n    sendInvoice: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/send',\n    }),\n    updateLines: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/update_lines',\n    }),\n    updateLineItem: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/lines/{line_item_id}',\n    }),\n    voidInvoice: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/void',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Mandates = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/mandates/{mandate}' }),\n});\n","'use strict';\nimport { StripeResource } from '../StripeResource.js';\nimport { queryStringifyRequestData } from '../utils.js';\nconst stripeMethod = StripeResource.method;\nconst oAuthHost = 'connect.stripe.com';\nexport const OAuth = StripeResource.extend({\n    basePath: '/',\n    authorizeUrl(params, options) {\n        params = params || {};\n        options = options || {};\n        let path = 'oauth/authorize';\n        // For Express accounts, the path changes\n        if (options.express) {\n            path = `express/${path}`;\n        }\n        if (!params.response_type) {\n            params.response_type = 'code';\n        }\n        if (!params.client_id) {\n            params.client_id = this._stripe.getClientId();\n        }\n        if (!params.scope) {\n            params.scope = 'read_write';\n        }\n        return `https://${oAuthHost}/${path}?${queryStringifyRequestData(params)}`;\n    },\n    token: stripeMethod({\n        method: 'POST',\n        path: 'oauth/token',\n        host: oAuthHost,\n    }),\n    deauthorize(spec, ...args) {\n        if (!spec.client_id) {\n            spec.client_id = this._stripe.getClientId();\n        }\n        return stripeMethod({\n            method: 'POST',\n            path: 'oauth/deauthorize',\n            host: oAuthHost,\n        }).apply(this, [spec, ...args]);\n    },\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PaymentAttemptRecords = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_attempt_records/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_attempt_records',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PaymentIntents = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/payment_intents' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_intents/{intent}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_intents/{intent}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_intents',\n        methodType: 'list',\n    }),\n    applyCustomerBalance: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_intents/{intent}/apply_customer_balance',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_intents/{intent}/cancel',\n    }),\n    capture: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_intents/{intent}/capture',\n    }),\n    confirm: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_intents/{intent}/confirm',\n    }),\n    incrementAuthorization: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_intents/{intent}/increment_authorization',\n    }),\n    listAmountDetailsLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_intents/{intent}/amount_details_line_items',\n        methodType: 'list',\n    }),\n    search: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_intents/search',\n        methodType: 'search',\n    }),\n    verifyMicrodeposits: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_intents/{intent}/verify_microdeposits',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PaymentLinks = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/payment_links' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_links/{payment_link}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_links/{payment_link}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_links',\n        methodType: 'list',\n    }),\n    listLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_links/{payment_link}/line_items',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PaymentMethodConfigurations = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_method_configurations',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_method_configurations/{configuration}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_method_configurations/{configuration}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_method_configurations',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PaymentMethodDomains = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_method_domains',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_method_domains/{payment_method_domain}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_method_domains/{payment_method_domain}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_method_domains',\n        methodType: 'list',\n    }),\n    validate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_method_domains/{payment_method_domain}/validate',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PaymentMethods = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/payment_methods' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_methods/{payment_method}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_methods/{payment_method}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_methods',\n        methodType: 'list',\n    }),\n    attach: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_methods/{payment_method}/attach',\n    }),\n    detach: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_methods/{payment_method}/detach',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PaymentRecords = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/payment_records/{id}' }),\n    reportPayment: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_records/report_payment',\n    }),\n    reportPaymentAttempt: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_records/{id}/report_payment_attempt',\n    }),\n    reportPaymentAttemptCanceled: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_records/{id}/report_payment_attempt_canceled',\n    }),\n    reportPaymentAttemptFailed: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_records/{id}/report_payment_attempt_failed',\n    }),\n    reportPaymentAttemptGuaranteed: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_records/{id}/report_payment_attempt_guaranteed',\n    }),\n    reportPaymentAttemptInformational: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_records/{id}/report_payment_attempt_informational',\n    }),\n    reportRefund: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_records/{id}/report_refund',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Payouts = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/payouts' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/payouts/{payout}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/payouts/{payout}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payouts',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payouts/{payout}/cancel',\n    }),\n    reverse: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payouts/{payout}/reverse',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Plans = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/plans' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/plans/{plan}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/plans/{plan}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/plans',\n        methodType: 'list',\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/plans/{plan}' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Prices = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/prices' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/prices/{price}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/prices/{price}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/prices',\n        methodType: 'list',\n    }),\n    search: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/prices/search',\n        methodType: 'search',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Products = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/products' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/products/{id}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/products/{id}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/products',\n        methodType: 'list',\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/products/{id}' }),\n    createFeature: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/products/{product}/features',\n    }),\n    deleteFeature: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/products/{product}/features/{id}',\n    }),\n    listFeatures: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/products/{product}/features',\n        methodType: 'list',\n    }),\n    retrieveFeature: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/products/{product}/features/{id}',\n    }),\n    search: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/products/search',\n        methodType: 'search',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PromotionCodes = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/promotion_codes' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/promotion_codes/{promotion_code}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/promotion_codes/{promotion_code}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/promotion_codes',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Quotes = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/quotes' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/quotes/{quote}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/quotes/{quote}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/quotes',\n        methodType: 'list',\n    }),\n    accept: stripeMethod({ method: 'POST', fullPath: '/v1/quotes/{quote}/accept' }),\n    cancel: stripeMethod({ method: 'POST', fullPath: '/v1/quotes/{quote}/cancel' }),\n    finalizeQuote: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/quotes/{quote}/finalize',\n    }),\n    listComputedUpfrontLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/quotes/{quote}/computed_upfront_line_items',\n        methodType: 'list',\n    }),\n    listLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/quotes/{quote}/line_items',\n        methodType: 'list',\n    }),\n    pdf: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/quotes/{quote}/pdf',\n        host: 'files.stripe.com',\n        streaming: true,\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Refunds = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/refunds' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/refunds/{refund}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/refunds/{refund}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/refunds',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/refunds/{refund}/cancel',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Reviews = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/reviews/{review}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/reviews',\n        methodType: 'list',\n    }),\n    approve: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/reviews/{review}/approve',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const SetupAttempts = StripeResource.extend({\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/setup_attempts',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const SetupIntents = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/setup_intents' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/setup_intents/{intent}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/setup_intents/{intent}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/setup_intents',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/setup_intents/{intent}/cancel',\n    }),\n    confirm: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/setup_intents/{intent}/confirm',\n    }),\n    verifyMicrodeposits: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/setup_intents/{intent}/verify_microdeposits',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ShippingRates = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/shipping_rates' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/shipping_rates/{shipping_rate_token}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/shipping_rates/{shipping_rate_token}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/shipping_rates',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Sources = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/sources' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/sources/{source}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/sources/{source}' }),\n    listSourceTransactions: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/sources/{source}/source_transactions',\n        methodType: 'list',\n    }),\n    verify: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/sources/{source}/verify',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const SubscriptionItems = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/subscription_items' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscription_items/{item}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscription_items/{item}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscription_items',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/subscription_items/{item}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const SubscriptionSchedules = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscription_schedules',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscription_schedules/{schedule}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscription_schedules/{schedule}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscription_schedules',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscription_schedules/{schedule}/cancel',\n    }),\n    release: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscription_schedules/{schedule}/release',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Subscriptions = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/subscriptions' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscriptions/{subscription_exposed_id}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscriptions/{subscription_exposed_id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscriptions',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/subscriptions/{subscription_exposed_id}',\n    }),\n    deleteDiscount: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/subscriptions/{subscription_exposed_id}/discount',\n    }),\n    migrate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscriptions/{subscription}/migrate',\n    }),\n    resume: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscriptions/{subscription}/resume',\n    }),\n    search: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscriptions/search',\n        methodType: 'search',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const TaxCodes = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/tax_codes/{id}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax_codes',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const TaxIds = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/tax_ids' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/tax_ids/{id}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax_ids',\n        methodType: 'list',\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/tax_ids/{id}' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const TaxRates = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/tax_rates' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/tax_rates/{tax_rate}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/tax_rates/{tax_rate}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax_rates',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Tokens = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/tokens' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/tokens/{token}' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Topups = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/topups' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/topups/{topup}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/topups/{topup}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/topups',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({ method: 'POST', fullPath: '/v1/topups/{topup}/cancel' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Transfers = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/transfers' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/transfers/{transfer}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/transfers/{transfer}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/transfers',\n        methodType: 'list',\n    }),\n    createReversal: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/transfers/{id}/reversals',\n    }),\n    listReversals: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/transfers/{id}/reversals',\n        methodType: 'list',\n    }),\n    retrieveReversal: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/transfers/{transfer}/reversals/{id}',\n    }),\n    updateReversal: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/transfers/{transfer}/reversals/{id}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const WebhookEndpoints = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/webhook_endpoints' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/webhook_endpoints/{webhook_endpoint}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/webhook_endpoints/{webhook_endpoint}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/webhook_endpoints',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/webhook_endpoints/{webhook_endpoint}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { resourceNamespace } from './ResourceNamespace.js';\nimport { Accounts as FinancialConnectionsAccounts } from './resources/FinancialConnections/Accounts.js';\nimport { ActiveEntitlements as EntitlementsActiveEntitlements } from './resources/Entitlements/ActiveEntitlements.js';\nimport { Alerts as BillingAlerts } from './resources/Billing/Alerts.js';\nimport { Associations as TaxAssociations } from './resources/Tax/Associations.js';\nimport { Authorizations as IssuingAuthorizations } from './resources/Issuing/Authorizations.js';\nimport { Authorizations as TestHelpersIssuingAuthorizations } from './resources/TestHelpers/Issuing/Authorizations.js';\nimport { Calculations as TaxCalculations } from './resources/Tax/Calculations.js';\nimport { Cardholders as IssuingCardholders } from './resources/Issuing/Cardholders.js';\nimport { Cards as IssuingCards } from './resources/Issuing/Cards.js';\nimport { Cards as TestHelpersIssuingCards } from './resources/TestHelpers/Issuing/Cards.js';\nimport { Configurations as BillingPortalConfigurations } from './resources/BillingPortal/Configurations.js';\nimport { Configurations as TerminalConfigurations } from './resources/Terminal/Configurations.js';\nimport { ConfirmationTokens as TestHelpersConfirmationTokens } from './resources/TestHelpers/ConfirmationTokens.js';\nimport { ConnectionTokens as TerminalConnectionTokens } from './resources/Terminal/ConnectionTokens.js';\nimport { CreditBalanceSummary as BillingCreditBalanceSummary } from './resources/Billing/CreditBalanceSummary.js';\nimport { CreditBalanceTransactions as BillingCreditBalanceTransactions } from './resources/Billing/CreditBalanceTransactions.js';\nimport { CreditGrants as BillingCreditGrants } from './resources/Billing/CreditGrants.js';\nimport { CreditReversals as TreasuryCreditReversals } from './resources/Treasury/CreditReversals.js';\nimport { Customers as TestHelpersCustomers } from './resources/TestHelpers/Customers.js';\nimport { DebitReversals as TreasuryDebitReversals } from './resources/Treasury/DebitReversals.js';\nimport { Disputes as IssuingDisputes } from './resources/Issuing/Disputes.js';\nimport { EarlyFraudWarnings as RadarEarlyFraudWarnings } from './resources/Radar/EarlyFraudWarnings.js';\nimport { EventDestinations as V2CoreEventDestinations } from './resources/V2/Core/EventDestinations.js';\nimport { Events as V2CoreEvents } from './resources/V2/Core/Events.js';\nimport { Features as EntitlementsFeatures } from './resources/Entitlements/Features.js';\nimport { FinancialAccounts as TreasuryFinancialAccounts } from './resources/Treasury/FinancialAccounts.js';\nimport { InboundTransfers as TestHelpersTreasuryInboundTransfers } from './resources/TestHelpers/Treasury/InboundTransfers.js';\nimport { InboundTransfers as TreasuryInboundTransfers } from './resources/Treasury/InboundTransfers.js';\nimport { Locations as TerminalLocations } from './resources/Terminal/Locations.js';\nimport { MeterEventAdjustments as BillingMeterEventAdjustments } from './resources/Billing/MeterEventAdjustments.js';\nimport { MeterEventAdjustments as V2BillingMeterEventAdjustments } from './resources/V2/Billing/MeterEventAdjustments.js';\nimport { MeterEventSession as V2BillingMeterEventSession } from './resources/V2/Billing/MeterEventSession.js';\nimport { MeterEventStream as V2BillingMeterEventStream } from './resources/V2/Billing/MeterEventStream.js';\nimport { MeterEvents as BillingMeterEvents } from './resources/Billing/MeterEvents.js';\nimport { MeterEvents as V2BillingMeterEvents } from './resources/V2/Billing/MeterEvents.js';\nimport { Meters as BillingMeters } from './resources/Billing/Meters.js';\nimport { OnboardingLinks as TerminalOnboardingLinks } from './resources/Terminal/OnboardingLinks.js';\nimport { Orders as ClimateOrders } from './resources/Climate/Orders.js';\nimport { OutboundPayments as TestHelpersTreasuryOutboundPayments } from './resources/TestHelpers/Treasury/OutboundPayments.js';\nimport { OutboundPayments as TreasuryOutboundPayments } from './resources/Treasury/OutboundPayments.js';\nimport { OutboundTransfers as TestHelpersTreasuryOutboundTransfers } from './resources/TestHelpers/Treasury/OutboundTransfers.js';\nimport { OutboundTransfers as TreasuryOutboundTransfers } from './resources/Treasury/OutboundTransfers.js';\nimport { PersonalizationDesigns as IssuingPersonalizationDesigns } from './resources/Issuing/PersonalizationDesigns.js';\nimport { PersonalizationDesigns as TestHelpersIssuingPersonalizationDesigns } from './resources/TestHelpers/Issuing/PersonalizationDesigns.js';\nimport { PhysicalBundles as IssuingPhysicalBundles } from './resources/Issuing/PhysicalBundles.js';\nimport { Products as ClimateProducts } from './resources/Climate/Products.js';\nimport { Readers as TerminalReaders } from './resources/Terminal/Readers.js';\nimport { Readers as TestHelpersTerminalReaders } from './resources/TestHelpers/Terminal/Readers.js';\nimport { ReceivedCredits as TestHelpersTreasuryReceivedCredits } from './resources/TestHelpers/Treasury/ReceivedCredits.js';\nimport { ReceivedCredits as TreasuryReceivedCredits } from './resources/Treasury/ReceivedCredits.js';\nimport { ReceivedDebits as TestHelpersTreasuryReceivedDebits } from './resources/TestHelpers/Treasury/ReceivedDebits.js';\nimport { ReceivedDebits as TreasuryReceivedDebits } from './resources/Treasury/ReceivedDebits.js';\nimport { Refunds as TestHelpersRefunds } from './resources/TestHelpers/Refunds.js';\nimport { Registrations as TaxRegistrations } from './resources/Tax/Registrations.js';\nimport { ReportRuns as ReportingReportRuns } from './resources/Reporting/ReportRuns.js';\nimport { ReportTypes as ReportingReportTypes } from './resources/Reporting/ReportTypes.js';\nimport { Requests as ForwardingRequests } from './resources/Forwarding/Requests.js';\nimport { ScheduledQueryRuns as SigmaScheduledQueryRuns } from './resources/Sigma/ScheduledQueryRuns.js';\nimport { Secrets as AppsSecrets } from './resources/Apps/Secrets.js';\nimport { Sessions as BillingPortalSessions } from './resources/BillingPortal/Sessions.js';\nimport { Sessions as CheckoutSessions } from './resources/Checkout/Sessions.js';\nimport { Sessions as FinancialConnectionsSessions } from './resources/FinancialConnections/Sessions.js';\nimport { Settings as TaxSettings } from './resources/Tax/Settings.js';\nimport { Suppliers as ClimateSuppliers } from './resources/Climate/Suppliers.js';\nimport { TestClocks as TestHelpersTestClocks } from './resources/TestHelpers/TestClocks.js';\nimport { Tokens as IssuingTokens } from './resources/Issuing/Tokens.js';\nimport { TransactionEntries as TreasuryTransactionEntries } from './resources/Treasury/TransactionEntries.js';\nimport { Transactions as FinancialConnectionsTransactions } from './resources/FinancialConnections/Transactions.js';\nimport { Transactions as IssuingTransactions } from './resources/Issuing/Transactions.js';\nimport { Transactions as TaxTransactions } from './resources/Tax/Transactions.js';\nimport { Transactions as TestHelpersIssuingTransactions } from './resources/TestHelpers/Issuing/Transactions.js';\nimport { Transactions as TreasuryTransactions } from './resources/Treasury/Transactions.js';\nimport { ValueListItems as RadarValueListItems } from './resources/Radar/ValueListItems.js';\nimport { ValueLists as RadarValueLists } from './resources/Radar/ValueLists.js';\nimport { VerificationReports as IdentityVerificationReports } from './resources/Identity/VerificationReports.js';\nimport { VerificationSessions as IdentityVerificationSessions } from './resources/Identity/VerificationSessions.js';\nexport { Accounts as Account } from './resources/Accounts.js';\nexport { AccountLinks } from './resources/AccountLinks.js';\nexport { AccountSessions } from './resources/AccountSessions.js';\nexport { Accounts } from './resources/Accounts.js';\nexport { ApplePayDomains } from './resources/ApplePayDomains.js';\nexport { ApplicationFees } from './resources/ApplicationFees.js';\nexport { Balance } from './resources/Balance.js';\nexport { BalanceSettings } from './resources/BalanceSettings.js';\nexport { BalanceTransactions } from './resources/BalanceTransactions.js';\nexport { Charges } from './resources/Charges.js';\nexport { ConfirmationTokens } from './resources/ConfirmationTokens.js';\nexport { CountrySpecs } from './resources/CountrySpecs.js';\nexport { Coupons } from './resources/Coupons.js';\nexport { CreditNotes } from './resources/CreditNotes.js';\nexport { CustomerSessions } from './resources/CustomerSessions.js';\nexport { Customers } from './resources/Customers.js';\nexport { Disputes } from './resources/Disputes.js';\nexport { EphemeralKeys } from './resources/EphemeralKeys.js';\nexport { Events } from './resources/Events.js';\nexport { ExchangeRates } from './resources/ExchangeRates.js';\nexport { FileLinks } from './resources/FileLinks.js';\nexport { Files } from './resources/Files.js';\nexport { InvoiceItems } from './resources/InvoiceItems.js';\nexport { InvoicePayments } from './resources/InvoicePayments.js';\nexport { InvoiceRenderingTemplates } from './resources/InvoiceRenderingTemplates.js';\nexport { Invoices } from './resources/Invoices.js';\nexport { Mandates } from './resources/Mandates.js';\nexport { OAuth } from './resources/OAuth.js';\nexport { PaymentAttemptRecords } from './resources/PaymentAttemptRecords.js';\nexport { PaymentIntents } from './resources/PaymentIntents.js';\nexport { PaymentLinks } from './resources/PaymentLinks.js';\nexport { PaymentMethodConfigurations } from './resources/PaymentMethodConfigurations.js';\nexport { PaymentMethodDomains } from './resources/PaymentMethodDomains.js';\nexport { PaymentMethods } from './resources/PaymentMethods.js';\nexport { PaymentRecords } from './resources/PaymentRecords.js';\nexport { Payouts } from './resources/Payouts.js';\nexport { Plans } from './resources/Plans.js';\nexport { Prices } from './resources/Prices.js';\nexport { Products } from './resources/Products.js';\nexport { PromotionCodes } from './resources/PromotionCodes.js';\nexport { Quotes } from './resources/Quotes.js';\nexport { Refunds } from './resources/Refunds.js';\nexport { Reviews } from './resources/Reviews.js';\nexport { SetupAttempts } from './resources/SetupAttempts.js';\nexport { SetupIntents } from './resources/SetupIntents.js';\nexport { ShippingRates } from './resources/ShippingRates.js';\nexport { Sources } from './resources/Sources.js';\nexport { SubscriptionItems } from './resources/SubscriptionItems.js';\nexport { SubscriptionSchedules } from './resources/SubscriptionSchedules.js';\nexport { Subscriptions } from './resources/Subscriptions.js';\nexport { TaxCodes } from './resources/TaxCodes.js';\nexport { TaxIds } from './resources/TaxIds.js';\nexport { TaxRates } from './resources/TaxRates.js';\nexport { Tokens } from './resources/Tokens.js';\nexport { Topups } from './resources/Topups.js';\nexport { Transfers } from './resources/Transfers.js';\nexport { WebhookEndpoints } from './resources/WebhookEndpoints.js';\nexport const Apps = resourceNamespace('apps', { Secrets: AppsSecrets });\nexport const Billing = resourceNamespace('billing', {\n    Alerts: BillingAlerts,\n    CreditBalanceSummary: BillingCreditBalanceSummary,\n    CreditBalanceTransactions: BillingCreditBalanceTransactions,\n    CreditGrants: BillingCreditGrants,\n    MeterEventAdjustments: BillingMeterEventAdjustments,\n    MeterEvents: BillingMeterEvents,\n    Meters: BillingMeters,\n});\nexport const BillingPortal = resourceNamespace('billingPortal', {\n    Configurations: BillingPortalConfigurations,\n    Sessions: BillingPortalSessions,\n});\nexport const Checkout = resourceNamespace('checkout', {\n    Sessions: CheckoutSessions,\n});\nexport const Climate = resourceNamespace('climate', {\n    Orders: ClimateOrders,\n    Products: ClimateProducts,\n    Suppliers: ClimateSuppliers,\n});\nexport const Entitlements = resourceNamespace('entitlements', {\n    ActiveEntitlements: EntitlementsActiveEntitlements,\n    Features: EntitlementsFeatures,\n});\nexport const FinancialConnections = resourceNamespace('financialConnections', {\n    Accounts: FinancialConnectionsAccounts,\n    Sessions: FinancialConnectionsSessions,\n    Transactions: FinancialConnectionsTransactions,\n});\nexport const Forwarding = resourceNamespace('forwarding', {\n    Requests: ForwardingRequests,\n});\nexport const Identity = resourceNamespace('identity', {\n    VerificationReports: IdentityVerificationReports,\n    VerificationSessions: IdentityVerificationSessions,\n});\nexport const Issuing = resourceNamespace('issuing', {\n    Authorizations: IssuingAuthorizations,\n    Cardholders: IssuingCardholders,\n    Cards: IssuingCards,\n    Disputes: IssuingDisputes,\n    PersonalizationDesigns: IssuingPersonalizationDesigns,\n    PhysicalBundles: IssuingPhysicalBundles,\n    Tokens: IssuingTokens,\n    Transactions: IssuingTransactions,\n});\nexport const Radar = resourceNamespace('radar', {\n    EarlyFraudWarnings: RadarEarlyFraudWarnings,\n    ValueListItems: RadarValueListItems,\n    ValueLists: RadarValueLists,\n});\nexport const Reporting = resourceNamespace('reporting', {\n    ReportRuns: ReportingReportRuns,\n    ReportTypes: ReportingReportTypes,\n});\nexport const Sigma = resourceNamespace('sigma', {\n    ScheduledQueryRuns: SigmaScheduledQueryRuns,\n});\nexport const Tax = resourceNamespace('tax', {\n    Associations: TaxAssociations,\n    Calculations: TaxCalculations,\n    Registrations: TaxRegistrations,\n    Settings: TaxSettings,\n    Transactions: TaxTransactions,\n});\nexport const Terminal = resourceNamespace('terminal', {\n    Configurations: TerminalConfigurations,\n    ConnectionTokens: TerminalConnectionTokens,\n    Locations: TerminalLocations,\n    OnboardingLinks: TerminalOnboardingLinks,\n    Readers: TerminalReaders,\n});\nexport const TestHelpers = resourceNamespace('testHelpers', {\n    ConfirmationTokens: TestHelpersConfirmationTokens,\n    Customers: TestHelpersCustomers,\n    Refunds: TestHelpersRefunds,\n    TestClocks: TestHelpersTestClocks,\n    Issuing: resourceNamespace('issuing', {\n        Authorizations: TestHelpersIssuingAuthorizations,\n        Cards: TestHelpersIssuingCards,\n        PersonalizationDesigns: TestHelpersIssuingPersonalizationDesigns,\n        Transactions: TestHelpersIssuingTransactions,\n    }),\n    Terminal: resourceNamespace('terminal', {\n        Readers: TestHelpersTerminalReaders,\n    }),\n    Treasury: resourceNamespace('treasury', {\n        InboundTransfers: TestHelpersTreasuryInboundTransfers,\n        OutboundPayments: TestHelpersTreasuryOutboundPayments,\n        OutboundTransfers: TestHelpersTreasuryOutboundTransfers,\n        ReceivedCredits: TestHelpersTreasuryReceivedCredits,\n        ReceivedDebits: TestHelpersTreasuryReceivedDebits,\n    }),\n});\nexport const Treasury = resourceNamespace('treasury', {\n    CreditReversals: TreasuryCreditReversals,\n    DebitReversals: TreasuryDebitReversals,\n    FinancialAccounts: TreasuryFinancialAccounts,\n    InboundTransfers: TreasuryInboundTransfers,\n    OutboundPayments: TreasuryOutboundPayments,\n    OutboundTransfers: TreasuryOutboundTransfers,\n    ReceivedCredits: TreasuryReceivedCredits,\n    ReceivedDebits: TreasuryReceivedDebits,\n    TransactionEntries: TreasuryTransactionEntries,\n    Transactions: TreasuryTransactions,\n});\nexport const V2 = resourceNamespace('v2', {\n    Billing: resourceNamespace('billing', {\n        MeterEventAdjustments: V2BillingMeterEventAdjustments,\n        MeterEventSession: V2BillingMeterEventSession,\n        MeterEventStream: V2BillingMeterEventStream,\n        MeterEvents: V2BillingMeterEvents,\n    }),\n    Core: resourceNamespace('core', {\n        EventDestinations: V2CoreEventDestinations,\n        Events: V2CoreEvents,\n    }),\n});\n","import * as _Error from './Error.js';\nimport { RequestSender } from './RequestSender.js';\nimport { StripeResource } from './StripeResource.js';\nimport { StripeContext } from './StripeContext.js';\nimport { createWebhooks } from './Webhooks.js';\nimport { ApiVersion } from './apiVersion.js';\nimport { CryptoProvider } from './crypto/CryptoProvider.js';\nimport { HttpClient, HttpClientResponse } from './net/HttpClient.js';\nimport * as resources from './resources.js';\nimport { createApiKeyAuthenticator, determineProcessUserAgentProperties, pascalToCamelCase, validateInteger, } from './utils.js';\nconst DEFAULT_HOST = 'api.stripe.com';\nconst DEFAULT_PORT = '443';\nconst DEFAULT_BASE_PATH = '/v1/';\nconst DEFAULT_API_VERSION = ApiVersion;\nconst DEFAULT_TIMEOUT = 80000;\nconst MAX_NETWORK_RETRY_DELAY_SEC = 5;\nconst INITIAL_NETWORK_RETRY_DELAY_SEC = 0.5;\nconst APP_INFO_PROPERTIES = ['name', 'version', 'url', 'partner_id'];\nconst ALLOWED_CONFIG_PROPERTIES = [\n    'authenticator',\n    'apiVersion',\n    'typescript',\n    'maxNetworkRetries',\n    'httpAgent',\n    'httpClient',\n    'timeout',\n    'host',\n    'port',\n    'protocol',\n    'telemetry',\n    'appInfo',\n    'stripeAccount',\n    'stripeContext',\n];\nconst defaultRequestSenderFactory = (stripe) => new RequestSender(stripe, StripeResource.MAX_BUFFERED_REQUEST_METRICS);\nexport function createStripe(platformFunctions, requestSender = defaultRequestSenderFactory) {\n    Stripe.PACKAGE_VERSION = '20.0.0';\n    Stripe.API_VERSION = ApiVersion;\n    Stripe.USER_AGENT = Object.assign({ bindings_version: Stripe.PACKAGE_VERSION, lang: 'node', publisher: 'stripe', uname: null, typescript: false }, determineProcessUserAgentProperties());\n    Stripe.StripeResource = StripeResource;\n    Stripe.StripeContext = StripeContext;\n    Stripe.resources = resources;\n    Stripe.HttpClient = HttpClient;\n    Stripe.HttpClientResponse = HttpClientResponse;\n    Stripe.CryptoProvider = CryptoProvider;\n    Stripe.webhooks = createWebhooks(platformFunctions);\n    function Stripe(key, config = {}) {\n        if (!(this instanceof Stripe)) {\n            return new Stripe(key, config);\n        }\n        const props = this._getPropsFromConfig(config);\n        this._platformFunctions = platformFunctions;\n        Object.defineProperty(this, '_emitter', {\n            value: this._platformFunctions.createEmitter(),\n            enumerable: false,\n            configurable: false,\n            writable: false,\n        });\n        this.VERSION = Stripe.PACKAGE_VERSION;\n        this.on = this._emitter.on.bind(this._emitter);\n        this.once = this._emitter.once.bind(this._emitter);\n        this.off = this._emitter.removeListener.bind(this._emitter);\n        const agent = props.httpAgent || null;\n        this._api = {\n            host: props.host || DEFAULT_HOST,\n            port: props.port || DEFAULT_PORT,\n            protocol: props.protocol || 'https',\n            basePath: DEFAULT_BASE_PATH,\n            version: props.apiVersion || DEFAULT_API_VERSION,\n            timeout: validateInteger('timeout', props.timeout, DEFAULT_TIMEOUT),\n            maxNetworkRetries: validateInteger('maxNetworkRetries', props.maxNetworkRetries, 2),\n            agent: agent,\n            httpClient: props.httpClient ||\n                (agent\n                    ? this._platformFunctions.createNodeHttpClient(agent)\n                    : this._platformFunctions.createDefaultHttpClient()),\n            dev: false,\n            stripeAccount: props.stripeAccount || null,\n            stripeContext: props.stripeContext || null,\n        };\n        const typescript = props.typescript || false;\n        if (typescript !== Stripe.USER_AGENT.typescript) {\n            // The mutation here is uncomfortable, but likely fastest;\n            // serializing the user agent involves shelling out to the system,\n            // and given some users may instantiate the library many times without switching between TS and non-TS,\n            // we only want to incur the performance hit when that actually happens.\n            Stripe.USER_AGENT.typescript = typescript;\n        }\n        if (props.appInfo) {\n            this._setAppInfo(props.appInfo);\n        }\n        this._prepResources();\n        this._setAuthenticator(key, props.authenticator);\n        this.errors = _Error;\n        this.webhooks = Stripe.webhooks;\n        this._prevRequestMetrics = [];\n        this._enableTelemetry = props.telemetry !== false;\n        this._requestSender = requestSender(this);\n        // Expose StripeResource on the instance too\n        // @ts-ignore\n        this.StripeResource = Stripe.StripeResource;\n    }\n    Stripe.errors = _Error;\n    Stripe.createNodeHttpClient = platformFunctions.createNodeHttpClient;\n    /**\n     * Creates an HTTP client for issuing Stripe API requests which uses the Web\n     * Fetch API.\n     *\n     * A fetch function can optionally be passed in as a parameter. If none is\n     * passed, will default to the default `fetch` function in the global scope.\n     */\n    Stripe.createFetchHttpClient = platformFunctions.createFetchHttpClient;\n    /**\n     * Create a CryptoProvider which uses the built-in Node crypto libraries for\n     * its crypto operations.\n     */\n    Stripe.createNodeCryptoProvider = platformFunctions.createNodeCryptoProvider;\n    /**\n     * Creates a CryptoProvider which uses the Subtle Crypto API from the Web\n     * Crypto API spec for its crypto operations.\n     *\n     * A SubtleCrypto interface can optionally be passed in as a parameter. If none\n     * is passed, will default to the default `crypto.subtle` object in the global\n     * scope.\n     */\n    Stripe.createSubtleCryptoProvider =\n        platformFunctions.createSubtleCryptoProvider;\n    Stripe.prototype = {\n        // Properties are set in the constructor above\n        _appInfo: undefined,\n        on: null,\n        off: null,\n        once: null,\n        VERSION: null,\n        StripeResource: null,\n        webhooks: null,\n        errors: null,\n        _api: null,\n        _prevRequestMetrics: null,\n        _emitter: null,\n        _enableTelemetry: null,\n        _requestSender: null,\n        _platformFunctions: null,\n        rawRequest(method, path, params, options) {\n            return this._requestSender._rawRequest(method, path, params, options);\n        },\n        /**\n         * @private\n         */\n        _setAuthenticator(key, authenticator) {\n            if (key && authenticator) {\n                throw new Error(\"Can't specify both apiKey and authenticator\");\n            }\n            if (!key && !authenticator) {\n                throw new Error('Neither apiKey nor config.authenticator provided');\n            }\n            this._authenticator = key\n                ? createApiKeyAuthenticator(key)\n                : authenticator;\n        },\n        /**\n         * @private\n         * This may be removed in the future.\n         */\n        _setAppInfo(info) {\n            if (info && typeof info !== 'object') {\n                throw new Error('AppInfo must be an object.');\n            }\n            if (info && !info.name) {\n                throw new Error('AppInfo.name is required');\n            }\n            info = info || {};\n            this._appInfo = APP_INFO_PROPERTIES.reduce((accum, prop) => {\n                if (typeof info[prop] == 'string') {\n                    accum = accum || {};\n                    accum[prop] = info[prop];\n                }\n                return accum;\n            }, {});\n        },\n        /**\n         * @private\n         * This may be removed in the future.\n         */\n        _setApiField(key, value) {\n            this._api[key] = value;\n        },\n        /**\n         * @private\n         * Please open or upvote an issue at github.com/stripe/stripe-node\n         * if you use this, detailing your use-case.\n         *\n         * It may be deprecated and removed in the future.\n         */\n        getApiField(key) {\n            return this._api[key];\n        },\n        setClientId(clientId) {\n            this._clientId = clientId;\n        },\n        getClientId() {\n            return this._clientId;\n        },\n        /**\n         * @private\n         * Please open or upvote an issue at github.com/stripe/stripe-node\n         * if you use this, detailing your use-case.\n         *\n         * It may be deprecated and removed in the future.\n         */\n        getConstant: (c) => {\n            switch (c) {\n                case 'DEFAULT_HOST':\n                    return DEFAULT_HOST;\n                case 'DEFAULT_PORT':\n                    return DEFAULT_PORT;\n                case 'DEFAULT_BASE_PATH':\n                    return DEFAULT_BASE_PATH;\n                case 'DEFAULT_API_VERSION':\n                    return DEFAULT_API_VERSION;\n                case 'DEFAULT_TIMEOUT':\n                    return DEFAULT_TIMEOUT;\n                case 'MAX_NETWORK_RETRY_DELAY_SEC':\n                    return MAX_NETWORK_RETRY_DELAY_SEC;\n                case 'INITIAL_NETWORK_RETRY_DELAY_SEC':\n                    return INITIAL_NETWORK_RETRY_DELAY_SEC;\n            }\n            return Stripe[c];\n        },\n        getMaxNetworkRetries() {\n            return this.getApiField('maxNetworkRetries');\n        },\n        /**\n         * @private\n         * This may be removed in the future.\n         */\n        _setApiNumberField(prop, n, defaultVal) {\n            const val = validateInteger(prop, n, defaultVal);\n            this._setApiField(prop, val);\n        },\n        getMaxNetworkRetryDelay() {\n            return MAX_NETWORK_RETRY_DELAY_SEC;\n        },\n        getInitialNetworkRetryDelay() {\n            return INITIAL_NETWORK_RETRY_DELAY_SEC;\n        },\n        /**\n         * @private\n         * Please open or upvote an issue at github.com/stripe/stripe-node\n         * if you use this, detailing your use-case.\n         *\n         * It may be deprecated and removed in the future.\n         *\n         * Gets a JSON version of a User-Agent and uses a cached version for a slight\n         * speed advantage.\n         */\n        getClientUserAgent(cb) {\n            return this.getClientUserAgentSeeded(Stripe.USER_AGENT, cb);\n        },\n        /**\n         * @private\n         * Please open or upvote an issue at github.com/stripe/stripe-node\n         * if you use this, detailing your use-case.\n         *\n         * It may be deprecated and removed in the future.\n         *\n         * Gets a JSON version of a User-Agent by encoding a seeded object and\n         * fetching a uname from the system.\n         */\n        getClientUserAgentSeeded(seed, cb) {\n            this._platformFunctions.getUname().then((uname) => {\n                var _a;\n                const userAgent = {};\n                for (const field in seed) {\n                    if (!Object.prototype.hasOwnProperty.call(seed, field)) {\n                        continue;\n                    }\n                    userAgent[field] = encodeURIComponent((_a = seed[field]) !== null && _a !== void 0 ? _a : 'null');\n                }\n                // URI-encode in case there are unusual characters in the system's uname.\n                userAgent.uname = encodeURIComponent(uname || 'UNKNOWN');\n                const client = this.getApiField('httpClient');\n                if (client) {\n                    userAgent.httplib = encodeURIComponent(client.getClientName());\n                }\n                if (this._appInfo) {\n                    userAgent.application = this._appInfo;\n                }\n                cb(JSON.stringify(userAgent));\n            });\n        },\n        /**\n         * @private\n         * Please open or upvote an issue at github.com/stripe/stripe-node\n         * if you use this, detailing your use-case.\n         *\n         * It may be deprecated and removed in the future.\n         */\n        getAppInfoAsString() {\n            if (!this._appInfo) {\n                return '';\n            }\n            let formatted = this._appInfo.name;\n            if (this._appInfo.version) {\n                formatted += `/${this._appInfo.version}`;\n            }\n            if (this._appInfo.url) {\n                formatted += ` (${this._appInfo.url})`;\n            }\n            return formatted;\n        },\n        getTelemetryEnabled() {\n            return this._enableTelemetry;\n        },\n        /**\n         * @private\n         * This may be removed in the future.\n         */\n        _prepResources() {\n            for (const name in resources) {\n                if (!Object.prototype.hasOwnProperty.call(resources, name)) {\n                    continue;\n                }\n                // @ts-ignore\n                this[pascalToCamelCase(name)] = new resources[name](this);\n            }\n        },\n        /**\n         * @private\n         * This may be removed in the future.\n         */\n        _getPropsFromConfig(config) {\n            // If config is null or undefined, just bail early with no props\n            if (!config) {\n                return {};\n            }\n            // config can be an object or a string\n            const isString = typeof config === 'string';\n            const isObject = config === Object(config) && !Array.isArray(config);\n            if (!isObject && !isString) {\n                throw new Error('Config must either be an object or a string');\n            }\n            // If config is a string, we assume the old behavior of passing in a string representation of the api version\n            if (isString) {\n                return {\n                    apiVersion: config,\n                };\n            }\n            // If config is an object, we assume the new behavior and make sure it doesn't contain any unexpected values\n            const values = Object.keys(config).filter((value) => !ALLOWED_CONFIG_PROPERTIES.includes(value));\n            if (values.length > 0) {\n                throw new Error(`Config object may only contain the following: ${ALLOWED_CONFIG_PROPERTIES.join(', ')}`);\n            }\n            return config;\n        },\n        parseEventNotification(payload, header, secret, tolerance, cryptoProvider, receivedAt\n        // this return type is ignored?? picks up types from `types/index.d.ts` instead\n        ) {\n            // parses and validates the event payload all in one go\n            const eventNotification = this.webhooks.constructEvent(payload, header, secret, tolerance, cryptoProvider, receivedAt);\n            // Parse string context into StripeContext object if present\n            if (eventNotification.context) {\n                eventNotification.context = StripeContext.parse(eventNotification.context);\n            }\n            eventNotification.fetchEvent = () => {\n                return this._requestSender._rawRequest('GET', `/v2/core/events/${eventNotification.id}`, undefined, {\n                    stripeContext: eventNotification.context,\n                }, ['fetch_event']);\n            };\n            eventNotification.fetchRelatedObject = () => {\n                if (!eventNotification.related_object) {\n                    return Promise.resolve(null);\n                }\n                return this._requestSender._rawRequest('GET', eventNotification.related_object.url, undefined, {\n                    stripeContext: eventNotification.context,\n                }, ['fetch_related_object']);\n            };\n            return eventNotification;\n        },\n    };\n    return Stripe;\n}\n","import { NodePlatformFunctions } from './platform/NodePlatformFunctions.js';\nimport { createStripe } from './stripe.core.js';\nexport const Stripe = createStripe(new NodePlatformFunctions());\nexport default Stripe;\n","\nif(!__webpack_require__.federation){\n    __webpack_require__.federation = {\n        \nchunkMatcher: function(chunkId) {\n    return !/^(473|847)$/.test(chunkId);\n},\nrootOutputDir: \"\",\n\n    };\n}\n","// getDefaultExport function for compatibility with non-ESM modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};\n","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n  __webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; (typeof current == 'object' || typeof current == 'function') && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => { def[key] = () => (value[key]) });\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n        if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n            Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n        }\n    }\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(\n\t\tObject.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t\t__webpack_require__.f[key](chunkId, promises);\n\t\t\treturn promises;\n\t\t}, [])\n\t);\n};","// This function allow to reference chunks\n__webpack_require__.u = (chunkId) => {\n  // return url for filenames not based on template\n  \n  // return url for filenames based on template\n  return \"\" + chunkId + \".js\"\n}","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\n__webpack_require__.S = {};\n__webpack_require__.initializeSharingData = { scopeToSharingDataMapping: { \"default\": [{ name: \"@orpc/contract\", version: \"^1.10.0\", factory: () => (Promise.all([__webpack_require__.e(\"345\"), __webpack_require__.e(\"605\")]).then(() => (() => (__webpack_require__(3620))))), eager: 0, singleton: 1, requiredVersion: \"^1.10.0\", strictVersion: 0 }, { name: \"@orpc/server\", version: \"^1.10.0\", factory: () => (Promise.all([__webpack_require__.e(\"345\"), __webpack_require__.e(\"304\"), __webpack_require__.e(\"473\")]).then(() => (() => (__webpack_require__(923))))), eager: 0, singleton: 1, requiredVersion: \"^1.10.0\", strictVersion: 0 }, { name: \"effect\", version: \"3.18.1\", factory: () => (__webpack_require__.e(\"75\").then(() => (() => (__webpack_require__(9078))))), eager: 0, singleton: 1, requiredVersion: \"3.18.1\", strictVersion: 0 }, { name: \"every-plugin\", version: \"0.6.2\", factory: () => (Promise.all([__webpack_require__.e(\"110\"), __webpack_require__.e(\"473\"), __webpack_require__.e(\"847\"), __webpack_require__.e(\"613\")]).then(() => (() => (__webpack_require__(2813))))), eager: 0, singleton: 1, requiredVersion: \"0.6.2\", strictVersion: 0 }, { name: \"zod\", version: \"4.1.5\", factory: () => (__webpack_require__.e(\"785\").then(() => (() => (__webpack_require__(1200))))), eager: 0, singleton: 1, requiredVersion: \"4.1.5\", strictVersion: 0 }, { name: \"zod\", version: \"4.1.5\", factory: () => (__webpack_require__.e(\"149\").then(() => (() => (__webpack_require__(1044))))), eager: 0, singleton: 1, requiredVersion: \"4.1.5\", strictVersion: 0 }] }, uniqueName: \"marketplace-api\" };\n__webpack_require__.I = __webpack_require__.I || function() { throw new Error(\"should have __webpack_require__.I\") }\n","\n__webpack_require__.consumesLoadingData = { chunkMapping: {\"889\":[\"8803\",\"8962\",\"9200\",\"9230\",\"5600\",\"8231\"],\"473\":[\"9200\"],\"847\":[\"8803\",\"9230\",\"8231\"]}, moduleIdToConsumeDataMapping: {\"8803\": { shareScope: \"default\", shareKey: \"effect\", import: \"effect\", requiredVersion: \"3.18.1\", strictVersion: false, singleton: true, eager: false, fallback: () => (__webpack_require__.e(\"75\").then(() => (() => (__webpack_require__(9078))))) }, \"9230\": { shareScope: \"default\", shareKey: \"zod\", import: \"zod\", requiredVersion: \"4.1.5\", strictVersion: false, singleton: true, eager: false, fallback: () => (__webpack_require__.e(\"149\").then(() => (() => (__webpack_require__(1044))))) }, \"9200\": { shareScope: \"default\", shareKey: \"@orpc/contract\", import: \"@orpc/contract\", requiredVersion: \"^1.10.0\", strictVersion: false, singleton: true, eager: false, fallback: () => (Promise.all([__webpack_require__.e(\"345\"), __webpack_require__.e(\"605\")]).then(() => (() => (__webpack_require__(3620))))) }, \"5600\": { shareScope: \"default\", shareKey: \"zod\", import: \"zod\", requiredVersion: \"4.1.5\", strictVersion: false, singleton: true, eager: false, fallback: () => (__webpack_require__.e(\"785\").then(() => (() => (__webpack_require__(1200))))) }, \"8231\": { shareScope: \"default\", shareKey: \"@orpc/server\", import: \"@orpc/server\", requiredVersion: \"^1.10.0\", strictVersion: false, singleton: true, eager: false, fallback: () => (Promise.all([__webpack_require__.e(\"345\"), __webpack_require__.e(\"304\")]).then(() => (() => (__webpack_require__(923))))) }, \"8962\": { shareScope: \"default\", shareKey: \"every-plugin\", import: \"every-plugin\", requiredVersion: \"0.6.2\", strictVersion: false, singleton: true, eager: false, fallback: () => (__webpack_require__.e(\"110\").then(() => (() => (__webpack_require__(2813))))) }}, initialConsumes: [\"8803\",\"8962\",\"9200\",\"9230\",\"5600\",\"8231\"] };\n__webpack_require__.f.consumes = __webpack_require__.f.consumes || function() { throw new Error(\"should have __webpack_require__.f.consumes\") }","var installedChunks = {\"889\": 0,};\nvar installChunk = (chunk) => {\n  var moreModules = chunk.modules, chunkIds = chunk.ids,\n    runtime = chunk.runtime;\n  for (var moduleId in moreModules) {\n    if (__webpack_require__.o(moreModules, moduleId)) {\n      __webpack_require__.m[moduleId] = moreModules[moduleId];\n    }\n  }\n  if (runtime) runtime(__webpack_require__ );\n  for (var i = 0; i < chunkIds.length; i++) {\n    if (installedChunks[chunkIds[i]]) {\n      installedChunks[chunkIds[i]][0]();\n    }\n    installedChunks[chunkIds[i]] = 0;\n  }\n  \n};\n        // ReadFile + VM.run chunk loading for javascript\"\n        __webpack_require__.f.readFileVm = function (chunkId, promises) {\n          var installedChunkData = installedChunks[chunkId];\nif (installedChunkData !== 0) {  // 0 means \"already installed\".\n  // array of [resolve, reject, promise] means \"currently loading\"\n  if (installedChunkData) {\n    promises.push(installedChunkData[2]);\n  } else {\n    if (!/^(473|847)$/.test(chunkId)) {  // all chunks have JS\n      // load the chunk and return promise to it\n      var promise = new Promise(function (resolve, reject) {\n        installedChunkData = installedChunks[chunkId] = [resolve, reject];\n        var filename = require('path').join(\n          __dirname, \"\" + __webpack_require__.u(chunkId));\n        require('fs').readFile(filename, 'utf-8', function (err, content) {\n          if (err) return reject(err);\n          var chunk = {};\n          require('vm').runInThisContext(\n            '(function(exports, require, __dirname, __filename) {' +\n            content + '\\n})',\n            filename)(\n              chunk, require, require('path').dirname(filename), filename);\n          installChunk(chunk);\n        });\n      });\n      promises.push(installedChunkData[2] = promise);\n    } else installedChunks[chunkId] = 0;\n\n  }\n}\n        };\n        ","var prevStartup = __webpack_require__.x;\nvar hasRun = false;\n__webpack_require__.x = function() {\n\tif (!hasRun) {\n\t\thasRun = true;\n\t\t__webpack_require__(1073)\n\t}\n\tif (typeof prevStartup === 'function') {\n\t\treturn prevStartup();\n\t} else {\n\t\tconsole.warn('[MF] Invalid prevStartup');\n\t}\n};"],"names":["e","t","JSON","Object","arguments","b","Uint8Array","DataView","n","BigInt","TextEncoder","TextDecoder","r","Map","Error","Number","ArrayBuffer","Array","Uint16Array","Uint32Array","Int8Array","Int16Array","Int32Array","BigInt64Array","Float32Array","Float64Array","Set","i","String","Function","Reflect","EvalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError","Math","s","m","AggregateError","Symbol","Atomics","BigUint64Array","Boolean","Date","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","eval","Float16Array","FinalizationRegistry","isFinite","isNaN","parseFloat","parseInt","Promise","Proxy","RegExp","SharedArrayBuffer","Uint8ClampedArray","WeakMap","WeakRef","WeakSet","$","o","window","globalThis","global","HTMLElement","v","a","unescape","escape","l","Iterator","console","crypto","fetch","importNodeModule","exports","default_1","resolveFile","__dirname","__webpack_require__","returnFromCache","returnFromGlobalInstances","loadFromFs","fetchAndRun","url","chunkName","callback","args","Response","data","chunk","resolveUrl","URL","loadChunk","installChunk","deleteChunk","setupScriptLoader","setupChunkHandler","process","setupWebpackRequirePatching","document","d","FEDERATION_ALLOW_NEW_FUNCTION","HTMLScriptElement","ENV_TARGET","HTMLLinkElement","polyfills","FederationModuleManifest","MANIFEST_EXT","BROWSER_LOG_KEY","NameTransformSymbol","NameTransformMap","EncodedNameTransformMap","SEPARATOR","ManifestFileName","StatsFileName","MFModuleType","MODULE_DEVTOOL_IDENTIFIER","ENCODE_NAME_PREFIX","TEMP_DIR","MFPrefetchCommon","ContainerPlugin","ContainerReferencePlugin","ModuleFederationPlugin","SharePlugin","isBrowserEnv","isReactNativeEnv","navigator","isBrowserDebug","localStorage","isDebugMode","FEDERATION_DEBUG","getProcessEnv","LOG_CATEGORY","parseEntry","composeKeyWithSeparator","encodeName","decodeName","generateExposeFilename","generateShareFilename","getResourceUrl","assert","error","warn","safeToString","VERSION_PATTERN_REGEXP","isRequiredVersion","simpleJoinRemoteEntry","inferAutoPublicPath","generateSnapshotFromManifest","g","isManifestProvider","PREFIX","Logger","createLogger","logger","safeWrapper","isStaticResourcesEqual","createScript","clearTimeout","setTimeout","createLink","loadScript","sdkImportCache","loadNodeFetch","lazyLoaderHookFetch","createScriptNode","cb","attrs","loaderHook","urlObj","hookResult","getFetch","handleScriptFetch","f","_vm_constants","_vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER","res","path","vm","scriptContext","urlDirname","filename","script","exportedInterface","container","loadModule","loadScriptNode","esmModuleCache","normalizeOptions","createModuleFederationConfig","TextDecoderStream","EventDecoderStream","AsyncIteratorClass","startSpan","runInSpanContext","AbortError","parseEmptyableJSON","isTypescriptObject","withEventMeta","ErrorEvent","setSpanError","ReadableStream","encodeEventMessage","setInterval","clearInterval","getEventMeta","stringifyJSON","TextEncoderStream","Blob","TransformStream","T","u","sha256","asciiToBytes","concatBytes","c","p","NaN","h","AbortController","require"],"mappings":"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"}