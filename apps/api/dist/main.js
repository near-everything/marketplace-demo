(()=>{var __webpack_modules__={2124(e,t){"use strict";let r="RUNTIME-001",n="RUNTIME-002",o="RUNTIME-003",i="RUNTIME-004",s="RUNTIME-005",a="RUNTIME-006",l="RUNTIME-007",c="RUNTIME-008",u="RUNTIME-009",d="TYPE-001",f="BUILD-001",h="BUILD-002",p=e=>{let t=e.split("-")[0].toLowerCase();return`View the docs to see how to solve: https://module-federation.io/guide/troubleshooting/${t}/${e}`},m=(e,t,r,n)=>{let o=[`${[t[e]]} #${e}`];return r&&o.push(`args: ${JSON.stringify(r)}`),o.push(p(e)),n&&o.push(`Original Error Message:
 ${n}`),o.join("\n")};function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}let g={[r]:"Failed to get remoteEntry exports.",[n]:'The remote entry interface does not contain "init"',[o]:"Failed to get manifest.",[i]:"Failed to locate remote.",[s]:"Invalid loadShareSync function call from bundler runtime",[a]:"Invalid loadShareSync function call from runtime",[l]:"Failed to get remote snapshot.",[c]:"Failed to load script resources.",[u]:"Please call createInstance first."},v={[d]:"Failed to generate type declaration. Execute the below cmd to reproduce and fix the error."},b={[f]:"Failed to find expose module.",[h]:"PublicPath is required in prod mode."},E=y({},g,v,b);t.BUILD_001=f,t.BUILD_002=h,t.RUNTIME_001=r,t.RUNTIME_002=n,t.RUNTIME_003=o,t.RUNTIME_004=i,t.RUNTIME_005=s,t.RUNTIME_006=a,t.RUNTIME_007=l,t.RUNTIME_008=c,t.RUNTIME_009=u,t.TYPE_001=d,t.buildDescMap=b,t.errorDescMap=E,t.getShortErrorMsg=m,t.runtimeDescMap=g,t.typeDescMap=v},6794(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BinaryReader=t.BinaryWriter=void 0;class r{buffer;view;offset=0;constructor(e=1024){this.buffer=new Uint8Array(e),this.view=new DataView(this.buffer.buffer)}ensureCapacity(e){let t=this.offset+e;if(t<=this.buffer.length)return;let r=this.buffer.length;for(;r<t;)r*=2;let n=new Uint8Array(r);n.set(this.buffer),this.buffer=n,this.view=new DataView(this.buffer.buffer)}writeUint8(e){this.ensureCapacity(1),this.view.setUint8(this.offset,e),this.offset+=1}writeUint16(e){this.ensureCapacity(2),this.view.setUint16(this.offset,e,!0),this.offset+=2}writeUint32(e){this.ensureCapacity(4),this.view.setUint32(this.offset,e,!0),this.offset+=4}writeUint64(e){this.ensureCapacity(8),this.view.setBigUint64(this.offset,e,!0),this.offset+=8}writeUint128(e){this.ensureCapacity(16);let t=e&BigInt("0xFFFFFFFFFFFFFFFF"),r=e>>BigInt(64);this.writeUint64(t),this.writeUint64(r)}writeInt8(e){this.ensureCapacity(1),this.view.setInt8(this.offset,e),this.offset+=1}writeInt16(e){this.ensureCapacity(2),this.view.setInt16(this.offset,e,!0),this.offset+=2}writeInt32(e){this.ensureCapacity(4),this.view.setInt32(this.offset,e,!0),this.offset+=4}writeInt64(e){this.ensureCapacity(8),this.view.setBigInt64(this.offset,e,!0),this.offset+=8}writeInt128(e){this.ensureCapacity(16);let t=e&BigInt("0xFFFFFFFFFFFFFFFF"),r=e>>BigInt(64);this.writeInt64(t),this.writeInt64(r)}writeFloat32(e){this.ensureCapacity(4),this.view.setFloat32(this.offset,e,!0),this.offset+=4}writeFloat64(e){this.ensureCapacity(8),this.view.setFloat64(this.offset,e,!0),this.offset+=8}writeBool(e){this.writeUint8(+!!e)}writeString(e){let t=new TextEncoder().encode(e);this.writeUint32(t.length),this.ensureCapacity(t.length),this.buffer.set(t,this.offset),this.offset+=t.length}getBuffer(){return this.buffer.slice(0,this.offset)}}t.BinaryWriter=r;class n{buffer;view;offset=0;constructor(e){this.buffer=e,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}readUint8(){let e=this.view.getUint8(this.offset);return this.offset+=1,e}readUint16(){let e=this.view.getUint16(this.offset,!0);return this.offset+=2,e}readUint32(){let e=this.view.getUint32(this.offset,!0);return this.offset+=4,e}readUint64(){let e=this.view.getBigUint64(this.offset,!0);return this.offset+=8,e}readUint128(){let e=this.readUint64();return this.readUint64()<<BigInt(64)|e}readInt8(){let e=this.view.getInt8(this.offset);return this.offset+=1,e}readInt16(){let e=this.view.getInt16(this.offset,!0);return this.offset+=2,e}readInt32(){let e=this.view.getInt32(this.offset,!0);return this.offset+=4,e}readInt64(){let e=this.view.getBigInt64(this.offset,!0);return this.offset+=8,e}readInt128(){let e=this.readUint64();return this.readInt64()<<BigInt(64)|e}readFloat32(){let e=this.view.getFloat32(this.offset,!0);return this.offset+=4,e}readFloat64(){let e=this.view.getFloat64(this.offset,!0);return this.offset+=8,e}readBool(){return!!this.readUint8()}readString(){let e=this.readUint32(),t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,new TextDecoder().decode(t)}getOffset(){return this.offset}}t.BinaryReader=n},7358(e,t,r){"use strict";n={value:!0};var n=t.b=void 0,o=r(2823);Object.defineProperty(t,"b",{enumerable:!0,get:function(){return o.b}})},7223(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registry=t.TypeRegistry=void 0;class r{handlers=new Map;register(e,t){this.handlers.set(e,t)}getHandler(e){let t=this.handlers.get(e);if(!t)throw Error(`No handler registered for type: ${e}`);return t}}t.TypeRegistry=r,t.registry=new r,t.registry.register("u8",{write:(e,t)=>{if(t<0||t>255||!Number.isInteger(t))throw Error("Value out of range for u8");e.writeUint8(t)},read:e=>e.readUint8()}),t.registry.register("u16",{write:(e,t)=>{if(t<0||t>65535||!Number.isInteger(t))throw Error("Value out of range for u16");e.writeUint16(t)},read:e=>e.readUint16()}),t.registry.register("u32",{write:(e,t)=>{if(t<0||t>0xffffffff||!Number.isInteger(t))throw Error("Value out of range for u32");e.writeUint32(t)},read:e=>e.readUint32()}),t.registry.register("u64",{write:(e,t)=>{if(t<0n||t>0xffffffffffffffffn)throw Error("Value out of range for u64");e.writeUint64(t)},read:e=>e.readUint64()}),t.registry.register("u128",{write:(e,t)=>{if(t<0n||t>0xffffffffffffffffffffffffffffffffn)throw Error("Value out of range for u128");e.writeUint128(t)},read:e=>e.readUint128()}),t.registry.register("i8",{write:(e,t)=>{if(t<-128||t>127||!Number.isInteger(t))throw Error("Value out of range for i8");e.writeInt8(t)},read:e=>e.readInt8()}),t.registry.register("i16",{write:(e,t)=>{if(t<-32768||t>32767||!Number.isInteger(t))throw Error("Value out of range for i16");e.writeInt16(t)},read:e=>e.readInt16()}),t.registry.register("i32",{write:(e,t)=>{if(t<-0x80000000||t>0x7fffffff||!Number.isInteger(t))throw Error("Value out of range for i32");e.writeInt32(t)},read:e=>e.readInt32()}),t.registry.register("i64",{write:(e,t)=>{if(t<-0x8000000000000000n||t>0x7fffffffffffffffn)throw Error("Value out of range for i64");e.writeInt64(t)},read:e=>e.readInt64()}),t.registry.register("i128",{write:(e,t)=>{if(t<-0x80000000000000000000000000000000n||t>0x7fffffffffffffffffffffffffffffffn)throw Error("Value out of range for i128");e.writeInt128(t)},read:e=>e.readInt128()}),t.registry.register("f32",{write:(e,t)=>e.writeFloat32(t),read:e=>e.readFloat32()}),t.registry.register("f64",{write:(e,t)=>{if(Number.isNaN(t))throw Error("For portability reasons we do not allow serializing NaN values.");e.writeFloat64(t)},read:e=>e.readFloat64()}),t.registry.register("bool",{write:(e,t)=>e.writeBool(t),read:e=>e.readBool()}),t.registry.register("string",{write:(e,t)=>e.writeString(t),read:e=>e.readString()}),t.registry.register("unit",{write:()=>{},read:()=>({})}),t.registry.register("struct",{write:(e,r,n)=>{if(n)for(let[o,i]of Object.entries(n))t.registry.getHandler(i.type).write(e,r[o],i.options)},read:(e,r)=>{if(!r)return{};let n={};for(let[o,i]of Object.entries(r)){let r=t.registry.getHandler(i.type);n[o]=r.read(e,i.options)}return n}}),t.registry.register("vec",{write:(e,r,n)=>{if(!n)return;let{elementType:o,elementOptions:i}=n,s=(ArrayBuffer.isView(r),r.length);e.writeUint32(s);let a=t.registry.getHandler(o);if(ArrayBuffer.isView(r))for(let t=0;t<s;t++)a.write(e,r[t],i);else for(let t of r)a.write(e,t,i)},read:(e,r)=>{if(!r)return[];let{elementType:n,elementOptions:o}=r,i=e.readUint32(),s=t.registry.getHandler(n),a=Array.from({length:i},()=>s.read(e,o));switch(n){case"u8":return new Uint8Array(a);case"u16":return new Uint16Array(a);case"u32":return new Uint32Array(a);case"i8":return new Int8Array(a);case"i16":return new Int16Array(a);case"i32":return new Int32Array(a);case"i64":return new BigInt64Array(a);case"f32":return new Float32Array(a);case"f64":return new Float64Array(a);default:return a}}}),t.registry.register("set",{write:(e,r,n)=>{if(!n)return;let{elementType:o,elementOptions:i}=n,s=Array.from(r).sort();e.writeUint32(s.length);let a=t.registry.getHandler(o);for(let t of s)a.write(e,t,i)},read:(e,r)=>{if(!r)return new Set;let{elementType:n,elementOptions:o}=r,i=e.readUint32(),s=t.registry.getHandler(n);return new Set(Array.from({length:i},()=>s.read(e,o)))}}),t.registry.register("map",{write:(e,r,n)=>{if(!n)return;let{keyType:o,keyOptions:i,valueType:s,valueOptions:a}=n,l=Array.from(r.entries()).sort();e.writeUint32(l.length);let c=t.registry.getHandler(o),u=t.registry.getHandler(s);for(let[t,r]of l)c.write(e,t,i),u.write(e,r,a)},read:(e,r)=>{if(!r)return new Map;let{keyType:n,keyOptions:o,valueType:i,valueOptions:s}=r,a=e.readUint32(),l=t.registry.getHandler(n),c=t.registry.getHandler(i);return new Map(Array.from({length:a},()=>[l.read(e,o),c.read(e,s)]))}}),t.registry.register("option",{write:(e,r,n)=>{if(!n)return;let{valueType:o,valueOptions:i}=n,s=null!==r;e.writeUint8(+!!s),s&&t.registry.getHandler(o).write(e,r,i)},read:(e,r)=>{if(!r)return null;let{valueType:n,valueOptions:o}=r;return 1===e.readUint8()?t.registry.getHandler(n).read(e,o):null}}),t.registry.register("enum",{write:(e,r,n)=>{if(!n)return;let o=Object.keys(r)[0],i=r[o],s=n.variants.find(e=>e.name===o);if(!s)throw Error(`Unknown enum variant: ${o}`);e.writeUint8(s.index),"unit"!==s.type&&t.registry.getHandler(s.type).write(e,i,s.options)},read:(e,r)=>{if(!r)return{};let n=e.readUint8(),o=r.variants.find(e=>e.index===n);if(!o)throw Error(`Unknown enum variant index: ${n}`);if("unit"===o.type)return{[o.name]:{}};let i=t.registry.getHandler(o.type).read(e,o.options);return{[o.name]:i}}}),t.registry.register("tuple",{write:(e,r,n)=>{if(n){if(r.length!==n.length)throw Error(`Tuple length mismatch: expected ${n.length}, got ${r.length}`);for(let o=0;o<n.length;o++){let i=n[o];if(!i)throw Error(`Missing type information for tuple element at index ${o}`);t.registry.getHandler(i.type).write(e,r[o],i.options)}}},read:(e,r)=>{if(!r)return[];let n=[];for(let o of r){let r=t.registry.getHandler(o.type);n.push(r.read(e,o.options))}return n}}),t.registry.register("array",{write:(e,r,n)=>{if(!n)return;let{elementType:o,elementOptions:i,length:s}=n;if(r.length!==s)throw Error(`Array length mismatch: expected ${s}, got ${r.length}`);let a=t.registry.getHandler(o);for(let t of r)a.write(e,t,i)},read:(e,r)=>{if(!r)return[];let{elementType:n,elementOptions:o,length:i}=r,s=t.registry.getHandler(n);return Array.from({length:i},()=>s.read(e,o))}}),t.registry.register("bytes",{write:(e,t,r)=>{let n=t.length;if(r?.length!=null){if(n!==r.length)throw Error(`Bytes length mismatch: expected ${r.length}, got ${n}`);for(let r=0;r<n;r++)e.writeUint8(t[r])}else{e.writeUint32(n);for(let r=0;r<n;r++)e.writeUint8(t[r])}},read:(e,t)=>{let r=t?.length!=null?t.length:e.readUint32(),n=new Uint8Array(r);for(let t=0;t<r;t++)n[t]=e.readUint8();return n}}),t.registry.register("nativeEnum",{write:(e,t,r)=>{if(!r)return;let{valueToIndexMap:n}=r,o=t,i=n.get(o);if(void 0===i)throw Error(`Invalid enum value: ${String(t)}`);e.writeUint8(i)},read:(e,t)=>{if(!t)return null;let{indexToValueMap:r}=t,n=e.readUint8(),o=r.get(n);if(void 0===o)throw Error(`Invalid enum index: ${n}`);return o}})},2823(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.b=t.Schema=void 0;let n=r(6794),o=r(7223);class i{type;options;registry;constructor(e,t,r){this.type=e,this.options=t,this.registry=r}serialize(e){let t=new n.BinaryWriter;return this.registry.getHandler(this.type).write(t,e,this.options),t.getBuffer()}deserialize(e){let t=new n.BinaryReader(e);return this.registry.getHandler(this.type).read(t,this.options)}}t.Schema=i,t.b={u8:()=>new i("u8",null,o.registry),u16:()=>new i("u16",null,o.registry),u32:()=>new i("u32",null,o.registry),u64:()=>new i("u64",null,o.registry),u128:()=>new i("u128",null,o.registry),i8:()=>new i("i8",null,o.registry),i16:()=>new i("i16",null,o.registry),i32:()=>new i("i32",null,o.registry),i64:()=>new i("i64",null,o.registry),i128:()=>new i("i128",null,o.registry),f32:()=>new i("f32",null,o.registry),f64:()=>new i("f64",null,o.registry),bool:()=>new i("bool",null,o.registry),string:()=>new i("string",null,o.registry),unit:()=>new i("unit",null,o.registry),vec:e=>new i("vec",{elementType:e.type,elementOptions:e.options},o.registry),hashSet:e=>new i("set",{elementType:e.type,elementOptions:e.options},o.registry),hashMap:(e,t)=>new i("map",{keyType:e.type,keyOptions:e.options,valueType:t.type,valueOptions:t.options},o.registry),option:e=>new i("option",{valueType:e.type,valueOptions:e.options},o.registry),array:(e,t)=>new i("array",{elementType:e.type,elementOptions:e.options,length:t},o.registry),bytes:e=>new i("bytes",null!=e?{length:e}:{},o.registry),enum:e=>new i("enum",{variants:Object.entries(e).map(([e,t],r)=>({index:r,name:e,type:t.type,options:t.options}))},o.registry),struct:e=>new i("struct",Object.fromEntries(Object.entries(e).map(([e,t])=>[e,{type:t.type,options:t.options}])),o.registry),tuple:(...e)=>new i("tuple",e.map(e=>({type:e.type,options:e.options})),o.registry),nativeEnum:e=>{let t=Object.entries(e).filter(([e])=>"string"==typeof e&&Number.isNaN(Number(e))),r=t.map(([e,t])=>t),n=r.some(e=>"string"==typeof e),s=r.some(e=>"number"==typeof e);if(n&&s)throw Error("Mixed string/numeric enums are not supported");let a=new Map,l=new Map;if(t.forEach(([e,t],r)=>{a.set(t,r),l.set(r,t)}),t.length>255)throw Error("Borsh only supports enums with up to 255 variants");return new i("nativeEnum",{enumObj:e,valueToIndexMap:a,indexToValueMap:l},o.registry)}}},9541(e,t,r){"use strict";var n=r(3960),o=r(3023),i=r(3203);e.exports=r(140)||n.call(i,o)},3023(e){"use strict";e.exports=Function.prototype.apply},3203(e){"use strict";e.exports=Function.prototype.call},4527(e,t,r){"use strict";var n=r(3960),o=r(306),i=r(3203),s=r(9541);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new o("a function is required");return s(n,i,e)}},140(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},381(e,t,r){"use strict";var n=r(3484),o=r(4527),i=o([n("%String.prototype.indexOf%")]);e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o([r]):r}},6946(e,t,r){"use strict";var n,o=r(4527),i=r(7015);try{n=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var s=!!n&&i&&i(Object.prototype,"__proto__"),a=Object,l=a.getPrototypeOf;e.exports=s&&"function"==typeof s.get?o([s.get]):"function"==typeof l&&function(e){return l(null==e?e:a(e))}},5282(e){"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},8384(e){"use strict";e.exports=EvalError},7508(e){"use strict";e.exports=Error},8665(e){"use strict";e.exports=RangeError},6793(e){"use strict";e.exports=ReferenceError},1609(e){"use strict";e.exports=SyntaxError},306(e){"use strict";e.exports=TypeError},5794(e){"use strict";e.exports=URIError},661(e){"use strict";e.exports=Object},6028(e){"use strict";var t="Function.prototype.bind called on incompatible ",r=Object.prototype.toString,n=Math.max,o="[object Function]",i=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r},s=function(e,t){for(var r=[],n=t||0,o=0;n<e.length;n+=1,o+=1)r[o]=e[n];return r},a=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r};e.exports=function(e){var l,c=this;if("function"!=typeof c||r.apply(c)!==o)throw TypeError(t+c);for(var u=s(arguments,1),d=function(){if(this instanceof l){var t=c.apply(this,i(u,arguments));return Object(t)===t?t:this}return c.apply(e,i(u,arguments))},f=n(0,c.length-u.length),h=[],p=0;p<f;p++)h[p]="$"+p;if(l=Function("binder","return function ("+a(h,",")+"){ return binder.apply(this,arguments); }")(d),c.prototype){var m=function(){};m.prototype=c.prototype,l.prototype=new m,m.prototype=null}return l}},3960(e,t,r){"use strict";var n=r(6028);e.exports=Function.prototype.bind||n},3484(e,t,r){"use strict";var n,o=r(661),i=r(7508),s=r(8384),a=r(8665),l=r(6793),c=r(1609),u=r(306),d=r(5794),f=r(4080),h=r(6030),p=r(5274),m=r(8356),y=r(8262),g=r(9856),v=r(9155),b=Function,E=function(e){try{return b('"use strict"; return ('+e+").constructor;")()}catch(e){}},_=r(7015),w=r(5282),S=function(){throw new u},P=_?function(){try{return arguments.callee,S}catch(e){try{return _(arguments,"callee").get}catch(e){return S}}}():S,T=r(6926)(),O=r(5968),I=r(6196),x=r(5212),A=r(3023),R=r(3203),N={},k="undefined"!=typeof Uint8Array&&O?O(Uint8Array):n,C={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":T&&O?O([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":N,"%AsyncGenerator%":N,"%AsyncGeneratorFunction%":N,"%AsyncIteratorPrototype%":N,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":s,"%Float16Array%":"undefined"==typeof Float16Array?n:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":N,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":T&&O?O(O([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&T&&O?O(new Map()[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":o,"%Object.getOwnPropertyDescriptor%":_,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":a,"%ReferenceError%":l,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&T&&O?O(new Set()[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":T&&O?O(""[Symbol.iterator]()):n,"%Symbol%":T?Symbol:n,"%SyntaxError%":c,"%ThrowTypeError%":P,"%TypedArray%":k,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":d,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%Function.prototype.call%":R,"%Function.prototype.apply%":A,"%Object.defineProperty%":w,"%Object.getPrototypeOf%":I,"%Math.abs%":f,"%Math.floor%":h,"%Math.max%":p,"%Math.min%":m,"%Math.pow%":y,"%Math.round%":g,"%Math.sign%":v,"%Reflect.getPrototypeOf%":x};if(O)try{null.error}catch(e){var D=O(O(e));C["%Error.prototype%"]=D}var j=function e(t){var r;if("%AsyncFunction%"===t)r=E("async function () {}");else if("%GeneratorFunction%"===t)r=E("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=E("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&O&&(r=O(o.prototype))}return C[t]=r,r},z={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},U=r(3960),M=r(6322),F=U.call(R,Array.prototype.concat),$=U.call(A,Array.prototype.splice),B=U.call(R,String.prototype.replace),G=U.call(R,String.prototype.slice),L=U.call(R,RegExp.prototype.exec),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,K=function(e){var t=G(e,0,1),r=G(e,-1);if("%"===t&&"%"!==r)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var n=[];return B(e,H,function(e,t,r,o){n[n.length]=r?B(o,q,"$1"):t||e}),n},V=function(e,t){var r,n=e;if(M(z,n)&&(n="%"+(r=z[n])[0]+"%"),M(C,n)){var o=C[n];if(o===N&&(o=j(n)),void 0===o&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===L(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=K(e),n=r.length>0?r[0]:"",o=V("%"+n+"%",t),i=o.name,s=o.value,a=!1,l=o.alias;l&&(n=l[0],$(r,F([0,1],l)));for(var d=1,f=!0;d<r.length;d+=1){var h=r[d],p=G(h,0,1),m=G(h,-1);if(('"'===p||"'"===p||"`"===p||'"'===m||"'"===m||"`"===m)&&p!==m)throw new c("property names with quotes must have matching quotes");if("constructor"!==h&&f||(a=!0),n+="."+h,M(C,i="%"+n+"%"))s=C[i];else if(null!=s){if(!(h in s)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if(_&&d+1>=r.length){var y=_(s,h);s=(f=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:s[h]}else f=M(s,h),s=s[h];f&&!a&&(C[i]=s)}}return s}},6196(e,t,r){"use strict";e.exports=r(661).getPrototypeOf||null},5212(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},5968(e,t,r){"use strict";var n=r(5212),o=r(6196),i=r(6946);e.exports=n?function(e){return n(e)}:o?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw TypeError("getProto: not an object");return o(e)}:i?function(e){return i(e)}:null},4705(e){"use strict";e.exports=Object.getOwnPropertyDescriptor},7015(e,t,r){"use strict";var n=r(4705);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},6926(e,t,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(7988);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&o()}},7988(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;var n=42;for(var o in e[t]=n,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var s=Object.getOwnPropertyDescriptor(e,t);if(s.value!==n||!0!==s.enumerable)return!1}return!0}},6322(e,t,r){"use strict";var n=Function.prototype.call,o=Object.prototype.hasOwnProperty;e.exports=r(3960).call(n,o)},4080(e){"use strict";e.exports=Math.abs},6030(e){"use strict";e.exports=Math.floor},4365(e){"use strict";e.exports=Number.isNaN||function(e){return e!=e}},5274(e){"use strict";e.exports=Math.max},8356(e){"use strict";e.exports=Math.min},8262(e){"use strict";e.exports=Math.pow},9856(e){"use strict";e.exports=Math.round},9155(e,t,r){"use strict";var n=r(4365);e.exports=function(e){return n(e)||0===e?e:e<0?-1:1}},7563(e,t,r){var n="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=n&&o&&"function"==typeof o.get?o.get:null,s=n&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=a&&l&&"function"==typeof l.get?l.get:null,u=a&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,m=Object.prototype.toString,y=Function.prototype.toString,g=String.prototype.match,v=String.prototype.slice,b=String.prototype.replace,E=String.prototype.toUpperCase,_=String.prototype.toLowerCase,w=RegExp.prototype.test,S=Array.prototype.concat,P=Array.prototype.join,T=Array.prototype.slice,O=Math.floor,I="function"==typeof BigInt?BigInt.prototype.valueOf:null,x=Object.getOwnPropertySymbols,A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,R="function"==typeof Symbol&&"object"==typeof Symbol.iterator,N="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===R?"object":"symbol")?Symbol.toStringTag:null,k=Object.prototype.propertyIsEnumerable,C=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function D(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||w.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-O(-e):O(e);if(n!==e){var o=String(n),i=v.call(t,o.length+1);return b.call(o,r,"$&_")+"."+b.call(b.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,r,"$&_")}var j=r(4557),z=j.custom,U=Z(z)?z:null,M={__proto__:null,double:'"',single:"'"},F={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function $(e,t,r){var n=M[r.quoteStyle||t];return n+e+n}function B(e){return b.call(String(e),/"/g,"&quot;")}function G(e){return!N||!("object"==typeof e&&(N in e||void 0!==e[N]))}function L(e){return"[object Array]"===ee(e)&&G(e)}function H(e){return"[object Date]"===ee(e)&&G(e)}function q(e){return"[object RegExp]"===ee(e)&&G(e)}function K(e){return"[object Error]"===ee(e)&&G(e)}function V(e){return"[object String]"===ee(e)&&G(e)}function W(e){return"[object Number]"===ee(e)&&G(e)}function Y(e){return"[object Boolean]"===ee(e)&&G(e)}function Z(e){if(R)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!A)return!1;try{return A.call(e),!0}catch(e){}return!1}function J(e){if(!e||"object"!=typeof e||!I)return!1;try{return I.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,n,o){var a=r||{};if(Q(a,"quoteStyle")&&!Q(M,a.quoteStyle))throw TypeError('option "quoteStyle" must be "single" or "double"');if(Q(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!Q(a,"customInspect")||a.customInspect;if("boolean"!=typeof l&&"symbol"!==l)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Q(a,"indent")&&null!==a.indent&&"	"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Q(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var d=a.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return ec(t,a);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var f=String(t);return d?D(t,f):f}if("bigint"==typeof t){var h=String(t)+"n";return d?D(t,h):h}var m=void 0===a.depth?5:a.depth;if(void 0===n&&(n=0),n>=m&&m>0&&"object"==typeof t)return L(t)?"[Array]":"[Object]";var y=em(a,n);if(void 0===o)o=[];else if(er(o,t)>=0)return"[Circular]";function g(t,r,i){if(r&&(o=T.call(o)).push(r),i){var s={depth:a.depth};return Q(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),e(t,s,n+1,o)}return e(t,a,n+1,o)}if("function"==typeof t&&!q(t)){var E=et(t),w=eg(t,g);return"[Function"+(E?": "+E:" (anonymous)")+"]"+(w.length>0?" { "+P.call(w,", ")+" }":"")}if(Z(t)){var O=R?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):A.call(t);return"object"!=typeof t||R?O:ed(O)}if(el(t)){for(var x="<"+_.call(String(t.nodeName)),z=t.attributes||[],F=0;F<z.length;F++)x+=" "+z[F].name+"="+$(B(z[F].value),"double",a);return x+=">",t.childNodes&&t.childNodes.length&&(x+="..."),x+="</"+_.call(String(t.nodeName))+">"}if(L(t)){if(0===t.length)return"[]";var G=eg(t,g);return y&&!ep(G)?"["+ey(G,y)+"]":"[ "+P.call(G,", ")+" ]"}if(K(t)){var X=eg(t,g);return"cause"in Error.prototype||!("cause"in t)||k.call(t,"cause")?0===X.length?"["+String(t)+"]":"{ ["+String(t)+"] "+P.call(X,", ")+" }":"{ ["+String(t)+"] "+P.call(S.call("[cause]: "+g(t.cause),X),", ")+" }"}if("object"==typeof t&&l){if(U&&"function"==typeof t[U]&&j)return j(t,{depth:m-n});else if("symbol"!==l&&"function"==typeof t.inspect)return t.inspect()}if(en(t)){var eu=[];return s&&s.call(t,function(e,r){eu.push(g(r,t,!0)+" => "+g(e,t))}),eh("Map",i.call(t),eu,y)}if(es(t)){var ev=[];return u&&u.call(t,function(e){ev.push(g(e,t))}),eh("Set",c.call(t),ev,y)}if(eo(t))return ef("WeakMap");if(ea(t))return ef("WeakSet");if(ei(t))return ef("WeakRef");if(W(t))return ed(g(Number(t)));if(J(t))return ed(g(I.call(t)));if(Y(t))return ed(p.call(t));if(V(t))return ed(g(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||"undefined"!=typeof global&&t===global)return"{ [object globalThis] }";if(!H(t)&&!q(t)){var eb=eg(t,g),eE=C?C(t)===Object.prototype:t instanceof Object||t.constructor===Object,e_=t instanceof Object?"":"null prototype",ew=!eE&&N&&Object(t)===t&&N in t?v.call(ee(t),8,-1):e_?"Object":"",eS=(eE||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ew||e_?"["+P.call(S.call([],ew||[],e_||[]),": ")+"] ":"");return 0===eb.length?eS+"{}":y?eS+"{"+ey(eb,y)+"}":eS+"{ "+P.call(eb,", ")+" }"}return String(t)};var X=Object.prototype.hasOwnProperty||function(e){return e in this};function Q(e,t){return X.call(e,t)}function ee(e){return m.call(e)}function et(e){if(e.name)return e.name;var t=g.call(y.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function er(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}function en(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}function eo(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}function ei(e){if(!h||!e||"object"!=typeof e)return!1;try{return h.call(e),!0}catch(e){}return!1}function es(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{i.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}function ea(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}function el(e){return!!e&&"object"==typeof e&&(!!("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}function ec(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return ec(v.call(e,0,t.maxStringLength),t)+n}var o=F[t.quoteStyle||"single"];return o.lastIndex=0,$(b.call(b.call(e,o,"\\$1"),/[\x00-\x1f]/g,eu),"single",t)}function eu(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+E.call(t.toString(16))}function ed(e){return"Object("+e+")"}function ef(e){return e+" { ? }"}function eh(e,t,r,n){return e+" ("+t+") {"+(n?ey(r,n):P.call(r,", "))+"}"}function ep(e){for(var t=0;t<e.length;t++)if(er(e[t],"\n")>=0)return!1;return!0}function em(e,t){var r;if("	"===e.indent)r="	";else{if("number"!=typeof e.indent||!(e.indent>0))return null;r=P.call(Array(e.indent+1)," ")}return{base:r,prev:P.call(Array(t+1),r)}}function ey(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+P.call(e,","+r)+"\n"+t.prev}function eg(e,t){var r,n=L(e),o=[];if(n){o.length=e.length;for(var i=0;i<e.length;i++)o[i]=Q(e,i)?t(e[i],e):""}var s="function"==typeof x?x(e):[];if(R){r={};for(var a=0;a<s.length;a++)r["$"+s[a]]=s[a]}for(var l in e)if(Q(e,l)&&(!n||String(Number(l))!==l||!(l<e.length)))if(R&&r["$"+l]instanceof Symbol)continue;else w.call(/[^\w$]/,l)?o.push(t(l,e)+": "+t(e[l],e)):o.push(l+": "+t(e[l],e));if("function"==typeof x)for(var c=0;c<s.length;c++)k.call(e,s[c])&&o.push("["+t(s[c])+"]: "+t(e[s[c]],e));return o}},4557(e,t,r){e.exports=r(9023).inspect},6089(e){"use strict";var t=String.prototype.replace,r=/%20/g,n="RFC3986";e.exports={default:n,formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:n}},9537(e,t,r){"use strict";var n=r(7416),o=r(38);e.exports={formats:r(6089),parse:o,stringify:n}},38(e,t,r){"use strict";var n=r(5052),o=Object.prototype.hasOwnProperty,i=Array.isArray,s={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},a=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},l=function(e,t,r){if(e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&r>=t.arrayLimit)throw RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(1===t.arrayLimit?"":"s")+" allowed in an array.");return e},c="utf8=%26%2310003%3B",u="utf8=%E2%9C%93",d=function(e,t){var r={__proto__:null},d=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;d=d.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var f=t.parameterLimit===1/0?void 0:t.parameterLimit,h=d.split(t.delimiter,t.throwOnLimitExceeded?f+1:f);if(t.throwOnLimitExceeded&&h.length>f)throw RangeError("Parameter limit exceeded. Only "+f+" parameter"+(1===f?"":"s")+" allowed.");var p=-1,m=t.charset;if(t.charsetSentinel)for(y=0;y<h.length;++y)0===h[y].indexOf("utf8=")&&(h[y]===u?m="utf-8":h[y]===c&&(m="iso-8859-1"),p=y,y=h.length);for(y=0;y<h.length;++y)if(y!==p){var y,g,v,b=h[y],E=b.indexOf("]="),_=-1===E?b.indexOf("="):E+1;-1===_?(g=t.decoder(b,s.decoder,m,"key"),v=t.strictNullHandling?null:""):(g=t.decoder(b.slice(0,_),s.decoder,m,"key"),v=n.maybeMap(l(b.slice(_+1),t,i(r[g])?r[g].length:0),function(e){return t.decoder(e,s.decoder,m,"value")})),v&&t.interpretNumericEntities&&"iso-8859-1"===m&&(v=a(String(v))),b.indexOf("[]=")>-1&&(v=i(v)?[v]:v);var w=o.call(r,g);w&&"combine"===t.duplicates?r[g]=n.combine(r[g],v):w&&"last"!==t.duplicates||(r[g]=v)}return r},f=function(e,t,r,o){var i=0;if(e.length>0&&"[]"===e[e.length-1]){var s=e.slice(0,-1).join("");i=Array.isArray(t)&&t[s]?t[s].length:0}for(var a=o?t:l(t,r,i),c=e.length-1;c>=0;--c){var u,d=e[c];if("[]"===d&&r.parseArrays)u=r.allowEmptyArrays&&(""===a||r.strictNullHandling&&null===a)?[]:n.combine([],a);else{u=r.plainObjects?{__proto__:null}:{};var f="["===d.charAt(0)&&"]"===d.charAt(d.length-1)?d.slice(1,-1):d,h=r.decodeDotInKeys?f.replace(/%2E/g,"."):f,p=parseInt(h,10);r.parseArrays||""!==h?!isNaN(p)&&d!==h&&String(p)===h&&p>=0&&r.parseArrays&&p<=r.arrayLimit?(u=[])[p]=a:"__proto__"!==h&&(u[h]=a):u={0:a}}a=u}return a},h=function(e,t,r,n){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=r.depth>0&&s.exec(i),c=l?i.slice(0,l.index):i,u=[];if(c){if(!r.plainObjects&&o.call(Object.prototype,c)&&!r.allowPrototypes)return;u.push(c)}for(var d=0;r.depth>0&&null!==(l=a.exec(i))&&d<r.depth;){if(d+=1,!r.plainObjects&&o.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(l[1])}if(l){if(!0===r.strictDepth)throw RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");u.push("["+i.slice(l.index)+"]")}return f(u,t,r,n)}},p=function(e){if(!e)return s;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==e.throwOnLimitExceeded&&"boolean"!=typeof e.throwOnLimitExceeded)throw TypeError("`throwOnLimitExceeded` option must be a boolean");var t=void 0===e.charset?s.charset:e.charset,r=void 0===e.duplicates?s.duplicates:e.duplicates;if("combine"!==r&&"first"!==r&&"last"!==r)throw TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||s.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:s.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:s.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:s.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:s.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:s.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:s.depth,duplicates:r,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:s.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:s.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof e.throwOnLimitExceeded&&e.throwOnLimitExceeded}};e.exports=function(e,t){var r=p(t);if(""===e||null==e)return r.plainObjects?{__proto__:null}:{};for(var o="string"==typeof e?d(e,r):e,i=r.plainObjects?{__proto__:null}:{},s=Object.keys(o),a=0;a<s.length;++a){var l=s[a],c=h(l,o[l],r,"string"==typeof e);i=n.merge(i,c,r)}return!0===r.allowSparse?i:n.compact(i)}},7416(e,t,r){"use strict";var n=r(5242),o=r(5052),i=r(6089),s=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,c=Array.prototype.push,u=function(e,t){c.apply(e,l(t)?t:[t])},d=Date.prototype.toISOString,f=i.default,h={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:o.encode,encodeValuesOnly:!1,filter:void 0,format:f,formatter:i.formatters[f],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},p=function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e},m={},y=function e(t,r,i,s,a,c,d,f,y,g,v,b,E,_,w,S,P,T){for(var O,I=t,x=T,A=0,R=!1;void 0!==(x=x.get(m))&&!R;){var N=x.get(t);if(A+=1,void 0!==N)if(N===A)throw RangeError("Cyclic object value");else R=!0;void 0===x.get(m)&&(A=0)}if("function"==typeof g?I=g(r,I):I instanceof Date?I=E(I):"comma"===i&&l(I)&&(I=o.maybeMap(I,function(e){return e instanceof Date?E(e):e})),null===I){if(c)return y&&!S?y(r,h.encoder,P,"key",_):r;I=""}if(p(I)||o.isBuffer(I))return y?[w(S?r:y(r,h.encoder,P,"key",_))+"="+w(y(I,h.encoder,P,"value",_))]:[w(r)+"="+w(String(I))];var k=[];if(void 0===I)return k;if("comma"===i&&l(I))S&&y&&(I=o.maybeMap(I,y)),O=[{value:I.length>0?I.join(",")||null:void 0}];else if(l(g))O=g;else{var C=Object.keys(I);O=v?C.sort(v):C}var D=f?String(r).replace(/\./g,"%2E"):String(r),j=s&&l(I)&&1===I.length?D+"[]":D;if(a&&l(I)&&0===I.length)return j+"[]";for(var z=0;z<O.length;++z){var U=O[z],M="object"==typeof U&&U&&void 0!==U.value?U.value:I[U];if(!d||null!==M){var F=b&&f?String(U).replace(/\./g,"%2E"):String(U),$=l(I)?"function"==typeof i?i(j,F):j:j+(b?"."+F:"["+F+"]");T.set(t,A);var B=n();B.set(m,T),u(k,e(M,$,i,s,a,c,d,f,"comma"===i&&S&&l(I)?null:y,g,v,b,E,_,w,S,P,B))}}return k},g=function(e){if(!e)return h;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");var t,r=e.charset||h.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==e.format){if(!s.call(i.formatters,e.format))throw TypeError("Unknown format option provided.");n=e.format}var o=i.formatters[n],c=h.filter;if(("function"==typeof e.filter||l(e.filter))&&(c=e.filter),t=e.arrayFormat in a?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":h.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");var u=void 0===e.allowDots?!0===e.encodeDotInKeys||h.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:h.addQueryPrefix,allowDots:u,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:h.allowEmptyArrays,arrayFormat:t,charset:r,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:h.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?h.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:h.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:h.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:h.encodeValuesOnly,filter:c,format:n,formatter:o,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:h.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:h.strictNullHandling}};e.exports=function(e,t){var r,o,i=e,s=g(t);"function"==typeof s.filter?i=(o=s.filter)("",i):l(s.filter)&&(r=o=s.filter);var c=[];if("object"!=typeof i||null===i)return"";var d=a[s.arrayFormat],f="comma"===d&&s.commaRoundTrip;r||(r=Object.keys(i)),s.sort&&r.sort(s.sort);for(var h=n(),p=0;p<r.length;++p){var m=r[p],v=i[m];s.skipNulls&&null===v||u(c,y(v,m,d,f,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,h))}var b=c.join(s.delimiter),E=!0===s.addQueryPrefix?"?":"";return s.charsetSentinel&&("iso-8859-1"===s.charset?E+="utf8=%26%2310003%3B&":E+="utf8=%E2%9C%93&"),b.length>0?E+b:""}},5052(e,t,r){"use strict";var n=r(6089),o=Object.prototype.hasOwnProperty,i=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(i(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);t.obj[t.prop]=n}}},l=function(e,t){for(var r=t&&t.plainObjects?{__proto__:null}:{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},c=function e(t,r,n){if(!r)return t;if("object"!=typeof r&&"function"!=typeof r){if(i(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!o.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var s=t;return(i(t)&&!i(r)&&(s=l(t,n)),i(t)&&i(r))?(r.forEach(function(r,i){if(o.call(t,i)){var s=t[i];s&&"object"==typeof s&&r&&"object"==typeof r?t[i]=e(s,r,n):t.push(r)}else t[i]=r}),t):Object.keys(r).reduce(function(t,i){var s=r[i];return o.call(t,i)?t[i]=e(t[i],s,n):t[i]=s,t},s)},u=1024;e.exports={arrayToObject:l,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var o=t[n],i=o.obj[o.prop],s=Object.keys(i),l=0;l<s.length;++l){var c=s[l],u=i[c];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:i,prop:c}),r.push(u))}return a(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r,o,i){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var l="",c=0;c<a.length;c+=u){for(var d=a.length>=u?a.slice(c,c+u):a,f=[],h=0;h<d.length;++h){var p=d.charCodeAt(h);if(45===p||46===p||95===p||126===p||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||i===n.RFC1738&&(40===p||41===p)){f[f.length]=d.charAt(h);continue}if(p<128){f[f.length]=s[p];continue}if(p<2048){f[f.length]=s[192|p>>6]+s[128|63&p];continue}if(p<55296||p>=57344){f[f.length]=s[224|p>>12]+s[128|p>>6&63]+s[128|63&p];continue}h+=1,p=65536+((1023&p)<<10|1023&d.charCodeAt(h)),f[f.length]=s[240|p>>18]+s[128|p>>12&63]+s[128|p>>6&63]+s[128|63&p]}l+=f.join("")}return l},isBuffer:function(e){return!!e&&"object"==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(i(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:c}},1391(e,t,r){"use strict";var n=r(7563),o=r(306),i=function(e,t,r){for(var n,o=e;null!=(n=o.next);o=n)if(n.key===t)return o.next=n.next,r||(n.next=e.next,e.next=n),n},s=function(e,t){if(e){var r=i(e,t);return r&&r.value}},a=function(e,t,r){var n=i(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},l=function(e,t){return!!e&&!!i(e,t)},c=function(e,t){if(e)return i(e,t,!0)};e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new o("Side channel does not contain "+n(e))},delete:function(t){var r=e&&e.next,n=c(e,t);return n&&r&&r===n&&(e=void 0),!!n},get:function(t){return s(e,t)},has:function(t){return l(e,t)},set:function(t,r){e||(e={next:void 0}),a(e,t,r)}};return t}},2986(e,t,r){"use strict";var n=r(3484),o=r(381),i=r(7563),s=r(306),a=n("%Map%",!0),l=o("Map.prototype.get",!0),c=o("Map.prototype.set",!0),u=o("Map.prototype.has",!0),d=o("Map.prototype.delete",!0),f=o("Map.prototype.size",!0);e.exports=!!a&&function(){var e,t={assert:function(e){if(!t.has(e))throw new s("Side channel does not contain "+i(e))},delete:function(t){if(e){var r=d(e,t);return 0===f(e)&&(e=void 0),r}return!1},get:function(t){if(e)return l(e,t)},has:function(t){return!!e&&u(e,t)},set:function(t,r){e||(e=new a),c(e,t,r)}};return t}},5607(e,t,r){"use strict";var n=r(3484),o=r(381),i=r(7563),s=r(2986),a=r(306),l=n("%WeakMap%",!0),c=o("WeakMap.prototype.get",!0),u=o("WeakMap.prototype.set",!0),d=o("WeakMap.prototype.has",!0),f=o("WeakMap.prototype.delete",!0);e.exports=l?function(){var e,t,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+i(e))},delete:function(r){if(l&&r&&("object"==typeof r||"function"==typeof r)){if(e)return f(e,r)}else if(s&&t)return t.delete(r);return!1},get:function(r){return l&&r&&("object"==typeof r||"function"==typeof r)&&e?c(e,r):t&&t.get(r)},has:function(r){return l&&r&&("object"==typeof r||"function"==typeof r)&&e?d(e,r):!!t&&t.has(r)},set:function(r,n){l&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new l),u(e,r,n)):s&&(t||(t=s()),t.set(r,n))}};return r}:s},5242(e,t,r){"use strict";var n=r(306),o=r(7563),i=r(1391),s=r(2986),a=r(5607)||s||i;e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new n("Side channel does not contain "+o(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,r){e||(e=a()),e.set(t,r)}};return t}},5365(e,t,r){"use strict";r.r(t),r.d(t,{CreateCheckoutInputSchema:()=>E,CreateCheckoutOutputSchema:()=>_,DeliveryEstimateSchema:()=>y,ProductSchema:()=>h,PublishInputSchema:()=>u,PublishOutputSchema:()=>d,ConnectOutputSchema:()=>c,ConnectInputSchema:()=>l,ProductCategorySchema:()=>f,OrderStatusSchema:()=>g,default:()=>eF,ShippingAddressSchema:()=>m,OrderSchema:()=>b,CollectionSchema:()=>p,TrackingInfoSchema:()=>v,WebhookResponseSchema:()=>w});var n=r(8962),o=r(458),i=r(8460),s=r(9305),a=r(4457),l=i.z.object({accountId:i.z.string().min(1,"Account ID is required").describe("The account ID to ensure storage deposit for")}),c=i.z.object({accountId:i.z.string().describe("The account ID that was connected"),hasStorage:i.z.boolean().describe("Whether the account already had storage"),depositTxHash:i.z.string().optional().describe("Transaction hash if a deposit was made")}),u=i.z.object({payload:i.z.string().min(1,"Payload is required").describe("Base64 encoded signed delegate action")}),d=i.z.object({hash:i.z.string().describe("Transaction hash")}),f=i.z.enum(["Men","Women","Accessories","Exclusives"]),h=i.z.object({id:i.z.string(),name:i.z.string(),description:i.z.string().optional(),price:i.z.number(),currency:i.z.string().default("USD"),category:f,image:i.z.string(),productUid:i.z.string().optional(),fileUrl:i.z.string().optional()}),p=i.z.object({slug:i.z.string(),name:i.z.string(),description:i.z.string().optional()}),m=i.z.object({companyName:i.z.string().optional(),firstName:i.z.string().min(1),lastName:i.z.string().min(1),addressLine1:i.z.string().min(1),addressLine2:i.z.string().optional(),city:i.z.string().min(1),state:i.z.string().min(1),postCode:i.z.string().min(1),country:i.z.string().length(2),email:i.z.string().email(),phone:i.z.string().min(1).optional()}),y=i.z.object({minDeliveryDate:i.z.string(),maxDeliveryDate:i.z.string()}),g=i.z.enum(["pending","paid","processing","printing","shipped","delivered","cancelled"]),v=i.z.object({trackingCode:i.z.string(),trackingUrl:i.z.string(),shipmentMethodName:i.z.string(),shipmentMethodUid:i.z.string().optional(),fulfillmentCountry:i.z.string().optional(),fulfillmentStateProvince:i.z.string().optional(),fulfillmentFacilityId:i.z.string().optional()}),b=i.z.object({id:i.z.string(),userId:i.z.string(),productId:i.z.string(),productName:i.z.string(),quantity:i.z.number(),totalAmount:i.z.number(),currency:i.z.string(),status:g,checkoutSessionId:i.z.string().optional(),checkoutProvider:i.z.enum(["stripe","near"]).optional(),fulfillmentOrderId:i.z.string().optional(),fulfillmentReferenceId:i.z.string().optional(),shippingAddress:m.optional(),trackingInfo:i.z.array(v).optional(),deliveryEstimate:y.optional(),createdAt:i.z.string().datetime(),updatedAt:i.z.string().datetime()}),E=i.z.object({productId:i.z.string(),quantity:i.z.number().int().positive().default(1),successUrl:i.z.string().url(),cancelUrl:i.z.string().url()}),_=i.z.object({checkoutSessionId:i.z.string(),checkoutUrl:i.z.string().url(),orderId:i.z.string()}),w=i.z.object({received:i.z.boolean()}),S=a.oc.router({connect:a.oc.route({method:"POST",path:"/connect",summary:"Connect to contract",description:"Ensures the account has storage deposit on the contract. If not, makes a deposit on behalf of the user.",tags:["Relayer"]}).input(l).output(c),publish:a.oc.route({method:"POST",path:"/publish",summary:"Publish a signed delegate action",description:"Submits a signed delegate action (meta-transaction) to the network. Used for gasless social posts and profile updates.",tags:["Relayer"]}).input(u).output(d),ping:a.oc.route({method:"GET",path:"/ping",summary:"Health check",description:"Simple ping endpoint to verify the API is responding.",tags:["Health"]}).output(i.z.object({status:i.z.literal("ok"),timestamp:i.z.string().datetime()})),getProducts:a.oc.route({method:"GET",path:"/products",summary:"List all products",description:"Returns a list of all available products.",tags:["Products"]}).input(i.z.object({category:f.optional(),limit:i.z.number().int().positive().max(100).default(50),offset:i.z.number().int().min(0).default(0)})).output(i.z.object({products:i.z.array(h),total:i.z.number()})),getProduct:a.oc.route({method:"GET",path:"/products/{id}",summary:"Get product by ID",description:"Returns a single product by its ID.",tags:["Products"]}).input(i.z.object({id:i.z.string()})).output(i.z.object({product:h})),searchProducts:a.oc.route({method:"GET",path:"/products/search",summary:"Search products",description:"Search products by query string.",tags:["Products"]}).input(i.z.object({query:i.z.string(),category:f.optional(),limit:i.z.number().int().positive().max(100).default(20)})).output(i.z.object({products:i.z.array(h)})),getFeaturedProducts:a.oc.route({method:"GET",path:"/products/featured",summary:"Get featured products",description:"Returns a curated list of featured products.",tags:["Products"]}).input(i.z.object({limit:i.z.number().int().positive().max(20).default(8)})).output(i.z.object({products:i.z.array(h)})),getCollections:a.oc.route({method:"GET",path:"/collections",summary:"List all collections",description:"Returns a list of all product collections/categories.",tags:["Collections"]}).output(i.z.object({collections:i.z.array(p)})),getCollection:a.oc.route({method:"GET",path:"/collections/{slug}",summary:"Get collection by slug",description:"Returns a collection with its products.",tags:["Collections"]}).input(i.z.object({slug:i.z.string()})).output(i.z.object({collection:p,products:i.z.array(h)})),createCheckout:a.oc.route({method:"POST",path:"/checkout",summary:"Create checkout session",description:"Creates a new checkout session for purchasing a product.",tags:["Checkout"]}).input(E).output(_),getOrders:a.oc.route({method:"GET",path:"/orders",summary:"List user orders",description:"Returns a list of orders for the authenticated user.",tags:["Orders"]}).input(i.z.object({limit:i.z.number().int().positive().max(100).default(10),offset:i.z.number().int().min(0).default(0)})).output(i.z.object({orders:i.z.array(b),total:i.z.number()})),getOrder:a.oc.route({method:"GET",path:"/orders/{id}",summary:"Get order by ID",description:"Returns a single order by its ID.",tags:["Orders"]}).input(i.z.object({id:i.z.string()})).output(i.z.object({order:b})),stripeWebhook:a.oc.route({method:"POST",path:"/webhooks/stripe",summary:"Stripe webhook",description:"Handles Stripe webhook events for payment processing.",tags:["Webhooks"]}).input(i.z.object({body:i.z.string(),signature:i.z.string()})).output(w),fulfillmentWebhook:a.oc.route({method:"POST",path:"/webhooks/fulfillment",summary:"Fulfillment webhook",description:"Handles fulfillment provider webhook events (Gelato).",tags:["Webhooks"]}).input(i.z.object({body:i.z.string(),signature:i.z.string()})).output(w)}),P=r(1964);function T(e,t,r,n,o,i,s){try{var a=e[i](s),l=a.value}catch(e){r(e);return}a.done?t(l):Promise.resolve(l).then(n,o)}function O(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function s(e){T(i,n,o,s,a,"next",e)}function a(e){T(i,n,o,s,a,"throw",e)}s(void 0)})}}function I(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t,r){return t&&x(e.prototype,t),r&&x(e,r),e}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return l([e,t])}}function l(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var k="500000000000000000000000",C="social.near",D=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;I(this,e),R(this,"near",void 0),R(this,"graph",void 0),R(this,"relayerAccountId",void 0),R(this,"contractId",void 0),this.near=t,this.relayerAccountId=r,this.contractId=n,this.graph=new P.TS({near:t,contractId:n})}return A(e,[{key:"ensureStorageDeposit",value:function(e){return O(function(){var t;return N(this,function(r){switch(r.label){case 0:return[4,this.graph.storageBalanceOf(e)];case 1:if(null!==(t=r.sent())&&BigInt(t.total)>0n)return[2,{accountId:e,hasStorage:!0}];return[4,this.near.transaction(this.relayerAccountId).functionCall(this.contractId,"storage_deposit",{account_id:e},{gas:"30 Tgas",attachedDeposit:BigInt(k)}).send()];case 2:return[2,{accountId:e,hasStorage:!1,depositTxHash:r.sent().transaction.hash}]}})}).call(this)}},{key:"submitDelegateAction",value:function(e){return O(function(){var t;return N(this,function(r){switch(r.label){case 0:return t=(0,s.y7)(e),console.debug("[Relayer] signed delegate submitted to ".concat(this.relayerAccountId)),[4,this.near.transaction(this.relayerAccountId).signedDelegateAction(t).send()];case 1:return[2,{hash:r.sent().transaction.hash}]}})}).call(this)}}]),e}(),j=[{slug:"men",name:"Men",description:"Men's apparel and accessories"},{slug:"women",name:"Women",description:"Women's apparel and accessories"},{slug:"accessories",name:"Accessories",description:"Bags, hats, and more"},{slug:"exclusives",name:"Exclusives",description:"Limited edition items"}],z=[{id:"1",category:"Men",name:"NEAR Protocol Hoodie",price:65,currency:"USD",image:"/images/product-1.png"},{id:"2",category:"Women",name:"Classic NEAR Tee",price:35,currency:"USD",image:"/images/product-2.png"},{id:"3",category:"Accessories",name:"NEAR Snapback Cap",price:28,currency:"USD",image:"/images/product-3.png"},{id:"4",category:"Accessories",name:"Protocol Tote Bag",price:22,currency:"USD",image:"/images/product-4.png"},{id:"5",category:"Accessories",name:"NEAR Coffee Mug",price:18,currency:"USD",image:"/images/product-5.png"},{id:"6",category:"Exclusives",name:"Sticker Pack",price:12,currency:"USD",image:"/images/product-6.png"},{id:"7",category:"Men",name:"Men's Essential Tee - Black",price:32,currency:"USD",image:"https://images.unsplash.com/photo-1667744565777-fa2eb22adeeb?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080"},{id:"8",category:"Men",name:"Men's Oversized Tee",price:38,currency:"USD",image:"/images/product-8.png"},{id:"9",category:"Women",name:"Women's Crop Tee",price:30,currency:"USD",image:"/images/product-9.png"},{id:"10",category:"Men",name:"Men's Polo Shirt",price:45,currency:"USD",image:"/images/product-10.png"},{id:"11",category:"Women",name:"Women's Fitted Tee",price:30,currency:"USD",image:"/images/product-11.png"},{id:"12",category:"Exclusives",name:"Founder's Edition Tee",price:40,currency:"USD",image:"/images/product-12.png"},{id:"13",category:"Women",name:"Women's Crop Tee",price:30,currency:"USD",image:"/images/product-13.png"},{id:"14",category:"Men",name:"Men's Oversized Tee",price:38,currency:"USD",image:"/images/product-14.png"},{id:"15",category:"Exclusives",name:"Limited Edition Black Tee",price:45,currency:"USD",image:"/images/product-15.png"},{id:"16",category:"Women",name:"Women's Hoodie",price:68,currency:"USD",image:"/images/product-16.png"},{id:"17",category:"Accessories",name:"NEAR Backpack",price:75,currency:"USD",image:"/images/product-17.png"},{id:"18",category:"Accessories",name:"NEAR Water Bottle",price:20,currency:"USD",image:"/images/product-18.png"}];function U(e){return z.find(function(t){return t.id===e})}function M(e){return z.filter(function(t){return t.category===e})}function F(e,t){var r=e.toLowerCase();return z.filter(function(n){var o=!e||n.name.toLowerCase().includes(r),i=!t||n.category===t;return o&&i})}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return z.slice(0,e)}function B(e){return j.find(function(t){return t.slug===e})}function G(e){return({men:"Men",women:"Women",accessories:"Accessories",exclusives:"Exclusives"})[e]}function L(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q(e,t,r){return t&&H(e.prototype,t),r&&H(e,r),e}function K(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return l([e,t])}}function l(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function V(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var W=function(){function e(){L(this,e)}return q(e,[{key:"getProducts",value:function(e){return o.Effect.sync(function(){var t=e.category,r=e.limit,n=void 0===r?50:r,o=e.offset,i=void 0===o?0:o,s=t?M(t):z,a=s.length;return{products:s=s.slice(i,i+n),total:a}})}},{key:"getProduct",value:function(e){return o.Effect.gen(function(){var t;return K(this,function(r){switch(r.label){case 0:if(t=U(e))return[3,2];return[5,V(o.Effect.fail(Error("Product not found: ".concat(e))))];case 1:return[2,r.sent()];case 2:return[2,{product:t}]}})})}},{key:"searchProducts",value:function(e){return o.Effect.sync(function(){var t=e.query,r=e.category,n=e.limit,o=void 0===n?20:n;return{products:F(t,r).slice(0,o)}})}},{key:"getFeaturedProducts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return o.Effect.sync(function(){return{products:$(e)}})}},{key:"getCollections",value:function(){return o.Effect.sync(function(){return{collections:j}})}},{key:"getCollection",value:function(e){return o.Effect.gen(function(){var t,r,n;return K(this,function(i){switch(i.label){case 0:if(t=B(e))return[3,2];return[5,V(o.Effect.fail(Error("Collection not found: ".concat(e))))];case 1:return[2,i.sent()];case 2:return n=(r=G(e))?M(r):[],[2,{collection:t,products:n}]}})})}}]),e}();function Y(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function J(e,t,r){return t&&Z(e.prototype,t),r&&Z(e,r),e}function X(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return l([e,t])}}function l(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function ee(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var et=function(){function e(){Y(this,e),X(this,"orders",new Map)}return J(e,[{key:"createOrder",value:function(e){var t=this;return o.Effect.sync(function(){var r=new Date().toISOString(),n={id:crypto.randomUUID(),userId:e.userId,productId:e.productId,productName:e.productName,quantity:e.quantity,totalAmount:e.totalAmount,currency:e.currency,status:"pending",fulfillmentReferenceId:"order_".concat(Date.now(),"_").concat(e.userId),createdAt:r,updatedAt:r};return t.orders.set(n.id,n),n})}},{key:"getOrder",value:function(e,t){return o.Effect.gen(this,function(){var r;return Q(this,function(n){switch(n.label){case 0:if(r=this.orders.get(e))return[3,2];return[5,ee(o.Effect.fail(Error("Order not found")))];case 1:case 3:return[2,n.sent()];case 2:if(!(t&&r.userId!==t))return[3,4];return[5,ee(o.Effect.fail(Error("Unauthorized")))];case 4:return[2,{order:r}]}})})}},{key:"getOrders",value:function(e,t){var r=this;return o.Effect.sync(function(){var n=t.limit,o=void 0===n?10:n,i=t.offset,s=void 0===i?0:i,a=Array.from(r.orders.values()).filter(function(t){return t.userId===e}).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}),l=a.length;return{orders:a.slice(s,s+o),total:l}})}},{key:"updateOrderCheckout",value:function(e,t,r){return o.Effect.gen(this,function(){var n;return Q(this,function(i){switch(i.label){case 0:if(n=this.orders.get(e))return[3,2];return[5,ee(o.Effect.fail(Error("Order not found")))];case 1:return[2,i.sent()];case 2:return n.checkoutSessionId=t,n.checkoutProvider=r,n.updatedAt=new Date().toISOString(),[2,n]}})})}},{key:"updateOrderStatus",value:function(e,t){return o.Effect.gen(this,function(){var r;return Q(this,function(n){switch(n.label){case 0:if(r=this.orders.get(e))return[3,2];return[5,ee(o.Effect.fail(Error("Order not found")))];case 1:return[2,n.sent()];case 2:return r.status=t,r.updatedAt=new Date().toISOString(),[2,r]}})})}},{key:"updateOrderShipping",value:function(e,t){return o.Effect.gen(this,function(){var r;return Q(this,function(n){switch(n.label){case 0:if(r=this.orders.get(e))return[3,2];return[5,ee(o.Effect.fail(Error("Order not found")))];case 1:return[2,n.sent()];case 2:return r.shippingAddress=t,r.updatedAt=new Date().toISOString(),[2,r]}})})}},{key:"updateOrderFulfillment",value:function(e,t){return o.Effect.gen(this,function(){var r;return Q(this,function(n){switch(n.label){case 0:if(r=this.orders.get(e))return[3,2];return[5,ee(o.Effect.fail(Error("Order not found")))];case 1:return[2,n.sent()];case 2:return r.fulfillmentOrderId=t,r.status="processing",r.updatedAt=new Date().toISOString(),[2,r]}})})}},{key:"updateOrderTracking",value:function(e,t){return o.Effect.gen(this,function(){var r;return Q(this,function(n){switch(n.label){case 0:if(r=this.orders.get(e))return[3,2];return[5,ee(o.Effect.fail(Error("Order not found")))];case 1:return[2,n.sent()];case 2:return r.trackingInfo=t,r.updatedAt=new Date().toISOString(),[2,r]}})})}},{key:"updateOrderDeliveryEstimate",value:function(e,t){return o.Effect.gen(this,function(){var r;return Q(this,function(n){switch(n.label){case 0:if(r=this.orders.get(e))return[3,2];return[5,ee(o.Effect.fail(Error("Order not found")))];case 1:return[2,n.sent()];case 2:return r.deliveryEstimate=t,r.updatedAt=new Date().toISOString(),[2,r]}})})}},{key:"getOrderByFulfillmentReference",value:function(e){var t=this;return o.Effect.sync(function(){var r=!0,n=!1,o=void 0;try{for(var i,s=t.orders.values()[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var a=i.value;if(a.fulfillmentReferenceId===e)return a}}catch(e){n=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}})}},{key:"getOrderByCheckoutSession",value:function(e){var t=this;return o.Effect.sync(function(){var r=!0,n=!1,o=void 0;try{for(var i,s=t.orders.values()[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var a=i.value;if(a.checkoutSessionId===e)return a}}catch(e){n=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}})}}]),e}(),er=r(7310);function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eo(e){if(Array.isArray(e))return e}function ei(e,t,r,n,o,i,s){try{var a=e[i](s),l=a.value}catch(e){r(e);return}a.done?t(l):Promise.resolve(l).then(n,o)}function es(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function s(e){ei(i,n,o,s,a,"next",e)}function a(e){ei(i,n,o,s,a,"throw",e)}s(void 0)})}}function ea(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function el(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ec(e,t,r){return t&&el(e.prototype,t),r&&el(e,r),e}function eu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ed(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function ef(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function eh(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ep(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){eu(e,t,r[t])})}return e}function em(e){return eo(e)||ef(e)||ey(e)||eh()}function ey(e,t){if(e){if("string"==typeof e)return en(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return en(e,t)}}function eg(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return l([e,t])}}function l(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var ev=function(){function e(t,r){ea(this,e),eu(this,"stripe",void 0),eu(this,"webhookSecret",void 0),this.stripe=new er.A(t,{apiVersion:"2025-11-17.clover"}),this.webhookSecret=r}return ec(e,[{key:"createCheckoutSession",value:function(e){var t=this;return o.Effect.tryPromise({try:function(){return es(function(){var t;return eg(this,function(r){switch(r.label){case 0:return[4,this.stripe.checkout.sessions.create({payment_method_types:["card"],shipping_address_collection:{allowed_countries:["US","CA","GB","AU","DE","FR","IT","ES","NL","SE","NO","FI","DK","BE","AT","CH","PT","IE","NZ","SG","JP"]},shipping_options:[{shipping_rate_data:{type:"fixed_amount",fixed_amount:{amount:0,currency:e.currency.toLowerCase()},display_name:"Free Shipping",delivery_estimate:{minimum:{unit:"business_day",value:5},maximum:{unit:"business_day",value:10}}}}],line_items:[{price_data:{currency:e.currency.toLowerCase(),product_data:{name:e.productName,description:e.productDescription,images:e.productImage?[e.productImage]:void 0},unit_amount:e.unitAmount},quantity:e.quantity}],mode:"payment",success_url:"".concat(e.successUrl,"?session_id={CHECKOUT_SESSION_ID}"),cancel_url:e.cancelUrl,customer_email:e.customerEmail,metadata:ep({orderId:e.orderId},e.metadata)})];case 1:return[2,{sessionId:(t=r.sent()).id,url:t.url}]}})}).call(t)},catch:function(e){return Error("Stripe checkout failed: ".concat(ed(e,Error)?e.message:String(e)))}})}},{key:"verifyWebhookSignature",value:function(e,t){var r=this;return o.Effect.tryPromise({try:function(){return es(function(){return eg(this,function(r){switch(r.label){case 0:return[4,this.stripe.webhooks.constructEventAsync(e,t,this.webhookSecret)];case 1:return[2,r.sent()]}})}).call(r)},catch:function(e){return Error("Webhook verification failed: ".concat(ed(e,Error)?e.message:String(e)))}})}},{key:"getCheckoutSession",value:function(e){var t=this;return o.Effect.tryPromise({try:function(){return es(function(){return eg(this,function(t){switch(t.label){case 0:return[4,this.stripe.checkout.sessions.retrieve(e)];case 1:return[2,t.sent()]}})}).call(t)},catch:function(e){return Error("Failed to retrieve session: ".concat(ed(e,Error)?e.message:String(e)))}})}},{key:"extractShippingAddress",value:function(e){var t,r,n,o,i,s,a,l,c=null==(t=e.collected_information)?void 0:t.shipping_details;if(!c)return null;var u=em((null==(r=c.name)?void 0:r.split(" "))||["",""]),d=u[0],f=u.slice(1);try{return m.parse({firstName:d,lastName:f.join(" "),addressLine1:(null==(n=c.address)?void 0:n.line1)||"",addressLine2:(null==(o=c.address)?void 0:o.line2)||void 0,city:(null==(i=c.address)?void 0:i.city)||"",state:(null==(s=c.address)?void 0:s.state)||"",postCode:(null==(a=c.address)?void 0:a.postal_code)||"",country:(null==(l=c.address)?void 0:l.country)||"",email:"orders@demo.everything.market",phone:void 0})}catch(e){return null}}}]),e}();function eb(e,t,r,n,o,i,s){try{var a=e[i](s),l=a.value}catch(e){r(e);return}a.done?t(l):Promise.resolve(l).then(n,o)}function eE(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function s(e){eb(i,n,o,s,a,"next",e)}function a(e){eb(i,n,o,s,a,"throw",e)}s(void 0)})}}function e_(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function ew(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eS(e,t,r){return t&&ew(e.prototype,t),r&&ew(e,r),e}function eP(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eT(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function eO(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return l([e,t])}}function l(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var eI={passed:"processing",completed:"processing",printing:"printing",shipped:"shipped",delivered:"delivered",cancelled:"cancelled",canceled:"cancelled"};function ex(e){return eI[e.toLowerCase()]||"processing"}function eA(e){var t=[],r=!0,n=!1,o=void 0;try{for(var i,s=(e||[])[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var a=i.value,l=!0,c=!1,u=void 0;try{for(var d,f=(a.fulfillments||[])[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var h=d.value;t.push({trackingCode:h.trackingCode,trackingUrl:h.trackingUrl,shipmentMethodName:h.shipmentMethodName,shipmentMethodUid:h.shipmentMethodUid,fulfillmentCountry:h.fulfillmentCountry,fulfillmentStateProvince:h.fulfillmentStateProvince,fulfillmentFacilityId:h.fulfillmentFacilityId})}}catch(e){c=!0,u=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw u}}}}catch(e){n=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}return t}var eR=function(){function e(t,r){e_(this,e),eP(this,"apiKey",void 0),eP(this,"webhookSecret",void 0),eP(this,"baseUrl","https://order.gelatoapis.com/v4"),this.apiKey=t,this.webhookSecret=r}return eS(e,[{key:"createOrder",value:function(e){var t=this;return o.Effect.tryPromise({try:function(){return eE(function(){var t;return eO(this,function(r){switch(r.label){case 0:return[4,fetch("".concat(this.baseUrl,"/orders"),{method:"POST",headers:{"Content-Type":"application/json","X-API-KEY":this.apiKey},body:JSON.stringify(e)})];case 1:if((t=r.sent()).ok)return[3,3];return[4,t.text()];case 2:throw console.error("Gelato API error response:",r.sent()),Error("Gelato API error: ".concat(t.status," ").concat(t.statusText));case 3:return[4,t.json()];case 4:return[2,{id:r.sent().id}]}})}).call(t)},catch:function(e){return Error("Fulfillment order failed: ".concat(eT(e,Error)?e.message:String(e)))}})}},{key:"verifyWebhookSignature",value:function(e,t){var r=this;return o.Effect.sync(function(){return t===r.webhookSecret})}},{key:"getReturnAddress",value:function(){return{firstName:"Returns",lastName:"Department",companyName:"Demo Company",addressLine1:"456 Return Street",city:"Return City",state:"CA",postCode:"67890",country:"US",email:"returns@example.com",phone:"0987654321"}}},{key:"buildOrderData",value:function(e){return{orderReferenceId:e.fulfillmentReferenceId,customerReferenceId:e.userId,currency:e.currency,items:[{itemReferenceId:"item_".concat(e.orderId),productUid:e.productUid,files:[{type:"default",url:e.fileUrl}],quantity:e.quantity}],shipmentMethodUid:"express",shippingAddress:e.shippingAddress,returnAddress:this.getReturnAddress()}}}]),e}();function eN(e,t,r,n,o,i,s){try{var a=e[i](s),l=a.value}catch(e){r(e);return}a.done?t(l):Promise.resolve(l).then(n,o)}function ek(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function s(e){eN(i,n,o,s,a,"next",e)}function a(e){eN(i,n,o,s,a,"throw",e)}s(void 0)})}}function eC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){eC(e,t,r[t])})}return e}function ej(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return l([e,t])}}function l(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function ez(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var eU="apparel_product_gca_t-shirt_gsc_crewneck_gcu_unisex_gqa_classic_gsi_s_gco_white_gpr_4-4",eM="https://cdn-origin.gelato-api-dashboard.ie.live.gelato.tech/docs/sample-print-files/logo.png";let eF=(0,n.createPlugin)({variables:i.z.object({network:i.z.enum(["mainnet","testnet"]).default("mainnet"),contractId:i.z.string().default("social.near"),nodeUrl:i.z.string().optional()}),secrets:i.z.object({relayerAccountId:i.z.string().min(1,"Relayer account ID is required"),relayerPrivateKey:i.z.string().min(1,"Relayer private key is required"),STRIPE_SECRET_KEY:i.z.string().optional(),STRIPE_WEBHOOK_SECRET:i.z.string().optional(),GELATO_API_KEY:i.z.string().optional(),GELATO_WEBHOOK_SECRET:i.z.string().optional()}),contract:S,initialize:function(e){return o.Effect.gen(function(){var t,r,n,i,a,l,c;return ej(this,function(u){switch(u.label){case 0:return t=e.variables.nodeUrl?{networkId:e.variables.network,rpcUrl:e.variables.nodeUrl}:e.variables.network,console.log("[API Init] relayerAccountId: ".concat(e.secrets.relayerAccountId)),console.log("[API Init] network: ".concat(e.variables.network)),console.log("[API Init] contractId: ".concat(e.variables.contractId)),r=new s.jV,[5,ez(o.Effect.promise(function(){return r.add(e.secrets.relayerAccountId,(0,s.Do)(e.secrets.relayerPrivateKey))}))];case 1:return u.sent(),n=new D(new s.zU({network:t,keyStore:r,defaultSignerId:e.secrets.relayerAccountId,defaultWaitUntil:"FINAL"}),e.secrets.relayerAccountId,e.variables.contractId),i=new W,a=new et,l=e.secrets.STRIPE_SECRET_KEY&&e.secrets.STRIPE_WEBHOOK_SECRET?new ev(e.secrets.STRIPE_SECRET_KEY,e.secrets.STRIPE_WEBHOOK_SECRET):null,c=e.secrets.GELATO_API_KEY&&e.secrets.GELATO_WEBHOOK_SECRET?new eR(e.secrets.GELATO_API_KEY,e.secrets.GELATO_WEBHOOK_SECRET):null,console.debug("[API Init] Services initialized"),[2,{relayerService:n,productService:i,orderService:a,stripeService:l,fulfillmentService:c}]}})})},shutdown:function(){return o.Effect.void},createRouter:function(e,t){var r=e.relayerService,n=e.productService,i=e.orderService,s=e.stripeService,a=e.fulfillmentService;return{connect:t.connect.handler(function(e){var t=e.input;return ek(function(){return ej(this,function(e){switch(e.label){case 0:return[4,r.ensureStorageDeposit(t.accountId)];case 1:return[2,e.sent()]}})})()}),publish:t.publish.handler(function(e){var t=e.input;return ek(function(){return ej(this,function(e){switch(e.label){case 0:return[4,r.submitDelegateAction(t.payload)];case 1:return[2,e.sent()]}})})()}),ping:t.ping.handler(function(){return ek(function(){return ej(this,function(e){return[2,{status:"ok",timestamp:new Date().toISOString()}]})})()}),getProducts:t.getProducts.handler(function(e){var t=e.input;return ek(function(){return ej(this,function(e){switch(e.label){case 0:return[4,o.Effect.runPromise(n.getProducts(t))];case 1:return[2,e.sent()]}})})()}),getProduct:t.getProduct.handler(function(e){var t=e.input;return ek(function(){return ej(this,function(e){switch(e.label){case 0:return[4,o.Effect.runPromise(n.getProduct(t.id))];case 1:return[2,e.sent()]}})})()}),searchProducts:t.searchProducts.handler(function(e){var t=e.input;return ek(function(){return ej(this,function(e){switch(e.label){case 0:return[4,o.Effect.runPromise(n.searchProducts(t))];case 1:return[2,e.sent()]}})})()}),getFeaturedProducts:t.getFeaturedProducts.handler(function(e){var t=e.input;return ek(function(){return ej(this,function(e){switch(e.label){case 0:return[4,o.Effect.runPromise(n.getFeaturedProducts(t.limit))];case 1:return[2,e.sent()]}})})()}),getCollections:t.getCollections.handler(function(){return ek(function(){return ej(this,function(e){switch(e.label){case 0:return[4,o.Effect.runPromise(n.getCollections())];case 1:return[2,e.sent()]}})})()}),getCollection:t.getCollection.handler(function(e){var t=e.input;return ek(function(){return ej(this,function(e){switch(e.label){case 0:return[4,o.Effect.runPromise(n.getCollection(t.slug))];case 1:return[2,e.sent()]}})})()}),createCheckout:t.createCheckout.handler(function(e){var t=e.input;return ek(function(){var e,r,n,a,l;return ej(this,function(c){switch(c.label){case 0:if(!s)throw Error("Stripe is not configured");if(!(e=U(t.productId)))throw Error("Product not found: ".concat(t.productId));return r="demo-user",n=100*e.price*t.quantity,[4,o.Effect.runPromise(i.createOrder({userId:r,productId:e.id,productName:e.name,quantity:t.quantity,totalAmount:n,currency:e.currency||"USD"}))];case 1:return a=c.sent(),[4,o.Effect.runPromise(s.createCheckoutSession({orderId:a.id,productName:e.name,productDescription:e.description,productImage:e.image,unitAmount:100*e.price,currency:e.currency||"USD",quantity:t.quantity,successUrl:t.successUrl,cancelUrl:t.cancelUrl}))];case 2:return l=c.sent(),[4,o.Effect.runPromise(i.updateOrderCheckout(a.id,l.sessionId,"stripe"))];case 3:return c.sent(),[2,{checkoutSessionId:l.sessionId,checkoutUrl:l.url,orderId:a.id}]}})})()}),getOrders:t.getOrders.handler(function(e){var t=e.input;return ek(function(){var e;return ej(this,function(r){switch(r.label){case 0:return e="demo-user",[4,o.Effect.runPromise(i.getOrders(e,t))];case 1:return[2,r.sent()]}})})()}),getOrder:t.getOrder.handler(function(e){var t=e.input;return ek(function(){var e;return ej(this,function(r){switch(r.label){case 0:return e="demo-user",[4,o.Effect.runPromise(i.getOrder(t.id,e))];case 1:return[2,r.sent()]}})})()}),stripeWebhook:t.stripeWebhook.handler(function(e){var t=e.input;return ek(function(){var e,r,n,l,c,u,d,f,h;return ej(this,function(p){switch(p.label){case 0:if(!s||!a)throw Error("Stripe or fulfillment service not configured");return[4,o.Effect.runPromise(s.verifyWebhookSignature(t.body,t.signature))];case 1:if("checkout.session.completed"!==(e=p.sent()).type||!(l=null==(r=(n=e.data.object).metadata)?void 0:r.orderId))return[3,13];return[4,o.Effect.runPromise(s.getCheckoutSession(n.id))];case 2:if(c=p.sent(),!(u=s.extractShippingAddress(c)))return[3,11];return[4,o.Effect.runPromise(i.updateOrderShipping(l,u))];case 3:return p.sent(),[4,o.Effect.runPromise(i.updateOrderStatus(l,"paid"))];case 4:return p.sent(),[4,o.Effect.runPromise(i.getOrder(l))];case 5:d=p.sent().order,f=a.buildOrderData({orderId:d.id,userId:d.userId,productUid:eU,fileUrl:eM,quantity:d.quantity,currency:d.currency,shippingAddress:u,fulfillmentReferenceId:d.fulfillmentReferenceId}),p.label=6;case 6:return p.trys.push([6,9,,10]),[4,o.Effect.runPromise(a.createOrder(f))];case 7:return h=p.sent(),[4,o.Effect.runPromise(i.updateOrderFulfillment(l,h.id))];case 8:return p.sent(),[3,10];case 9:return console.error("Failed to create fulfillment order:",p.sent()),[3,10];case 10:return[3,13];case 11:return[4,o.Effect.runPromise(i.updateOrderStatus(l,"paid"))];case 12:p.sent(),p.label=13;case 13:return[2,{received:!0}]}})})()}),fulfillmentWebhook:t.fulfillmentWebhook.handler(function(e){var t=e.input;return ek(function(){var e,r,n,s,l,c,u,d,f,h,p,m,y,g,v,b,E,_,w;return ej(this,function(S){switch(S.label){case 0:if(!a)throw Error("Fulfillment service not configured");return[4,o.Effect.runPromise(a.verifyWebhookSignature(t.body,t.signature))];case 1:if(!S.sent())throw Error("Invalid webhook signature");switch((e=JSON.parse(t.body)).event){case"order_status_updated":return[3,2];case"order_item_tracking_code_updated":return[3,7];case"order_delivery_estimate_updated":return[3,12]}return[3,16];case 2:return r=e.orderReferenceId,n=e.fulfillmentStatus,s=e.items,[4,o.Effect.runPromise(i.getOrderByFulfillmentReference(r))];case 3:if(!(l=S.sent()))return[3,6];return c=ex(n),[4,o.Effect.runPromise(i.updateOrderStatus(l.id,c))];case 4:if(S.sent(),!((u=eA(s)).length>0))return[3,6];return[4,o.Effect.runPromise(i.updateOrderTracking(l.id,u))];case 5:S.sent(),S.label=6;case 6:return[3,16];case 7:return d=e.orderReferenceId,f=e.trackingCode,h=e.trackingUrl,p=e.shipmentMethodName,[4,o.Effect.runPromise(i.getOrderByFulfillmentReference(d))];case 8:if(!(m=S.sent()))return[3,11];return y=m.trackingInfo||[],g={trackingCode:f,trackingUrl:h,shipmentMethodName:p},(v=y.findIndex(function(e){return e.trackingCode===f}))>=0?y[v]=eD({},y[v],g):y.push(g),[4,o.Effect.runPromise(i.updateOrderTracking(m.id,y))];case 9:return S.sent(),[4,o.Effect.runPromise(i.updateOrderStatus(m.id,"shipped"))];case 10:S.sent(),S.label=11;case 11:return[3,16];case 12:return b=e.orderReferenceId,E=e.minDeliveryDate,_=e.maxDeliveryDate,[4,o.Effect.runPromise(i.getOrderByFulfillmentReference(b))];case 13:if(!(w=S.sent()))return[3,15];return[4,o.Effect.runPromise(i.updateOrderDeliveryEstimate(w.id,{minDeliveryDate:E,maxDeliveryDate:_}))];case 14:S.sent(),S.label=15;case 15:return[3,16];case 16:return[2,{received:!0}]}})})()})}}})},1073(e,t,r){"use strict";var n,o,i,s,a,l,c,u,d,f,h,p,m=r(5950),y=r.n(m);let g=[(0,r(2455).default)(void 0)],v={},b="marketplace-api",E="version-first";if((r.initializeSharingData||r.initializeExposesData)&&r.federation){let e=(e,t,r)=>{e&&e[t]&&(e[t]=r)},t=(e,t,r)=>{var n,o,i,s,a,l;let c=r();Array.isArray(c)?(null!=(i=(n=e)[o=t])||(n[o]=[]),e[t].push(...c)):"object"==typeof c&&null!==c&&(null!=(l=(s=e)[a=t])||(s[a]={}),Object.assign(e[t],c))},m=(e,t,r)=>{var n,o,i;null!=(i=(n=e)[o=t])||(n[o]=r())},_=null!=(u=null==(n=r.remotesLoadingData)?void 0:n.chunkMapping)?u:{},w=null!=(d=null==(o=r.remotesLoadingData)?void 0:o.moduleIdToRemoteDataMapping)?d:{},S=null!=(f=null==(i=r.initializeSharingData)?void 0:i.scopeToSharingDataMapping)?f:{},P=null!=(h=null==(s=r.consumesLoadingData)?void 0:s.chunkMapping)?h:{},T=null!=(p=null==(a=r.consumesLoadingData)?void 0:a.moduleIdToConsumeDataMapping)?p:{},O={},I=[],x={},A=null==(l=r.initializeExposesData)?void 0:l.shareScope;for(let e in y())r.federation[e]=y()[e];m(r.federation,"consumesLoadingModuleToHandlerMapping",()=>{let e={};for(let[t,r]of Object.entries(T))e[t]={getter:r.fallback,shareInfo:{shareConfig:{fixedDependencies:!1,requiredVersion:r.requiredVersion,strictVersion:r.strictVersion,singleton:r.singleton,eager:r.eager},scope:[r.shareScope]},shareKey:r.shareKey};return e}),m(r.federation,"initOptions",()=>({})),m(r.federation.initOptions,"name",()=>b),m(r.federation.initOptions,"shareStrategy",()=>E),m(r.federation.initOptions,"shared",()=>{let e={};for(let[t,r]of Object.entries(S))for(let n of r)if("object"==typeof n&&null!==n){let{name:r,version:o,factory:i,eager:s,singleton:a,requiredVersion:l,strictVersion:c}=n,u={},d=function(e){return void 0!==e};d(a)&&(u.singleton=a),d(l)&&(u.requiredVersion=l),d(s)&&(u.eager=s),d(c)&&(u.strictVersion=c);let f={version:o,scope:[t],shareConfig:u,get:i};e[r]?e[r].push(f):e[r]=[f]}return e}),t(r.federation.initOptions,"remotes",()=>Object.values(v).flat().filter(e=>"script"===e.externalType)),t(r.federation.initOptions,"plugins",()=>g),m(r.federation,"bundlerRuntimeOptions",()=>({})),m(r.federation.bundlerRuntimeOptions,"remotes",()=>({})),m(r.federation.bundlerRuntimeOptions.remotes,"chunkMapping",()=>_),m(r.federation.bundlerRuntimeOptions.remotes,"remoteInfos",()=>v),m(r.federation.bundlerRuntimeOptions.remotes,"idToExternalAndNameMapping",()=>{let e={};for(let[t,r]of Object.entries(w))e[t]=[r.shareScope,r.name,r.externalModuleId,r.remoteName];return e}),m(r.federation.bundlerRuntimeOptions.remotes,"webpackRequire",()=>r),t(r.federation.bundlerRuntimeOptions.remotes,"idToRemoteMap",()=>{let e={};for(let[t,r]of Object.entries(w)){let n=v[r.remoteName];n&&(e[t]=n)}return e}),e(r,"S",r.federation.bundlerRuntime.S),r.federation.attachShareScopeMap&&r.federation.attachShareScopeMap(r),e(r.f,"remotes",(e,t)=>r.federation.bundlerRuntime.remotes({chunkId:e,promises:t,chunkMapping:_,idToExternalAndNameMapping:r.federation.bundlerRuntimeOptions.remotes.idToExternalAndNameMapping,idToRemoteMap:r.federation.bundlerRuntimeOptions.remotes.idToRemoteMap,webpackRequire:r})),e(r.f,"consumes",(e,t)=>r.federation.bundlerRuntime.consumes({chunkId:e,promises:t,chunkMapping:P,moduleToHandlerMapping:r.federation.consumesLoadingModuleToHandlerMapping,installedModules:O,webpackRequire:r})),e(r,"I",(e,t)=>r.federation.bundlerRuntime.I({shareScopeName:e,initScope:t,initPromises:I,initTokens:x,webpackRequire:r})),e(r,"initContainer",(e,t,n)=>r.federation.bundlerRuntime.initContainerEntry({shareScope:e,initScope:t,remoteEntryInitOptions:n,shareScopeKey:A,webpackRequire:r})),e(r,"getContainer",(e,t)=>{var n=r.initializeExposesData.moduleMap;return r.R=t,t=Object.prototype.hasOwnProperty.call(n,e)?n[e]():Promise.resolve().then(()=>{throw Error('Module "'+e+'" does not exist in container.')}),r.R=void 0,t}),r.federation.instance=r.federation.runtime.init(r.federation.initOptions),(null==(c=r.consumesLoadingData)?void 0:c.initialConsumes)&&r.federation.bundlerRuntime.installInitialConsumes({webpackRequire:r,installedModules:O,initialConsumes:r.consumesLoadingData.initialConsumes,moduleToHandlerMapping:r.federation.consumesLoadingModuleToHandlerMapping})}},5317(e){"use strict";e.exports=require("child_process")},6982(e){"use strict";e.exports=require("crypto")},4434(e){"use strict";e.exports=require("events")},8611(e){"use strict";e.exports=require("http")},5692(e){"use strict";e.exports=require("https")},8995(e){"use strict";e.exports=require("node:module")},9023(e){"use strict";e.exports=require("util")},2455(__unused_webpack_module,exports,__webpack_require__){"use strict";function importNodeModule(e){if(!e)throw Error("import specifier is required");if(exports.nodeRuntimeImportCache.has(e))return exports.nodeRuntimeImportCache.get(e);let t=Function("name","return import(name)")(e).then(e=>e.default).catch(t=>{throw console.error(`Error importing module ${e}:`,t),exports.nodeRuntimeImportCache.delete(e),t});return exports.nodeRuntimeImportCache.set(e,t),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setupWebpackRequirePatching=exports.setupChunkHandler=exports.setupScriptLoader=exports.deleteChunk=exports.installChunk=exports.loadChunk=exports.resolveUrl=exports.fetchAndRun=exports.loadFromFs=exports.returnFromGlobalInstances=exports.returnFromCache=exports.resolveFile=exports.nodeRuntimeImportCache=void 0,exports.importNodeModule=importNodeModule,exports.default=default_1,exports.nodeRuntimeImportCache=new Map;let resolveFile=(e,t)=>require("path").join(__dirname,e+__webpack_require__.u(t));exports.resolveFile=resolveFile;let returnFromCache=e=>{for(let t of Function("return globalThis")().__FEDERATION__.__INSTANCES__){let r=t.moduleCache.get(e);if(r?.remoteInfo)return r.remoteInfo.entry}return null};exports.returnFromCache=returnFromCache;let returnFromGlobalInstances=e=>{for(let t of Function("return globalThis")().__FEDERATION__.__INSTANCES__)for(let r of t.options.remotes)if(r.name===e||r.alias===e)return console.log("Backup remote entry found:",r.entry),r.entry;return null};exports.returnFromGlobalInstances=returnFromGlobalInstances;let loadFromFs=(e,t)=>{let r=require("fs"),n=require("path"),o=require("vm");r.existsSync(e)?r.readFile(e,"utf-8",(r,i)=>{if(r)return t(r,null);let s={};try{new o.Script(`(function(exports, require, __dirname, __filename) {${i}
})`,{filename:e,importModuleDynamically:o.constants?.USE_MAIN_CONTEXT_DEFAULT_LOADER??importNodeModule}).runInThisContext()(s,require,n.dirname(e),e),t(null,s)}catch(e){console.log("'runInThisContext threw'",e),t(e,null)}}):t(Error(`File ${e} does not exist`),null)};exports.loadFromFs=loadFromFs;let fetchAndRun=(url,chunkName,callback,args)=>{("undefined"==typeof fetch?importNodeModule("node-fetch").then(e=>e.default):Promise.resolve(fetch)).then(e=>args.origin.loaderHook.lifecycle.fetch.emit(url.href,{}).then(t=>t&&t instanceof Response?t.text():e(url.href).then(e=>e.text()))).then(data=>{let chunk={};try{eval(`(function(exports, require, __dirname, __filename) {${data}
})`)(chunk,require,url.pathname.split("/").slice(0,-1).join("/"),chunkName),callback(null,chunk)}catch(e){callback(e,null)}}).catch(e=>callback(e,null))};exports.fetchAndRun=fetchAndRun;let resolveUrl=(e,t)=>{try{return new URL(t,__webpack_require__.p)}catch{let r=(0,exports.returnFromCache)(e)||(0,exports.returnFromGlobalInstances)(e);if(!r)return null;let n=new URL(r),o=require("path"),i=n.pathname,s=i.lastIndexOf("/"),a=s>=0?i.substring(0,s+1):"/",l=__webpack_require__.federation.rootOutputDir||"";return new URL(o.join(a,l,t).replace(/\\/g,"/"),n.origin)}};exports.resolveUrl=resolveUrl;let loadChunk=(e,t,r,n,o)=>{if("filesystem"===e)return(0,exports.loadFromFs)((0,exports.resolveFile)(r,t),n);let i=(0,exports.resolveUrl)(r,t);if(!i)return n(null,{modules:{},ids:[],runtime:null});(0,exports.fetchAndRun)(i,t,n,o)};exports.loadChunk=loadChunk;let installChunk=(e,t)=>{for(let t in e.modules)__webpack_require__.m[t]=e.modules[t];for(let r of(e.runtime&&e.runtime(__webpack_require__),e.ids))t[r]&&t[r][0](),t[r]=0};exports.installChunk=installChunk;let deleteChunk=(e,t)=>(delete t[e],!0);exports.deleteChunk=deleteChunk;let setupScriptLoader=()=>{__webpack_require__.l=(e,t,r,n)=>{if(!r||n)throw Error(`__webpack_require__.l name is required for ${e}`);__webpack_require__.federation.runtime.loadScriptNode(e,{attrs:{globalName:r}}).then(n=>{let o=__webpack_require__.federation.instance.initRawContainer(r,e,n);Function("return globalThis")()[r]=o,t(o)}).catch(t)}};exports.setupScriptLoader=setupScriptLoader;let setupChunkHandler=(e,t)=>(r,n)=>{let o=e[r];if(0!==o)if(o)n.push(o[2]);else if(!__webpack_require__.federation.chunkMatcher||__webpack_require__.federation.chunkMatcher(r)){let i=new Promise((n,i)=>{o=e[r]=[n,i];let s="undefined"!=typeof process&&require("fs"),a="undefined"!=typeof process&&(0,exports.resolveFile)(__webpack_require__.federation.rootOutputDir||"",r);if(s&&s.existsSync(a))(0,exports.loadChunk)("filesystem",r,__webpack_require__.federation.rootOutputDir||"",(t,o)=>{if(t)return(0,exports.deleteChunk)(r,e)&&i(t);o&&(0,exports.installChunk)(o,e),n(o)},t);else{let o=__webpack_require__.u(r),s="undefined"==typeof process?"http-eval":"http-vm";(0,exports.loadChunk)(s,o,__webpack_require__.federation.initOptions.name,(t,o)=>{if(t)return(0,exports.deleteChunk)(r,e)&&i(t);o&&(0,exports.installChunk)(o,e),n(o)},t)}});n.push(o[2]=i)}else e[r]=0};exports.setupChunkHandler=setupChunkHandler;let setupWebpackRequirePatching=e=>{__webpack_require__.f&&(__webpack_require__.f.require&&(console.warn("\x1b[33m%s\x1b[0m",'CAUTION: build target is not set to "async-node", attempting to patch additional chunk handlers. This may not work'),__webpack_require__.f.require=e),__webpack_require__.f.readFileVm&&(__webpack_require__.f.readFileVm=e))};function default_1(){return{name:"node-federation-plugin",beforeInit:e=>((()=>{let t={};(0,exports.setupScriptLoader)();let r=(0,exports.setupChunkHandler)(t,e);(0,exports.setupWebpackRequirePatching)(r)})(),e)}}exports.setupWebpackRequirePatching=setupWebpackRequirePatching},380(e,t,r){"use strict";var n=r(1992),o=r(4452),i=r(2124);let s="[ Federation Runtime ]",a=o.createLogger(s);function l(e,t){e||c(t)}function c(e){if(e instanceof Error)throw e.message.startsWith(s)||(e.message=`${s}: ${e.message}`),e;throw Error(`${s}: ${e}`)}function u(e){e instanceof Error&&(e.message.startsWith(s)||(e.message=`${s}: ${e.message}`)),a.warn(e)}function d(e,t){return -1===e.findIndex(e=>e===t)&&e.push(t),e}function f(e){return"version"in e&&e.version?`${e.name}:${e.version}`:"entry"in e&&e.entry?`${e.name}:${e.entry}`:`${e.name}`}function h(e){return void 0!==e.entry}function p(e){return!e.entry.includes(".json")}async function m(e,t){try{return await e()}catch(e){t||u(e);return}}function y(e){return e&&"object"==typeof e}let g=Object.prototype.toString;function v(e){return"[object Object]"===g.call(e)}function b(e,t){let r=/^(https?:)?\/\//i;return e.replace(r,"").replace(/\/$/,"")===t.replace(r,"").replace(/\/$/,"")}function E(e){return Array.isArray(e)?e:[e]}function _(e){let t={url:"",type:"global",globalName:""};return o.isBrowserEnv()||o.isReactNativeEnv()?"remoteEntry"in e?{url:e.remoteEntry,type:e.remoteEntryType,globalName:e.globalName}:t:"ssrRemoteEntry"in e?{url:e.ssrRemoteEntry||t.url,type:e.ssrRemoteEntryType||t.type,globalName:e.globalName}:t}let w=(e,t)=>{let r;return r=e.endsWith("/")?e.slice(0,-1):e,t.startsWith(".")&&(t=t.slice(1)),r+=t},S="object"==typeof globalThis?globalThis:window,P=(()=>{try{return document.defaultView}catch(e){return S}})(),T=P;function O(e,t,r){Object.defineProperty(e,t,{value:r,configurable:!1,writable:!0})}function I(e,t){return Object.hasOwnProperty.call(e,t)}I(S,"__GLOBAL_LOADING_REMOTE_ENTRY__")||O(S,"__GLOBAL_LOADING_REMOTE_ENTRY__",{});let x=S.__GLOBAL_LOADING_REMOTE_ENTRY__;function A(e){var t,r,n,o,i,s,a,l,c,u,d,f;I(e,"__VMOK__")&&!I(e,"__FEDERATION__")&&O(e,"__FEDERATION__",e.__VMOK__),I(e,"__FEDERATION__")||(O(e,"__FEDERATION__",{__GLOBAL_PLUGIN__:[],__INSTANCES__:[],moduleInfo:{},__SHARE__:{},__MANIFEST_LOADING__:{},__PRELOADED_MAP__:new Map}),O(e,"__VMOK__",e.__FEDERATION__)),null!=(a=(t=e.__FEDERATION__).__GLOBAL_PLUGIN__)||(t.__GLOBAL_PLUGIN__=[]),null!=(l=(r=e.__FEDERATION__).__INSTANCES__)||(r.__INSTANCES__=[]),null!=(c=(n=e.__FEDERATION__).moduleInfo)||(n.moduleInfo={}),null!=(u=(o=e.__FEDERATION__).__SHARE__)||(o.__SHARE__={}),null!=(d=(i=e.__FEDERATION__).__MANIFEST_LOADING__)||(i.__MANIFEST_LOADING__={}),null!=(f=(s=e.__FEDERATION__).__PRELOADED_MAP__)||(s.__PRELOADED_MAP__=new Map)}function R(){S.__FEDERATION__.__GLOBAL_PLUGIN__=[],S.__FEDERATION__.__INSTANCES__=[],S.__FEDERATION__.moduleInfo={},S.__FEDERATION__.__SHARE__={},S.__FEDERATION__.__MANIFEST_LOADING__={},Object.keys(x).forEach(e=>{delete x[e]})}function N(e){S.__FEDERATION__.__INSTANCES__.push(e)}function k(){return S.__FEDERATION__.__DEBUG_CONSTRUCTOR__}function C(e,t=o.isDebugMode()){t&&(S.__FEDERATION__.__DEBUG_CONSTRUCTOR__=e,S.__FEDERATION__.__DEBUG_CONSTRUCTOR_VERSION__="0.19.1")}function D(e,t){if("string"==typeof t){if(e[t])return{value:e[t],key:t};for(let r of Object.keys(e)){let[n,o]=r.split(":"),i=`${n}:${t}`,s=e[i];if(s)return{value:s,key:i}}return{value:void 0,key:t}}throw Error("key must be string")}A(S),A(P);let j=()=>P.__FEDERATION__.moduleInfo,z=(e,t)=>{let r=D(t,f(e)).value;if(r&&!r.version&&"version"in e&&e.version&&(r.version=e.version),r)return r;if("version"in e&&e.version){let{version:t}=e,r=f(n._object_without_properties_loose(e,["version"])),o=D(P.__FEDERATION__.moduleInfo,r).value;if((null==o?void 0:o.version)===t)return o}},U=e=>z(e,P.__FEDERATION__.moduleInfo),M=(e,t)=>{let r=f(e);return P.__FEDERATION__.moduleInfo[r]=t,P.__FEDERATION__.moduleInfo},F=e=>(P.__FEDERATION__.moduleInfo=n._extends({},P.__FEDERATION__.moduleInfo,e),()=>{for(let t of Object.keys(e))delete P.__FEDERATION__.moduleInfo[t]}),$=(e,t)=>{let r=t||`__FEDERATION_${e}:custom__`,n=S[r];return{remoteEntryKey:r,entryExports:n}},B=e=>{let{__GLOBAL_PLUGIN__:t}=P.__FEDERATION__;e.forEach(e=>{-1===t.findIndex(t=>t.name===e.name)?t.push(e):u(`The plugin ${e.name} has been registered.`)})},G=()=>P.__FEDERATION__.__GLOBAL_PLUGIN__,L=e=>S.__FEDERATION__.__PRELOADED_MAP__.get(e),H=e=>S.__FEDERATION__.__PRELOADED_MAP__.set(e,!0),q="default",K="global",V="[0-9A-Za-z-]+",W=`(?:\\+(${V}(?:\\.${V})*))`,Y="0|[1-9]\\d*",Z="[0-9]+",J="\\d*[a-zA-Z-][a-zA-Z0-9-]*",X=`(?:${Z}|${J})`,Q=`(?:-?(${X}(?:\\.${X})*))`,ee=`(?:${Y}|${J})`,et=`(?:-(${ee}(?:\\.${ee})*))`,er=`${Y}|x|X|\\*`,en=`[v=\\s]*(${er})(?:\\.(${er})(?:\\.(${er})(?:${et})?${W}?)?)?`,eo=`^\\s*(${en})\\s+-\\s+(${en})\\s*$`,ei=`(${Z})\\.(${Z})\\.(${Z})`,es=`[v=\\s]*${ei}${Q}?${W}?`,ea="((?:<|>)?=?)",el=`(\\s*)${ea}\\s*(${es}|${en})`,ec="(?:~>?)",eu=`(\\s*)${ec}\\s+`,ed="(?:\\^)",ef=`(\\s*)${ed}\\s+`,eh="(<|>)?=?\\s*\\*",ep=`^${ed}${en}$`,em=`(${Y})\\.(${Y})\\.(${Y})`,ey=`v?${em}${et}?${W}?`,eg=`^${ec}${en}$`,ev=`^${ea}\\s*${en}$`,eb=`^${ea}\\s*(${ey})$|^$`,eE="^\\s*>=\\s*0.0.0\\s*$";function e_(e){return new RegExp(e)}function ew(e){return!e||"x"===e.toLowerCase()||"*"===e}function eS(...e){return t=>e.reduce((e,t)=>t(e),t)}function eP(e){return e.match(e_(eb))}function eT(e,t,r,n){let o=`${e}.${t}.${r}`;return n?`${o}-${n}`:o}function eO(e){return e.replace(e_(eo),(e,t,r,n,o,i,s,a,l,c,u,d)=>(t=ew(r)?"":ew(n)?`>=${r}.0.0`:ew(o)?`>=${r}.${n}.0`:`>=${t}`,a=ew(l)?"":ew(c)?`<${Number(l)+1}.0.0-0`:ew(u)?`<${l}.${Number(c)+1}.0-0`:d?`<=${l}.${c}.${u}-${d}`:`<=${a}`,`${t} ${a}`.trim()))}function eI(e){return e.replace(e_(el),"$1$2$3")}function ex(e){return e.replace(e_(eu),"$1~")}function eA(e){return e.replace(e_(ef),"$1^")}function eR(e){return e.trim().split(/\s+/).map(e=>e.replace(e_(ep),(e,t,r,n,o)=>{if(ew(t))return"";if(ew(r))return`>=${t}.0.0 <${Number(t)+1}.0.0-0`;if(ew(n))if("0"===t)return`>=${t}.${r}.0 <${t}.${Number(r)+1}.0-0`;else return`>=${t}.${r}.0 <${Number(t)+1}.0.0-0`;if(o)if("0"!==t)return`>=${t}.${r}.${n}-${o} <${Number(t)+1}.0.0-0`;else if("0"===r)return`>=${t}.${r}.${n}-${o} <${t}.${r}.${Number(n)+1}-0`;else return`>=${t}.${r}.${n}-${o} <${t}.${Number(r)+1}.0-0`;if("0"===t)if("0"===r)return`>=${t}.${r}.${n} <${t}.${r}.${Number(n)+1}-0`;else return`>=${t}.${r}.${n} <${t}.${Number(r)+1}.0-0`;return`>=${t}.${r}.${n} <${Number(t)+1}.0.0-0`})).join(" ")}function eN(e){return e.trim().split(/\s+/).map(e=>e.replace(e_(eg),(e,t,r,n,o)=>ew(t)?"":ew(r)?`>=${t}.0.0 <${Number(t)+1}.0.0-0`:ew(n)?`>=${t}.${r}.0 <${t}.${Number(r)+1}.0-0`:o?`>=${t}.${r}.${n}-${o} <${t}.${Number(r)+1}.0-0`:`>=${t}.${r}.${n} <${t}.${Number(r)+1}.0-0`)).join(" ")}function ek(e){return e.split(/\s+/).map(e=>e.trim().replace(e_(ev),(e,t,r,n,o,i)=>{let s=ew(r),a=s||ew(n),l=a||ew(o);if("="===t&&l&&(t=""),i="",s)if(">"===t||"<"===t)return"<0.0.0-0";else return"*";return t&&l?(a&&(n=0),o=0,">"===t?(t=">=",a?(r=Number(r)+1,n=0):n=Number(n)+1,o=0):"<="===t&&(t="<",a?r=Number(r)+1:n=Number(n)+1),"<"===t&&(i="-0"),`${t+r}.${n}.${o}${i}`):a?`>=${r}.0.0${i} <${Number(r)+1}.0.0-0`:l?`>=${r}.${n}.0${i} <${r}.${Number(n)+1}.0-0`:e})).join(" ")}function eC(e){return e.trim().replace(e_(eh),"")}function eD(e){return e.trim().replace(e_(eE),"")}function ej(e,t){return(e=Number(e)||e)>(t=Number(t)||t)?1:e===t?0:-1}function ez(e,t){let{preRelease:r}=e,{preRelease:n}=t;if(void 0===r&&n)return 1;if(r&&void 0===n)return -1;if(void 0===r&&void 0===n)return 0;for(let e=0,t=r.length;e<=t;e++){let t=r[e],o=n[e];if(t!==o){if(void 0===t&&void 0===o)return 0;if(!t)return 1;if(!o)return -1;return ej(t,o)}}return 0}function eU(e,t){return ej(e.major,t.major)||ej(e.minor,t.minor)||ej(e.patch,t.patch)||ez(e,t)}function eM(e,t){return e.version===t.version}function eF(e,t){switch(e.operator){case"":case"=":return eM(e,t);case">":return 0>eU(e,t);case">=":return eM(e,t)||0>eU(e,t);case"<":return eU(e,t)>0;case"<=":return eM(e,t)||eU(e,t)>0;case void 0:return!0;default:return!1}}function e$(e){return eS(eR,eN,ek,eC)(e)}function eB(e){return eS(eO,eI,ex,eA)(e.trim()).split(/\s+/).join(" ")}function eG(e,t){if(!e)return!1;let r=eP(e);if(!r)return!1;let[,n,,o,i,s,a]=r,l={operator:n,version:eT(o,i,s,a),major:o,minor:i,patch:s,preRelease:null==a?void 0:a.split(".")};for(let e of t.split("||")){let t=e.trim();if(!t||"*"===t||"x"===t)return!0;try{let e=eB(t);if(!e.trim())return!0;let r=e.split(" ").map(e=>e$(e)).join(" ");if(!r.trim())return!0;let n=r.split(/\s+/).map(e=>eD(e)).filter(Boolean);if(0===n.length)continue;let o=!0;for(let e of n){let t=eP(e);if(!t){o=!1;break}let[,r,,n,i,s,a]=t,c={operator:r,version:eT(n,i,s,a),major:n,minor:i,patch:s,preRelease:null==a?void 0:a.split(".")};if(!eF(c,l)){o=!1;break}}if(o)return!0}catch(e){console.error(`[semver] Error processing range part "${t}":`,e);continue}}return!1}function eL(e,t,r,o){var i,s,a;let l;return l="get"in e?e.get:"lib"in e?()=>Promise.resolve(e.lib):()=>Promise.resolve(()=>{throw Error(`Can not get shared '${r}'!`)}),n._extends({deps:[],useIn:[],from:t,loading:null},e,{shareConfig:n._extends({requiredVersion:`^${e.version}`,singleton:!1,eager:!1,strictVersion:!1},e.shareConfig),get:l,loaded:null!=e&&!!e.loaded||"lib"in e||void 0,version:null!=(i=e.version)?i:"0",scope:Array.isArray(e.scope)?e.scope:[null!=(s=e.scope)?s:"default"],strategy:(null!=(a=e.strategy)?a:o)||"version-first"})}function eH(e,t){let r=t.shared||{},o=t.name,i=Object.keys(r).reduce((e,n)=>{let i=E(r[n]);return e[n]=e[n]||[],i.forEach(r=>{e[n].push(eL(r,o,n,t.shareStrategy))}),e},{}),s=n._extends({},e.shared);return Object.keys(i).forEach(e=>{s[e]?i[e].forEach(t=>{s[e].find(e=>e.version===t.version)||s[e].push(t)}):s[e]=i[e]}),{shared:s,shareInfos:i}}function eq(e,t){let r=e=>{if(!Number.isNaN(Number(e))){let t=e.split("."),r=e;for(let e=0;e<3-t.length;e++)r+=".0";return r}return e};return!!eG(r(e),`<=${r(t)}`)}let eK=(e,t)=>{let r=t||function(e,t){return eq(e,t)};return Object.keys(e).reduce((e,t)=>!e||r(e,t)||"0"===e?t:e,0)},eV=e=>!!e.loaded||"function"==typeof e.lib,eW=e=>!!e.loading;function eY(e,t,r){let n=e[t][r],o=function(e,t){return!eV(n[e])&&eq(e,t)};return eK(e[t][r],o)}function eZ(e,t,r){let n=e[t][r],o=function(e,t){let r=e=>eV(e)||eW(e);if(r(n[t]))if(r(n[e]))return!!eq(e,t);else return!0;return!r(n[e])&&eq(e,t)};return eK(e[t][r],o)}function eJ(e){return"loaded-first"===e?eZ:eY}function eX(e,t,r,n){if(!e)return;let{shareConfig:o,scope:i=q,strategy:s}=r;for(let a of Array.isArray(i)?i:[i])if(o&&e[a]&&e[a][t]){let{requiredVersion:i}=o,l=eJ(s)(e,a,t),d=()=>{if(o.singleton){if("string"==typeof i&&!eG(l,i)){let n=`Version ${l} from ${l&&e[a][t][l].from} of shared singleton module ${t} does not satisfy the requirement of ${r.from} which needs ${i})`;o.strictVersion?c(n):u(n)}return e[a][t][l]}if(!1===i||"*"===i||eG(l,i))return e[a][t][l];for(let[r,n]of Object.entries(e[a][t]))if(eG(r,i))return n},f={shareScopeMap:e,scope:a,pkgName:t,version:l,GlobalFederation:T.__FEDERATION__,resolver:d};return(n.emit(f)||f).resolver()}}function eQ(){return T.__FEDERATION__.__SHARE__}function e0(e){var t;let{pkgName:r,extraOptions:n,shareInfos:o}=e,i=e=>{if(!e)return;let t={};e.forEach(e=>{t[e.version]=e});let r=function(e,r){return!eV(t[e])&&eq(e,r)},n=eK(t,r);return t[n]};return Object.assign({},(null!=(t=null==n?void 0:n.resolver)?t:i)(o[r]),null==n?void 0:n.customShareInfo)}function e1(){return"marketplace-api:0.0.1"}function e2(e,t){for(let r of e){let e=t.startsWith(r.name),n=t.replace(r.name,"");if(e){if(n.startsWith("/"))return{pkgNameOrAlias:r.name,expose:n=`.${n}`,remote:r};else if(""===n)return{pkgNameOrAlias:r.name,expose:".",remote:r}}let o=r.alias&&t.startsWith(r.alias),i=r.alias&&t.replace(r.alias,"");if(r.alias&&o){if(i&&i.startsWith("/"))return{pkgNameOrAlias:r.alias,expose:i=`.${i}`,remote:r};else if(""===i)return{pkgNameOrAlias:r.alias,expose:".",remote:r}}}}function e6(e,t){for(let r of e)if(t===r.name||r.alias&&t===r.alias)return r}function e8(e,t){let r=G(),n=[t.hooks,t.remoteHandler.hooks,t.sharedHandler.hooks,t.snapshotHandler.hooks,t.loaderHook,t.bridgeHook];return r.length>0&&r.forEach(t=>{(null==e?void 0:e.find(e=>e.name!==t.name))&&e.push(t)}),e&&e.length>0&&e.forEach(e=>{n.forEach(r=>{r.applyPlugin(e,t)})}),e}let e3=".then(callbacks[0]).catch(callbacks[1])";async function e4({entry:e,remoteEntryExports:t}){return new Promise((r,n)=>{try{t?r(t):"undefined"!=typeof FEDERATION_ALLOW_NEW_FUNCTION?Function("callbacks",`import("${e}")${e3}`)([r,n]):import(e).then(r).catch(n)}catch(e){n(e)}})}async function e5({entry:e,remoteEntryExports:t}){return new Promise((r,n)=>{try{t?r(t):Function("callbacks",`System.import("${e}")${e3}`)([r,n])}catch(e){n(e)}})}function e9(e,t,r){let{remoteEntryKey:n,entryExports:o}=$(e,t);return l(o,i.getShortErrorMsg(i.RUNTIME_001,i.runtimeDescMap,{remoteName:e,remoteEntryUrl:r,remoteEntryKey:n})),o}async function e7({name:e,globalName:t,entry:r,loaderHook:n,getEntryUrl:s}){let{entryExports:a}=$(e,t);if(a)return a;let c=s?s(r):r;return o.loadScript(c,{attrs:{},createScriptHook:(e,t)=>{let r=n.lifecycle.createScript.emit({url:e,attrs:t});if(r&&(r instanceof HTMLScriptElement||"script"in r||"timeout"in r))return r}}).then(()=>e9(e,t,r)).catch(t=>{throw l(void 0,i.getShortErrorMsg(i.RUNTIME_008,i.runtimeDescMap,{remoteName:e,resourceUrl:r})),t})}async function te({remoteInfo:e,remoteEntryExports:t,loaderHook:r,getEntryUrl:n}){let{entry:o,entryGlobalName:i,name:s,type:a}=e;switch(a){case"esm":case"module":return e4({entry:o,remoteEntryExports:t});case"system":return e5({entry:o,remoteEntryExports:t});default:return e7({entry:o,globalName:i,name:s,loaderHook:r,getEntryUrl:n})}}async function tt({remoteInfo:e,loaderHook:t}){let{entry:r,entryGlobalName:n,name:i,type:s}=e,{entryExports:a}=$(i,n);return a||o.loadScriptNode(r,{attrs:{name:i,globalName:n,type:s},loaderHook:{createScriptHook:(e,r={})=>{let n=t.lifecycle.createScript.emit({url:e,attrs:r});if(n&&"url"in n)return n}}}).then(()=>e9(i,n,r)).catch(e=>{throw e})}function tr(e){let{entry:t,name:r}=e;return o.composeKeyWithSeparator(r,t)}async function tn(e){let{origin:t,remoteEntryExports:r,remoteInfo:n,getEntryUrl:i}=e,s=tr(n);if(r)return r;if(!x[s]){let e=t.remoteHandler.hooks.lifecycle.loadEntry,a=t.loaderHook;x[s]=e.emit({loaderHook:a,remoteInfo:n,remoteEntryExports:r}).then(e=>e||(("undefined"!=typeof ENV_TARGET?"web"===ENV_TARGET:o.isBrowserEnv())?te({remoteInfo:n,remoteEntryExports:r,loaderHook:a,getEntryUrl:i}):tt({remoteInfo:n,loaderHook:a})))}return x[s]}function to(e){return n._extends({},e,{entry:"entry"in e?e.entry:"",type:e.type||K,entryGlobalName:e.entryGlobalName||e.name,shareScope:e.shareScope||q})}function ti(e){return n._extends({resourceCategory:"sync",share:!0,depsRemote:!0,prefetchInterface:!1},e)}function ts(e,t){return t.map(t=>{let r=e6(e,t.nameOrAlias);return l(r,`Unable to preload ${t.nameOrAlias} as it is not included in ${!r&&o.safeToString({remoteInfo:r,remotes:e})}`),{remote:r,preloadConfig:ti(t)}})}function ta(e){return e?e.map(e=>"."===e?e:e.startsWith("./")?e.replace("./",""):e):[]}function tl(e,t,r,n=!0){let{cssAssets:i,jsAssetsWithoutEntry:s,entryAssets:a}=r;if(t.options.inBrowser){if(a.forEach(r=>{let{moduleInfo:n}=r,o=t.moduleCache.get(e.name);o?tn({origin:t,remoteInfo:n,remoteEntryExports:o.remoteEntryExports}):tn({origin:t,remoteInfo:n,remoteEntryExports:void 0})}),n){let e={rel:"preload",as:"style"};i.forEach(r=>{let{link:n,needAttach:i}=o.createLink({url:r,cb:()=>{},attrs:e,createLinkHook:(e,r)=>{let n=t.loaderHook.lifecycle.createLink.emit({url:e,attrs:r});if(n instanceof HTMLLinkElement)return n}});i&&document.head.appendChild(n)})}else{let e={rel:"stylesheet",type:"text/css"};i.forEach(r=>{let{link:n,needAttach:i}=o.createLink({url:r,cb:()=>{},attrs:e,createLinkHook:(e,r)=>{let n=t.loaderHook.lifecycle.createLink.emit({url:e,attrs:r});if(n instanceof HTMLLinkElement)return n},needDeleteLink:!1});i&&document.head.appendChild(n)})}if(n){let e={rel:"preload",as:"script"};s.forEach(r=>{let{link:n,needAttach:i}=o.createLink({url:r,cb:()=>{},attrs:e,createLinkHook:(e,r)=>{let n=t.loaderHook.lifecycle.createLink.emit({url:e,attrs:r});if(n instanceof HTMLLinkElement)return n}});i&&document.head.appendChild(n)})}else{let r={fetchpriority:"high",type:(null==e?void 0:e.type)==="module"?"module":"text/javascript"};s.forEach(e=>{let{script:n,needAttach:i}=o.createScript({url:e,cb:()=>{},attrs:r,createScriptHook:(e,r)=>{let n=t.loaderHook.lifecycle.createScript.emit({url:e,attrs:r});if(n instanceof HTMLScriptElement)return n},needDeleteScript:!0});i&&document.head.appendChild(n)})}}}var tc={global:{Global:T,nativeGlobal:P,resetFederationGlobalInfo:R,setGlobalFederationInstance:N,getGlobalFederationConstructor:k,setGlobalFederationConstructor:C,getInfoWithoutType:D,getGlobalSnapshot:j,getTargetSnapshotInfoByModuleInfo:z,getGlobalSnapshotInfoByModuleInfo:U,setGlobalSnapshotInfoByModuleInfo:M,addGlobalSnapshot:F,getRemoteEntryExports:$,registerGlobalPlugins:B,getGlobalHostPlugins:G,getPreloaded:L,setPreloaded:H},share:{getRegisteredShare:eX,getGlobalShareScope:eQ},utils:{matchRemoteWithNameAndExpose:e2,preloadAssets:tl,getRemoteInfo:to}};let tu=class{async getEntry(){let e;if(this.remoteEntryExports)return this.remoteEntryExports;try{e=await tn({origin:this.host,remoteInfo:this.remoteInfo,remoteEntryExports:this.remoteEntryExports})}catch(r){let t=tr(this.remoteInfo);r instanceof Error&&r.message.includes(i.RUNTIME_008)&&(e=await this.host.loaderHook.lifecycle.loadEntryError.emit({getRemoteEntry:tn,origin:this.host,remoteInfo:this.remoteInfo,remoteEntryExports:this.remoteEntryExports,globalLoading:x,uniqueKey:t}))}return l(e,`remoteEntryExports is undefined 
 ${o.safeToString(this.remoteInfo)}`),this.remoteEntryExports=e,this.remoteEntryExports}async get(e,t,r,o){let s,{loadFactory:a=!0}=r||{loadFactory:!0},u=await this.getEntry();if(!this.inited){let t=this.host.shareScopeMap,r=Array.isArray(this.remoteInfo.shareScope)?this.remoteInfo.shareScope:[this.remoteInfo.shareScope];r.length||r.push("default"),r.forEach(e=>{t[e]||(t[e]={})});let s=t[r[0]],a=[],l={version:this.remoteInfo.version||"",shareScopeKeys:Array.isArray(this.remoteInfo.shareScope)?r:this.remoteInfo.shareScope||"default"};Object.defineProperty(l,"shareScopeMap",{value:t,enumerable:!1});let d=await this.host.hooks.lifecycle.beforeInitContainer.emit({shareScope:s,remoteEntryInitOptions:l,initScope:a,remoteInfo:this.remoteInfo,origin:this.host});void 0===(null==u?void 0:u.init)&&c(i.getShortErrorMsg(i.RUNTIME_002,i.runtimeDescMap,{hostName:this.host.name,remoteName:this.remoteInfo.name,remoteEntryUrl:this.remoteInfo.entry,remoteEntryKey:this.remoteInfo.entryGlobalName})),await u.init(d.shareScope,d.initScope,d.remoteEntryInitOptions),await this.host.hooks.lifecycle.initContainer.emit(n._extends({},d,{id:e,remoteSnapshot:o,remoteEntryExports:u}))}this.lib=u,this.inited=!0,(s=await this.host.loaderHook.lifecycle.getModuleFactory.emit({remoteEntryExports:u,expose:t,moduleInfo:this.remoteInfo}))||(s=await u.get(t)),l(s,`${f(this.remoteInfo)} remote don't export ${t}.`);let d=w(this.remoteInfo.name,t),h=this.wraperFactory(s,d);return a?await h():h}wraperFactory(e,t){function r(e,t){e&&"object"==typeof e&&Object.isExtensible(e)&&!Object.getOwnPropertyDescriptor(e,Symbol.for("mf_module_id"))&&Object.defineProperty(e,Symbol.for("mf_module_id"),{value:t,enumerable:!1})}return e instanceof Promise?async()=>{let n=await e();return r(n,t),n}:()=>{let n=e();return r(n,t),n}}constructor({remoteInfo:e,host:t}){this.inited=!1,this.lib=void 0,this.remoteInfo=e,this.host=t}};class td{on(e){"function"==typeof e&&this.listeners.add(e)}once(e){let t=this;this.on(function r(...n){return t.remove(r),e.apply(null,n)})}emit(...e){let t;return this.listeners.size>0&&this.listeners.forEach(r=>{t=r(...e)}),t}remove(e){this.listeners.delete(e)}removeAll(){this.listeners.clear()}constructor(e){this.type="",this.listeners=new Set,e&&(this.type=e)}}class tf extends td{emit(...e){let t,r=Array.from(this.listeners);if(r.length>0){let n=0,o=t=>!1!==t&&(n<r.length?Promise.resolve(r[n++].apply(null,e)).then(o):t);t=o()}return Promise.resolve(t)}}function th(e,t){if(!y(t))return!1;if(e!==t){for(let r in e)if(!(r in t))return!1}return!0}class tp extends td{emit(e){for(let t of(y(e)||c(`The data for the "${this.type}" hook should be an object.`),this.listeners))try{let r=t(e);if(th(e,r))e=r;else{this.onerror(`A plugin returned an unacceptable value for the "${this.type}" type.`);break}}catch(e){u(e),this.onerror(e)}return e}constructor(e){super(),this.onerror=c,this.type=e}}class tm extends td{emit(e){y(e)||c(`The response data for the "${this.type}" hook must be an object.`);let t=Array.from(this.listeners);if(t.length>0){let r=0,n=t=>(u(t),this.onerror(t),e),o=i=>{if(th(e,i)){if(e=i,r<t.length)try{return Promise.resolve(t[r++](e)).then(o,n)}catch(e){return n(e)}}else this.onerror(`A plugin returned an incorrect value for the "${this.type}" type.`);return e};return Promise.resolve(o(e))}return Promise.resolve(e)}constructor(e){super(),this.onerror=c,this.type=e}}class ty{applyPlugin(e,t){l(v(e),"Plugin configuration is invalid.");let r=e.name;l(r,"A name must be provided by the plugin."),this.registerPlugins[r]||(this.registerPlugins[r]=e,null==e.apply||e.apply.call(e,t),Object.keys(this.lifecycle).forEach(t=>{let r=e[t];r&&this.lifecycle[t].on(r)}))}removePlugin(e){l(e,"A name is required.");let t=this.registerPlugins[e];l(t,`The plugin "${e}" is not registered.`),Object.keys(t).forEach(e=>{"name"!==e&&this.lifecycle[e].remove(t[e])})}constructor(e){this.registerPlugins={},this.lifecycle=e,this.lifecycleKeys=Object.keys(e)}}function tg(e,t){let r=_(t);r.url||c(`The attribute remoteEntry of ${e.name} must not be undefined.`);let n=o.getResourceUrl(t,r.url);o.isBrowserEnv()||n.startsWith("http")||(n=`https:${n}`),e.type=r.type,e.entryGlobalName=r.globalName,e.entry=n,e.version=t.version,e.buildVersion=t.buildVersion}function tv(){return{name:"snapshot-plugin",async afterResolve(e){let{remote:t,pkgNameOrAlias:r,expose:o,origin:i,remoteInfo:s,id:a}=e;if(!h(t)||!p(t)){let{remoteSnapshot:l,globalSnapshot:c}=await i.snapshotHandler.loadRemoteSnapshotInfo({moduleInfo:t,id:a});tg(s,l);let u={remote:t,preloadConfig:{nameOrAlias:r,exposes:[o],resourceCategory:"sync",share:!1,depsRemote:!1}},d=await i.remoteHandler.hooks.lifecycle.generatePreloadAssets.emit({origin:i,preloadOptions:u,remoteInfo:s,remote:t,remoteSnapshot:l,globalSnapshot:c});return d&&tl(s,i,d,!1),n._extends({},e,{remoteSnapshot:l})}return e}}}function tb(e){let t=e.split(":");return 1===t.length?{name:t[0],version:void 0}:2===t.length?{name:t[0],version:t[1]}:{name:t[1],version:t[2]}}function tE(e,t,r,n,i={},s){let{value:a}=D(e,f(t)),l=s||a;if(l&&!o.isManifestProvider(l)&&(r(l,t,n),l.remotesInfo))for(let t of Object.keys(l.remotesInfo)){if(i[t])continue;i[t]=!0;let n=tb(t),o=l.remotesInfo[t];tE(e,{name:n.name,version:o.matchedVersion},r,!1,i,void 0)}}let t_=(e,t)=>document.querySelector(`${e}[${"link"===e?"href":"src"}="${t}"]`);function tw(e,t,r,n,i){let s=[],a=[],l=[],c=new Set,u=new Set,{options:d}=e,{preloadConfig:f}=t,{depsRemote:h}=f;if(tE(n,r,(t,r,n)=>{let i;if(n)i=f;else if(Array.isArray(h)){let e=h.find(e=>e.nameOrAlias===r.name||e.nameOrAlias===r.alias);if(!e)return;i=ti(e)}else{if(!0!==h)return;i=f}let c=o.getResourceUrl(t,_(t).url);c&&l.push({name:r.name,moduleInfo:{name:r.name,entry:c,type:"remoteEntryType"in t?t.remoteEntryType:"global",entryGlobalName:"globalName"in t?t.globalName:r.name,shareScope:"",version:"version"in t?t.version:void 0},url:c});let u="modules"in t?t.modules:[],d=ta(i.exposes);if(d.length&&"modules"in t){var p;u=null==t||null==(p=t.modules)?void 0:p.reduce((e,t)=>((null==d?void 0:d.indexOf(t.moduleName))!==-1&&e.push(t),e),[])}function m(e){let r=e.map(e=>o.getResourceUrl(t,e));return i.filter?r.filter(i.filter):r}if(u){let n=u.length;for(let o=0;o<n;o++){let n=u[o],l=`${r.name}/${n.moduleName}`;e.remoteHandler.hooks.lifecycle.handlePreloadModule.emit({id:"."===n.moduleName?r.name:l,name:r.name,remoteSnapshot:t,preloadConfig:i,remote:r,origin:e}),L(l)||("all"===i.resourceCategory?(s.push(...m(n.assets.css.async)),s.push(...m(n.assets.css.sync)),a.push(...m(n.assets.js.async))):(i.resourceCategory="sync",s.push(...m(n.assets.css.sync))),a.push(...m(n.assets.js.sync)),H(l))}}},!0,{},i),i.shared&&i.shared.length>0){let t=(t,r)=>{let n=eX(e.shareScopeMap,r.sharedName,t,e.sharedHandler.hooks.lifecycle.resolveShare);n&&"function"==typeof n.lib&&(r.assets.js.sync.forEach(e=>{c.add(e)}),r.assets.css.sync.forEach(e=>{u.add(e)}))};i.shared.forEach(e=>{var r;let n=null==(r=d.shared)?void 0:r[e.sharedName];if(!n)return;let o=e.version?n.find(t=>t.version===e.version):n;o&&E(o).forEach(r=>{t(r,e)})})}let p=a.filter(e=>!c.has(e)&&!t_("script",e));return{cssAssets:s.filter(e=>!u.has(e)&&!t_("link",e)),jsAssetsWithoutEntry:p,entryAssets:l.filter(e=>!t_("script",e.url))}}let tS=function(){return{name:"generate-preload-assets-plugin",async generatePreloadAssets(e){let{origin:t,preloadOptions:r,remoteInfo:n,remote:i,globalSnapshot:s,remoteSnapshot:a}=e;return o.isBrowserEnv()?h(i)&&p(i)?{cssAssets:[],jsAssetsWithoutEntry:[],entryAssets:[{name:i.name,url:i.entry,moduleInfo:{name:n.name,entry:i.entry,type:n.type||"global",entryGlobalName:"",shareScope:""}}]}:(tg(n,a),tw(t,r,n,s,a)):{cssAssets:[],jsAssetsWithoutEntry:[],entryAssets:[]}}}};function tP(e,t){let r=U({name:t.name,version:t.options.version}),n=r&&"remotesInfo"in r&&r.remotesInfo&&D(r.remotesInfo,e.name).value;return n&&n.matchedVersion?{hostGlobalSnapshot:r,globalSnapshot:j(),remoteSnapshot:U({name:e.name,version:n.matchedVersion})}:{hostGlobalSnapshot:void 0,globalSnapshot:j(),remoteSnapshot:U({name:e.name,version:"version"in e?e.version:void 0})}}class tT{async loadRemoteSnapshotInfo({moduleInfo:e,id:t,expose:r}){let s,a,{options:l}=this.HostInstance;await this.hooks.lifecycle.beforeLoadRemoteSnapshot.emit({options:l,moduleInfo:e});let u=U({name:this.HostInstance.options.name,version:this.HostInstance.options.version});u||(u={version:this.HostInstance.options.version||"",remoteEntry:"",remotesInfo:{}},F({[this.HostInstance.options.name]:u})),u&&"remotesInfo"in u&&!D(u.remotesInfo,e.name).value&&("version"in e||"entry"in e)&&(u.remotesInfo=n._extends({},null==u?void 0:u.remotesInfo,{[e.name]:{matchedVersion:"version"in e?e.version:e.entry}}));let{hostGlobalSnapshot:d,remoteSnapshot:f,globalSnapshot:p}=this.getGlobalRemoteInfo(e),{remoteSnapshot:m,globalSnapshot:y}=await this.hooks.lifecycle.loadSnapshot.emit({options:l,moduleInfo:e,hostGlobalSnapshot:d,remoteSnapshot:f,globalSnapshot:p});if(m)if(o.isManifestProvider(m)){let t=o.isBrowserEnv()?m.remoteEntry:m.ssrRemoteEntry||m.remoteEntry||"",r=await this.getManifestJson(t,e,{}),i=M(n._extends({},e,{entry:t}),r);s=r,a=i}else{let{remoteSnapshot:t}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:e,remoteSnapshot:m,from:"global"});s=t,a=y}else if(h(e)){let t=await this.getManifestJson(e.entry,e,{}),r=M(e,t),{remoteSnapshot:n}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:e,remoteSnapshot:t,from:"global"});s=n,a=r}else c(i.getShortErrorMsg(i.RUNTIME_007,i.runtimeDescMap,{hostName:e.name,hostVersion:e.version,globalSnapshot:JSON.stringify(y)}));return await this.hooks.lifecycle.afterLoadSnapshot.emit({id:t,host:this.HostInstance,options:l,moduleInfo:e,remoteSnapshot:s}),{remoteSnapshot:s,globalSnapshot:a}}getGlobalRemoteInfo(e){return tP(e,this.HostInstance)}async getManifestJson(e,t,r){let n=async()=>{let r=this.manifestCache.get(e);if(r)return r;try{let t=await this.loaderHook.lifecycle.fetch.emit(e,{});t&&t instanceof Response||(t=await fetch(e,{})),r=await t.json()}catch(n){(r=await this.HostInstance.remoteHandler.hooks.lifecycle.errorLoadRemote.emit({id:e,error:n,from:"runtime",lifecycle:"afterResolve",origin:this.HostInstance}))||(delete this.manifestLoading[e],c(i.getShortErrorMsg(i.RUNTIME_003,i.runtimeDescMap,{manifestUrl:e,moduleName:t.name,hostName:this.HostInstance.options.name},`${n}`)))}return l(r.metaData&&r.exposes&&r.shared,`${e} is not a federation manifest`),this.manifestCache.set(e,r),r},s=async()=>{let r=await n(),i=o.generateSnapshotFromManifest(r,{version:e}),{remoteSnapshot:s}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:t,manifestJson:r,remoteSnapshot:i,manifestUrl:e,from:"manifest"});return s};return this.manifestLoading[e]||(this.manifestLoading[e]=s().then(e=>e)),this.manifestLoading[e]}constructor(e){this.loadingHostSnapshot=null,this.manifestCache=new Map,this.hooks=new ty({beforeLoadRemoteSnapshot:new tf("beforeLoadRemoteSnapshot"),loadSnapshot:new tm("loadGlobalSnapshot"),loadRemoteSnapshot:new tm("loadRemoteSnapshot"),afterLoadSnapshot:new tm("afterLoadSnapshot")}),this.manifestLoading=T.__FEDERATION__.__MANIFEST_LOADING__,this.HostInstance=e,this.loaderHook=e.loaderHook}}class tO{registerShared(e,t){let{shareInfos:r,shared:n}=eH(e,t);return Object.keys(r).forEach(e=>{r[e].forEach(r=>{!eX(this.shareScopeMap,e,r,this.hooks.lifecycle.resolveShare)&&r&&r.lib&&this.setShared({pkgName:e,lib:r.lib,get:r.get,loaded:!0,shared:r,from:t.name})})}),{shareInfos:r,shared:n}}async loadShare(e,t){let{host:r}=this,n=e0({pkgName:e,extraOptions:t,shareInfos:r.options.shared});(null==n?void 0:n.scope)&&await Promise.all(n.scope.map(async e=>{await Promise.all(this.initializeSharing(e,{strategy:n.strategy}))}));let{shareInfo:o}=await this.hooks.lifecycle.beforeLoadShare.emit({pkgName:e,shareInfo:n,shared:r.options.shared,origin:r});l(o,`Cannot find ${e} Share in the ${r.options.name}. Please ensure that the ${e} Share parameters have been injected`);let i=eX(this.shareScopeMap,e,o,this.hooks.lifecycle.resolveShare),s=e=>{e.useIn||(e.useIn=[]),d(e.useIn,r.options.name)};if(i&&i.lib)return s(i),i.lib;if(i&&i.loading&&!i.loaded){let e=await i.loading;return i.loaded=!0,i.lib||(i.lib=e),s(i),e}if(i){let t=(async()=>{let e=await i.get();return s(i),i.loaded=!0,i.lib=e,e})();return this.setShared({pkgName:e,loaded:!1,shared:i,from:r.options.name,lib:null,loading:t}),t}{if(null==t?void 0:t.customShareInfo)return!1;let n=(async()=>{let t=await o.get();o.lib=t,o.loaded=!0,s(o);let r=eX(this.shareScopeMap,e,o,this.hooks.lifecycle.resolveShare);return r&&(r.lib=t,r.loaded=!0,r.from=o.from),t})();return this.setShared({pkgName:e,loaded:!1,shared:o,from:r.options.name,lib:null,loading:n}),n}}initializeSharing(e=q,t){let{host:r}=this,n=null==t?void 0:t.from,o=null==t?void 0:t.strategy,i=null==t?void 0:t.initScope,s=[];if("build"!==n){let{initTokens:t}=this;i||(i=[]);let r=t[e];if(r||(r=t[e]={from:this.host.name}),i.indexOf(r)>=0)return s;i.push(r)}let a=this.shareScopeMap,l=r.options.name;a[e]||(a[e]={});let c=a[e],u=(e,t)=>{var r;let{version:n,eager:o}=t;c[e]=c[e]||{};let i=c[e],s=i[n],a=!!(s&&(s.eager||(null==(r=s.shareConfig)?void 0:r.eager)));(!s||"loaded-first"!==s.strategy&&!s.loaded&&(!o!=!a?o:l>s.from))&&(i[n]=t)},d=t=>t&&t.init&&t.init(a[e],i),f=async e=>{let{module:t}=await r.remoteHandler.getRemoteModuleAndOptions({id:e});if(t.getEntry){let n;try{n=await t.getEntry()}catch(t){n=await r.remoteHandler.hooks.lifecycle.errorLoadRemote.emit({id:e,error:t,from:"runtime",lifecycle:"beforeLoadShare",origin:r})}t.inited||(await d(n),t.inited=!0)}};return Object.keys(r.options.shared).forEach(t=>{r.options.shared[t].forEach(r=>{r.scope.includes(e)&&u(t,r)})}),("version-first"===r.options.shareStrategy||"version-first"===o)&&r.options.remotes.forEach(t=>{t.shareScope===e&&s.push(f(t.name))}),s}loadShareSync(e,t){let{host:r}=this,n=e0({pkgName:e,extraOptions:t,shareInfos:r.options.shared});(null==n?void 0:n.scope)&&n.scope.forEach(e=>{this.initializeSharing(e,{strategy:n.strategy})});let o=eX(this.shareScopeMap,e,n,this.hooks.lifecycle.resolveShare),s=e=>{e.useIn||(e.useIn=[]),d(e.useIn,r.options.name)};if(o){if("function"==typeof o.lib)return s(o),o.loaded||(o.loaded=!0,o.from===r.options.name&&(n.loaded=!0)),o.lib;if("function"==typeof o.get){let t=o.get();if(!(t instanceof Promise))return s(o),this.setShared({pkgName:e,loaded:!0,from:r.options.name,lib:t,shared:o}),t}}if(n.lib)return n.loaded||(n.loaded=!0),n.lib;if(n.get){let o=n.get();if(o instanceof Promise){let n=(null==t?void 0:t.from)==="build"?i.RUNTIME_005:i.RUNTIME_006;throw Error(i.getShortErrorMsg(n,i.runtimeDescMap,{hostName:r.options.name,sharedPkgName:e}))}return n.lib=o,this.setShared({pkgName:e,loaded:!0,from:r.options.name,lib:n.lib,shared:n}),n.lib}throw Error(i.getShortErrorMsg(i.RUNTIME_006,i.runtimeDescMap,{hostName:r.options.name,sharedPkgName:e}))}initShareScopeMap(e,t,r={}){let{host:n}=this;this.shareScopeMap[e]=t,this.hooks.lifecycle.initContainerShareScopeMap.emit({shareScope:t,options:n.options,origin:n,scopeName:e,hostShareScopeMap:r.hostShareScopeMap})}setShared({pkgName:e,shared:t,from:r,lib:o,loading:i,loaded:s,get:a}){let{version:l,scope:c="default"}=t,u=n._object_without_properties_loose(t,["version","scope"]);(Array.isArray(c)?c:[c]).forEach(t=>{if(this.shareScopeMap[t]||(this.shareScopeMap[t]={}),this.shareScopeMap[t][e]||(this.shareScopeMap[t][e]={}),!this.shareScopeMap[t][e][l]){this.shareScopeMap[t][e][l]=n._extends({version:l,scope:["default"]},u,{lib:o,loaded:s,loading:i}),a&&(this.shareScopeMap[t][e][l].get=a);return}let c=this.shareScopeMap[t][e][l];i&&!c.loading&&(c.loading=i),s&&!c.loaded&&(c.loaded=s),r&&c.from!==r&&(c.from=r)})}_setGlobalShareScopeMap(e){let t=eQ(),r=e.id||e.name;r&&!t[r]&&(t[r]=this.shareScopeMap)}constructor(e){this.hooks=new ty({afterResolve:new tm("afterResolve"),beforeLoadShare:new tm("beforeLoadShare"),loadShare:new tf,resolveShare:new tp("resolveShare"),initContainerShareScopeMap:new tp("initContainerShareScopeMap")}),this.host=e,this.shareScopeMap={},this.initTokens={},this._setGlobalShareScopeMap(e.options)}}class tI{formatAndRegisterRemote(e,t){return(t.remotes||[]).reduce((e,t)=>(this.registerRemote(t,e,{force:!1}),e),e.remotes)}setIdToRemoteMap(e,t){let{remote:r,expose:n}=t,{name:o,alias:i}=r;if(this.idToRemoteMap[e]={name:r.name,expose:n},i&&e.startsWith(o)){let t=e.replace(o,i);this.idToRemoteMap[t]={name:r.name,expose:n};return}if(i&&e.startsWith(i)){let t=e.replace(i,o);this.idToRemoteMap[t]={name:r.name,expose:n}}}async loadRemote(e,t){let{host:r}=this;try{let{loadFactory:n=!0}=t||{loadFactory:!0},{module:o,moduleOptions:i,remoteMatchInfo:s}=await this.getRemoteModuleAndOptions({id:e}),{pkgNameOrAlias:a,remote:l,expose:c,id:u,remoteSnapshot:d}=s,f=await o.get(u,c,t,d),h=await this.hooks.lifecycle.onLoad.emit({id:u,pkgNameOrAlias:a,expose:c,exposeModule:n?f:void 0,exposeModuleFactory:n?void 0:f,remote:l,options:i,moduleInstance:o,origin:r});if(this.setIdToRemoteMap(e,s),"function"==typeof h)return h;return f}catch(i){let{from:n="runtime"}=t||{from:"runtime"},o=await this.hooks.lifecycle.errorLoadRemote.emit({id:e,error:i,from:n,lifecycle:"onLoad",origin:r});if(!o)throw i;return o}}async preloadRemote(e){let{host:t}=this;await this.hooks.lifecycle.beforePreloadRemote.emit({preloadOps:e,options:t.options,origin:t});let r=ts(t.options.remotes,e);await Promise.all(r.map(async e=>{let{remote:r}=e,n=to(r),{globalSnapshot:o,remoteSnapshot:i}=await t.snapshotHandler.loadRemoteSnapshotInfo({moduleInfo:r}),s=await this.hooks.lifecycle.generatePreloadAssets.emit({origin:t,preloadOptions:e,remote:r,remoteInfo:n,globalSnapshot:o,remoteSnapshot:i});s&&tl(n,t,s)}))}registerRemotes(e,t){let{host:r}=this;e.forEach(e=>{this.registerRemote(e,r.options.remotes,{force:null==t?void 0:t.force})})}async getRemoteModuleAndOptions(e){let t,{host:r}=this,{id:o}=e;try{t=await this.hooks.lifecycle.beforeRequest.emit({id:o,options:r.options,origin:r})}catch(e){if(!(t=await this.hooks.lifecycle.errorLoadRemote.emit({id:o,options:r.options,origin:r,from:"runtime",error:e,lifecycle:"beforeRequest"})))throw e}let{id:s}=t,a=e2(r.options.remotes,s);l(a,i.getShortErrorMsg(i.RUNTIME_004,i.runtimeDescMap,{hostName:r.options.name,requestId:s}));let{remote:c}=a,u=to(c),d=await r.sharedHandler.hooks.lifecycle.afterResolve.emit(n._extends({id:s},a,{options:r.options,origin:r,remoteInfo:u})),{remote:f,expose:h}=d;l(f&&h,`The 'beforeRequest' hook was executed, but it failed to return the correct 'remote' and 'expose' values while loading ${s}.`);let p=r.moduleCache.get(f.name),m={host:r,remoteInfo:u};return p||(p=new tu(m),r.moduleCache.set(f.name,p)),{module:p,moduleOptions:m,remoteMatchInfo:d}}registerRemote(e,t,r){let{host:n}=this,i=()=>{if(e.alias){let r=t.find(t=>{var r;return e.alias&&(t.name.startsWith(e.alias)||(null==(r=t.alias)?void 0:r.startsWith(e.alias)))});l(!r,`The alias ${e.alias} of remote ${e.name} is not allowed to be the prefix of ${r&&r.name} name or alias`)}"entry"in e&&o.isBrowserEnv()&&!e.entry.startsWith("http")&&(e.entry=new URL(e.entry,window.location.origin).href),e.shareScope||(e.shareScope=q),e.type||(e.type=K)};this.hooks.lifecycle.beforeRegisterRemote.emit({remote:e,origin:n});let s=t.find(t=>t.name===e.name);if(s){let a=[`The remote "${e.name}" is already registered.`,"Please note that overriding it may cause unexpected errors."];(null==r?void 0:r.force)&&(this.removeRemote(s),i(),t.push(e),this.hooks.lifecycle.registerRemote.emit({remote:e,origin:n}),o.warn(a.join(" ")))}else i(),t.push(e),this.hooks.lifecycle.registerRemote.emit({remote:e,origin:n})}removeRemote(e){try{let{host:r}=this,{name:n}=e,i=r.options.remotes.findIndex(e=>e.name===n);-1!==i&&r.options.remotes.splice(i,1);let s=r.moduleCache.get(e.name);if(s){let n=s.remoteInfo,i=n.entryGlobalName;if(S[i]){var t;(null==(t=Object.getOwnPropertyDescriptor(S,i))?void 0:t.configurable)?delete S[i]:S[i]=void 0}let a=tr(s.remoteInfo);x[a]&&delete x[a],r.snapshotHandler.manifestCache.delete(n.entry);let l=n.buildVersion?o.composeKeyWithSeparator(n.name,n.buildVersion):n.name,c=S.__FEDERATION__.__INSTANCES__.findIndex(e=>n.buildVersion?e.options.id===l:e.name===l);if(-1!==c){let e=S.__FEDERATION__.__INSTANCES__[c];l=e.options.id||l;let t=eQ(),r=!0,o=[];Object.keys(t).forEach(e=>{let i=t[e];i&&Object.keys(i).forEach(t=>{let s=i[t];s&&Object.keys(s).forEach(i=>{let a=s[i];a&&Object.keys(a).forEach(s=>{let l=a[s];l&&"object"==typeof l&&l.from===n.name&&(l.loaded||l.loading?(l.useIn=l.useIn.filter(e=>e!==n.name),l.useIn.length?r=!1:o.push([e,t,i,s])):o.push([e,t,i,s]))})})})}),r&&(e.shareScopeMap={},delete t[l]),o.forEach(([e,r,n,o])=>{var i,s,a;null==(a=t[e])||null==(s=a[r])||null==(i=s[n])||delete i[o]}),S.__FEDERATION__.__INSTANCES__.splice(c,1)}let{hostGlobalSnapshot:u}=tP(e,r);if(u){let t=u&&"remotesInfo"in u&&u.remotesInfo&&D(u.remotesInfo,e.name).key;t&&(delete u.remotesInfo[t],T.__FEDERATION__.__MANIFEST_LOADING__[t]&&delete T.__FEDERATION__.__MANIFEST_LOADING__[t])}r.moduleCache.delete(e.name)}}catch(e){a.log("removeRemote fail: ",e)}}constructor(e){this.hooks=new ty({beforeRegisterRemote:new tp("beforeRegisterRemote"),registerRemote:new tp("registerRemote"),beforeRequest:new tm("beforeRequest"),onLoad:new tf("onLoad"),handlePreloadModule:new td("handlePreloadModule"),errorLoadRemote:new tf("errorLoadRemote"),beforePreloadRemote:new tf("beforePreloadRemote"),generatePreloadAssets:new tf("generatePreloadAssets"),afterPreloadRemote:new tf,loadEntry:new tf}),this.host=e,this.idToRemoteMap={}}}let tx=!0;class tA{initOptions(e){this.registerPlugins(e.plugins);let t=this.formatOptions(this.options,e);return this.options=t,t}async loadShare(e,t){return this.sharedHandler.loadShare(e,t)}loadShareSync(e,t){return this.sharedHandler.loadShareSync(e,t)}initializeSharing(e=q,t){return this.sharedHandler.initializeSharing(e,t)}initRawContainer(e,t,r){let n=new tu({host:this,remoteInfo:to({name:e,entry:t})});return n.remoteEntryExports=r,this.moduleCache.set(e,n),n}async loadRemote(e,t){return this.remoteHandler.loadRemote(e,t)}async preloadRemote(e){return this.remoteHandler.preloadRemote(e)}initShareScopeMap(e,t,r={}){this.sharedHandler.initShareScopeMap(e,t,r)}formatOptions(e,t){let{shared:r}=eH(e,t),{userOptions:o,options:i}=this.hooks.lifecycle.beforeInit.emit({origin:this,userOptions:t,options:e,shareInfo:r}),s=this.remoteHandler.formatAndRegisterRemote(i,o),{shared:a}=this.sharedHandler.registerShared(i,o),l=[...i.plugins];o.plugins&&o.plugins.forEach(e=>{l.includes(e)||l.push(e)});let c=n._extends({},e,t,{plugins:l,remotes:s,shared:a});return this.hooks.lifecycle.init.emit({origin:this,options:c}),c}registerPlugins(e){let t=e8(e,this);this.options.plugins=this.options.plugins.reduce((e,t)=>(t&&e&&!e.find(e=>e.name===t.name)&&e.push(t),e),t||[])}registerRemotes(e,t){return this.remoteHandler.registerRemotes(e,t)}registerShared(e){this.sharedHandler.registerShared(this.options,n._extends({},this.options,{shared:e}))}constructor(e){this.hooks=new ty({beforeInit:new tp("beforeInit"),init:new td,beforeInitContainer:new tm("beforeInitContainer"),initContainer:new tm("initContainer")}),this.version="0.19.1",this.moduleCache=new Map,this.loaderHook=new ty({getModuleInfo:new td,createScript:new td,createLink:new td,fetch:new tf,loadEntryError:new tf,getModuleFactory:new tf}),this.bridgeHook=new ty({beforeBridgeRender:new td,afterBridgeRender:new td,beforeBridgeDestroy:new td,afterBridgeDestroy:new td});const t=tx?[tv(),tS()]:[],r={id:e1(),name:e.name,plugins:t,remotes:[],shared:{},inBrowser:o.isBrowserEnv()};this.name=e.name,this.options=r,this.snapshotHandler=new tT(this),this.sharedHandler=new tO(this),this.remoteHandler=new tI(this),this.shareScopeMap=this.sharedHandler.shareScopeMap,this.registerPlugins([...r.plugins,...e.plugins||[]]),this.options=this.formatOptions(r,e)}}var tR=Object.freeze({__proto__:null});t.loadScript=o.loadScript,t.loadScriptNode=o.loadScriptNode,t.CurrentGlobal=S,t.Global=T,t.Module=tu,t.ModuleFederation=tA,t.addGlobalSnapshot=F,t.assert=l,t.getGlobalFederationConstructor=k,t.getGlobalSnapshot=j,t.getInfoWithoutType=D,t.getRegisteredShare=eX,t.getRemoteEntry=tn,t.getRemoteInfo=to,t.helpers=tc,t.isStaticResourcesEqual=b,t.matchRemoteWithNameAndExpose=e2,t.registerGlobalPlugins=B,t.resetFederationGlobalInfo=R,t.safeWrapper=m,t.satisfy=eG,t.setGlobalFederationConstructor=C,t.setGlobalFederationInstance=N,t.types=tR},1992(e,t){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function n(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}t._extends=r,t._object_without_properties_loose=n},8404(e,t,r){"use strict";var n=r(380),o=r(2124),i=r(7639);function s(e){let t=new(n.getGlobalFederationConstructor()||n.ModuleFederation)(e);return n.setGlobalFederationInstance(t),t}let a=null;function l(e){let t=i.getGlobalFederationInstance(e.name,e.version);return t?(t.initOptions(e),a||(a=t),t):a=s(e)}function c(...e){return n.assert(a,o.getShortErrorMsg(o.RUNTIME_009,o.runtimeDescMap)),a.loadRemote.apply(a,e)}function u(...e){return n.assert(a,o.getShortErrorMsg(o.RUNTIME_009,o.runtimeDescMap)),a.loadShare.apply(a,e)}function d(...e){return n.assert(a,o.getShortErrorMsg(o.RUNTIME_009,o.runtimeDescMap)),a.loadShareSync.apply(a,e)}function f(...e){return n.assert(a,o.getShortErrorMsg(o.RUNTIME_009,o.runtimeDescMap)),a.preloadRemote.apply(a,e)}function h(...e){return n.assert(a,o.getShortErrorMsg(o.RUNTIME_009,o.runtimeDescMap)),a.registerRemotes.apply(a,e)}function p(...e){return n.assert(a,o.getShortErrorMsg(o.RUNTIME_009,o.runtimeDescMap)),a.registerPlugins.apply(a,e)}function m(){return a}function y(...e){return n.assert(a,o.getShortErrorMsg(o.RUNTIME_009,o.runtimeDescMap)),a.registerShared.apply(a,e)}n.setGlobalFederationConstructor(n.ModuleFederation),t.Module=n.Module,t.ModuleFederation=n.ModuleFederation,t.getRemoteEntry=n.getRemoteEntry,t.getRemoteInfo=n.getRemoteInfo,t.loadScript=n.loadScript,t.loadScriptNode=n.loadScriptNode,t.registerGlobalPlugins=n.registerGlobalPlugins,t.createInstance=s,t.getInstance=m,t.init=l,t.loadRemote=c,t.loadShare=u,t.loadShareSync=d,t.preloadRemote=f,t.registerPlugins=p,t.registerRemotes=h,t.registerShared=y},7639(e,t,r){"use strict";var n=r(380);function o(){return"marketplace-api:0.0.1"}t.getGlobalFederationInstance=function(e,t){let r=o();return n.CurrentGlobal.__FEDERATION__.__INSTANCES__.find(n=>!!r&&n.options.id===r||n.options.name===e&&!n.options.version&&!t||n.options.name===e&&!!t&&n.options.version===t)}},4452(__unused_webpack_module,exports,__webpack_require__){"use strict";var polyfills=__webpack_require__(2256);let FederationModuleManifest="federation-manifest.json",MANIFEST_EXT=".json",BROWSER_LOG_KEY="FEDERATION_DEBUG",NameTransformSymbol={AT:"@",HYPHEN:"-",SLASH:"/"},NameTransformMap={[NameTransformSymbol.AT]:"scope_",[NameTransformSymbol.HYPHEN]:"_",[NameTransformSymbol.SLASH]:"__"},EncodedNameTransformMap={[NameTransformMap[NameTransformSymbol.AT]]:NameTransformSymbol.AT,[NameTransformMap[NameTransformSymbol.HYPHEN]]:NameTransformSymbol.HYPHEN,[NameTransformMap[NameTransformSymbol.SLASH]]:NameTransformSymbol.SLASH},SEPARATOR=":",ManifestFileName="mf-manifest.json",StatsFileName="mf-stats.json",MFModuleType={NPM:"npm",APP:"app"},MODULE_DEVTOOL_IDENTIFIER="__MF_DEVTOOLS_MODULE_INFO__",ENCODE_NAME_PREFIX="ENCODE_NAME_PREFIX",TEMP_DIR=".federation",MFPrefetchCommon={identifier:"MFDataPrefetch",globalKey:"__PREFETCH__",library:"mf-data-prefetch",exportsKey:"__PREFETCH_EXPORTS__",fileName:"bootstrap.js"};var ContainerPlugin=Object.freeze({__proto__:null}),ContainerReferencePlugin=Object.freeze({__proto__:null}),ModuleFederationPlugin=Object.freeze({__proto__:null}),SharePlugin=Object.freeze({__proto__:null});function isBrowserEnv(){return"undefined"!=typeof window&&void 0!==window.document}function isReactNativeEnv(){var e;return"undefined"!=typeof navigator&&(null==(e=navigator)?void 0:e.product)==="ReactNative"}function isBrowserDebug(){try{if(isBrowserEnv()&&window.localStorage)return!!localStorage.getItem(BROWSER_LOG_KEY)}catch(e){}return!1}function isDebugMode(){return"undefined"!=typeof process&&process.env&&process.env.FEDERATION_DEBUG?!!process.env.FEDERATION_DEBUG:!!("undefined"!=typeof FEDERATION_DEBUG&&FEDERATION_DEBUG)||isBrowserDebug()}let getProcessEnv=function(){return"undefined"!=typeof process&&process.env?process.env:{}},LOG_CATEGORY="[ Federation Runtime ]",parseEntry=(e,t,r=SEPARATOR)=>{let n=e.split(r),o="development"===getProcessEnv().NODE_ENV&&t,i="*",s=e=>e.startsWith("http")||e.includes(MANIFEST_EXT);if(n.length>=2){let[t,...a]=n;e.startsWith(r)&&(t=n.slice(0,2).join(r),a=[o||n.slice(2).join(r)]);let l=o||a.join(r);return s(l)?{name:t,entry:l}:{name:t,version:l||i}}if(1===n.length){let[e]=n;return o&&s(o)?{name:e,entry:o}:{name:e,version:o||i}}throw`Invalid entry value: ${e}`},composeKeyWithSeparator=function(...e){return e.length?e.reduce((e,t)=>t?e?`${e}${SEPARATOR}${t}`:t:e,""):""},encodeName=function(e,t="",r=!1){try{let n=r?".js":"";return`${t}${e.replace(RegExp(`${NameTransformSymbol.AT}`,"g"),NameTransformMap[NameTransformSymbol.AT]).replace(RegExp(`${NameTransformSymbol.HYPHEN}`,"g"),NameTransformMap[NameTransformSymbol.HYPHEN]).replace(RegExp(`${NameTransformSymbol.SLASH}`,"g"),NameTransformMap[NameTransformSymbol.SLASH])}${n}`}catch(e){throw e}},decodeName=function(e,t,r){try{let n=e;if(t){if(!n.startsWith(t))return n;n=n.replace(RegExp(t,"g"),"")}return n=n.replace(RegExp(`${NameTransformMap[NameTransformSymbol.AT]}`,"g"),EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.AT]]).replace(RegExp(`${NameTransformMap[NameTransformSymbol.SLASH]}`,"g"),EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.SLASH]]).replace(RegExp(`${NameTransformMap[NameTransformSymbol.HYPHEN]}`,"g"),EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.HYPHEN]]),r&&(n=n.replace(".js","")),n}catch(e){throw e}},generateExposeFilename=(e,t)=>{if(!e)return"";let r=e;return"."===r&&(r="default_export"),r.startsWith("./")&&(r=r.replace("./","")),encodeName(r,"__federation_expose_",t)},generateShareFilename=(e,t)=>e?encodeName(e,"__federation_shared_",t):"",getResourceUrl=(e,t)=>{if("getPublicPath"in e){let r;return r=e.getPublicPath.startsWith("function")?Function("return "+e.getPublicPath)()():Function(e.getPublicPath)(),`${r}${t}`}return"publicPath"in e?!isBrowserEnv()&&!isReactNativeEnv()&&"ssrPublicPath"in e?`${e.ssrPublicPath}${t}`:`${e.publicPath}${t}`:(console.warn("Cannot get resource URL. If in debug mode, please ignore.",e,t),"")},assert=(e,t)=>{e||error(t)},error=e=>{throw Error(`${LOG_CATEGORY}: ${e}`)},warn=e=>{console.warn(`${LOG_CATEGORY}: ${e}`)};function safeToString(e){try{return JSON.stringify(e,null,2)}catch(e){return""}}let VERSION_PATTERN_REGEXP=/^([\d^=v<>~]|[*xX]$)/;function isRequiredVersion(e){return VERSION_PATTERN_REGEXP.test(e)}let simpleJoinRemoteEntry=(e,t)=>{if(!e)return t;let r=(e=>{if("."===e)return"";if(e.startsWith("./"))return e.replace("./","");if(e.startsWith("/")){let t=e.slice(1);return t.endsWith("/")?t.slice(0,-1):t}return e})(e);return r?r.endsWith("/")?`${r}${t}`:`${r}/${t}`:t};function inferAutoPublicPath(e){return e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/")}function generateSnapshotFromManifest(e,t={}){var r,n,o;let i,{remotes:s={},overrides:a={},version:l}=t,c=()=>"publicPath"in e.metaData?"auto"===e.metaData.publicPath&&l?inferAutoPublicPath(l):e.metaData.publicPath:e.metaData.getPublicPath,u=Object.keys(a),d={};Object.keys(s).length||(d=(null==(o=e.remotes)?void 0:o.reduce((e,t)=>{let r,n=t.federationContainerName;return r=u.includes(n)?a[n]:"version"in t?t.version:t.entry,e[n]={matchedVersion:r},e},{}))||{}),Object.keys(s).forEach(e=>d[e]={matchedVersion:u.includes(e)?a[e]:s[e]});let{remoteEntry:{path:f,name:h,type:p},types:m,buildInfo:{buildVersion:y},globalName:g,ssrRemoteEntry:v}=e.metaData,{exposes:b}=e,E={version:l||"",buildVersion:y,globalName:g,remoteEntry:simpleJoinRemoteEntry(f,h),remoteEntryType:p,remoteTypes:simpleJoinRemoteEntry(m.path,m.name),remoteTypesZip:m.zip||"",remoteTypesAPI:m.api||"",remotesInfo:d,shared:null==e?void 0:e.shared.map(e=>({assets:e.assets,sharedName:e.name,version:e.version})),modules:null==b?void 0:b.map(e=>({moduleName:e.name,modulePath:e.path,assets:e.assets}))};if(null==(r=e.metaData)?void 0:r.prefetchInterface){let t=e.metaData.prefetchInterface;E=polyfills._({},E,{prefetchInterface:t})}if(null==(n=e.metaData)?void 0:n.prefetchEntry){let{path:t,name:r,type:n}=e.metaData.prefetchEntry;E=polyfills._({},E,{prefetchEntry:simpleJoinRemoteEntry(t,r),prefetchEntryType:n})}return i="publicPath"in e.metaData?polyfills._({},E,{publicPath:c(),ssrPublicPath:e.metaData.ssrPublicPath}):polyfills._({},E,{getPublicPath:c()}),v&&(i.ssrRemoteEntry=simpleJoinRemoteEntry(v.path,v.name),i.ssrRemoteEntryType=v.type||"commonjs-module"),i}function isManifestProvider(e){return!!("remoteEntry"in e&&e.remoteEntry.includes(MANIFEST_EXT))}let PREFIX="[ Module Federation ]",Logger=class{setPrefix(e){this.prefix=e}log(...e){console.log(this.prefix,...e)}warn(...e){console.log(this.prefix,...e)}error(...e){console.log(this.prefix,...e)}success(...e){console.log(this.prefix,...e)}info(...e){console.log(this.prefix,...e)}ready(...e){console.log(this.prefix,...e)}debug(...e){isDebugMode()&&console.log(this.prefix,...e)}constructor(e){this.prefix=e}};function createLogger(e){return new Logger(e)}let logger=createLogger(PREFIX);async function safeWrapper(e,t){try{return await e()}catch(e){t||warn(e);return}}function isStaticResourcesEqual(e,t){let r=/^(https?:)?\/\//i;return e.replace(r,"").replace(/\/$/,"")===t.replace(r,"").replace(/\/$/,"")}function createScript(e){let t,r=null,n=!0,o=2e4,i=document.getElementsByTagName("script");for(let t=0;t<i.length;t++){let o=i[t],s=o.getAttribute("src");if(s&&isStaticResourcesEqual(s,e.url)){r=o,n=!1;break}}if(!r){let t,n=e.attrs;(r=document.createElement("script")).type=(null==n?void 0:n.type)==="module"?"module":"text/javascript",e.createScriptHook&&((t=e.createScriptHook(e.url,e.attrs))instanceof HTMLScriptElement?r=t:"object"==typeof t&&("script"in t&&t.script&&(r=t.script),"timeout"in t&&t.timeout&&(o=t.timeout))),r.src||(r.src=e.url),n&&!t&&Object.keys(n).forEach(e=>{r&&("async"===e||"defer"===e?r[e]=n[e]:r.getAttribute(e)||r.setAttribute(e,n[e]))})}let s=async(n,o)=>{clearTimeout(t);let i=()=>{(null==o?void 0:o.type)==="error"?(null==e?void 0:e.onErrorCallback)&&(null==e||e.onErrorCallback(o)):(null==e?void 0:e.cb)&&(null==e||e.cb())};if(r&&(r.onerror=null,r.onload=null,safeWrapper(()=>{let{needDeleteScript:t=!0}=e;t&&(null==r?void 0:r.parentNode)&&r.parentNode.removeChild(r)}),n&&"function"==typeof n)){let e=n(o);if(e instanceof Promise){let t=await e;return i(),t}return i(),e}i()};return r.onerror=s.bind(null,r.onerror),r.onload=s.bind(null,r.onload),t=setTimeout(()=>{s(null,Error(`Remote script "${e.url}" time-outed.`))},o),{script:r,needAttach:n}}function createLink(e){let t=null,r=!0,n=document.getElementsByTagName("link");for(let o=0;o<n.length;o++){let i=n[o],s=i.getAttribute("href"),a=i.getAttribute("rel");if(s&&isStaticResourcesEqual(s,e.url)&&a===e.attrs.rel){t=i,r=!1;break}}if(!t){let r;(t=document.createElement("link")).setAttribute("href",e.url);let n=e.attrs;e.createLinkHook&&(r=e.createLinkHook(e.url,n))instanceof HTMLLinkElement&&(t=r),n&&!r&&Object.keys(n).forEach(e=>{t&&!t.getAttribute(e)&&t.setAttribute(e,n[e])})}let o=(r,n)=>{let o=()=>{(null==n?void 0:n.type)==="error"?(null==e?void 0:e.onErrorCallback)&&(null==e||e.onErrorCallback(n)):(null==e?void 0:e.cb)&&(null==e||e.cb())};if(t&&(t.onerror=null,t.onload=null,safeWrapper(()=>{let{needDeleteLink:r=!0}=e;r&&(null==t?void 0:t.parentNode)&&t.parentNode.removeChild(t)}),r)){let e=r(n);return o(),e}o()};return t.onerror=o.bind(null,t.onerror),t.onload=o.bind(null,t.onload),{link:t,needAttach:r}}function loadScript(e,t){let{attrs:r={},createScriptHook:n}=t;return new Promise((t,o)=>{let{script:i,needAttach:s}=createScript({url:e,cb:t,onErrorCallback:o,attrs:polyfills._({fetchpriority:"high"},r),createScriptHook:n,needDeleteScript:!0});s&&document.head.appendChild(i)})}let sdkImportCache=new Map;function importNodeModule(e){if(!e)throw Error("import specifier is required");if(sdkImportCache.has(e))return sdkImportCache.get(e);let t=Function("name","return import(name)")(e).then(e=>e).catch(t=>{throw console.error(`Error importing module ${e}:`,t),sdkImportCache.delete(e),t});return sdkImportCache.set(e,t),t}let loadNodeFetch=async()=>{let e=await importNodeModule("node-fetch");return e.default||e},lazyLoaderHookFetch=async(e,t,r)=>{let n=(e,t)=>r.lifecycle.fetch.emit(e,t),o=await n(e,t||{});return o&&o instanceof Response?o:("undefined"==typeof fetch?await loadNodeFetch():fetch)(e,t||{})},createScriptNode="undefined"==typeof ENV_TARGET||"web"!==ENV_TARGET?(url,cb,attrs,loaderHook)=>{let urlObj;if(null==loaderHook?void 0:loaderHook.createScriptHook){let hookResult=loaderHook.createScriptHook(url);hookResult&&"object"==typeof hookResult&&"url"in hookResult&&(url=hookResult.url)}try{urlObj=new URL(url)}catch(e){console.error("Error constructing URL:",e),cb(Error(`Invalid URL: ${e}`));return}let getFetch=async()=>(null==loaderHook?void 0:loaderHook.fetch)?(e,t)=>lazyLoaderHookFetch(e,t,loaderHook):"undefined"==typeof fetch?loadNodeFetch():fetch,handleScriptFetch=async(f,urlObj)=>{try{var _vm_constants,_vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER;let res=await f(urlObj.href),data=await res.text(),[path,vm]=await Promise.all([importNodeModule("path"),importNodeModule("vm")]),scriptContext={exports:{},module:{exports:{}}},urlDirname=urlObj.pathname.split("/").slice(0,-1).join("/"),filename=path.basename(urlObj.pathname),script=new vm.Script(`(function(exports, module, require, __dirname, __filename) {${data}
})`,{filename,importModuleDynamically:null!=(_vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER=null==(_vm_constants=vm.constants)?void 0:_vm_constants.USE_MAIN_CONTEXT_DEFAULT_LOADER)?_vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER:importNodeModule});script.runInThisContext()(scriptContext.exports,scriptContext.module,eval("require"),urlDirname,filename);let exportedInterface=scriptContext.module.exports||scriptContext.exports;if(attrs&&exportedInterface&&attrs.globalName){let container=exportedInterface[attrs.globalName]||exportedInterface;cb(void 0,container);return}cb(void 0,exportedInterface)}catch(e){cb(e instanceof Error?e:Error(`Script execution error: ${e}`))}};getFetch().then(async e=>{if((null==attrs?void 0:attrs.type)==="esm"||(null==attrs?void 0:attrs.type)==="module")return loadModule(urlObj.href,{fetch:e,vm:await importNodeModule("vm")}).then(async e=>{await e.evaluate(),cb(void 0,e.namespace)}).catch(e=>{cb(e instanceof Error?e:Error(`Script execution error: ${e}`))});handleScriptFetch(e,urlObj)}).catch(e=>{cb(e)})}:(e,t,r,n)=>{t(Error("createScriptNode is disabled in non-Node.js environment"))},loadScriptNode="undefined"==typeof ENV_TARGET||"web"!==ENV_TARGET?(e,t)=>new Promise((r,n)=>{createScriptNode(e,(e,o)=>{if(e)n(e);else{var i,s;let e=(null==t||null==(i=t.attrs)?void 0:i.globalName)||`__FEDERATION_${null==t||null==(s=t.attrs)?void 0:s.name}:custom__`;r(globalThis[e]=o)}},t.attrs,t.loaderHook)}):(e,t)=>{throw Error("loadScriptNode is disabled in non-Node.js environment")},esmModuleCache=new Map;async function loadModule(e,t){if(esmModuleCache.has(e))return esmModuleCache.get(e);let{fetch:r,vm:n}=t,o=await r(e),i=await o.text(),s=new n.SourceTextModule(i,{importModuleDynamically:async(r,n)=>loadModule(new URL(r,e).href,t)});return esmModuleCache.set(e,s),await s.link(async r=>{let n=new URL(r,e).href;return await loadModule(n,t)}),s}function normalizeOptions(e,t,r){return function(n){if(!1===n)return!1;if(void 0===n)if(e)return t;else return!1;if(!0===n)return t;if(n&&"object"==typeof n)return polyfills._({},t,n);throw Error(`Unexpected type for \`${r}\`, expect boolean/undefined/object, got: ${typeof n}`)}}let createModuleFederationConfig=e=>e;exports.BROWSER_LOG_KEY=BROWSER_LOG_KEY,exports.ENCODE_NAME_PREFIX=ENCODE_NAME_PREFIX,exports.EncodedNameTransformMap=EncodedNameTransformMap,exports.FederationModuleManifest=FederationModuleManifest,exports.MANIFEST_EXT=MANIFEST_EXT,exports.MFModuleType=MFModuleType,exports.MFPrefetchCommon=MFPrefetchCommon,exports.MODULE_DEVTOOL_IDENTIFIER=MODULE_DEVTOOL_IDENTIFIER,exports.ManifestFileName=ManifestFileName,exports.NameTransformMap=NameTransformMap,exports.NameTransformSymbol=NameTransformSymbol,exports.SEPARATOR=SEPARATOR,exports.StatsFileName=StatsFileName,exports.TEMP_DIR=TEMP_DIR,exports.assert=assert,exports.composeKeyWithSeparator=composeKeyWithSeparator,exports.containerPlugin=ContainerPlugin,exports.containerReferencePlugin=ContainerReferencePlugin,exports.createLink=createLink,exports.createLogger=createLogger,exports.createModuleFederationConfig=createModuleFederationConfig,exports.createScript=createScript,exports.createScriptNode=createScriptNode,exports.decodeName=decodeName,exports.encodeName=encodeName,exports.error=error,exports.generateExposeFilename=generateExposeFilename,exports.generateShareFilename=generateShareFilename,exports.generateSnapshotFromManifest=generateSnapshotFromManifest,exports.getProcessEnv=getProcessEnv,exports.getResourceUrl=getResourceUrl,exports.inferAutoPublicPath=inferAutoPublicPath,exports.isBrowserEnv=isBrowserEnv,exports.isDebugMode=isDebugMode,exports.isManifestProvider=isManifestProvider,exports.isReactNativeEnv=isReactNativeEnv,exports.isRequiredVersion=isRequiredVersion,exports.isStaticResourcesEqual=isStaticResourcesEqual,exports.loadScript=loadScript,exports.loadScriptNode=loadScriptNode,exports.logger=logger,exports.moduleFederationPlugin=ModuleFederationPlugin,exports.normalizeOptions=normalizeOptions,exports.parseEntry=parseEntry,exports.safeToString=safeToString,exports.safeWrapper=safeWrapper,exports.sharePlugin=SharePlugin,exports.simpleJoinRemoteEntry=simpleJoinRemoteEntry,exports.warn=warn},2256(e,t){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t._=r},9130(e,t){"use strict";t.FEDERATION_SUPPORTED_TYPES=["script"]},5950(e,t,r){"use strict";var n=r(8404),o=r(9130),i=r(4452);function s(e){e.S&&!e.federation.hasAttachShareScopeMap&&e.federation.instance&&e.federation.instance.shareScopeMap&&(e.S=e.federation.instance.shareScopeMap,e.federation.hasAttachShareScopeMap=!0)}function a(e){let{chunkId:t,promises:r,chunkMapping:n,idToExternalAndNameMapping:a,webpackRequire:l,idToRemoteMap:c}=e;s(l),l.o(n,t)&&n[t].forEach(e=>{let t=l.R;t||(t=[]);let n=a[e],s=c[e];if(t.indexOf(n)>=0)return;if(t.push(n),n.p)return r.push(n.p);let u=t=>{t||(t=Error("Container missing")),"string"==typeof t.message&&(t.message+=`
while loading "${n[1]}" from ${n[2]}`),l.m[e]=()=>{throw t},n.p=0},d=(e,t,o,i,s,a)=>{try{let l=e(t,o);if(!l||!l.then)return s(l,i,a);{let e=l.then(e=>s(e,i),u);if(!a)return e;r.push(n.p=e)}}catch(e){u(e)}},f=(e,t,r)=>e?d(l.I,n[0],0,e,h,r):u();var h=(e,r,o)=>d(r.get,n[1],t,0,p,o),p=t=>{n.p=1,l.m[e]=e=>{e.exports=t()}};let m=()=>{try{let e=i.decodeName(s[0].name,i.ENCODE_NAME_PREFIX)+n[1].slice(1),t=l.federation.instance,r=()=>l.federation.instance.loadRemote(e,{loadFactory:!1,from:"build"});if("version-first"===t.options.shareStrategy)return Promise.all(t.sharedHandler.initializeSharing(n[0])).then(()=>r());return r()}catch(e){u(e)}};1===s.length&&o.FEDERATION_SUPPORTED_TYPES.includes(s[0].externalType)&&s[0].name?d(m,n[2],0,0,p,1):d(l,n[2],0,0,f,1)})}function l(e){let{chunkId:t,promises:r,chunkMapping:n,installedModules:o,moduleToHandlerMapping:i,webpackRequire:a}=e;s(a),a.o(n,t)&&n[t].forEach(e=>{if(a.o(o,e))return r.push(o[e]);let t=t=>{o[e]=0,a.m[e]=r=>{var n;delete a.c[e];let o=t(),{shareInfo:s}=i[e];if((null==s||null==(n=s.shareConfig)?void 0:n.layer)&&o&&"object"==typeof o)try{o.hasOwnProperty("layer")&&void 0!==o.layer||(o.layer=s.shareConfig.layer)}catch(e){}r.exports=o}},n=t=>{delete o[e],a.m[e]=r=>{throw delete a.c[e],t}};try{let s=a.federation.instance;if(!s)throw Error("Federation instance not found!");let{shareKey:l,getter:c,shareInfo:u}=i[e],d=s.loadShare(l,{customShareInfo:u}).then(e=>!1===e?c():e);d.then?r.push(o[e]=d.then(t).catch(n)):t(d)}catch(e){n(e)}})}function c({shareScopeName:e,webpackRequire:t,initPromises:r,initTokens:n,initScope:i}){let a=Array.isArray(e)?e:[e];var l=[],c=function(a){i||(i=[]);let l=t.federation.instance;var c=n[a];if(c||(c=n[a]={from:l.name}),i.indexOf(c)>=0)return;i.push(c);let u=r[a];if(u)return u;var d=e=>"undefined"!=typeof console&&console.warn&&console.warn(e),f=r=>{var n=e=>d("Initialization of sharing external failed: "+e);try{var o=t(r);if(!o)return;var s=r=>r&&r.init&&r.init(t.S[a],i,{shareScopeMap:t.S||{},shareScopeKeys:e});if(o.then)return h.push(o.then(s,n));var l=s(o);if(l&&"boolean"!=typeof l&&l.then)return h.push(l.catch(n))}catch(e){n(e)}};let h=l.initializeSharing(a,{strategy:l.options.shareStrategy,initScope:i,from:"build"});s(t);let p=t.federation.bundlerRuntimeOptions.remotes;return(p&&Object.keys(p.idToRemoteMap).forEach(e=>{let t=p.idToRemoteMap[e],r=p.idToExternalAndNameMapping[e][2];if(t.length>1)f(r);else if(1===t.length){let e=t[0];o.FEDERATION_SUPPORTED_TYPES.includes(e.externalType)||f(r)}}),h.length)?r[a]=Promise.all(h).then(()=>r[a]=!0):r[a]=!0};return a.forEach(e=>{l.push(c(e))}),Promise.all(l).then(()=>!0)}function u(e){let{moduleId:t,moduleToHandlerMapping:r,webpackRequire:n}=e,o=n.federation.instance;if(!o)throw Error("Federation instance not found!");let{shareKey:i,shareInfo:s}=r[t];try{return o.loadShareSync(i,{customShareInfo:s})}catch(e){throw console.error('loadShareSync failed! The function should not be called unless you set "eager:true". If you do not set it, and encounter this issue, you can check whether an async boundary is implemented.'),console.error("The original error message is as follows: "),e}}function d(e){let{moduleToHandlerMapping:t,webpackRequire:r,installedModules:n,initialConsumes:o}=e;o.forEach(e=>{r.m[e]=o=>{var i;n[e]=0,delete r.c[e];let s=u({moduleId:e,moduleToHandlerMapping:t,webpackRequire:r});if("function"!=typeof s)throw Error(`Shared module is not available for eager consumption: ${e}`);let a=s(),{shareInfo:l}=t[e];if((null==l||null==(i=l.shareConfig)?void 0:i.layer)&&a&&"object"==typeof a)try{a.hasOwnProperty("layer")&&void 0!==a.layer||(a.layer=l.shareConfig.layer)}catch(e){}o.exports=a}})}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e){let{webpackRequire:t,shareScope:r,initScope:n,shareScopeKey:o,remoteEntryInitOptions:i}=e;if(!t.S||!t.federation||!t.federation.instance||!t.federation.initOptions)return;let s=t.federation.instance;s.initOptions(f({name:t.federation.initOptions.name,remotes:[]},i));let a=null==i?void 0:i.shareScopeKeys,l=null==i?void 0:i.shareScopeMap;if(o&&"string"!=typeof o)o.forEach(e=>{if(!a||!l)return void s.initShareScopeMap(e,r,{hostShareScopeMap:(null==i?void 0:i.shareScopeMap)||{}});l[e]||(l[e]={});let t=l[e];s.initShareScopeMap(e,t,{hostShareScopeMap:(null==i?void 0:i.shareScopeMap)||{}})});else{let e=o||"default";Array.isArray(a)?a.forEach(e=>{l[e]||(l[e]={});let t=l[e];s.initShareScopeMap(e,t,{hostShareScopeMap:(null==i?void 0:i.shareScopeMap)||{}})}):s.initShareScopeMap(e,r,{hostShareScopeMap:(null==i?void 0:i.shareScopeMap)||{}})}return(t.federation.attachShareScopeMap&&t.federation.attachShareScopeMap(t),"function"==typeof t.federation.prefetch&&t.federation.prefetch(),Array.isArray(o))?t.federation.initOptions.shared?t.I(o,n):Promise.all(o.map(e=>t.I(e,n))).then(()=>!0):t.I(o||"default",n)}e.exports={runtime:function(e){var t=Object.create(null);if(e)for(var r in e)t[r]=e[r];return t.default=e,Object.freeze(t)}(n),instance:void 0,initOptions:void 0,bundlerRuntime:{remotes:a,consumes:l,I:c,S:{},installInitialConsumes:d,initContainerEntry:h},attachShareScopeMap:s,bundlerRuntimeOptions:{}}},5452(e,t,r){"use strict";r.d(t,{Nu:()=>b});var n=r(8923),o=r(935),i=r(9493);function s(e,t={}){let r,n=e?.pipeThrough(new TextDecoderStream).pipeThrough(new EventDecoderStream),o=n?.getReader(),i=!1;return new AsyncIteratorClass(async()=>{r??=startSpan("consume_event_iterator_stream");try{for(;;){if(void 0===o)return{done:!0,value:void 0};let{done:e,value:t}=await runInSpanContext(r,()=>o.read());if(e){if(i)throw new AbortError("Stream was cancelled");return{done:!0,value:void 0}}switch(t.event){case"message":{let e=parseEmptyableJSON(t.data);return isTypescriptObject(e)&&(e=withEventMeta(e,t)),r?.addEvent("message"),{done:!1,value:e}}case"error":{let e=new ErrorEvent({data:parseEmptyableJSON(t.data)});throw e=withEventMeta(e,t),r?.addEvent("error"),e}case"done":{let e=parseEmptyableJSON(t.data);return isTypescriptObject(e)&&(e=withEventMeta(e,t)),r?.addEvent("done"),{done:!0,value:e}}default:r?.addEvent("maybe_keepalive")}}}catch(e){throw e instanceof ErrorEvent||setSpanError(r,e,t),e}},async e=>{try{"next"!==e&&(i=!0,r?.addEvent("cancelled")),await runInSpanContext(r,()=>o?.cancel())}catch(e){throw setSpanError(r,e,t),e}finally{r?.end()}})}function a(e,t={}){let r,n,o=t.eventIteratorKeepAliveEnabled??!0,i=t.eventIteratorKeepAliveInterval??5e3,s=t.eventIteratorKeepAliveComment??"",l=t.eventIteratorInitialCommentEnabled??!0,c=t.eventIteratorInitialComment??"",u=!1;return new ReadableStream({start(e){n=startSpan("stream_event_iterator"),l&&e.enqueue(encodeEventMessage({comments:[c]}))},async pull(t){try{o&&(r=setInterval(()=>{t.enqueue(encodeEventMessage({comments:[s]})),n?.addEvent("keepalive")},i));let a=await runInSpanContext(n,()=>e.next());if(clearInterval(r),u)return;let l=getEventMeta(a.value);if(!a.done||void 0!==a.value||void 0!==l){let e=a.done?"done":"message";t.enqueue(encodeEventMessage({...l,event:e,data:stringifyJSON(a.value)})),n?.addEvent(e)}a.done&&(t.close(),n?.end())}catch(e){if(clearInterval(r),u)return;e instanceof ErrorEvent?(t.enqueue(encodeEventMessage({...getEventMeta(e),event:"error",data:stringifyJSON(e.data)})),n?.addEvent("error"),t.close()):(setSpanError(n,e),t.error(e)),n?.end()}},async cancel(){try{u=!0,clearInterval(r),n?.addEvent("cancelled"),await runInSpanContext(n,()=>e.return?.())}catch(e){throw setSpanError(n,e),e}finally{n?.end()}}}).pipeThrough(new TextEncoderStream)}function l(e,t={}){return e.forEach((e,r)=>{Array.isArray(t[r])?t[r].push(e):void 0!==t[r]?t[r]=[t[r],e]:t[r]=e}),t}var c=r(158);class u{plugins;constructor(e=[]){this.plugins=[...e].sort((e,t)=>(e.order??0)-(t.order??0))}init(e){for(let t of this.plugins)t.init?.(e)}}let d=0,f=1,h=2,p=3,m=4,y=5,g=6,v=7;class b{customSerializers;constructor(e={}){if(this.customSerializers=e.customJsonSerializers??[],this.customSerializers.length!==new Set(this.customSerializers.map(e=>e.type)).size)throw Error("Custom serializer type must be unique.")}serialize(e,t=[],r=[],o=[],i=[]){for(let n of this.customSerializers)if(n.condition(e)){let s=this.serialize(n.serialize(e),t,r,o,i);return r.push([n.type,...t]),s}if(e instanceof Blob)return o.push(t),i.push(e),[e,r,o,i];if("bigint"==typeof e)return r.push([d,...t]),[e.toString(),r,o,i];if(e instanceof Date)return(r.push([f,...t]),Number.isNaN(e.getTime()))?[null,r,o,i]:[e.toISOString(),r,o,i];if(Number.isNaN(e))return r.push([h,...t]),[null,r,o,i];if(e instanceof URL)return r.push([m,...t]),[e.toString(),r,o,i];if(e instanceof RegExp)return r.push([y,...t]),[e.toString(),r,o,i];if(e instanceof Set){let n=this.serialize(Array.from(e),t,r,o,i);return r.push([g,...t]),n}if(e instanceof Map){let n=this.serialize(Array.from(e.entries()),t,r,o,i);return r.push([v,...t]),n}if(Array.isArray(e))return[e.map((e,n)=>void 0===e?(r.push([p,...t,n]),e):this.serialize(e,[...t,n],r,o,i)[0]),r,o,i];if((0,n.Gv)(e)){let n={};for(let s in e)("toJSON"!==s||"function"!=typeof e[s])&&(n[s]=this.serialize(e[s],[...t,s],r,o,i)[0]);return[n,r,o,i]}return[e,r,o,i]}deserialize(e,t,r,n){let o={data:e};for(let e of(r&&n&&r.forEach((e,t)=>{let r=o,i="data";e.forEach(e=>{r=r[i],i=e}),r[i]=n(t)}),t)){let t=e[0],r=o,n="data";for(let t=1;t<e.length;t++)r=r[n],n=e[t];for(let e of this.customSerializers)if(e.type===t){r[n]=e.deserialize(r[n]);break}switch(t){case d:r[n]=BigInt(r[n]);break;case f:r[n]=new Date(r[n]??"Invalid Date");break;case h:r[n]=NaN;break;case p:r[n]=void 0;break;case m:r[n]=new URL(r[n]);break;case y:{let[,e,t]=r[n].match(/^\/(.*)\/([a-z]*)$/);r[n]=new RegExp(e,t);break}case g:r[n]=new Set(r[n]);break;case v:r[n]=new Map(r[n])}}return o.data}}function E(e){return`/${e.map(encodeURIComponent).join("/")}`}function _(e){return"function"==typeof e.forEach?l(e):e}function w(e){return Object.entries(i.C).find(([,t])=>t.status===e)?.[0]??"MALFORMED_ORPC_ERROR_RESPONSE"}},158(e,t,r){"use strict";r.d(t,{m:()=>i});var n=r(8923),o=r(935);function i(e,t){let r=async e=>{let r=await t.error(e);if(r!==e){let t=(0,o.Kg)(e);t&&(0,n.fb)(r)&&(r=(0,o.c8)(r,t))}return r};return new n.Nz(async()=>{let{done:i,value:s}=await (async()=>{try{return await e.next()}catch(e){throw await r(e)}})(),a=await t.value(s,i);if(a!==s){let e=(0,o.Kg)(s);e&&(0,n.fb)(a)&&(a=(0,o.c8)(a,e))}return{done:i,value:a}},async()=>{try{await e.return?.()}catch(e){throw await r(e)}})}},9493(e,t,r){"use strict";r.d(t,{C:()=>s,c:()=>d,d:()=>p,e:()=>m,f:()=>a,g:()=>y,i:()=>f,t:()=>h});var n=r(8923);let o="@orpc/client",i="1.12.2",s={BAD_REQUEST:{status:400,message:"Bad Request"},UNAUTHORIZED:{status:401,message:"Unauthorized"},FORBIDDEN:{status:403,message:"Forbidden"},NOT_FOUND:{status:404,message:"Not Found"},METHOD_NOT_SUPPORTED:{status:405,message:"Method Not Supported"},NOT_ACCEPTABLE:{status:406,message:"Not Acceptable"},TIMEOUT:{status:408,message:"Request Timeout"},CONFLICT:{status:409,message:"Conflict"},PRECONDITION_FAILED:{status:412,message:"Precondition Failed"},PAYLOAD_TOO_LARGE:{status:413,message:"Payload Too Large"},UNSUPPORTED_MEDIA_TYPE:{status:415,message:"Unsupported Media Type"},UNPROCESSABLE_CONTENT:{status:422,message:"Unprocessable Content"},TOO_MANY_REQUESTS:{status:429,message:"Too Many Requests"},CLIENT_CLOSED_REQUEST:{status:499,message:"Client Closed Request"},INTERNAL_SERVER_ERROR:{status:500,message:"Internal Server Error"},NOT_IMPLEMENTED:{status:501,message:"Not Implemented"},BAD_GATEWAY:{status:502,message:"Bad Gateway"},SERVICE_UNAVAILABLE:{status:503,message:"Service Unavailable"},GATEWAY_TIMEOUT:{status:504,message:"Gateway Timeout"}};function a(e,t){return t??s[e]?.status??500}function l(e,t){return t||s[e]?.message||e}let c=Symbol.for(`__${o}@${i}/error/ORPC_ERROR_CONSTRUCTORS__`);globalThis[c]??=new WeakSet;let u=globalThis[c];class d extends Error{defined;code;status;data;constructor(e,...t){const r=(0,n.$Z)(t);if(void 0!==r.status&&!p(r.status))throw Error("[ORPCError] Invalid error status code.");super(l(e,r.message),r),this.code=e,this.status=a(e,r.status),this.defined=r.defined??!1,this.data=r.data}toJSON(){return{defined:this.defined,code:this.code,status:this.status,message:this.message,data:this.data}}static[Symbol.hasInstance](e){if(u.has(this)){let t=(0,n.z9)(e);if(t&&u.has(t))return!0}return super[Symbol.hasInstance](e)}}function f(e){return e instanceof d&&e.defined}function h(e){return e instanceof d?e:new d("INTERNAL_SERVER_ERROR",{message:"Internal server error",cause:e})}function p(e){return e<200||e>=400}function m(e){if(!(0,n.Gv)(e))return!1;let t=["defined","code","status","message","data"];return!Object.keys(e).some(e=>!t.includes(e))&&"defined"in e&&"boolean"==typeof e.defined&&"code"in e&&"string"==typeof e.code&&"status"in e&&"number"==typeof e.status&&p(e.status)&&"message"in e&&"string"==typeof e.message}function y(e,t={}){return new d(e.code,{...t,...e})}u.add(d)},4136(e,t,r){"use strict";r(5452),r(8923),r(935),r(3108).P},9006(e,t,r){"use strict";r(8923),r(935),r(3108).P},1561(e,t,r){"use strict";r(5452),r(8923),r(935),r(3108).P},7032(e,t,r){"use strict";r(3108),r(8923)},3108(e,t,r){"use strict";r.d(t,{P:()=>o});var n=r(8923);class o{maxBufferedEvents;constructor(e={}){this.maxBufferedEvents=e.maxBufferedEvents??100}subscribe(e,t,r){let o;if("function"==typeof t)return this.subscribeListener(e,t,r);let i=t?.signal,s=t?.maxBufferedEvents??this.maxBufferedEvents;i?.throwIfAborted();let a=[],l=[],c=this.subscribe(e,e=>{let t=l.shift();t?t[0]({done:!1,value:e}):(a.push(e),a.length>s&&a.shift())},{lastEventId:t?.lastEventId,onError:e=>{o={error:e},l.forEach(t=>t[1](e)),i?.removeEventListener("abort",u),l.length=0,a.length=0,c.then(e=>e()).catch(()=>{})}});function u(e){l.forEach(t=>t[1](e.target.reason)),l.length=0,a.length=0,c.then(e=>e()).catch(()=>{})}return i?.addEventListener("abort",u,{once:!0}),new n.Nz(async()=>{if(o)throw o.error;if(i?.aborted)throw i.reason;return(await c,a.length>0)?{done:!1,value:a.shift()}:new Promise((e,t)=>{l.push([e,t])})},async()=>{l.forEach(e=>e[0]({done:!0,value:void 0})),i?.removeEventListener("abort",u),l.length=0,a.length=0,await c.then(e=>e())})}}},8923(e,t,r){"use strict";function n(e){return e[0]??{}}function o(e){return Array.isArray(e)?e:null==e?[]:[e]}r.d(t,{$Z:()=>n,$r:()=>o,DY:()=>O,ER:()=>q,Gv:()=>D,Jt:()=>U,L_:()=>x,Np:()=>$,Nz:()=>w,Oo:()=>c,S5:()=>A,Ss:()=>T,Uq:()=>F,YU:()=>L,Zc:()=>N,_p:()=>b,ao:()=>I,e4:()=>k,eE:()=>h,fb:()=>j,hL:()=>M,mm:()=>H,np:()=>G,uj:()=>g,vC:()=>R,xC:()=>i,z9:()=>C,zL:()=>S,zh:()=>P});let i="orpc",s="@orpc/shared",a="1.12.2";class l extends Error{constructor(...e){super(...e),this.name="AbortError"}}function c(e){let t;return()=>{if(t)return t.result;let r=e();return t={result:r},r}}function u(e){let t=Promise.resolve();return(...r)=>t=t.catch(()=>{}).then(()=>e(...r))}let d=2,f=`__${s}@${a}/otel/config__`;function h(){return globalThis[f]}function p(e,t={},r){let n=h()?.tracer;return n?.startSpan(e,t,r)}function m(e,t,r={}){if(!e)return;let n=y(t);e.recordException(n),r.signal?.aborted&&r.signal.reason===t||e.setStatus({code:d,message:n.message})}function y(e){if(e instanceof Error){let t={message:e.message,name:e.name,stack:e.stack};return"code"in e&&("string"==typeof e.code||"number"==typeof e.code)&&(t.code=e.code),t}return{message:String(e)}}async function g({name:e,context:t,...r},n){let o=h()?.tracer;if(!o)return n();let i=async e=>{try{return await n(e)}catch(t){throw m(e,t,r),t}finally{e.end()}};return t?o.startActiveSpan(e,r,t,i):o.startActiveSpan(e,r,i)}async function v(e,t){let r=h();if(!e||!r)return t();let n=r.trace.setSpan(r.context.active(),e);return r.context.with(n,t)}function b(e){return!!e&&"object"==typeof e&&"next"in e&&"function"==typeof e.next&&Symbol.asyncIterator in e&&"function"==typeof e[Symbol.asyncIterator]}let E=Symbol.for("asyncDispose"),_=Symbol.asyncDispose??E;class w{#e=!1;#t=!1;#r;#n;constructor(e,t){this.#r=t,this.#n=u(async()=>{if(this.#e)return{done:!0,value:void 0};try{let t=await e();return t.done&&(this.#e=!0),t}catch(e){throw this.#e=!0,e}finally{this.#e&&!this.#t&&(this.#t=!0,await this.#r("next"))}})}next(){return this.#n()}async return(e){return this.#e=!0,this.#t||(this.#t=!0,await this.#r("return")),{done:!0,value:e}}async throw(e){throw this.#e=!0,this.#t||(this.#t=!0,await this.#r("throw")),e}async [_](){this.#e=!0,this.#t||(this.#t=!0,await this.#r("dispose"))}[Symbol.asyncIterator](){return this}}function S({name:e,...t},r){let n;return new w(async()=>{n??=p(e);try{let e=await v(n,()=>r.next());return n?.addEvent(e.done?"completed":"yielded"),e}catch(e){throw m(n,e,t),e}},async e=>{try{"next"!==e&&await v(n,()=>r.return?.())}catch(e){throw m(n,e,t),e}finally{n?.end()}})}class P{#o=new Map;#i;constructor(e={}){this.#i=e.maxBufferedEvents??100}get size(){return this.#o.size}publish(e,t){let r=this.#o.get(e);if(r)for(let e of r)e(t)}subscribe(e,t){if("function"==typeof t){let r=this.#o.get(e);return r||this.#o.set(e,r=[]),r.push(t),c(()=>{r.splice(r.indexOf(t),1),0===r.length&&this.#o.delete(e)})}let r=t?.signal,n=t?.maxBufferedEvents??this.#i;r?.throwIfAborted();let o=[],i=[],s=this.subscribe(e,e=>{let t=i.shift();t?t[0]({done:!1,value:e}):(o.push(e),o.length>n&&o.shift())}),a=e=>{s(),i.forEach(t=>t[1](e.target.reason)),i.length=0,o.length=0};return r?.addEventListener("abort",a,{once:!0}),new w(async()=>{if(r?.aborted)throw r.reason;return o.length>0?{done:!1,value:o.shift()}:new Promise((e,t)=>{i.push([e,t])})},async()=>{s(),r?.removeEventListener("abort",a),i.forEach(e=>e[0]({done:!0,value:void 0})),i.length=0,o.length=0})}}class T{index=BigInt(1);generate(){let e=this.index.toString(36);return this.index++,e}}function O(e,t){return e.length!==t.length?e.length-t.length:e<t?-1:+(e>t)}function I(e){return async(t,...r)=>(await e(t,...r),await t.next())}function x(e){return async(t,...r)=>{let n=await t.next();return await e(n,t,...r),n}}function A(e){return async(t,...r)=>{try{return await t.next()}catch(n){throw await e(n,t,...r),n}}}function R(e){let t;return async(r,...n)=>{try{let e=await r.next();return t=[null,e,!0],e}catch(e){throw t=[e,void 0,!1],e}finally{await e(t,r,...n)}}}function N(e,t,r){let n=(t,o)=>{let i=e[o];return i?i({...t,next:(e=t)=>n(e,o+1)}):r(t)};return n(t,0)}function k(e){return JSON.stringify(e)}function C(e){return j(e)?Object.getPrototypeOf(e)?.constructor:null}function D(e){if(!e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||!t||!t.constructor}function j(e){return!!e&&("object"==typeof e||"function"==typeof e)}function z(e){if(Array.isArray(e))return e.map(z);if(D(e)){let t={};for(let r in e)t[r]=z(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=z(e[r]);return t}return e}function U(e,t){let r=e;for(let e of t){if(!j(r))return;r=r[e]}return r}function M(e){let t=typeof e;return"string"===t||"number"===t||"symbol"===t}function F(e,...t){return"function"==typeof e?e(...t):e}function $(e,t){return void 0===e?t:e}let B=/^\s*function\s*\(\)\s*\{\s*\[native code\]\s*\}\s*$/;function G(e,t){return new Proxy("function"==typeof e?t:e,{get(r,n){let o=n in t?t:F(e),i=Reflect.get(o,n);return"function"==typeof i?i.bind(o):i},has:(r,n)=>Reflect.has(t,n)||Reflect.has(F(e),n)})}function L(e){let t=e.getReader();return new w(async()=>t.read(),async()=>{await t.cancel()})}function H(e){return new ReadableStream({async pull(t){let{done:r,value:n}=await e.next();r?t.close():t.enqueue(n)},async cancel(){await e.return?.()}})}function q(e){return new ReadableStream({async pull(t){let{done:r,value:n}=await e.next();if(r)t.close();else{let e=D(n)?{...n}:Array.isArray(n)?n.map(e=>e):n;t.enqueue(e)}},async cancel(){await e.return?.()}})}},935(e,t,r){"use strict";r.d(t,{Kg:()=>h,NN:()=>s,aw:()=>m,c8:()=>f,mJ:()=>p});var n=r(8923);class o extends TypeError{}class i extends TypeError{}class s extends Error{data;constructor(e){super(e?.message??"An error event was received",e),this.data=e?.data}}function a(e){let t=e.replace(/\n+$/,"").split(/\n/),r={data:void 0,event:void 0,id:void 0,retry:void 0,comments:[]};for(let e of t){let t=e.indexOf(":"),n=-1===t?e:e.slice(0,t),o=-1===t?"":e.slice(t+1).replace(/^\s/,"");if(0===t)r.comments.push(o);else if("data"===n)r.data??="",r.data+=`${o}
`;else if("event"===n)r.event=o;else if("id"===n)r.id=o;else if("retry"===n){let e=Number.parseInt(o);Number.isInteger(e)&&e>=0&&e.toString()===o&&(r.retry=e)}}return r.data=r.data?.replace(/\n$/,""),r}function l(e){if(e.includes("\n"))throw new o("Event's id must not contain a newline character")}function c(e){if(!Number.isInteger(e)||e<0)throw new o("Event's retry must be a integer and >= 0")}function u(e){if(e.includes("\n"))throw new o("Event's comment must not contain a newline character")}TransformStream;let d=Symbol("ORPC_EVENT_SOURCE_META");function f(e,t){if(void 0===t.id&&void 0===t.retry&&!t.comments?.length)return e;if(void 0!==t.id&&l(t.id),void 0!==t.retry&&c(t.retry),void 0!==t.comments)for(let e of t.comments)u(e);return new Proxy(e,{get:(e,r,n)=>r===d?t:Reflect.get(e,r,n)})}function h(e){return(0,n.fb)(e)?Reflect.get(e,d):void 0}class p extends n.Nz{hibernationCallback;constructor(e){super(async()=>{throw Error("Cannot iterate over hibernating iterator directly")},async e=>{if("next"!==e)throw Error("Cannot cleanup hibernating iterator directly")}),this.hibernationCallback=e}}function m(e,t){let r={...e};for(let e in t)Array.isArray(t[e])?r[e]=[...(0,n.$r)(r[e]),...t[e]]:void 0!==t[e]&&(Array.isArray(r[e])?r[e]=[...r[e],t[e]]:void 0!==r[e]?r[e]=[r[e],t[e]]:r[e]=t[e]);return r}},1544(e,t,r){"use strict";r.d(t,{i:()=>l}),r(8995);var n=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(var l,c=i(t),u=0,d=c.length;u<d;u++)l=c[u],s.call(e,l)||l===r||n(e,l,{get:(e=>t[e]).bind(null,l),enumerable:!(a=o(t,l))||a.enumerable});return e},l=(e,t,r)=>(a(e,t,"default"),r&&a(r,t,"default"))},458(e,t,r){"use strict";var n=r(8803);r.o(n,"Effect")&&r.d(t,{Effect:function(){return n.Effect}})},4457(e,t,r){"use strict";r(4136),r(9006),r(1561);var n=r(8231);r.o(n,"oc")&&r.d(t,{oc:function(){return n.oc}});var o=r(9200);r.o(o,"oc")&&r.d(t,{oc:function(){return o.oc}}),r(7032)},8460(e,t,r){"use strict";r.d(t,{zod_exports:()=>s});var n,o=r(1544),i=r(9230);r.o(i,"z")&&r.d(t,{z:function(){return i.z}});var s={};(0,o.i)(s,n||(n=r.t(i,2)))},9305(e,t,r){"use strict";function n(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function o(e){if(!n(e))throw Error("Uint8Array expected")}function i(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"==typeof e):t.every(e=>Number.isSafeInteger(e))))}function s(e){if("function"!=typeof e)throw Error("function expected");return!0}function a(e,t){if("string"!=typeof t)throw Error(`${e}: string expected`);return!0}function l(e){if(!Number.isSafeInteger(e))throw Error(`invalid integer: ${e}`)}function c(e){if(!Array.isArray(e))throw Error("array expected")}function u(e,t){if(!i(!0,t))throw Error(`${e}: array of strings expected`)}function d(e,t){if(!i(!1,t))throw Error(`${e}: array of numbers expected`)}function f(...e){let t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map(e=>e.encode).reduceRight(r,t),decode:e.map(e=>e.decode).reduce(r,t)}}function h(e){let t="string"==typeof e?e.split(""):e,r=t.length;u("alphabet",t);let n=new Map(t.map((e,t)=>[e,t]));return{encode:n=>(c(n),n.map(n=>{if(!Number.isSafeInteger(n)||n<0||n>=r)throw Error(`alphabet.encode: digit index outside alphabet "${n}". Allowed: ${e}`);return t[n]})),decode:t=>(c(t),t.map(t=>{a("alphabet.decode",t);let r=n.get(t);if(void 0===r)throw Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}function p(e=""){return a("join",e),{encode:t=>(u("join.decode",t),t.join(e)),decode:t=>(a("join.decode",t),t.split(e))}}function m(e,t="="){return l(e),a("padding",t),{encode(r){for(u("padding.encode",r);r.length*e%8;)r.push(t);return r},decode(r){u("padding.decode",r);let n=r.length;if(n*e%8)throw Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if((n-1)*e%8==0)throw Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}function y(e){return s(e),{encode:e=>e,decode:t=>e(t)}}function g(e,t,r){if(t<2)throw Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(r<2)throw Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(c(e),!e.length)return[];let n=0,o=[],i=Array.from(e,e=>{if(l(e),e<0||e>=t)throw Error(`invalid integer: ${e}`);return e}),s=i.length;for(;;){let e=0,a=!0;for(let o=n;o<s;o++){let s=i[o],l=t*e,c=l+s;if(!Number.isSafeInteger(c)||l/t!==e||c-s!==l)throw Error("convertRadix: carry overflow");let u=c/r;e=c%r;let d=Math.floor(u);if(i[o]=d,!Number.isSafeInteger(d)||d*r+e!==c)throw Error("convertRadix: carry overflow");a&&(d?a=!1:n=o)}if(o.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}r.d(t,{J0:()=>oQ,jV:()=>oX,zU:()=>iq,y7:()=>tD,Do:()=>oZ});let v=(e,t)=>0===t?e:v(t,e%t),b=(e,t)=>e+(t-v(e,t)),E=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function _(e,t,r,n){if(c(e),t<=0||t>32)throw Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw Error(`convertRadix2: wrong to=${r}`);if(b(t,r)>32)throw Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${b(t,r)}`);let o=0,i=0,s=E[t],a=E[r]-1,u=[];for(let n of e){if(l(n),n>=s)throw Error(`convertRadix2: invalid data word=${n} from=${t}`);if(o=o<<t|n,i+t>32)throw Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=r;i-=r)u.push((o>>i-r&a)>>>0);let e=E[i];if(void 0===e)throw Error("invalid carry");o&=e-1}if(o=o<<r-i&a,!n&&i>=t)throw Error("Excess padding");if(!n&&o>0)throw Error(`Non-zero padding: ${o}`);return n&&i>0&&u.push(o>>>0),u}function w(e){l(e);let t=256;return{encode:r=>{if(!n(r))throw Error("radix.encode input should be Uint8Array");return g(Array.from(r),t,e)},decode:r=>(d("radix.decode",r),Uint8Array.from(g(r,e,t)))}}function S(e,t=!1){if(l(e),e<=0||e>32)throw Error("radix2: bits should be in (0..32]");if(b(8,e)>32||b(e,8)>32)throw Error("radix2: carry overflow");return{encode:r=>{if(!n(r))throw Error("radix2.encode input should be Uint8Array");return _(Array.from(r),8,e,!t)},decode:r=>(d("radix2.decode",r),Uint8Array.from(_(r,e,8,t)))}}function P(e){return s(e),function(...t){try{return e.apply(null,t)}catch(e){}}}let T="function"==typeof Uint8Array.from([]).toBase64&&"function"==typeof Uint8Array.fromBase64,O=(e,t)=>{a("base64",e);let r=t?/^[A-Za-z0-9=_-]+$/:/^[A-Za-z0-9=+/]+$/,n=t?"base64url":"base64";if(e.length>0&&!r.test(e))throw Error("invalid base64");return Uint8Array.fromBase64(e,{alphabet:n,lastChunkHandling:"strict"})},I=T?{encode:e=>(o(e),e.toBase64()),decode:e=>O(e,!1)}:f(S(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),m(6),p("")),x=(e=>f(w(58),h(e),p("")))("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),A=f(h("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),p("")),R=[0x3b6a57b2,0x26508e6d,0x1ea119fa,0x3d4233dd,0x2a1462b3];function N(e){let t=e>>25,r=(0x1ffffff&e)<<5;for(let e=0;e<R.length;e++)(t>>e&1)==1&&(r^=R[e]);return r}function k(e,t,r=1){let n=e.length,o=1;for(let t=0;t<n;t++){let r=e.charCodeAt(t);if(r<33||r>126)throw Error(`Invalid prefix (${e})`);o=N(o)^r>>5}o=N(o);for(let t=0;t<n;t++)o=N(o)^31&e.charCodeAt(t);for(let e of t)o=N(o)^e;for(let e=0;e<6;e++)o=N(o);return o^=r,A.encode(_([o%E[30]],30,5,!1))}let C="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,D={encode:e=>(o(e),e.toHex()),decode:e=>(a("hex",e),Uint8Array.fromHex(e))},j=C?D:f(S(4),h("0123456789abcdef"),p(""),y(e=>{if("string"!=typeof e||e.length%2!=0)throw TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),z=BigInt(0x100000000-1),U=BigInt(32);function M(e,t=!1){return t?{h:Number(e&z),l:Number(e>>U&z)}:{h:0|Number(e>>U&z),l:0|Number(e&z)}}function F(e,t=!1){let r=e.length,n=new Uint32Array(r),o=new Uint32Array(r);for(let i=0;i<r;i++){let{h:r,l:s}=M(e[i],t);[n[i],o[i]]=[r,s]}return[n,o]}let $=(e,t,r)=>e>>>r,B=(e,t,r)=>e<<32-r|t>>>r,G=(e,t,r)=>e>>>r|t<<32-r,L=(e,t,r)=>e<<32-r|t>>>r,H=(e,t,r)=>e<<64-r|t>>>r-32,q=(e,t,r)=>e>>>r-32|t<<64-r,K=(e,t,r)=>e<<r|t>>>32-r,V=(e,t,r)=>t<<r|e>>>32-r,W=(e,t,r)=>t<<r-32|e>>>64-r,Y=(e,t,r)=>e<<r-32|t>>>64-r;function Z(e,t,r,n){let o=(t>>>0)+(n>>>0);return{h:e+r+(o/0x100000000|0)|0,l:0|o}}let J=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),X=(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0,Q=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),ee=(e,t,r,n,o)=>t+r+n+o+(e/0x100000000|0)|0,et=(e,t,r,n,o)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(o>>>0),er=(e,t,r,n,o,i)=>t+r+n+o+i+(e/0x100000000|0)|0;function en(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function eo(e,t=""){if(!Number.isSafeInteger(e)||e<0){let r=t&&`"${t}" `;throw Error(`${r}expected integer >= 0, got ${e}`)}}function ei(e,t,r=""){let n=en(e),o=e?.length,i=void 0!==t;if(!n||i&&o!==t)throw Error((r&&`"${r}" `)+"expected Uint8Array"+(i?` of length ${t}`:"")+", got "+(n?`length=${o}`:`type=${typeof e}`));return e}function es(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash must wrapped by utils.createHasher");eo(e.outputLen),eo(e.blockLen)}function ea(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function el(e,t){ei(e,void 0,"digestInto() output");let r=t.outputLen;if(e.length<r)throw Error('"digestInto() output" expected to be of length >='+r)}function ec(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function eu(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ed(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ef(e,t){return e<<32-t|e>>>t}function eh(e){return e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255}function ep(e){for(let t=0;t<e.length;t++)e[t]=eh(e[t]);return e}let em=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]?e=>e:ep,ey="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,eg=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ev(e){if(ei(e),ey)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=eg[e[r]];return t}let eb=48,eE=57,e_=65,ew=70,eS=97,eP=102;function eT(e){return e>=eb&&e<=eE?e-eb:e>=e_&&e<=ew?e-(e_-10):e>=eS&&e<=eP?e-(eS-10):void 0}function eO(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(ey)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,o=0;t<r;t++,o+=2){let r=eT(e.charCodeAt(o)),i=eT(e.charCodeAt(o+1));if(void 0===r||void 0===i)throw Error('hex string expected, got non-hex character "'+(e[o]+e[o+1])+'" at index '+o);n[t]=16*r+i}return n}function eI(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];ei(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let o=e[t];r.set(o,n),n+=o.length}return r}function ex(e,t={}){let r=(t,r)=>e(r).update(t).digest(),n=e(void 0);return r.outputLen=n.outputLen,r.blockLen=n.blockLen,r.create=t=>e(t),Object.assign(r,t),Object.freeze(r)}function eA(e=32){let t="object"==typeof globalThis?globalThis.crypto:null;if("function"!=typeof t?.getRandomValues)throw Error("crypto.getRandomValues must be defined");return t.getRandomValues(new Uint8Array(e))}let eR=e=>({oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,e])}),eN=BigInt(0),ek=BigInt(1),eC=BigInt(2),eD=BigInt(7),ej=BigInt(256),ez=BigInt(113),eU=[],eM=[],eF=[];for(let e=0,t=ek,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],eU.push(2*(5*n+r)),eM.push((e+1)*(e+2)/2%64);let o=eN;for(let e=0;e<7;e++)(t=(t<<ek^(t>>eD)*ez)%ej)&eC&&(o^=ek<<(ek<<BigInt(e))-ek);eF.push(o)}let e$=F(eF,!0),eB=e$[0],eG=e$[1],eL=(e,t,r)=>r>32?W(e,t,r):K(e,t,r),eH=(e,t,r)=>r>32?Y(e,t,r):V(e,t,r);function eq(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,o=(t+2)%10,i=r[o],s=r[o+1],a=eL(i,s,1)^r[n],l=eH(i,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=l}let t=e[2],o=e[3];for(let r=0;r<24;r++){let n=eM[r],i=eL(t,o,n),s=eH(t,o,n),a=eU[r];t=e[a],o=e[a+1],e[a]=i,e[a+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=eB[n],e[1]^=eG[n]}eu(r)}class eK{state;pos=0;posOut=0;finished=!1;state32;destroyed=!1;blockLen;suffix;outputLen;enableXOF=!1;rounds;constructor(e,t,r,n=!1,o=24){if(this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=o,eo(r,"outputLen"),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=ec(this.state)}clone(){return this._cloneInto()}keccak(){em(this.state32),eq(this.state32,this.rounds),em(this.state32),this.posOut=0,this.pos=0}update(e){ea(this),ei(e);let{blockLen:t,state:r}=this,n=e.length;for(let o=0;o<n;){let i=Math.min(t-this.pos,n-o);for(let t=0;t<i;t++)r[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){ea(this,!1),ei(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,o=e.length;n<o;){this.posOut>=r&&this.keccak();let i=Math.min(r-this.posOut,o-n);e.set(t.subarray(this.posOut,this.posOut+i),n),this.posOut+=i,n+=i}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return eo(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(el(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,eu(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:o,enableXOF:i}=this;return(e||=new eK(t,r,n,i,o)).state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=n,e.enableXOF=i,e.destroyed=this.destroyed,e}}let eV=((e,t,r,n={})=>ex(()=>new eK(t,e,r),n))(1,136,32);var eW,eY=r(7358);function eZ(e){let t;if("string"==typeof e)try{t=x.decode(e)}catch{throw Error(`Invalid base58 code hash: ${e}`)}else t=e;if(32!==t.length)throw Error(`Code hash must be 32 bytes, got ${t.length} bytes`);return t}let eJ=eY.b.enum({CodeHash:eY.b.array(eY.b.u8(),32),AccountId:eY.b.string()}),eX=eY.b.struct({code:eJ,data:eY.b.hashMap(eY.b.bytes(),eY.b.bytes())}),eQ=eY.b.enum({V1:eX});function e0(e){let t;return{code:t="accountId"in e.code?{type:"accountId",accountId:e.code.accountId}:{type:"codeHash",hash:eZ(e.code.codeHash)},data:e.data??new Map}}function e1(e){let t;t="accountId"===e.code.type?{AccountId:e.code.accountId}:{CodeHash:Array.from(e.code.hash)};let r=new Map(Array.from(e.data.entries()).sort((e,t)=>{let[r]=e,[n]=t;for(let e=0;e<Math.min(r.length,n.length);e++){let t=r[e],o=n[e];if(void 0!==t&&void 0!==o&&t!==o)return t-o}return r.length-n.length}));return eQ.serialize({V1:{code:t,data:r}})}function e2(e){let t=eV(e1(e0(e))).slice(12,32);return`0s${j.encode(t)}`}let e6=0x4000016e,e8=eY.b.struct({data:eY.b.array(eY.b.u8(),32)}),e3=eY.b.struct({data:eY.b.array(eY.b.u8(),64)}),e4=eY.b.enum({ed25519Key:e8,secp256k1Key:e3}),e5=eY.b.struct({data:eY.b.array(eY.b.u8(),64)}),e9=eY.b.struct({data:eY.b.array(eY.b.u8(),65)}),e7=eY.b.enum({ed25519Signature:e5,secp256k1Signature:e9}),te=eY.b.struct({allowance:eY.b.option(eY.b.u128()),receiverId:eY.b.string(),methodNames:eY.b.vec(eY.b.string())}),tt=eY.b.struct({}),tr=eY.b.enum({functionCall:te,fullAccess:tt}),tn=eY.b.struct({nonce:eY.b.u64(),permission:tr}),to=eY.b.struct({}),ti=eY.b.struct({code:eY.b.vec(eY.b.u8())}),ts=eY.b.struct({methodName:eY.b.string(),args:eY.b.vec(eY.b.u8()),gas:eY.b.u64(),deposit:eY.b.u128()}),ta=eY.b.struct({deposit:eY.b.u128()}),tl=eY.b.struct({stake:eY.b.u128(),publicKey:e4}),tc=eY.b.struct({publicKey:e4,accessKey:tn}),tu=eY.b.struct({publicKey:e4}),td=eY.b.struct({beneficiaryId:eY.b.string()}),tf=eY.b.enum({CodeHash:eY.b.struct({}),AccountId:eY.b.struct({})}),th=eY.b.enum({CodeHash:eY.b.array(eY.b.u8(),32),AccountId:eY.b.string()}),tp=eY.b.struct({code:eY.b.vec(eY.b.u8()),deployMode:tf}),tm=eY.b.struct({contractIdentifier:th}),ty=eY.b.struct({code:th,data:eY.b.hashMap(eY.b.bytes(),eY.b.bytes())}),tg=eY.b.enum({V1:ty}),tv=eY.b.struct({stateInit:tg,deposit:eY.b.u128()}),tb=eY.b.enum({createAccount:to,deployContract:ti,functionCall:ts,transfer:ta,stake:tl,addKey:tc,deleteKey:tu,deleteAccount:td,deployGlobalContract:tp,useGlobalContract:tm,deterministicStateInit:tv}),tE=eY.b.struct({senderId:eY.b.string(),receiverId:eY.b.string(),actions:eY.b.vec(tb),nonce:eY.b.u64(),maxBlockHeight:eY.b.u64(),publicKey:e4}),t_=eY.b.struct({delegateAction:tE,signature:e7}),tw=eY.b.enum({createAccount:to,deployContract:ti,functionCall:ts,transfer:ta,stake:tl,addKey:tc,deleteKey:tu,deleteAccount:td,signedDelegate:t_,deployGlobalContract:tp,useGlobalContract:tm,deterministicStateInit:tv}),tS=eY.b.struct({signerId:eY.b.string(),publicKey:e4,nonce:eY.b.u64(),receiverId:eY.b.string(),blockHash:eY.b.array(eY.b.u8(),32),actions:eY.b.vec(tw)}),tP=eY.b.struct({transaction:tS,signature:e7});function tT(e){return{senderId:e.senderId,receiverId:e.receiverId,actions:e.actions,nonce:e.nonce,maxBlockHeight:e.maxBlockHeight,publicKey:tO(e.publicKey)}}function tO(e){return 0===e.keyType?{ed25519Key:{data:Array.from(e.data)}}:{secp256k1Key:{data:Array.from(e.data)}}}function tI(e){return 0===e.keyType?{ed25519Signature:{data:Array.from(e.data)}}:{secp256k1Signature:{data:Array.from(e.data)}}}function tx(e){return"signedDelegate"in e?{signedDelegate:{delegateAction:{senderId:e.signedDelegate.delegateAction.senderId,receiverId:e.signedDelegate.delegateAction.receiverId,actions:e.signedDelegate.delegateAction.actions.map(e=>tx(e)),nonce:e.signedDelegate.delegateAction.nonce,maxBlockHeight:e.signedDelegate.delegateAction.maxBlockHeight,publicKey:e.signedDelegate.delegateAction.publicKey},signature:e.signedDelegate.signature}}:e}function tA(e){return tS.serialize({signerId:e.signerId,publicKey:tO(e.publicKey),nonce:e.nonce,receiverId:e.receiverId,blockHash:Array.from(e.blockHash),actions:e.actions.map(tx)})}function tR(e){return tP.serialize({transaction:{signerId:e.transaction.signerId,publicKey:tO(e.transaction.publicKey),nonce:e.transaction.nonce,receiverId:e.transaction.receiverId,blockHash:Array.from(e.transaction.blockHash),actions:e.transaction.actions.map(tx)},signature:tI(e.signature)})}function tN(e){let t=eY.b.u32().serialize(e6),r=tE.serialize(tT(e)),n=new Uint8Array(t.length+r.length);return n.set(t,0),n.set(r,t.length),n}function tk(e){return t_.serialize(e.signedDelegate)}function tC(e,t="base64"){let r=tk(e);return"base64"===t?I.encode(r):r}function tD(e){let t="string"==typeof e?I.decode(e):e;return{signedDelegate:t_.deserialize(t)}}class tj{constructor(e,t,r,n,o,i){this.senderId=e,this.receiverId=t,this.actions=r,this.nonce=n,this.maxBlockHeight=o,this.publicKey=i}}function tz(e){return{transfer:{deposit:e}}}function tU(e,t,r,n){return{functionCall:{methodName:e,args:t,gas:r,deposit:n}}}function tM(){return{createAccount:{}}}function tF(e){return{deleteAccount:{beneficiaryId:e}}}function t$(e){return{deployContract:{code:e}}}function tB(e,t){return{stake:{stake:e,publicKey:tO(t)}}}function tG(e,t){return{addKey:{publicKey:tO(e),accessKey:{nonce:BigInt(0),permission:t}}}}function tL(e){return{deleteKey:{publicKey:tO(e)}}}function tH(e,t){return{deployGlobalContract:{code:e,deployMode:t?.identifiedBy==="hash"?{CodeHash:{}}:{AccountId:{}}}}}function tq(e){let t;if("accountId"in e)t={AccountId:e.accountId};else{let r="string"==typeof e.codeHash?x.decode(e.codeHash):e.codeHash;if(32!==r.length)throw Error(`Code hash must be 32 bytes, got ${r.length} bytes`);t={CodeHash:Array.from(r)}}return{useGlobalContract:{contractIdentifier:t}}}function tK(e,t){return{signedDelegate:{delegateAction:{senderId:e.senderId,receiverId:e.receiverId,actions:e.actions,nonce:e.nonce,maxBlockHeight:e.maxBlockHeight,publicKey:tO(e.publicKey)},signature:tI(t)}}}function tV(e){let t;return{deterministicStateInit:{stateInit:{V1:{code:t="accountId"in e.code?{AccountId:e.code.accountId}:{CodeHash:Array.from(eZ(e.code.codeHash))},data:e.data??new Map}},deposit:e.deposit}}}function tW(e,t){return{view:new Proxy({},{get:(r,n)=>async(r,o)=>await e.view(t,n,r||{},o)}),call:new Proxy({},{get:(r,n)=>async(r,o)=>await e.call(t,n,r||{},o||{})})}}class tY extends Error{constructor(e,t,r){super(e),this.name="NearError",this.code=t,this.data=r,Object.setPrototypeOf(this,tY.prototype)}}class tZ extends tY{constructor(e,t){super(`Insufficient balance: required ${e} NEAR, available ${t} NEAR`,"INSUFFICIENT_BALANCE"),this.name="InsufficientBalanceError",this.required=e,this.available=t,Object.setPrototypeOf(this,tZ.prototype)}}class tJ extends tY{constructor(e,t,r,n=[]){const o=t?`.${t}`:"";super(r?`Contract call failed: ${e}${o} - ${r}`:`Contract call failed: ${e}${o}`,"FUNCTION_CALL_ERROR"),this.name="FunctionCallError",this.contractId=e,void 0!==t&&(this.methodName=t),this.logs=n,void 0!==r&&(this.panic=r),Object.setPrototypeOf(this,tJ.prototype)}}class tX extends tY{constructor(e,t,r=!0){super(e,"NETWORK_ERROR",{statusCode:t}),this.name="NetworkError",void 0!==t&&(this.statusCode=t),this.retryable=r,Object.setPrototypeOf(this,tX.prototype)}}class tQ extends tY{constructor(e){super(e,"INVALID_KEY"),this.name="InvalidKeyError",Object.setPrototypeOf(this,tQ.prototype)}}class t0 extends tY{constructor(e){super(`Account does not exist: ${e}`,"ACCOUNT_NOT_FOUND"),this.name="AccountDoesNotExistError",this.accountId=e,Object.setPrototypeOf(this,t0.prototype)}}class t1 extends tY{constructor(e,t){super(`Access key does not exist: ${t} for account ${e}`,"ACCESS_KEY_NOT_FOUND"),this.name="AccessKeyDoesNotExistError",this.accountId=e,this.publicKey=t,Object.setPrototypeOf(this,t1.prototype)}}class t2 extends tY{constructor(e,t){super(t?`Invalid account ID: ${e} - ${t}`:`Invalid account ID: ${e}`,"INVALID_ACCOUNT_ID"),this.name="InvalidAccountIdError",this.accountId=e,Object.setPrototypeOf(this,t2.prototype)}}class t6 extends tY{constructor(e){super(e,"SIGNATURE_ERROR"),this.name="SignatureError",Object.setPrototypeOf(this,t6.prototype)}}class t8 extends tY{constructor(e,t){super(`Gas limit exceeded: used ${e}, limit ${t}`,"GAS_LIMIT_EXCEEDED"),this.name="GasLimitExceededError",this.gasUsed=e,this.gasLimit=t,Object.setPrototypeOf(this,t8.prototype)}}class t3 extends tY{constructor(e){super(`Transaction timed out: ${e}`,"TRANSACTION_TIMEOUT"),this.name="TransactionTimeoutError",this.transactionHash=e,Object.setPrototypeOf(this,t3.prototype)}}class t4 extends tY{constructor(e){super(e,"WALLET_ERROR"),this.name="WalletError",Object.setPrototypeOf(this,t4.prototype)}}class t5 extends tY{constructor(e){super(`Block not found: ${e}. It may have been garbage-collected. Try an archival node for blocks older than 5 epochs.`,"UNKNOWN_BLOCK"),this.name="UnknownBlockError",this.blockReference=e,Object.setPrototypeOf(this,t5.prototype)}}class t9 extends tY{constructor(e){super(`Invalid account ID format: ${e}`,"INVALID_ACCOUNT"),this.name="InvalidAccountError",this.accountId=e,Object.setPrototypeOf(this,t9.prototype)}}class t7 extends tY{constructor(e){super(e||"The requested shard is not tracked by this node. Try a different node.","UNAVAILABLE_SHARD"),this.retryable=!0,this.name="ShardUnavailableError",Object.setPrototypeOf(this,t7.prototype)}}class re extends tY{constructor(e){super(e||"Node is still syncing. Wait for sync to complete or try a different node.","NOT_SYNCED"),this.retryable=!0,this.name="NodeNotSyncedError",Object.setPrototypeOf(this,re.prototype)}}class rt extends tY{constructor(e){super(`No contract deployed on account: ${e}`,"NO_CONTRACT_CODE"),this.name="ContractNotDeployedError",this.accountId=e,Object.setPrototypeOf(this,rt.prototype)}}class rr extends tY{constructor(e){super(`Contract state too large (>50kb) for account ${e}. Try a node with larger limits.`,"TOO_LARGE_CONTRACT_STATE"),this.name="ContractStateTooLargeError",this.accountId=e,Object.setPrototypeOf(this,rr.prototype)}}class rn extends tY{constructor(e,t,r){super(t?`Contract execution failed: ${e}.${t}`:`Contract execution failed: ${e}`,"CONTRACT_EXECUTION_ERROR",r),this.name="ContractExecutionError",this.contractId=e,void 0!==t&&(this.methodName=t),void 0!==r&&(this.details=r),Object.setPrototypeOf(this,rn.prototype)}}class ro extends tY{constructor(e){super(`Chunk not found: ${e}. It may have been garbage-collected. Try an archival node.`,"UNKNOWN_CHUNK"),this.name="UnknownChunkError",this.chunkReference=e,Object.setPrototypeOf(this,ro.prototype)}}class ri extends tY{constructor(e){super(`Invalid shard ID: ${e}. Provide a valid shard ID within the network's range.`,"INVALID_SHARD_ID"),this.name="InvalidShardIdError",this.shardId=e,Object.setPrototypeOf(this,ri.prototype)}}class rs extends tY{constructor(e){super(`Epoch not found for block: ${e}. The block may be invalid or too old. Try an archival node.`,"UNKNOWN_EPOCH"),this.name="UnknownEpochError",this.blockReference=e,Object.setPrototypeOf(this,rs.prototype)}}class ra extends tY{constructor(e,t){super(`Invalid transaction nonce: transaction nonce ${e} must be greater than access key nonce ${t}`,"INVALID_NONCE"),this.retryable=!0,this.name="InvalidNonceError",this.txNonce=e,this.akNonce=t,Object.setPrototypeOf(this,ra.prototype)}}class rl extends tY{constructor(e,t){super(e,"INVALID_TRANSACTION",t),this.name="InvalidTransactionError",this.details=t;const r=t;this.shardCongested=!!r?.ShardCongested,this.shardStuck=!!r?.ShardStuck,this.retryable=this.shardCongested||this.shardStuck,Object.setPrototypeOf(this,rl.prototype)}}class rc extends tY{constructor(e){super(`Receipt not found: ${e}. It may not have been observed on this node.`,"UNKNOWN_RECEIPT"),this.name="UnknownReceiptError",this.receiptId=e,Object.setPrototypeOf(this,rc.prototype)}}class ru extends tY{constructor(e,t){super(`Request validation failed: ${e}. Check that all parameters are valid.`,"PARSE_ERROR",t),this.name="ParseError",Object.setPrototypeOf(this,ru.prototype)}}class rd extends tY{constructor(e,t){super(e||"Request timed out. The transaction may still be processed. Resubmit the identical transaction.","TIMEOUT_ERROR"),this.retryable=!0,this.name="TimeoutError",void 0!==t&&(this.transactionHash=t),Object.setPrototypeOf(this,rd.prototype)}}class rf extends tY{constructor(e,t){super(e||"Internal server error. The node may be overloaded. Try again or use a different node.","INTERNAL_ERROR",t),this.retryable=!0,this.name="InternalServerError",Object.setPrototypeOf(this,rf.prototype)}}var rh=r(5600);function rp(e,t,r){return e&t^~e&r}function rm(e,t,r){return e&t^e&r^t&r}rh.z.object({account_id:rh.z.string().optional(),public_key:rh.z.string(),private_key:rh.z.string(),seed_phrase_hd_path:rh.z.string().optional(),master_seed_phrase:rh.z.string().optional(),implicit_account_id:rh.z.string().optional()}),rh.z.object({account_id:rh.z.string().optional(),public_key:rh.z.string(),secret_key:rh.z.string(),seed_phrase_hd_path:rh.z.string().optional(),master_seed_phrase:rh.z.string().optional(),implicit_account_id:rh.z.string().optional()}),rh.z.enum(["mainnet","testnet","betanet","localnet"]);class ry{blockLen;outputLen;padOffset;isLE;buffer;view;finished=!1;length=0;pos=0;destroyed=!1;constructor(e,t,r,n){this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=ed(this.buffer)}update(e){ea(this),ei(e);let{view:t,buffer:r,blockLen:n}=this,o=e.length;for(let i=0;i<o;){let s=Math.min(n-this.pos,o-i);if(s===n){let t=ed(e);for(;n<=o-i;i+=n)this.process(t,i);continue}r.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ea(this),el(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:o}=this,{pos:i}=this;t[i++]=128,eu(this.buffer.subarray(i)),this.padOffset>n-i&&(this.process(r,0),i=0);for(let e=i;e<n;e++)t[e]=0;r.setBigUint64(n-8,BigInt(8*this.length),o),this.process(r,0);let s=ed(e),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen must be aligned to 32bit");let l=a/4,c=this.get();if(l>c.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)s.setUint32(4*e,c[e],o)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){(e||=new this.constructor).set(...this.get());let{blockLen:t,buffer:r,length:n,finished:o,destroyed:i,pos:s}=this;return e.destroyed=i,e.finished=o,e.length=n,e.pos=s,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let rg=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),rv=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),rb=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),rE=new Uint32Array(64);class r_ extends ry{constructor(e){super(64,e,8,!1)}get(){let{A:e,B:t,C:r,D:n,E:o,F:i,G:s,H:a}=this;return[e,t,r,n,o,i,s,a]}set(e,t,r,n,o,i,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)rE[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=rE[e-15],r=rE[e-2],n=ef(t,7)^ef(t,18)^t>>>3,o=ef(r,17)^ef(r,19)^r>>>10;rE[e]=o+rE[e-7]+n+rE[e-16]|0}let{A:r,B:n,C:o,D:i,E:s,F:a,G:l,H:c}=this;for(let e=0;e<64;e++){let t=c+(ef(s,6)^ef(s,11)^ef(s,25))+rp(s,a,l)+rb[e]+rE[e]|0,u=(ef(r,2)^ef(r,13)^ef(r,22))+rm(r,n,o)|0;c=l,l=a,a=s,s=i+t|0,i=o,o=n,n=r,r=t+u|0}r=r+this.A|0,n=n+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,o,i,s,a,l,c)}roundClean(){eu(rE)}destroy(){this.set(0,0,0,0,0,0,0,0),eu(this.buffer)}}class rw extends r_{A=0|rg["0"];B=0|rg["1"];C=0|rg["2"];D=0|rg["3"];E=0|rg["4"];F=0|rg["5"];G=0|rg["6"];H=0|rg["7"];constructor(){super(32)}}let rS=F(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),rP=rS[0],rT=rS[1],rO=new Uint32Array(80),rI=new Uint32Array(80);class rx extends ry{constructor(e){super(128,e,16,!1)}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:o,Cl:i,Dh:s,Dl:a,Eh:l,El:c,Fh:u,Fl:d,Gh:f,Gl:h,Hh:p,Hl:m}=this;return[e,t,r,n,o,i,s,a,l,c,u,d,f,h,p,m]}set(e,t,r,n,o,i,s,a,l,c,u,d,f,h,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|d,this.Gh=0|f,this.Gl=0|h,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let r=0;r<16;r++,t+=4)rO[r]=e.getUint32(t),rI[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|rO[e-15],r=0|rI[e-15],n=G(t,r,1)^G(t,r,8)^$(t,r,7),o=L(t,r,1)^L(t,r,8)^B(t,r,7),i=0|rO[e-2],s=0|rI[e-2],a=G(i,s,19)^H(i,s,61)^$(i,s,6),l=Q(o,L(i,s,19)^q(i,s,61)^B(i,s,6),rI[e-7],rI[e-16]),c=ee(l,n,a,rO[e-7],rO[e-16]);rO[e]=0|c,rI[e]=0|l}let{Ah:r,Al:n,Bh:o,Bl:i,Ch:s,Cl:a,Dh:l,Dl:c,Eh:u,El:d,Fh:f,Fl:h,Gh:p,Gl:m,Hh:y,Hl:g}=this;for(let e=0;e<80;e++){let t=G(u,d,14)^G(u,d,18)^H(u,d,41),v=L(u,d,14)^L(u,d,18)^q(u,d,41),b=u&f^~u&p,E=et(g,v,d&h^~d&m,rT[e],rI[e]),_=er(E,y,t,b,rP[e],rO[e]),w=0|E,S=G(r,n,28)^H(r,n,34)^H(r,n,39),P=L(r,n,28)^q(r,n,34)^q(r,n,39),T=r&o^r&s^o&s,O=n&i^n&a^i&a;y=0|p,g=0|m,p=0|f,m=0|h,f=0|u,h=0|d,({h:u,l:d}=Z(0|l,0|c,0|_,0|w)),l=0|s,c=0|a,s=0|o,a=0|i,o=0|r,i=0|n;let I=J(w,P,O);r=X(I,_,S,T),n=0|I}({h:r,l:n}=Z(0|this.Ah,0|this.Al,0|r,0|n)),({h:o,l:i}=Z(0|this.Bh,0|this.Bl,0|o,0|i)),({h:s,l:a}=Z(0|this.Ch,0|this.Cl,0|s,0|a)),({h:l,l:c}=Z(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:d}=Z(0|this.Eh,0|this.El,0|u,0|d)),({h:f,l:h}=Z(0|this.Fh,0|this.Fl,0|f,0|h)),({h:p,l:m}=Z(0|this.Gh,0|this.Gl,0|p,0|m)),({h:y,l:g}=Z(0|this.Hh,0|this.Hl,0|y,0|g)),this.set(r,n,o,i,s,a,l,c,u,d,f,h,p,m,y,g)}roundClean(){eu(rO,rI)}destroy(){eu(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class rA extends rx{Ah=0|rv["0"];Al=0|rv["1"];Bh=0|rv["2"];Bl=0|rv["3"];Ch=0|rv["4"];Cl=0|rv["5"];Dh=0|rv["6"];Dl=0|rv["7"];Eh=0|rv["8"];El=0|rv["9"];Fh=0|rv["10"];Fl=0|rv["11"];Gh=0|rv["12"];Gl=0|rv["13"];Hh=0|rv["14"];Hl=0|rv["15"];constructor(){super(64)}}let rR=ex(()=>new rw,eR(1)),rN=ex(()=>new rA,eR(3)),rk=BigInt(0),rC=BigInt(1);function rD(e,t=""){if("boolean"!=typeof e)throw Error((t&&`"${t}" `)+"expected boolean, got type="+typeof e);return e}function rj(e){if("bigint"==typeof e){if(!rH(e))throw Error("positive bigint expected, got "+e)}else eo(e);return e}function rz(e){let t=rj(e).toString(16);return 1&t.length?"0"+t:t}function rU(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?rk:BigInt("0x"+e)}function rM(e){return rU(ev(e))}function rF(e){return rU(ev(rL(ei(e)).reverse()))}function r$(e,t){eo(t);let r=eO((e=rj(e)).toString(16).padStart(2*t,"0"));if(r.length!==t)throw Error("number too large");return r}function rB(e,t){return r$(e,t).reverse()}function rG(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}function rL(e){return Uint8Array.from(e)}let rH=e=>"bigint"==typeof e&&rk<=e;function rq(e,t,r){return rH(e)&&rH(t)&&rH(r)&&t<=e&&e<r}function rK(e,t,r,n){if(!rq(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function rV(e){let t;for(t=0;e>rk;e>>=rC,t+=1);return t}let rW=e=>(rC<<BigInt(e))-rC;function rY(e,t,r){if(eo(e,"hashLen"),eo(t,"qByteLen"),"function"!=typeof r)throw Error("hmacFn must be a function");let n=e=>new Uint8Array(e),o=Uint8Array.of(),i=Uint8Array.of(0),s=Uint8Array.of(1),a=1e3,l=n(e),c=n(e),u=0,d=()=>{l.fill(1),c.fill(0),u=0},f=(...e)=>r(c,eI(l,...e)),h=(e=o)=>{c=f(i,e),l=f(),0!==e.length&&(c=f(s,e),l=f())},p=()=>{if(u++>=a)throw Error("drbg: tried max amount of iterations");let e=0,r=[];for(;e<t;){let t=(l=f()).slice();r.push(t),e+=l.length}return eI(...r)};return(e,t)=>{let r;for(d(),h(e);!(r=t(p()));)h();return d(),r}}function rZ(e,t={},r={}){if(!e||"object"!=typeof e)throw Error("expected valid options object");function n(t,r,n){let o=e[t];if(n&&void 0===o)return;let i=typeof o;if(i!==r||null===o)throw Error(`param "${t}" is invalid: expected ${r}, got ${i}`)}let o=(e,t)=>Object.entries(e).forEach(([e,r])=>n(e,r,t));o(t,!1),o(r,!0)}let rJ=()=>{throw Error("not implemented")};function rX(e){let t=new WeakMap;return(r,...n)=>{let o=t.get(r);if(void 0!==o)return o;let i=e(r,...n);return t.set(r,i),i}}let rQ=BigInt(0),r0=BigInt(1),r1=BigInt(2),r2=BigInt(3),r6=BigInt(4),r8=BigInt(5),r3=BigInt(7),r4=BigInt(8),r5=BigInt(9),r9=BigInt(16);function r7(e,t){let r=e%t;return r>=rQ?r:t+r}function ne(e,t,r){let n=e;for(;t-- >rQ;)n*=n,n%=r;return n}function nt(e,t){if(e===rQ)throw Error("invert: expected non-zero number");if(t<=rQ)throw Error("invert: expected positive modulus, got "+t);let r=r7(e,t),n=t,o=rQ,i=r0,s=r0,a=rQ;for(;r!==rQ;){let e=n/r,t=n%r,l=o-s*e,c=i-a*e;n=r,r=t,o=s,i=a,s=l,a=c}if(n!==r0)throw Error("invert: does not exist");return r7(o,t)}function nr(e,t,r){if(!e.eql(e.sqr(t),r))throw Error("Cannot find square root")}function nn(e,t){let r=(e.ORDER+r0)/r6,n=e.pow(t,r);return nr(e,n,t),n}function no(e,t){let r=(e.ORDER-r8)/r4,n=e.mul(t,r1),o=e.pow(n,r),i=e.mul(t,o),s=e.mul(e.mul(i,r1),o),a=e.mul(i,e.sub(s,e.ONE));return nr(e,a,t),a}function ni(e){let t=ny(e),r=ns(e),n=r(t,t.neg(t.ONE)),o=r(t,n),i=r(t,t.neg(n)),s=(e+r3)/r9;return(e,t)=>{let r=e.pow(t,s),a=e.mul(r,n),l=e.mul(r,o),c=e.mul(r,i),u=e.eql(e.sqr(a),t),d=e.eql(e.sqr(l),t);r=e.cmov(r,a,u),a=e.cmov(c,l,d);let f=e.eql(e.sqr(a),t),h=e.cmov(r,a,f);return nr(e,h,t),h}}function ns(e){if(e<r2)throw Error("sqrt is not defined for small field");let t=e-r0,r=0;for(;t%r1===rQ;)t/=r1,r++;let n=r1,o=ny(e);for(;1===nh(o,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return nn;let i=o.pow(n,t),s=(t+r0)/r1;return function(e,n){if(e.is0(n))return n;if(1!==nh(e,n))throw Error("Cannot find square root");let o=r,a=e.mul(e.ONE,i),l=e.pow(n,t),c=e.pow(n,s);for(;!e.eql(l,e.ONE);){if(e.is0(l))return e.ZERO;let t=1,r=e.sqr(l);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===o)throw Error("Cannot find square root");let n=r0<<BigInt(o-t-1),i=e.pow(a,n);o=t,a=e.sqr(i),l=e.mul(l,a),c=e.mul(c,i)}return c}}function na(e){return e%r6===r2?nn:e%r4===r8?no:e%r9===r5?ni(e):ns(e)}let nl=(e,t)=>(r7(e,t)&r0)===r0,nc=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nu(e){let t={ORDER:"bigint",BYTES:"number",BITS:"number"};return rZ(e,nc.reduce((e,t)=>(e[t]="function",e),t)),e}function nd(e,t,r){if(r<rQ)throw Error("invalid exponent, negatives unsupported");if(r===rQ)return e.ONE;if(r===r0)return t;let n=e.ONE,o=t;for(;r>rQ;)r&r0&&(n=e.mul(n,o)),o=e.sqr(o),r>>=r0;return n}function nf(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),o=t.reduce((t,r,o)=>e.is0(r)?t:(n[o]=t,e.mul(t,r)),e.ONE),i=e.inv(o);return t.reduceRight((t,r,o)=>e.is0(r)?t:(n[o]=e.mul(t,n[o]),e.mul(t,r)),i),n}function nh(e,t){let r=(e.ORDER-r0)/r1,n=e.pow(t,r),o=e.eql(n,e.ONE),i=e.eql(n,e.ZERO),s=e.eql(n,e.neg(e.ONE));if(!o&&!i&&!s)throw Error("invalid Legendre symbol result");return o?1:i?0:-1}function np(e,t){void 0!==t&&eo(t);let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}class nm{ORDER;BITS;BYTES;isLE;ZERO=rQ;ONE=r0;_lengths;_sqrt;_mod;constructor(e,t={}){let r;if(e<=rQ)throw Error("invalid field: expected ORDER > 0, got "+e);this.isLE=!1,null!=t&&"object"==typeof t&&("number"==typeof t.BITS&&(r=t.BITS),"function"==typeof t.sqrt&&(this.sqrt=t.sqrt),"boolean"==typeof t.isLE&&(this.isLE=t.isLE),t.allowedLengths&&(this._lengths=t.allowedLengths?.slice()),"boolean"==typeof t.modFromBytes&&(this._mod=t.modFromBytes));const{nBitLength:n,nByteLength:o}=np(e,r);if(o>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");this.ORDER=e,this.BITS=n,this.BYTES=o,this._sqrt=void 0,Object.preventExtensions(this)}create(e){return r7(e,this.ORDER)}isValid(e){if("bigint"!=typeof e)throw Error("invalid field element: expected bigint, got "+typeof e);return rQ<=e&&e<this.ORDER}is0(e){return e===rQ}isValidNot0(e){return!this.is0(e)&&this.isValid(e)}isOdd(e){return(e&r0)===r0}neg(e){return r7(-e,this.ORDER)}eql(e,t){return e===t}sqr(e){return r7(e*e,this.ORDER)}add(e,t){return r7(e+t,this.ORDER)}sub(e,t){return r7(e-t,this.ORDER)}mul(e,t){return r7(e*t,this.ORDER)}pow(e,t){return nd(this,e,t)}div(e,t){return r7(e*nt(t,this.ORDER),this.ORDER)}sqrN(e){return e*e}addN(e,t){return e+t}subN(e,t){return e-t}mulN(e,t){return e*t}inv(e){return nt(e,this.ORDER)}sqrt(e){return this._sqrt||(this._sqrt=na(this.ORDER)),this._sqrt(this,e)}toBytes(e){return this.isLE?rB(e,this.BYTES):r$(e,this.BYTES)}fromBytes(e,t=!1){ei(e);let{_lengths:r,BYTES:n,isLE:o,ORDER:i,_mod:s}=this;if(r){if(!r.includes(e.length)||e.length>n)throw Error("Field.fromBytes: expected "+r+" bytes, got "+e.length);let t=new Uint8Array(n);t.set(e,o?0:t.length-e.length),e=t}if(e.length!==n)throw Error("Field.fromBytes: expected "+n+" bytes, got "+e.length);let a=o?rF(e):rM(e);if(s&&(a=r7(a,i)),!t&&!this.isValid(a))throw Error("invalid field element: outside of range 0..ORDER");return a}invertBatch(e){return nf(this,e)}cmov(e,t,r){return r?t:e}}function ny(e,t={}){return new nm(e,t)}function ng(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function nv(e){let t=ng(e);return t+Math.ceil(t/2)}function nb(e,t,r=!1){ei(e);let n=e.length,o=ng(t),i=nv(t);if(n<16||n<i||n>1024)throw Error("expected "+i+"-1024 bytes of input, got "+n);let s=r7(r?rF(e):rM(e),t-r0)+r0;return r?rB(s,o):r$(s,o)}let nE=BigInt(0),n_=BigInt(1);function nw(e,t){let r=t.negate();return e?r:t}function nS(e,t){let r=nf(e.Fp,t.map(e=>e.Z));return t.map((t,n)=>e.fromAffine(t.toAffine(r[n])))}function nP(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function nT(e,t){nP(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),o=2**e;return{windows:r,windowSize:n,mask:rW(e),maxNumber:o,shiftBy:BigInt(e)}}function nO(e,t,r){let{windowSize:n,mask:o,maxNumber:i,shiftBy:s}=r,a=Number(e&o),l=e>>s;a>n&&(a-=i,l+=n_);let c=t*n,u=c+Math.abs(a)-1;return{nextN:l,offset:u,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:c}}let nI=new WeakMap,nx=new WeakMap;function nA(e){return nx.get(e)||1}function nR(e){if(e!==nE)throw Error("invalid wNAF")}class nN{BASE;ZERO;Fn;bits;constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let n=e;for(;t>nE;)t&n_&&(r=r.add(n)),n=n.double(),t>>=n_;return r}precomputeWindow(e,t){let{windows:r,windowSize:n}=nT(t,this.bits),o=[],i=e,s=i;for(let e=0;e<r;e++){s=i,o.push(s);for(let e=1;e<n;e++)s=s.add(i),o.push(s);i=s.double()}return o}wNAF(e,t,r){if(!this.Fn.isValid(r))throw Error("invalid scalar");let n=this.ZERO,o=this.BASE,i=nT(e,this.bits);for(let e=0;e<i.windows;e++){let{nextN:s,offset:a,isZero:l,isNeg:c,isNegF:u,offsetF:d}=nO(r,e,i);r=s,l?o=o.add(nw(u,t[d])):n=n.add(nw(c,t[a]))}return nR(r),{p:n,f:o}}wNAFUnsafe(e,t,r,n=this.ZERO){let o=nT(e,this.bits);for(let e=0;e<o.windows&&r!==nE;e++){let{nextN:i,offset:s,isZero:a,isNeg:l}=nO(r,e,o);if(r=i,!a){let e=t[s];n=n.add(l?e.negate():e)}}return nR(r),n}getPrecomputes(e,t,r){let n=nI.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(n=r(n)),nI.set(t,n))),n}cached(e,t,r){let n=nA(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)}unsafe(e,t,r,n){let o=nA(e);return 1===o?this._unsafeLadder(e,t,n):this.wNAFUnsafe(o,this.getPrecomputes(o,e,r),t,n)}createCache(e,t){nP(t,this.bits),nx.set(e,t),nI.delete(e)}hasCache(e){return 1!==nA(e)}}function nk(e,t,r,n){let o=t,i=e.ZERO,s=e.ZERO;for(;r>nE||n>nE;)r&n_&&(i=i.add(o)),n&n_&&(s=s.add(o)),o=o.double(),r>>=n_,n>>=n_;return{p1:i,p2:s}}function nC(e,t,r){if(!t)return ny(e,{isLE:r});if(t.ORDER!==e)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return nu(t),t}function nD(e,t,r={},n){if(void 0===n&&(n="edwards"===e),!t||"object"!=typeof t)throw Error(`expected valid ${e} CURVE object`);for(let e of["p","n","h"]){let r=t[e];if(!("bigint"==typeof r&&r>nE))throw Error(`CURVE.${e} must be positive bigint`)}let o=nC(t.p,r.Fp,n),i=nC(t.n,r.Fn,n);for(let r of["Gx","Gy","a","weierstrass"===e?"b":"d"])if(!o.isValid(t[r]))throw Error(`CURVE.${r} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:o,Fn:i}}function nj(e,t){return function(r){let n=e(r);return{secretKey:n,publicKey:t(n)}}}let nz=BigInt(0),nU=BigInt(1),nM=BigInt(2),nF=BigInt(8);function n$(e,t,r,n){let o=e.sqr(r),i=e.sqr(n),s=e.add(e.mul(t.a,o),i),a=e.add(e.ONE,e.mul(t.d,e.mul(o,i)));return e.eql(s,a)}function nB(e,t={}){let r=nD("edwards",e,t,t.FpFnLE),{Fp:n,Fn:o}=r,i=r.CURVE,{h:s}=i;rZ(t,{},{uvRatio:"function"});let a=nM<<BigInt(8*o.BYTES)-nU,l=e=>n.create(e),c=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(n.div(e,t))}}catch(e){return{isValid:!1,value:nz}}});if(!n$(n,i,i.Gx,i.Gy))throw Error("bad curve params: generator point");function u(e,t,r=!1){return rK("coordinate "+e,t,r?nU:nz,a),t}function d(e){if(!(e instanceof p))throw Error("EdwardsPoint expected")}let f=rX((e,t)=>{let{X:r,Y:o,Z:i}=e,s=e.is0();null==t&&(t=s?nF:n.inv(i));let a=l(r*t),c=l(o*t),u=n.mul(i,t);if(s)return{x:nz,y:nU};if(u!==nU)throw Error("invZ was invalid");return{x:a,y:c}}),h=rX(e=>{let{a:t,d:r}=i;if(e.is0())throw Error("bad point: ZERO");let{X:n,Y:o,Z:s,T:a}=e,c=l(n*n),u=l(o*o),d=l(s*s),f=l(d*d),h=l(c*t);if(l(d*l(h+u))!==l(f+l(r*l(c*u))))throw Error("bad point: equation left != right (1)");if(l(n*o)!==l(s*a))throw Error("bad point: equation left != right (2)");return!0});class p{static BASE=new p(i.Gx,i.Gy,nU,l(i.Gx*i.Gy));static ZERO=new p(nz,nU,nU,nz);static Fp=n;static Fn=o;X;Y;Z;T;constructor(e,t,r,n){this.X=u("x",e),this.Y=u("y",t),this.Z=u("z",r,!0),this.T=u("t",n),Object.freeze(this)}static CURVE(){return i}static fromAffine(e){if(e instanceof p)throw Error("extended point not allowed");let{x:t,y:r}=e||{};return u("x",t),u("y",r),new p(t,r,nU,l(t*r))}static fromBytes(e,t=!1){let r=n.BYTES,{a:o,d:s}=i;e=rL(ei(e,r,"point")),rD(t,"zip215");let u=rL(e),d=e[r-1];u[r-1]=-129&d;let f=rF(u);rK("point.y",f,nz,t?a:n.ORDER);let h=l(f*f),{isValid:m,value:y}=c(l(h-nU),l(s*h-o));if(!m)throw Error("bad point: invalid y coordinate");let g=(y&nU)===nU,v=(128&d)!=0;if(!t&&y===nz&&v)throw Error("bad point: x=0 and x_0=1");return v!==g&&(y=l(-y)),p.fromAffine({x:y,y:f})}static fromHex(e,t=!1){return p.fromBytes(eO(e),t)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return m.createCache(this,e),t||this.multiply(nM),this}assertValidity(){h(this)}equals(e){d(e);let{X:t,Y:r,Z:n}=this,{X:o,Y:i,Z:s}=e,a=l(t*s),c=l(o*n),u=l(r*s),f=l(i*n);return a===c&&u===f}is0(){return this.equals(p.ZERO)}negate(){return new p(l(-this.X),this.Y,this.Z,l(-this.T))}double(){let{a:e}=i,{X:t,Y:r,Z:n}=this,o=l(t*t),s=l(r*r),a=l(nM*l(n*n)),c=l(e*o),u=t+r,d=l(l(u*u)-o-s),f=c+s,h=f-a,m=c-s,y=l(d*h),g=l(f*m),v=l(d*m);return new p(y,g,l(h*f),v)}add(e){d(e);let{a:t,d:r}=i,{X:n,Y:o,Z:s,T:a}=this,{X:c,Y:u,Z:f,T:h}=e,m=l(n*c),y=l(o*u),g=l(a*r*h),v=l(s*f),b=l((n+o)*(c+u)-m-y),E=v-g,_=v+g,w=l(y-t*m),S=l(b*E),P=l(_*w),T=l(b*w);return new p(S,P,l(E*_),T)}subtract(e){return this.add(e.negate())}multiply(e){if(!o.isValidNot0(e))throw Error("invalid scalar: expected 1 <= sc < curve.n");let{p:t,f:r}=m.cached(this,e,e=>nS(p,e));return nS(p,[t,r])[0]}multiplyUnsafe(e,t=p.ZERO){if(!o.isValid(e))throw Error("invalid scalar: expected 0 <= sc < curve.n");return e===nz?p.ZERO:this.is0()||e===nU?this:m.unsafe(this,e,e=>nS(p,e),t)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return m.unsafe(this,i.n).is0()}toAffine(e){return f(this,e)}clearCofactor(){return s===nU?this:this.multiplyUnsafe(s)}toBytes(){let{x:e,y:t}=this.toAffine(),r=n.toBytes(t);return r[r.length-1]|=e&nU?128:0,r}toHex(){return ev(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}let m=new nN(p,o.BITS);return p.BASE.precompute(8),p}class nG{static BASE;static ZERO;static Fp;static Fn;ep;constructor(e){this.ep=e}static fromBytes(e){rJ()}static fromHex(e){rJ()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toHex(){return ev(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,t){return this.init(this.ep.precompute(e,t))}}function nL(e,t,r={}){if("function"!=typeof t)throw Error('"hash" function param is required');rZ(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:n}=r,{BASE:o,Fp:i,Fn:s}=e,a=r.randomBytes||eA,l=r.adjustScalarBytes||(e=>e),c=r.domain||((e,t,r)=>{if(rD(r,"phflag"),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function u(e){return s.create(rF(e))}function d(e){let r=b.secretKey;ei(e,b.secretKey,"secretKey");let n=ei(t(e),2*r,"hashedSecretKey"),o=l(n.slice(0,r)),i=n.slice(r,2*r),s=u(o);return{head:o,prefix:i,scalar:s}}function f(e){let{head:t,prefix:r,scalar:n}=d(e),i=o.multiply(n),s=i.toBytes();return{head:t,prefix:r,scalar:n,point:i,pointBytes:s}}function h(e){return f(e).pointBytes}function p(e=Uint8Array.of(),...r){return u(t(c(eI(...r),ei(e,void 0,"context"),!!n)))}function m(e,t,r={}){e=ei(e,void 0,"message"),n&&(e=n(e));let{prefix:i,scalar:a,pointBytes:l}=f(t),c=p(r.context,i,e),u=o.multiply(c).toBytes(),d=p(r.context,u,l,e),h=s.create(c+d*a);if(!s.isValid(h))throw Error("sign failed: invalid s");return ei(eI(u,s.toBytes(h)),b.signature,"result")}let y={zip215:!0};function g(t,r,i,s=y){let a,l,c,{context:u,zip215:d}=s,f=b.signature;t=ei(t,f,"signature"),r=ei(r,void 0,"message"),i=ei(i,b.publicKey,"publicKey"),void 0!==d&&rD(d,"zip215"),n&&(r=n(r));let h=f/2,m=t.subarray(0,h),v=rF(t.subarray(h,f));try{a=e.fromBytes(i,d),l=e.fromBytes(m,d),c=o.multiplyUnsafe(v)}catch(e){return!1}if(!d&&a.isSmallOrder())return!1;let E=p(u,l.toBytes(),a.toBytes(),r);return l.add(a.multiplyUnsafe(E)).subtract(c).clearCofactor().is0()}let v=i.BYTES,b={secretKey:v,publicKey:v,signature:2*v,seed:v};function E(e=a(b.seed)){return ei(e,b.seed,"seed")}let _={getExtendedPublicKey:f,randomSecretKey:E,isValidSecretKey:function(e){return en(e)&&e.length===s.BYTES},isValidPublicKey:function(t,r){try{return!!e.fromBytes(t,r)}catch(e){return!1}},toMontgomery(t){let{y:r}=e.fromBytes(t),n=b.publicKey,o=32===n;if(!o&&57!==n)throw Error("only defined for 25519 and 448");let s=o?i.div(nU+r,nU-r):i.div(r-nU,r+nU);return i.toBytes(s)},toMontgomerySecret(e){let r=b.secretKey;return ei(e,r),l(t(e.subarray(0,r))).subarray(0,r)}};return Object.freeze({keygen:nj(E,h),getPublicKey:h,sign:m,verify:g,utils:_,Point:e,lengths:b})}let nH=BigInt(0),nq=BigInt(1),nK=BigInt(2),nV=BigInt(5),nW=BigInt(8),nY=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),nZ={p:nY,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:nW,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function nJ(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),o=BigInt(80),i=nY,s=e*e%i*e%i,a=ne(s,nK,i)*s%i,l=ne(a,nq,i)*e%i,c=ne(l,nV,i)*l%i,u=ne(c,t,i)*c%i,d=ne(u,r,i)*u%i,f=ne(d,n,i)*d%i,h=ne(f,o,i)*f%i,p=ne(h,o,i)*f%i,m=ne(p,t,i)*c%i;return{pow_p_5_8:ne(m,nK,i)*e%i,b2:s}}function nX(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}let nQ=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function n0(e,t){let r=nY,n=r7(t*t*t,r),o=nJ(e*r7(n*n*t,r)).pow_p_5_8,i=r7(e*n*o,r),s=r7(t*i*i,r),a=i,l=r7(i*nQ,r),c=s===e,u=s===r7(-e,r),d=s===r7(-e*nQ,r);return c&&(i=a),(u||d)&&(i=l),nl(i,r)&&(i=r7(-i,r)),{isValid:c||u,value:i}}let n1=nB(nZ,{uvRatio:n0}),n2=n1.Fp,n6=n1.Fn,n8=function(e){return nL(n1,rN,Object.assign({adjustScalarBytes:nX},e))}({}),n3=null,n4=null,n5=nQ,n9=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),n7=e=>n0(nq,e),oe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ot=e=>n2.create(rF(e)&oe);class or extends nG{static BASE=new or(n1.BASE);static ZERO=new or(n1.ZERO);static Fp=n2;static Fn=n6;constructor(e){super(e)}static fromAffine(e){return new or(n1.fromAffine(e))}assertSame(e){if(!(e instanceof or))throw Error("RistrettoPoint expected")}init(e){return new or(e)}static fromBytes(e){ei(e,32);let{a:t,d:r}=nZ,n=nY,o=e=>n2.create(e),i=ot(e);if(!rG(n2.toBytes(i),e)||nl(i,n))throw Error("invalid ristretto255 encoding 1");let s=o(i*i),a=o(nq+t*s),l=o(nq-t*s),c=o(a*a),u=o(l*l),d=o(t*r*c-u),{isValid:f,value:h}=n7(o(d*u)),p=o(h*l),m=o(h*p*d),y=o((i+i)*p);nl(y,n)&&(y=o(-y));let g=o(a*m),v=o(y*g);if(!f||nl(v,n)||g===nH)throw Error("invalid ristretto255 encoding 2");return new or(new n1(y,g,nq,v))}static fromHex(e){return or.fromBytes(eO(e))}toBytes(){let e,{X:t,Y:r,Z:n,T:o}=this.ep,i=nY,s=e=>n2.create(e),a=s(s(n+r)*s(n-r)),l=s(t*r),c=s(l*l),{value:u}=n7(s(a*c)),d=s(u*a),f=s(u*l),h=s(d*f*o);if(nl(o*h,i)){let n=s(r*n5),o=s(t*n5);t=n,r=o,e=s(d*n9)}else e=f;nl(t*h,i)&&(r=s(-r));let p=s((n-r)*e);return nl(p,i)&&(p=s(-p)),n2.toBytes(p)}equals(e){this.assertSame(e);let{X:t,Y:r}=this.ep,{X:n,Y:o}=e.ep,i=e=>n2.create(e),s=i(t*o)===i(r*n),a=i(r*o)===i(t*n);return s||a}is0(){return this.equals(or.ZERO)}}class on{oHash;iHash;blockLen;outputLen;finished=!1;destroyed=!1;constructor(e,t){if(es(e),ei(t,void 0,"key"),this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,n=new Uint8Array(r);n.set(t.length>r?e.create().update(t).digest():t);for(let e=0;e<n.length;e++)n[e]^=54;this.iHash.update(n),this.oHash=e.create();for(let e=0;e<n.length;e++)n[e]^=106;this.oHash.update(n),eu(n)}update(e){return ea(this),this.iHash.update(e),this}digestInto(e){ea(this),ei(e,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||=Object.create(Object.getPrototypeOf(this),{});let{oHash:t,iHash:r,finished:n,destroyed:o,blockLen:i,outputLen:s}=this;return e.finished=n,e.destroyed=o,e.blockLen=i,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let oo=(e,t,r)=>new on(e,t).update(r).digest();oo.create=(e,t)=>new on(e,t);let oi=(e,t)=>(e+(e>=0?t:-t)/oh)/t;function os(e,t,r){let[[n,o],[i,s]]=t,a=oi(s*e,r),l=oi(-o*e,r),c=e-a*n-l*i,u=-a*o-l*s,d=c<od,f=u<od;d&&(c=-c),f&&(u=-u);let h=rW(Math.ceil(rV(r)/2))+of;if(c<od||c>=h||u<od||u>=h)throw Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:d,k1:c,k2neg:f,k2:u}}function oa(e){if(!["compact","recovered","der"].includes(e))throw Error('Signature format must be "compact", "recovered", or "der"');return e}function ol(e,t){let r={};for(let n of Object.keys(t))r[n]=void 0===e[n]?t[n]:e[n];return rD(r.lowS,"lowS"),rD(r.prehash,"prehash"),void 0!==r.format&&oa(r.format),r}class oc extends Error{constructor(e=""){super(e)}}let ou={Err:oc,_tlv:{encode:(e,t)=>{let{Err:r}=ou;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,o=rz(n);if(o.length/2&128)throw new r("tlv.encode: long form length too big");let i=n>127?rz(o.length/2|128):"";return rz(e)+i+o+t},decode(e,t){let{Err:r}=ou,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let o=t[n++],i=0;if(128&o){let e=127&o;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of s)i=i<<8|e;if(n+=e,i<128)throw new r("tlv.decode(long): not minimal encoding")}else i=o;let s=t.subarray(n,n+i);if(s.length!==i)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+i)}}},_int:{encode(e){let{Err:t}=ou;if(e<od)throw new t("integer: negative integers are not allowed");let r=rz(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=ou;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return rM(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=ou,o=ei(e,void 0,"signature"),{v:i,l:s}=n.decode(48,o);if(s.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:l}=n.decode(2,i),{v:c,l:u}=n.decode(2,l);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(c)}},hexFromSig(e){let{_tlv:t,_int:r}=ou,n=t.encode(2,r.encode(e.r))+t.encode(2,r.encode(e.s));return t.encode(48,n)}},od=BigInt(0),of=BigInt(1),oh=BigInt(2),op=BigInt(3),om=BigInt(4);function oy(e,t={}){let r=nD("weierstrass",e,t),{Fp:n,Fn:o}=r,i=r.CURVE,{h:s,n:a}=i;rZ(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object"});let{endo:l}=t;if(l&&(!n.is0(i.a)||"bigint"!=typeof l.beta||!Array.isArray(l.basises)))throw Error('invalid endo: expected "beta": bigint and "basises": array');let c=ov(n,o);function u(){if(!n.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}function d(e,t,r){let{x:o,y:i}=t.toAffine(),s=n.toBytes(o);return(rD(r,"isCompressed"),r)?(u(),eI(og(!n.isOdd(i)),s)):eI(Uint8Array.of(4),s,n.toBytes(i))}function f(e){ei(e,void 0,"Point");let{publicKey:t,publicKeyUncompressed:r}=c,o=e.length,i=e[0],s=e.subarray(1);if(o===t&&(2===i||3===i)){let e,t=n.fromBytes(s);if(!n.isValid(t))throw Error("bad point: is not on curve, wrong x");let r=m(t);try{e=n.sqrt(r)}catch(e){throw Error("bad point: is not on curve, sqrt error"+(e instanceof Error?": "+e.message:""))}return u(),(1&i)==1!==n.isOdd(e)&&(e=n.neg(e)),{x:t,y:e}}if(o===r&&4===i){let e=n.BYTES,t=n.fromBytes(s.subarray(0,e)),r=n.fromBytes(s.subarray(e,2*e));if(!y(t,r))throw Error("bad point: is not on curve");return{x:t,y:r}}throw Error(`bad point: got length ${o}, expected compressed=${t} or uncompressed=${r}`)}let h=t.toBytes||d,p=t.fromBytes||f;function m(e){let t=n.sqr(e),r=n.mul(t,e);return n.add(n.add(r,n.mul(e,i.a)),i.b)}function y(e,t){let r=n.sqr(t),o=m(e);return n.eql(r,o)}if(!y(i.Gx,i.Gy))throw Error("bad curve params: generator point");let g=n.mul(n.pow(i.a,op),om),v=n.mul(n.sqr(i.b),BigInt(27));if(n.is0(n.add(g,v)))throw Error("bad curve params: a or b");function b(e,t,r=!1){if(!n.isValid(t)||r&&n.is0(t))throw Error(`bad point coordinate ${e}`);return t}function E(e){if(!(e instanceof T))throw Error("Weierstrass Point expected")}function _(e){if(!l||!l.basises)throw Error("no endo");return os(e,l.basises,o.ORDER)}let w=rX((e,t)=>{let{X:r,Y:o,Z:i}=e;if(n.eql(i,n.ONE))return{x:r,y:o};let s=e.is0();null==t&&(t=s?n.ONE:n.inv(i));let a=n.mul(r,t),l=n.mul(o,t),c=n.mul(i,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw Error("invZ was invalid");return{x:a,y:l}}),S=rX(e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.Y))return;throw Error("bad point: ZERO")}let{x:r,y:o}=e.toAffine();if(!n.isValid(r)||!n.isValid(o))throw Error("bad point: x or y not field elements");if(!y(r,o))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function P(e,t,r,o,i){return r=new T(n.mul(r.X,e),r.Y,r.Z),t=nw(o,t),r=nw(i,r),t.add(r)}class T{static BASE=new T(i.Gx,i.Gy,n.ONE);static ZERO=new T(n.ZERO,n.ONE,n.ZERO);static Fp=n;static Fn=o;X;Y;Z;constructor(e,t,r){this.X=b("x",e),this.Y=b("y",t,!0),this.Z=b("z",r),Object.freeze(this)}static CURVE(){return i}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof T)throw Error("projective point not allowed");return n.is0(t)&&n.is0(r)?T.ZERO:new T(t,r,n.ONE)}static fromBytes(e){let t=T.fromAffine(p(ei(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return T.fromBytes(eO(e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return I.createCache(this,e),t||this.multiply(op),this}assertValidity(){S(this)}hasEvenY(){let{y:e}=this.toAffine();if(!n.isOdd)throw Error("Field doesn't support isOdd");return!n.isOdd(e)}equals(e){E(e);let{X:t,Y:r,Z:o}=this,{X:i,Y:s,Z:a}=e,l=n.eql(n.mul(t,a),n.mul(i,o)),c=n.eql(n.mul(r,a),n.mul(s,o));return l&&c}negate(){return new T(this.X,n.neg(this.Y),this.Z)}double(){let{a:e,b:t}=i,r=n.mul(t,op),{X:o,Y:s,Z:a}=this,l=n.ZERO,c=n.ZERO,u=n.ZERO,d=n.mul(o,o),f=n.mul(s,s),h=n.mul(a,a),p=n.mul(o,s);return p=n.add(p,p),u=n.mul(o,a),u=n.add(u,u),l=n.mul(e,u),c=n.mul(r,h),c=n.add(l,c),l=n.sub(f,c),c=n.add(f,c),c=n.mul(l,c),l=n.mul(p,l),u=n.mul(r,u),h=n.mul(e,h),p=n.sub(d,h),p=n.mul(e,p),p=n.add(p,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,h),d=n.mul(d,p),c=n.add(c,d),h=n.mul(s,a),h=n.add(h,h),d=n.mul(h,p),l=n.sub(l,d),u=n.mul(h,f),u=n.add(u,u),new T(l,c,u=n.add(u,u))}add(e){E(e);let{X:t,Y:r,Z:o}=this,{X:s,Y:a,Z:l}=e,c=n.ZERO,u=n.ZERO,d=n.ZERO,f=i.a,h=n.mul(i.b,op),p=n.mul(t,s),m=n.mul(r,a),y=n.mul(o,l),g=n.add(t,r),v=n.add(s,a);g=n.mul(g,v),v=n.add(p,m),g=n.sub(g,v),v=n.add(t,o);let b=n.add(s,l);return v=n.mul(v,b),b=n.add(p,y),v=n.sub(v,b),b=n.add(r,o),c=n.add(a,l),b=n.mul(b,c),c=n.add(m,y),b=n.sub(b,c),d=n.mul(f,v),c=n.mul(h,y),d=n.add(c,d),c=n.sub(m,d),d=n.add(m,d),u=n.mul(c,d),m=n.add(p,p),m=n.add(m,p),y=n.mul(f,y),v=n.mul(h,v),m=n.add(m,y),y=n.sub(p,y),y=n.mul(f,y),v=n.add(v,y),p=n.mul(m,v),u=n.add(u,p),p=n.mul(b,v),c=n.mul(g,c),c=n.sub(c,p),p=n.mul(g,m),d=n.mul(b,d),new T(c,u,d=n.add(d,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(T.ZERO)}multiply(e){let r,n,{endo:i}=t;if(!o.isValidNot0(e))throw Error("invalid scalar: out of range");let s=e=>I.cached(this,e,e=>nS(T,e));if(i){let{k1neg:t,k1:o,k2neg:a,k2:l}=_(e),{p:c,f:u}=s(o),{p:d,f:f}=s(l);n=u.add(f),r=P(i.beta,c,d,t,a)}else{let{p:t,f:o}=s(e);r=t,n=o}return nS(T,[r,n])[0]}multiplyUnsafe(e){let{endo:r}=t,n=this;if(!o.isValid(e))throw Error("invalid scalar: out of range");if(e===od||n.is0())return T.ZERO;if(e===of)return n;if(I.hasCache(this))return this.multiply(e);if(!r)return I.unsafe(n,e);{let{k1neg:t,k1:o,k2neg:i,k2:s}=_(e),{p1:a,p2:l}=nk(T,n,o,s);return P(r.beta,a,l,t,i)}}toAffine(e){return w(this,e)}isTorsionFree(){let{isTorsionFree:e}=t;return s===of||(e?e(T,this):I.unsafe(this,a).is0())}clearCofactor(){let{clearCofactor:e}=t;return s===of?this:e?e(T,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(e=!0){return rD(e,"isCompressed"),this.assertValidity(),h(T,this,e)}toHex(e=!0){return ev(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}let O=o.BITS,I=new nN(T,t.endo?Math.ceil(O/2):O);return T.BASE.precompute(8),T}function og(e){return Uint8Array.of(e?2:3)}function ov(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function ob(e,t={}){let{Fn:r}=e,n=t.randomBytes||eA,o=Object.assign(ov(e.Fp,r),{seed:nv(r.ORDER)});function i(e=n(o.seed)){return nb(ei(e,o.seed,"seed"),r.ORDER)}function s(t,n=!0){return e.BASE.multiply(r.fromBytes(t)).toBytes(n)}function a(e){let{secretKey:t,publicKey:n,publicKeyUncompressed:i}=o;if(!en(e)||"_lengths"in r&&r._lengths||t===n)return;let s=ei(e,void 0,"key").length;return s===n||s===i}function l(t,n,o=!0){if(!0===a(t))throw Error("first arg must be private key");if(!1===a(n))throw Error("second arg must be public key");let i=r.fromBytes(t);return e.fromBytes(n).multiply(i).toBytes(o)}let c={isValidSecretKey:function(e){try{let t=r.fromBytes(e);return r.isValidNot0(t)}catch(e){return!1}},isValidPublicKey:function(t,r){let{publicKey:n,publicKeyUncompressed:i}=o;try{let o=t.length;if(!0===r&&o!==n||!1===r&&o!==i)return!1;return!!e.fromBytes(t)}catch(e){return!1}},randomSecretKey:i},u=nj(i,s);return Object.freeze({getPublicKey:s,getSharedSecret:l,keygen:u,Point:e,utils:c,lengths:o})}function oE(e,t,r={}){es(t),rZ(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=(r=Object.assign({},r)).randomBytes||eA,o=r.hmac||((e,r)=>oo(t,e,r)),{Fp:i,Fn:s}=e,{ORDER:a,BITS:l}=s,{keygen:c,getPublicKey:u,getSharedSecret:d,utils:f,lengths:h}=ob(e,r),p={prehash:!0,lowS:"boolean"!=typeof r.lowS||r.lowS,format:"compact",extraEntropy:!1},m=a*oh<i.ORDER;function y(e){return e>a>>of}function g(e,t){if(!s.isValidNot0(t))throw Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}function v(){if(m)throw Error('"recovered" sig type is not supported for cofactor >2 curves')}function b(e,t){oa(t);let r=h.signature;return ei(e,"compact"===t?r:"recovered"===t?r+1:void 0)}class E{r;s;recovery;constructor(e,t,r){if(this.r=g("r",e),this.s=g("s",t),null!=r){if(v(),![0,1,2,3].includes(r))throw Error("invalid recovery id");this.recovery=r}Object.freeze(this)}static fromBytes(e,t=p.format){let r;if(b(e,t),"der"===t){let{r:t,s:r}=ou.toSig(ei(e));return new E(t,r)}"recovered"===t&&(r=e[0],t="compact",e=e.subarray(1));let n=h.signature/2,o=e.subarray(0,n),i=e.subarray(n,2*n);return new E(s.fromBytes(o),s.fromBytes(i),r)}static fromHex(e,t){return this.fromBytes(eO(e),t)}assertRecovery(){let{recovery:e}=this;if(null==e)throw Error("invalid recovery id: must be present");return e}addRecoveryBit(e){return new E(this.r,this.s,e)}recoverPublicKey(t){let{r,s:n}=this,o=this.assertRecovery(),l=2===o||3===o?r+a:r;if(!i.isValid(l))throw Error("invalid recovery id: sig.r+curve.n != R.x");let c=i.toBytes(l),u=e.fromBytes(eI(og((1&o)==0),c)),d=s.inv(l),f=w(ei(t,void 0,"msgHash")),h=s.create(-f*d),p=s.create(n*d),m=e.BASE.multiplyUnsafe(h).add(u.multiplyUnsafe(p));if(m.is0())throw Error("invalid recovery: point at infinify");return m.assertValidity(),m}hasHighS(){return y(this.s)}toBytes(e=p.format){if(oa(e),"der"===e)return eO(ou.hexFromSig(this));let{r:t,s:r}=this,n=s.toBytes(t),o=s.toBytes(r);return"recovered"===e?(v(),eI(Uint8Array.of(this.assertRecovery()),n,o)):eI(n,o)}toHex(e){return ev(this.toBytes(e))}}let _=r.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=rM(e),r=8*e.length-l;return r>0?t>>BigInt(r):t},w=r.bits2int_modN||function(e){return s.create(_(e))},S=rW(l);function P(e){return rK("num < 2^"+l,e,od,S),s.toBytes(e)}function T(e,r){return ei(e,void 0,"message"),r?ei(t(e),void 0,"prehashed message"):e}function O(t,r,o){let{lowS:i,prehash:a,extraEntropy:l}=ol(o,p),c=w(t=T(t,a)),u=s.fromBytes(r);if(!s.isValidNot0(u))throw Error("invalid private key");let d=[P(u),P(c)];if(null!=l&&!1!==l){let e=!0===l?n(h.secretKey):l;d.push(ei(e,void 0,"extraEntropy"))}let f=eI(...d),g=c;return{seed:f,k2sig:function(t){let r=_(t);if(!s.isValidNot0(r))return;let n=s.inv(r),o=e.BASE.multiply(r).toAffine(),a=s.create(o.x);if(a===od)return;let l=s.create(n*s.create(g+a*u));if(l===od)return;let c=2*(o.x!==a)|Number(o.y&of),d=l;return i&&y(l)&&(d=s.neg(l),c^=1),new E(a,d,m?void 0:c)}}}function I(t,r,n,o={}){let{lowS:i,prehash:a,format:l}=ol(o,p);if(n=ei(n,void 0,"publicKey"),r=T(r,a),!en(t))throw Error("verify expects Uint8Array signature"+(t instanceof E?", use sig.toBytes()":""));b(t,l);try{let o=E.fromBytes(t,l),a=e.fromBytes(n);if(i&&o.hasHighS())return!1;let{r:c,s:u}=o,d=w(r),f=s.inv(u),h=s.create(d*f),p=s.create(c*f),m=e.BASE.multiplyUnsafe(h).add(a.multiplyUnsafe(p));if(m.is0())return!1;return s.create(m.x)===c}catch(e){return!1}}return Object.freeze({keygen:c,getPublicKey:u,getSharedSecret:d,utils:f,lengths:h,Point:e,sign:function(e,r,n={}){let{seed:i,k2sig:a}=O(e,r,n);return rY(t.outputLen,s.BYTES,o)(i,a).toBytes(n.format)},verify:I,recoverPublicKey:function(e,t,r={}){let{prehash:n}=ol(r,p);return t=T(t,n),E.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:E,hash:t})}let o_={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},ow={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},oS=null,oP=BigInt(2);function oT(e){let t=o_.p,r=BigInt(3),n=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,d=ne(u,r,t)*u%t,f=ne(d,r,t)*u%t,h=ne(f,oP,t)*c%t,p=ne(h,o,t)*h%t,m=ne(p,i,t)*p%t,y=ne(m,a,t)*m%t,g=ne(y,l,t)*y%t,v=ne(g,a,t)*m%t,b=ne(v,r,t)*u%t,E=ne(b,s,t)*p%t,_=ne(E,n,t)*c%t,w=ne(_,oP,t);if(!oO.eql(oO.sqr(w),e))throw Error("Cannot find square root");return w}let oO=ny(o_.p,{sqrt:oT}),oI=oy(o_,{Fp:oO,endo:ow}),ox=oE(oI,rR),oA=null;function oR(e,...t){let r=oA[e];if(void 0===r){let t=sha256(asciiToBytes(e));r=concatBytes(t,t),oA[e]=r}return sha256(concatBytes(r,...t))}let oN=e=>e.toBytes(!0).slice(1),ok=e=>e%oP===oS;function oC(e){let t=oO;if(!t.isValidNot0(e))throw Error("invalid x: Fail if x  p");let r=t.create(e*e),n=t.create(r*e+BigInt(7)),o=t.sqrt(n);ok(o)||(o=t.neg(o));let i=oI.fromAffine({x:e,y:o});return i.assertValidity(),i}let oD=null;function oj(...e){return oI.Fn.create(oD(oR("BIP0340/challenge",...e)))}let oz={mainnet:{rpcUrl:"https://free.rpc.fastnear.com",networkId:"mainnet"},testnet:{rpcUrl:"https://rpc.testnet.fastnear.com",networkId:"testnet"},localnet:{rpcUrl:"http://localhost:3030",networkId:"localnet"},betanet:{rpcUrl:"https://rpc.betanet.near.org",networkId:"betanet"}},oU=BigInt("1000000000000000000000000");BigInt("1000000000000");let oM="30000000000000",oF=/^(([a-z\d]+[-_])*[a-z\d]+\.)*([a-z\d]+[-_])*[a-z\d]+$/,o$=2,oB=64,oG="ed25519:",oL="secp256k1:";!function(e){e[e.ED25519=0]="ED25519",e[e.SECP256K1=1]="SECP256K1"}(eW||(eW={}));let oH=0x8000019d,oq=eY.b.struct({message:eY.b.string(),nonce:eY.b.array(eY.b.u8(),32),recipient:eY.b.string(),callbackUrl:eY.b.option(eY.b.string())});function oK(e){if(32!==e.nonce.length)throw Error("Nonce must be exactly 32 bytes");let t=eY.b.u32().serialize(oH),r=oq.serialize({message:e.message,nonce:Array.from(e.nonce),recipient:e.recipient,callbackUrl:e.callbackUrl??null}),n=new Uint8Array(t.length+r.length);return n.set(t,0),n.set(r,t.length),rR(n)}function oV(){let e=new Uint8Array(32),t=Date.now();new DataView(e.buffer).setBigUint64(0,BigInt(t),!1);let r=eA(24);return e.set(r,8),e}class oW{constructor(e){this.privateKey=e.slice(0,32);const t=e.slice(32);this.publicKey={keyType:eW.ED25519,data:t,toString:()=>oG+x.encode(t)},this.secretKey=oG+x.encode(e)}sign(e){let t=n8.sign(e,this.privateKey);return{keyType:eW.ED25519,data:t}}signNep413Message(e,t){let r=oK(t),n=n8.sign(r,this.privateKey);return{accountId:e,publicKey:this.publicKey.toString(),signature:I.encode(n)}}static fromRandom(){let e=n8.utils.randomSecretKey(),t=n8.getPublicKey(e),r=new Uint8Array(64);return r.set(e,0),r.set(t,32),new oW(r)}static fromString(e){let t=e.replace(oG,"");return new oW(x.decode(t))}}class oY{constructor(e){this.privateKey=e.slice(0,32);const t=e.slice(32);this.publicKey={keyType:eW.SECP256K1,data:t,toString:()=>oL+x.encode(t)},this.secretKey=oL+x.encode(e)}sign(e){let t=ox.sign(e,this.privateKey,{format:"recovered"});return{keyType:eW.SECP256K1,data:t}}signNep413Message(e,t){let r=oK(t),n=ox.sign(r,this.privateKey,{format:"recovered"});return{accountId:e,publicKey:this.publicKey.toString(),signature:I.encode(n)}}static fromRandom(){let e=new Uint8Array(32);crypto.getRandomValues(e);let t=ox.getPublicKey(e,!1).slice(1),r=new Uint8Array(96);return r.set(e,0),r.set(t,32),new oY(r)}static fromString(e){let t=e.replace(oL,"");return new oY(x.decode(t))}}function oZ(e){if(e.startsWith(oG))return oW.fromString(e);if(e.startsWith(oL))return oY.fromString(e);throw new tQ(`Unsupported key type: ${e}`)}function oJ(e){if(e.startsWith(oG)){let t=e.replace(oG,""),r=x.decode(t);return{keyType:eW.ED25519,data:r,toString:()=>e}}if(e.startsWith(oL)){let t=e.replace(oL,""),r=x.decode(t);return{keyType:eW.SECP256K1,data:r,toString:()=>e}}throw new tQ(`Unsupported public key type: ${e}`)}class oX{constructor(e){if(this.keys=new Map,e)for(const[t,r]of Object.entries(e)){const e=oZ(r);this.keys.set(t,e)}}async add(e,t){this.keys.set(e,t)}async get(e){return this.keys.get(e)??null}async remove(e){this.keys.delete(e)}async list(){return Array.from(this.keys.keys())}clear(){this.keys.clear()}}let oQ={NEAR:e=>`${e} NEAR`,yocto:e=>`${e} yocto`,ZERO:"0 yocto",ONE_NEAR:"1 NEAR",ONE_YOCTO:"1 yocto"};function o0(e){if("bigint"==typeof e)return e.toString();let t=e.trim(),r=t.match(/^([\d.]+)\s+NEAR$/i);if(r)return o1(r[1]);let n=t.match(/^(\d+)\s+yocto$/i);if(n)return n[1];if(/^[\d.]+$/.test(t))throw Error(`Ambiguous amount: "${e}". Did you mean "${e} NEAR"?
  - Use Amount.NEAR(${e}) for NEAR
  - Use Amount.yocto(${e}n) for yoctoNEAR
  - Or write "${e} NEAR" or "${e} yocto"
  - Or pass ${e}n as bigint for yoctoNEAR

 TypeScript tip: Use 'as const' for variables:
   const amount = "10 NEAR" as const`);throw Error(`Invalid amount format: "${e}"
Expected formats:
  - "10 NEAR" or Amount.NEAR(10)
  - "1000000 yocto" or Amount.yocto(1000000n)
  - 1000000n (bigint, treated as yoctoNEAR)`)}function o1(e){let t=e.split("."),r=t[0]||"0",n=(t[1]||"").padEnd(24,"0").substring(0,24);if(r.startsWith("-"))throw Error("NEAR amount must be non-negative");return(BigInt(r)*oU+BigInt(n)).toString()}function o2(e){let t=("number"==typeof e?e.toString():e).trim(),r=t.match(/^([\d.]+)\s+Tgas$/i);if(r){let e=parseFloat(r[1]);if(Number.isNaN(e)||e<0)throw Error(`Invalid Tgas value: ${r[1]}`);return BigInt(Math.floor(1e12*e)).toString()}if(/^\d+$/.test(t))return t;throw Error(`Invalid gas format: "${e}"
Expected: "30 Tgas" or Gas.Tgas(30)
Or provide raw gas units as a number string`)}function o6(e){return/^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]+$/.test(e)}rh.z.string().min(o$,`Account ID must be at least ${o$} characters`).max(oB,`Account ID must be at most ${oB} characters`).regex(oF,"Account ID must contain only lowercase alphanumeric characters, hyphens, underscores, and dots"),rh.z.string().refine(e=>e.startsWith(oG)||e.startsWith(oL),"Public key must start with 'ed25519:' or 'secp256k1:'").refine(e=>o6(e.startsWith(oG)?e.slice(oG.length):e.slice(oL.length)),"Public key must be valid base58 encoding");let o8=rh.z.string().refine(e=>e.startsWith(oG)||e.startsWith(oL),"Private key must start with 'ed25519:' or 'secp256k1:'").refine(e=>{let t=e.startsWith(oG)?e.slice(oG.length):e.slice(oL.length);return t.length>0&&o6(t)},"Private key must be valid base58 encoding"),o3=rh.z.union([rh.z.string(),rh.z.bigint()]).transform(e=>o0(e)),o4=rh.z.string().transform(e=>o2(e));function o5(e){return o3.parse(e)}function o9(e){return o4.parse(e)}let o7=rh.z.enum(["mainnet","testnet","localnet","betanet"]),ie=rh.z.object({rpcUrl:rh.z.string().url("RPC URL must be a valid URL"),networkId:rh.z.string().min(1,"Network ID is required")}),it=rh.z.union([o7,ie]),ir=rh.z.enum(["NONE","INCLUDED","EXECUTED_OPTIMISTIC","INCLUDED_FINAL","EXECUTED","FINAL"]);rh.z.object({gas:rh.z.string().optional(),attachedDeposit:rh.z.union([rh.z.string(),rh.z.bigint()]).optional(),signerId:rh.z.string().optional(),waitUntil:ir.optional()}),rh.z.object({finality:rh.z.enum(["optimistic","near-final","final"]).optional(),blockId:rh.z.union([rh.z.number(),rh.z.string()]).optional()});let io=rh.z.union([rh.z.string(),rh.z.record(rh.z.string(),rh.z.string()),rh.z.any()]),ii=rh.z.any(),is=rh.z.object({maxRetries:rh.z.number().int().min(0),initialDelayMs:rh.z.number().int().min(0)}).partial(),ia=rh.z.object({network:it.optional(),rpcUrl:rh.z.string().url("RPC URL must be a valid URL").optional(),headers:rh.z.record(rh.z.string(),rh.z.string()).optional(),keyStore:io.optional(),signer:ii.optional(),privateKey:rh.z.union([o8,rh.z.instanceof(Uint8Array)]).optional(),wallet:rh.z.any().optional(),defaultSignerId:rh.z.string().optional(),defaultWaitUntil:ir.optional(),retryConfig:is.optional()});function il(e){if(!e){let e="undefined"!=typeof process?process.env.NEAR_NETWORK:void 0;return e&&("mainnet"===e||"testnet"===e||"localnet"===e||"betanet"===e)?oz[e]:oz.mainnet}let t=it.parse(e);return"string"==typeof t?oz[t]:t}let ic=rh.z.object({receiver_id:rh.z.string(),method_names:rh.z.array(rh.z.string()),allowance:rh.z.string().nullable().optional()}),iu=rh.z.union([rh.z.literal("FullAccess"),rh.z.object({FunctionCall:ic})]),id=rh.z.object({result:rh.z.array(rh.z.number()),logs:rh.z.array(rh.z.string()),block_height:rh.z.number(),block_hash:rh.z.string()}),ih=rh.z.object({amount:rh.z.string(),locked:rh.z.string(),code_hash:rh.z.string(),storage_usage:rh.z.number(),storage_paid_at:rh.z.number(),block_height:rh.z.number(),block_hash:rh.z.string()}),ip=rh.z.object({nonce:rh.z.number(),permission:iu,block_height:rh.z.number(),block_hash:rh.z.string()});rh.z.object({public_key:rh.z.string(),access_key:ip});let im=rh.z.object({version:rh.z.object({version:rh.z.string(),build:rh.z.string(),commit:rh.z.string().optional(),rustc_version:rh.z.string().optional()}),chain_id:rh.z.string(),genesis_hash:rh.z.string(),protocol_version:rh.z.number(),latest_protocol_version:rh.z.number(),rpc_addr:rh.z.string(),node_public_key:rh.z.string(),node_key:rh.z.string().nullable(),validator_account_id:rh.z.string().nullable(),validator_public_key:rh.z.string().nullable(),validators:rh.z.array(rh.z.object({account_id:rh.z.string()})),sync_info:rh.z.object({latest_block_hash:rh.z.string(),latest_block_height:rh.z.number(),latest_state_root:rh.z.string(),latest_block_time:rh.z.string(),syncing:rh.z.boolean(),earliest_block_hash:rh.z.string().optional(),earliest_block_height:rh.z.number().optional(),earliest_block_time:rh.z.string().optional(),epoch_id:rh.z.string().optional(),epoch_start_height:rh.z.number().optional()}),uptime_sec:rh.z.number().optional()}),iy=rh.z.object({gas_price:rh.z.string()});rh.z.object({block_hash:rh.z.string(),block_height:rh.z.number(),keys:rh.z.array(rh.z.object({public_key:rh.z.string(),access_key:rh.z.object({nonce:rh.z.number(),permission:iu})}))});let ig=rh.z.object({name:rh.z.string(),code:rh.z.number(),message:rh.z.string(),data:rh.z.any().optional(),cause:rh.z.object({name:rh.z.string(),info:rh.z.object({requested_account_id:rh.z.string().optional(),contract_id:rh.z.string().optional(),method_name:rh.z.string().optional(),ShardCongested:rh.z.boolean().optional(),ShardStuck:rh.z.boolean().optional()}).catchall(rh.z.any()).optional()}).optional()});rh.z.enum(["NONE","INCLUDED","EXECUTED_OPTIMISTIC","INCLUDED_FINAL","EXECUTED","FINAL"]);let iv=rh.z.union([rh.z.literal("Unknown"),rh.z.literal("Pending"),rh.z.object({SuccessValue:rh.z.string()}),rh.z.object({SuccessReceiptId:rh.z.string()}),rh.z.object({Failure:rh.z.object({error_message:rh.z.string().optional(),error_type:rh.z.string().optional()}).catchall(rh.z.any())})]),ib=rh.z.object({cost:rh.z.string().optional(),cost_category:rh.z.string().optional(),gas_used:rh.z.string().optional()}).catchall(rh.z.any()),iE=rh.z.object({version:rh.z.number(),gas_profile:rh.z.array(ib).nullable().optional()}),i_=rh.z.object({logs:rh.z.array(rh.z.string()),receipt_ids:rh.z.array(rh.z.string()),gas_burnt:rh.z.number(),tokens_burnt:rh.z.string(),executor_id:rh.z.string(),status:iv,metadata:iE.optional()}),iw=rh.z.object({hash:rh.z.string(),direction:rh.z.enum(["Left","Right"])}),iS=rh.z.object({id:rh.z.string(),outcome:i_,block_hash:rh.z.string(),proof:rh.z.array(iw)}),iP=rh.z.union([rh.z.literal("CreateAccount"),rh.z.object({CreateAccount:rh.z.object({})}),rh.z.object({Transfer:rh.z.object({deposit:rh.z.string()})}),rh.z.object({FunctionCall:rh.z.object({method_name:rh.z.string(),args:rh.z.string(),gas:rh.z.number(),deposit:rh.z.string()})}),rh.z.object({DeployContract:rh.z.object({code:rh.z.string()})}),rh.z.object({DeployGlobalContractByAccountId:rh.z.object({code:rh.z.string()})}),rh.z.object({DeployGlobalContractByCodeHash:rh.z.object({code:rh.z.string()})}),rh.z.object({Stake:rh.z.object({stake:rh.z.string(),public_key:rh.z.string()})}),rh.z.object({AddKey:rh.z.object({public_key:rh.z.string(),access_key:rh.z.object({nonce:rh.z.number(),permission:iu})})}),rh.z.object({DeleteKey:rh.z.object({public_key:rh.z.string()})}),rh.z.object({DeleteAccount:rh.z.object({beneficiary_id:rh.z.string()})}),rh.z.object({UseGlobalContractByAccountId:rh.z.object({account_id:rh.z.string()})}),rh.z.object({UseGlobalContractByCodeHash:rh.z.object({code_hash:rh.z.string()})}),rh.z.object({Delegate:rh.z.object({delegate_action:rh.z.object({sender_id:rh.z.string(),receiver_id:rh.z.string(),actions:rh.z.array(rh.z.any()),nonce:rh.z.number(),max_block_height:rh.z.number(),public_key:rh.z.string()}),signature:rh.z.string()})}),rh.z.object({DeterministicStateInit:rh.z.object({deposit:rh.z.string()})})]),iT=rh.z.object({signer_id:rh.z.string(),public_key:rh.z.string(),nonce:rh.z.number(),receiver_id:rh.z.string(),actions:rh.z.array(iP),signature:rh.z.string(),hash:rh.z.string(),priority_fee:rh.z.number().optional()}),iO=rh.z.object({hash:rh.z.string(),signer_id:rh.z.string(),receiver_id:rh.z.string(),nonce:rh.z.number()}),iI=rh.z.discriminatedUnion("final_execution_status",[rh.z.object({final_execution_status:rh.z.literal("NONE"),transaction:iO.optional()}),rh.z.object({final_execution_status:rh.z.literal("INCLUDED"),transaction:iO.optional()}),rh.z.object({final_execution_status:rh.z.literal("INCLUDED_FINAL"),transaction:iO.optional()}),rh.z.object({final_execution_status:rh.z.literal("EXECUTED_OPTIMISTIC"),status:iv,transaction:iT,transaction_outcome:iS,receipts_outcome:rh.z.array(iS)}),rh.z.object({final_execution_status:rh.z.literal("EXECUTED"),status:iv,transaction:iT,transaction_outcome:iS,receipts_outcome:rh.z.array(iS)}),rh.z.object({final_execution_status:rh.z.literal("FINAL"),status:iv,transaction:iT,transaction_outcome:iS,receipts_outcome:rh.z.array(iS)})]),ix=rh.z.object({predecessor_id:rh.z.string(),receiver_id:rh.z.string(),receipt_id:rh.z.string(),receipt:rh.z.union([rh.z.object({Action:rh.z.object({signer_id:rh.z.string(),signer_public_key:rh.z.string(),gas_price:rh.z.string(),output_data_receivers:rh.z.array(rh.z.any()),input_data_ids:rh.z.array(rh.z.string()),actions:rh.z.array(iP),is_promise_yield:rh.z.boolean().optional()})}),rh.z.object({Data:rh.z.object({data_id:rh.z.string(),data:rh.z.string().nullable().optional()})})]),priority:rh.z.number().optional()}),iA=rh.z.intersection(iI,rh.z.object({receipts:rh.z.array(ix)}));function iR(e){return e.ActionError?.kind?.FunctionCallError!==void 0||void 0!==e.FunctionCallError}function iN(e){let t=e.ActionError?.kind?.FunctionCallError||e.FunctionCallError;if(t)return"string"==typeof t.ExecutionError?t.ExecutionError:"string"==typeof t.HostError?t.HostError:JSON.stringify(t)}function ik(e){if(!e)return;let t=e.actions.find(e=>"object"==typeof e&&"FunctionCall"in e);if(t&&"object"==typeof t&&"FunctionCall"in t)return t.FunctionCall.method_name}function iC(e){if("ActionError"in e&&"object"==typeof e.ActionError&&null!==e.ActionError){let t=e.ActionError;if("kind"in t&&"object"==typeof t.kind&&null!==t.kind){let r=t.kind,n=Object.keys(r)[0];if(!n)return JSON.stringify(e);let o=r[n];if(o&&"object"==typeof o&&null!==o){let e=Object.entries(o).map(([e,t])=>`${e}: ${t}`).join(", ");return`${n} (${e})`}return n}}return JSON.stringify(e)}function iD(e,t){if("object"==typeof e.outcome.status&&"Failure"in e.outcome.status){let r=e.outcome.status.Failure;if(iR(r)){let n=e.outcome.executor_id,o=e.outcome.logs;throw new tJ(n,ik(t),iN(r),o)}}}function ij(e){return 408===e||429===e||503===e||e>=500&&e<600}function iz(e,t={}){if(!e||"object"!=typeof e||!("error"in e))return;let r=e.error;if(t.contractId)throw new tJ(t.contractId,t.methodName,r);if((t.accountId||t.publicKey)&&r.includes("does not exist"))throw new t1(t.accountId||"unknown",t.publicKey||"unknown");throw new tX(`Query error: ${r}`)}function iU(e,t){if(!e)throw new tX("Unknown RPC error");try{let r=ig.parse(e),n=r.cause?.name,o=r.cause?.info||{};if("UNKNOWN_BLOCK"===n){let e,t=o.block_reference;if("string"==typeof t)e=t;else if(t&&"object"==typeof t){let n=t.block_id||t.BlockId;e=n?String(n):r.data||r.message}else e=r.data||r.message;throw new t5(e)}if("INVALID_ACCOUNT"===n){let e=o.requested_account_id||"unknown";throw new t9(e)}if("UNKNOWN_ACCOUNT"===n){let e=o.requested_account_id||"unknown";throw new t0(e)}if("UNAVAILABLE_SHARD"===n)throw new t7(r.message);if("NO_SYNCED_BLOCKS"===n||"NOT_SYNCED_YET"===n)throw new re(r.message);if("NO_CONTRACT_CODE"===n){let e=o.contract_account_id||o.account_id||o.contract_id||"unknown";throw new rt(e)}if("TOO_LARGE_CONTRACT_STATE"===n){let e=o.account_id||o.contract_id||"unknown";throw new rr(e)}if("CONTRACT_EXECUTION_ERROR"===n){let e=o.contract_id||"unknown",t=o.method_name;throw new rn(e,t,o)}if("ActionError"===n){let e=o.contract_id||"unknown",t=o.method_name||"unknown",n=r.message||void 0;throw new tJ(e,t,n)}if("UNKNOWN_CHUNK"===n){let e,t=o.chunk_hash,n=o.chunk_reference;if("string"==typeof t)e=t;else if("string"==typeof n)e=n;else if(n&&"object"==typeof n){let t=n.chunk_id;e=t?String(t):r.data||r.message}else e=r.data||r.message;throw new ro(e)}if("INVALID_SHARD_ID"===n){let e=o.shard_id||"unknown";throw new ri(e)}if("UNKNOWN_EPOCH"===n){let e,t=o.block_reference;if("string"==typeof t)e=t;else if(t&&"object"==typeof t){let n=t.block_id||t.BlockId;e=n?String(n):r.data||r.message}else e=r.data||r.message;throw new rs(e)}if("INVALID_TRANSACTION"===n){if(r.data&&"object"==typeof r.data){let e=r.data.TxExecutionError,t=e?.InvalidTxError||r.data.InvalidTxError,n=t?.InvalidNonce;if(n&&"ak_nonce"in n&&"tx_nonce"in n)throw new ra(n.tx_nonce,n.ak_nonce)}let e=o;if(r.data&&"object"==typeof r.data){let t=r.data.TxExecutionError||r.data.InvalidTxError;t&&(e={...o,...t})}throw new rl(r.message,e)}if("UNKNOWN_RECEIPT"===n){let e=o.receipt_id||"unknown";throw new rc(e)}if("TIMEOUT_ERROR"===n){let e=o.transaction_hash;throw new rd(r.message,e)}if("PARSE_ERROR"===n||"REQUEST_VALIDATION_ERROR"===r.name)throw new ru(r.message,o);if("INTERNAL_ERROR"===n||"INTERNAL_ERROR"===r.name)throw new rf(r.message,o);let i=!!t&&ij(t);throw new tX(`RPC error [${n||r.name}]: ${r.message}`,r.code,i)}catch(t){if(t instanceof tY)throw t;throw new tX(`RPC error: ${e.message}`,e.code,!1)}}let iM=4,iF=1e3;class i${constructor(e,t,r){this.url=e,this.headers=t||{},this.requestId=0,this.retryConfig={maxRetries:r?.maxRetries??iM,initialDelayMs:r?.initialDelayMs??iF}}async sleep(e){return new Promise(t=>setTimeout(t,e))}async call(e,t){let r={jsonrpc:"2.0",id:++this.requestId,method:e,params:t},n=null,o=1+this.retryConfig.maxRetries;for(let e=0;e<o;e++)try{"undefined"!=typeof process&&"true"===process.env.NEAR_RPC_DEBUG&&console.log("[RPC Request]",JSON.stringify(r,null,2));let e=await fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json",...this.headers},body:JSON.stringify(r)});if(!e.ok)throw new tX(`HTTP ${e.status}: ${e.statusText}`,e.status,ij(e.status));let t=await e.json();if("undefined"!=typeof process&&"true"===process.env.NEAR_RPC_DEBUG&&console.log("[RPC Response]",JSON.stringify(t,null,2)),t.error&&iU(t.error,e.status),void 0===t.result)throw new tX("RPC response missing result field");return t.result}catch(a){let t,r="retryable"in(n=t=a instanceof tY?a:new tX(`Network request failed: ${a.message}`,void 0,!0))&&n.retryable,i=e+1<o;if(!r||!i)throw n;let s=this.retryConfig.initialDelayMs*2**e;await this.sleep(s)}throw n||new tX("Unknown error during RPC call")}async query(e,t){return this.call("query",{request_type:e,finality:"final",args_base64:"string"==typeof t?t:I.encode(t)})}async viewFunction(e,t,r={},n){let o=r instanceof Uint8Array?r:new TextEncoder().encode(JSON.stringify(r)),i=I.encode(o),s=await this.call("query",{request_type:"call_function",...n?.blockId?{block_id:n.blockId}:{finality:n?.finality||"final"},account_id:e,method_name:t,args_base64:i});return iz(s,{contractId:e,methodName:t}),id.parse(s)}async getAccount(e,t){let r=await this.call("query",{request_type:"view_account",...t?.blockId?{block_id:t.blockId}:{finality:t?.finality||"optimistic"},account_id:e});return ih.parse(r)}async getAccessKey(e,t,r){let n=await this.call("query",{request_type:"view_access_key",...r?.blockId?{block_id:r.blockId}:{finality:r?.finality||"optimistic"},account_id:e,public_key:t});return iz(n,{accountId:e,publicKey:t}),ip.parse(n)}async sendTransaction(e,t){let r=t??"EXECUTED_OPTIMISTIC",n=I.encode(e),o=await this.call("send_tx",{signed_tx_base64:n,wait_until:r}),i=iI.parse(o);if("NONE"!==i.final_execution_status&&"INCLUDED"!==i.final_execution_status&&"INCLUDED_FINAL"!==i.final_execution_status&&i.status&&"object"==typeof i.status&&"Failure"in i.status){i.transaction_outcome&&iD(i.transaction_outcome,i.transaction);let e=i.receipts_outcome?.find(e=>"object"==typeof e.outcome.status&&"Failure"in e.outcome.status);e&&iD(e,i.transaction);let t="Transaction execution failed",r=i.status.Failure;throw i.transaction_outcome&&"object"==typeof i.transaction_outcome.outcome.status&&"Failure"in i.transaction_outcome.outcome.status?t=iC(r=i.transaction_outcome.outcome.status.Failure):e&&"object"==typeof e.outcome.status&&"Failure"in e.outcome.status&&(t=iC(r=e.outcome.status.Failure)),new rl(t,r)}return i}async getTransactionStatus(e,t,r){let n=r??"EXECUTED_OPTIMISTIC",o=await this.call("EXPERIMENTAL_tx_status",{tx_hash:e,sender_account_id:t,wait_until:n}),i=iA.parse(o);if("NONE"!==i.final_execution_status&&"INCLUDED"!==i.final_execution_status&&"INCLUDED_FINAL"!==i.final_execution_status&&i.status&&"object"==typeof i.status&&"Failure"in i.status){i.transaction_outcome&&iD(i.transaction_outcome,i.transaction);let e=i.receipts_outcome?.find(e=>"object"==typeof e.outcome.status&&"Failure"in e.outcome.status);e&&iD(e,i.transaction);let t="Transaction execution failed",r=i.status.Failure;throw i.transaction_outcome&&"object"==typeof i.transaction_outcome.outcome.status&&"Failure"in i.transaction_outcome.outcome.status?t=iC(r=i.transaction_outcome.outcome.status.Failure):e&&"object"==typeof e.outcome.status&&"Failure"in e.outcome.status&&(t=iC(r=e.outcome.status.Failure)),new rl(t,r)}return i}async getStatus(){let e=await this.call("status",[]);return im.parse(e)}async getGasPrice(e=null){let t=await this.call("gas_price",[e]);return iy.parse(t)}}class iB{constructor(){this.nonces=new Map,this.fetching=new Map}async getNextNonce(e,t,r){let n=`${e}:${t}`,o=this.fetching.get(n);if(o&&await o,!this.nonces.has(n)){let e=r().then(e=>{this.nonces.set(n,e+1n),this.fetching.delete(n)}).catch(e=>{throw this.fetching.delete(n),e});this.fetching.set(n,e),await e}let i=this.nonces.get(n);if(void 0===i)throw Error(`Nonce not found for ${n} after fetch`);return this.nonces.set(n,i+1n),i}invalidate(e,t){this.nonces.delete(`${e}:${t}`)}clear(){this.nonces.clear()}}function iG(e,t){if(e.keyType!==t.keyType||e.data.length!==t.data.length)return!1;for(let r=0;r<e.data.length;r+=1)if(e.data[r]!==t.data[r])return!1;return!0}function iL(e){return"fullAccess"===e.type?{fullAccess:{}}:{functionCall:{receiverId:e.receiverId,methodNames:e.methodNames||[],allowance:e.allowance?BigInt(o5(e.allowance)):null}}}class iH{constructor(e,t,r,n,o="EXECUTED_OPTIMISTIC",i,s){this.signerId=e,this.actions=[],this.rpc=t,this.keyStore=r,void 0!==s&&(this.ensureKeyStoreReady=s),void 0!==n&&(this.signer=n),this.defaultWaitUntil=o,void 0!==i&&(this.wallet=i)}invalidateCache(){return delete this.cachedSignedTx,this}async resolveKeyPair(){if(this.keyPair)return this.keyPair;this.ensureKeyStoreReady&&await this.ensureKeyStoreReady();let e=await this.keyStore.get(this.signerId);if(!e)throw new tQ(`No key found for account: ${this.signerId}`);return this.keyPair=e,e}transfer(e,t){let r=o5(t);return this.actions.push(tz(BigInt(r))),this.receiverId||(this.receiverId=e),this.invalidateCache()}functionCall(e,t,r={},n={}){let o=r instanceof Uint8Array?r:new TextEncoder().encode(JSON.stringify(r)),i=n.gas?o9(n.gas):oM,s=n.attachedDeposit?o5(n.attachedDeposit):"0";return this.actions.push(tU(t,o,BigInt(i),BigInt(s))),this.receiverId||(this.receiverId=e),this.invalidateCache()}createAccount(e){return this.actions.push(tM()),this.receiverId||(this.receiverId=e),this.invalidateCache()}deleteAccount(e){return this.actions.push(tF(e.beneficiary)),this.receiverId||(this.receiverId=this.signerId),this.invalidateCache()}deployContract(e,t){return this.actions.push(t$(t)),this.receiverId||(this.receiverId=e),this.invalidateCache()}publishContract(e,t){return this.actions.push(tH(e,t)),this.receiverId||(this.receiverId=this.signerId),this.invalidateCache()}deployFromPublished(e){return this.actions.push(tq(e)),this.receiverId||(this.receiverId=this.signerId),this.invalidateCache()}stateInit(e){let t=o5(e.deposit),r={code:e.code,deposit:BigInt(t)};if(void 0!==e.data&&(r.data=e.data),this.actions.push(tV(r)),!this.receiverId){let t={code:e.code};void 0!==e.data&&(t.data=e.data),this.receiverId=e2(t)}return this.invalidateCache()}stake(e,t){let r=o5(t),n=oJ(e);return this.actions.push(tB(BigInt(r),n)),this.receiverId||(this.receiverId=this.signerId),this.invalidateCache()}addKey(e,t){let r=oJ(e),n=iL(t);return this.actions.push(tG(r,n)),this.receiverId||(this.receiverId=this.signerId),this.invalidateCache()}deleteKey(e,t){let r=oJ(t);return this.actions.push(tL(r)),this.receiverId||(this.receiverId=e),this.invalidateCache()}signedDelegateAction(e){return this.actions.push(e),this.receiverId=e.signedDelegate.delegateAction.senderId,this.invalidateCache()}async delegate(e){let t,r,n,o=e??{};if(0===this.actions.length)throw new tY("Delegate action requires at least one action to perform","INVALID_TRANSACTION");if(this.actions.some(e=>"signedDelegate"in e))throw new tY("Delegate actions cannot contain nested signed delegate actions","INVALID_TRANSACTION");let i=o.receiverId??this.receiverId;if(!i)throw new tY("Delegate action requires a receiver. Set receiverId via the first action or provide it explicitly.","INVALID_TRANSACTION");let s=await this.resolveKeyPair();if(!iG(t=void 0===o.publicKey?s.publicKey:"string"==typeof o.publicKey?oJ(o.publicKey):o.publicKey,s.publicKey))throw new tQ("Delegate action public key must match the signer key. Use signWith() when you need a different key.");if(r=void 0!==o.nonce?o.nonce:BigInt((await this.rpc.getAccessKey(this.signerId,t.toString())).nonce)+1n,void 0!==o.maxBlockHeight)n=o.maxBlockHeight;else{let e=await this.rpc.getStatus(),t=BigInt(o.blockHeightOffset??200);n=BigInt(e.sync_info.latest_block_height)+t}let a=this.actions.map(e=>e),l=new tj(this.signerId,i,a,r,n,t),c=rR(tN(l)),u=tK(l,s.sign(c)),d=o.payloadFormat??"base64",f=tC(u,d);return{signedDelegateAction:u,payload:f,format:d}}signWith(e){if("string"==typeof e){let t=oZ(e);this.keyPair=t,this.signer=async e=>t.sign(e)}else delete this.keyPair,this.signer=e;return this.invalidateCache()}async build(){if(!this.receiverId)throw new tY("No receiver ID set for transaction","INVALID_TRANSACTION");let e=(await this.resolveKeyPair()).publicKey,t=await iH.nonceManager.getNextNonce(this.signerId,e.toString(),async()=>BigInt((await this.rpc.getAccessKey(this.signerId,e.toString())).nonce)),r=await this.rpc.getStatus(),n=x.decode(r.sync_info.latest_block_hash);return{signerId:this.signerId,publicKey:e,nonce:t,receiverId:this.receiverId,actions:this.actions,blockHash:n}}async sign(){if(this.cachedSignedTx)return this;if(!this.receiverId)throw new tY("No receiver ID set for transaction","INVALID_TRANSACTION");let e=await this.build(),t=tA(e),r=new Uint8Array(await crypto.subtle.digest("SHA-256",t)),n=x.encode(r),o=this.signer?await this.signer(r):(await this.resolveKeyPair()).sign(r);return this.cachedSignedTx={signedTx:{transaction:e,signature:o},hash:n},this}getHash(){return this.cachedSignedTx?.hash??null}serialize(){if(!this.cachedSignedTx)throw new tY("Transaction must be signed before serializing. Call .sign() first.","INVALID_STATE");return tR(this.cachedSignedTx.signedTx)}async send(e){if(!this.receiverId)throw new tY("No receiver ID set for transaction","INVALID_TRANSACTION");if(this.wallet)return await this.wallet.signAndSendTransaction({signerId:this.signerId,receiverId:this.receiverId,actions:this.actions});let t=e?.waitUntil??this.defaultWaitUntil,r=3,n=null;for(let e=0;e<r;e++)try{if((!this.cachedSignedTx||e>0)&&(delete this.cachedSignedTx,await this.sign()),!this.cachedSignedTx)throw new tY("Failed to sign transaction","TRANSACTION_SIGNING_FAILED");let{signedTx:r,hash:n}=this.cachedSignedTx,o=tR(r),i=await this.rpc.sendTransaction(o,t);return"transaction"in i&&i.transaction||(i.transaction={hash:n,signer_id:r.transaction.signerId,receiver_id:this.receiverId,nonce:Number(r.transaction.nonce)}),i}catch(t){if(n=t,t instanceof ra&&(this.cachedSignedTx&&iH.nonceManager.invalidate(this.signerId,this.cachedSignedTx.signedTx.transaction.publicKey.toString()),e<r-1))continue;throw t}throw n||new tY("Unknown error during transaction send","UNKNOWN_TRANSACTION_ERROR")}}iH.nonceManager=new iB;class iq{constructor(e={}){const t=ia.parse(e);this._initializeRpc(t),this._resolveKeyStore(t),this._resolveSigner(t,e),t.defaultSignerId&&(this.defaultSignerId=t.defaultSignerId),this.defaultWaitUntil=t.defaultWaitUntil||"EXECUTED_OPTIMISTIC",this.wallet=t.wallet}_initializeRpc(e){let t=il(e.network),r=e.rpcUrl||t.rpcUrl;this.rpc=new i$(r,e.headers,e.retryConfig)}_resolveKeyStore(e){this.keyStore=this.resolveKeyStore(e.keyStore)}_resolveSigner(e,t){let r=e.signer,n=e.privateKey;if(r)this.signer=r;else if(n){let r,o="string"==typeof n?oZ(n):oZ(n.toString()),i=t.network;i&&"object"==typeof i&&"rootAccount"in i&&(r=i.rootAccount.id),e.defaultSignerId&&(r=e.defaultSignerId),r&&(this.pendingKeyStoreInit=this.keyStore.add(r,o))}if(!r&&!n){let e=t.network;if(e&&"object"==typeof e&&"rootAccount"in e){let t=e;if(t.rootAccount?.id&&t.rootAccount?.secretKey&&"string"==typeof t.rootAccount.secretKey){let e=oZ(t.rootAccount.secretKey);this.pendingKeyStoreInit=this.keyStore.add(t.rootAccount.id,e)}}}}async ensureKeyStoreReady(){this.pendingKeyStoreInit&&(await this.pendingKeyStoreInit,delete this.pendingKeyStoreInit)}resolveKeyStore(e){return e&&"string"!=typeof e?"add"in e&&"get"in e?e:new oX(e):new oX}async getSignerId(e){if(e)return e;if(this.defaultSignerId)return this.defaultSignerId;if(this.wallet){let e=await this.wallet.getAccounts();if(0===e.length)throw new tY("No accounts connected to wallet","NO_WALLET_ACCOUNTS");return e[0].accountId}throw new tY("No signer ID provided. Set signerId in options or config.","MISSING_SIGNER")}async view(e,t,r={},n){let o=new Uint8Array((await this.rpc.viewFunction(e,t,r,n)).result),i=new TextDecoder().decode(o);if(i)try{return JSON.parse(i)}catch{return i}}async call(e,t,r={},n={}){let o=await this.getSignerId(n.signerId);if(this.wallet){let i=r instanceof Uint8Array?r:new TextEncoder().encode(JSON.stringify(r)),s=n.gas?o9(n.gas):oM,a=n.attachedDeposit?o5(n.attachedDeposit):"0";return await this.wallet.signAndSendTransaction({signerId:o,receiverId:e,actions:[tU(t,i,BigInt(s),BigInt(a))]})}let i={};void 0!==n.gas&&(i.gas=n.gas),void 0!==n.attachedDeposit&&(i.attachedDeposit=n.attachedDeposit);let s=n.waitUntil?{waitUntil:n.waitUntil}:{};return await this.transaction(o).functionCall(e,t,r,i).send(s)}async send(e,t){let r=await this.getSignerId();if(this.wallet){let n=o5(t);return await this.wallet.signAndSendTransaction({signerId:r,receiverId:e,actions:[tz(BigInt(n))]})}return await this.transaction(r).transfer(e,t).send()}async signMessage(e,t){let r=await this.getSignerId(t?.signerId),n={...e,nonce:"nonce"in e?e.nonce:oV()};if(this.wallet?.signMessage)try{return await this.wallet.signMessage(n)}catch(e){console.warn("Wallet signMessage failed, trying keystore:",e)}await this.ensureKeyStoreReady();let o=await this.keyStore.get(r);if(!o)throw new tY(`No key found for account ${r}. Add a key using keyStore.add() or configure a wallet.`,"NO_KEY_FOUND");if(!o.signNep413Message)throw new tY("Key pair does not support NEP-413 message signing","UNSUPPORTED_OPERATION");return o.signNep413Message(r,n)}async getBalance(e,t){return(Number(BigInt((await this.rpc.getAccount(e,t)).amount))/1e24).toFixed(2)}async accountExists(e,t){try{return await this.rpc.getAccount(e,t),!0}catch{return!1}}async fullAccessKeyExists(e,t,r){try{let n=await this.rpc.getAccessKey(e,t,r);return"FullAccess"===n.permission}catch{return!1}}async getTransactionStatus(e,t,r){return this.rpc.getTransactionStatus(e,t,r)}async getStatus(){let e=await this.rpc.getStatus();return{chainId:e.chain_id,latestBlockHeight:e.sync_info.latest_block_height,syncing:e.sync_info.syncing}}async batch(...e){return Promise.all(e)}transaction(e){return new iH(e,this.rpc,this.keyStore,this.signer,this.defaultWaitUntil,this.wallet,this.pendingKeyStoreInit?()=>this.ensureKeyStoreReady():void 0)}contract(e){return tW(this,e)}}},1964(e,t,r){"use strict";r.d(t,{TS:()=>$});var n=class extends Error{code;name;constructor(e,t,r){super(t.toLowerCase()),this.code=e,this.name=r}},o=class extends n{accountId;constructor(e,t){super(2e3,t||`account id "${e}" not a valid account`,"InvalidAccountIdError"),this.accountId=e}},i=class extends n{key;constructor(e,t){super(3e3,t||`key "${e}" not valid`,"KeyNotAllowedError"),this.key=e}},s="social.near",a="https://api.near.social",l="2000",c="10000000000000000000",u="500",d=140,f=98,h=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,p=Math.ceil,m=Math.floor,y="[BigNumber Error] ",g=y+"Number primitive has more than 15 significant digits: ",v=1e14,b=14,E=0x1fffffffffffff,_=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],w=1e7,S=1e9;function P(e){var t,r,n,o=U.prototype={constructor:U,toString:null,valueOf:null},i=new U(1),s=20,a=4,l=-7,c=21,u=-1e7,d=1e7,f=!1,k=1,C=0,D={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},j="0123456789abcdefghijklmnopqrstuvwxyz",z=!0;function U(e,t){var o,i,l,c,f,p,y,v,_=this;if(!(_ instanceof U))return new U(e,t);if(null==t){if(e&&!0===e._isBigNumber){_.s=e.s,!e.c||e.e>d?_.c=_.e=null:e.e<u?_.c=[_.e=0]:(_.e=e.e,_.c=e.c.slice());return}if((p="number"==typeof e)&&0*e==0){if(_.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,f=e;f>=10;f/=10,c++);c>d?_.c=_.e=null:(_.e=c,_.c=[e]);return}v=String(e)}else{if(!h.test(v=String(e)))return n(_,v,p);_.s=45==v.charCodeAt(0)?(v=v.slice(1),-1):1}(c=v.indexOf("."))>-1&&(v=v.replace(".","")),(f=v.search(/e/i))>0?(c<0&&(c=f),c+=+v.slice(f+1),v=v.substring(0,f)):c<0&&(c=v.length)}else{if(x(t,2,j.length,"Base"),10==t&&z)return B(_=new U(e),s+_.e+1,a);if(v=String(e),p="number"==typeof e){if(0*e!=0)return n(_,v,p,t);if(_.s=1/e<0?(v=v.slice(1),-1):1,U.DEBUG&&v.replace(/^0\.0*|\./,"").length>15)throw Error(g+e)}else _.s=45===v.charCodeAt(0)?(v=v.slice(1),-1):1;for(o=j.slice(0,t),c=f=0,y=v.length;f<y;f++)if(0>o.indexOf(i=v.charAt(f))){if("."==i){if(f>c){c=y;continue}}else if(!l&&(v==v.toUpperCase()&&(v=v.toLowerCase())||v==v.toLowerCase()&&(v=v.toUpperCase()))){l=!0,f=-1,c=0;continue}return n(_,String(e),p,t)}p=!1,(c=(v=r(v,t,10,_.s)).indexOf("."))>-1?v=v.replace(".",""):c=v.length}for(f=0;48===v.charCodeAt(f);f++);for(y=v.length;48===v.charCodeAt(--y););if(v=v.slice(f,++y)){if(y-=f,p&&U.DEBUG&&y>15&&(e>E||e!==m(e)))throw Error(g+_.s*e);if((c=c-f-1)>d)_.c=_.e=null;else if(c<u)_.c=[_.e=0];else{if(_.e=c,_.c=[],f=(c+1)%b,c<0&&(f+=b),f<y){for(f&&_.c.push(+v.slice(0,f)),y-=b;f<y;)_.c.push(+v.slice(f,f+=b));f=b-(v=v.slice(f)).length}else f-=y;for(;f--;v+="0");_.c.push(+v)}}else _.c=[_.e=0]}function M(e,t,r,n){var o,i,s,u,d;if(null==r?r=a:x(r,0,8),!e.c)return e.toString();if(o=e.c[0],s=e.e,null==t)d=O(e.c),d=1==n||2==n&&(s<=l||s>=c)?R(d,s):N(d,s,"0");else if(i=(e=B(new U(e),t,r)).e,u=(d=O(e.c)).length,1==n||2==n&&(t<=i||i<=l)){for(;u<t;d+="0",u++);d=R(d,i)}else if(t-=s+(2===n&&i>s),d=N(d,i,"0"),i+1>u){if(--t>0)for(d+=".";t--;d+="0");}else if((t+=i-u)>0)for(i+1==u&&(d+=".");t--;d+="0");return e.s<0&&o?"-"+d:d}function F(e,t){for(var r,n,o=1,i=new U(e[0]);o<e.length;o++)(n=new U(e[o])).s&&(r=I(i,n))!==t&&(0!==r||i.s!==t)||(i=n);return i}function $(e,t,r){for(var n=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,n++);return(r=n+r*b-1)>d?e.c=e.e=null:r<u?e.c=[e.e=0]:(e.e=r,e.c=t),e}function B(e,t,r,n){var o,i,s,a,l,c,f,h=e.c,y=_;if(h){e:{for(o=1,a=h[0];a>=10;a/=10,o++);if((i=t-o)<0)i+=b,s=t,f=m((l=h[c=0])/y[o-s-1]%10);else if((c=p((i+1)/b))>=h.length)if(n){for(;h.length<=c;h.push(0));l=f=0,o=1,i%=b,s=i-b+1}else break e;else{for(o=1,l=a=h[c];a>=10;a/=10,o++);i%=b,f=(s=i-b+o)<0?0:m(l/y[o-s-1]%10)}if(n=n||t<0||null!=h[c+1]||(s<0?l:l%y[o-s-1]),n=r<4?(f||n)&&(0==r||r==(e.s<0?3:2)):f>5||5==f&&(4==r||n||6==r&&(i>0?s>0?l/y[o-s]:0:h[c-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,n?(t-=e.e+1,h[0]=y[(b-t%b)%b],e.e=-t||0):h[0]=e.e=0,e;if(0==i?(h.length=c,a=1,c--):(h.length=c+1,a=y[b-i],h[c]=s>0?m(l/y[o-s]%y[s])*a:0),n)for(;;)if(0==c){for(i=1,s=h[0];s>=10;s/=10,i++);for(s=h[0]+=a,a=1;s>=10;s/=10,a++);i!=a&&(e.e++,h[0]==v&&(h[0]=1));break}else{if(h[c]+=a,h[c]!=v)break;h[c--]=0,a=1}for(i=h.length;0===h[--i];h.pop());}e.e>d?e.c=e.e=null:e.e<u&&(e.c=[e.e=0])}return e}function G(e){var t,r=e.e;return null===r?e.toString():(t=O(e.c),t=r<=l||r>=c?R(t,r):N(t,r,"0"),e.s<0?"-"+t:t)}return U.clone=P,U.ROUND_UP=0,U.ROUND_DOWN=1,U.ROUND_CEIL=2,U.ROUND_FLOOR=3,U.ROUND_HALF_UP=4,U.ROUND_HALF_DOWN=5,U.ROUND_HALF_EVEN=6,U.ROUND_HALF_CEIL=7,U.ROUND_HALF_FLOOR=8,U.EUCLID=9,U.config=U.set=function(e){var t,r;if(null!=e)if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(x(r=e[t],0,S,t),s=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(x(r=e[t],0,8,t),a=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(x(r[0],-S,0,t),x(r[1],0,S,t),l=r[0],c=r[1]):(x(r,-S,S,t),l=-(c=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)x(r[0],-S,-1,t),x(r[1],1,S,t),u=r[0],d=r[1];else if(x(r,-S,S,t),r)u=-(d=r<0?-r:r);else throw Error(y+t+" cannot be zero: "+r);if(e.hasOwnProperty(t="CRYPTO"))if(!!(r=e[t])===r)if(r)if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))f=r;else throw f=!r,Error(y+"crypto unavailable");else f=r;else throw Error(y+t+" not true or false: "+r);if(e.hasOwnProperty(t="MODULO_MODE")&&(x(r=e[t],0,9,t),k=r),e.hasOwnProperty(t="POW_PRECISION")&&(x(r=e[t],0,S,t),C=r),e.hasOwnProperty(t="FORMAT"))if("object"==typeof(r=e[t]))D=r;else throw Error(y+t+" not an object: "+r);if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(y+t+" invalid: "+r);z="0123456789"==r.slice(0,10),j=r}}else throw Error(y+"Object expected: "+e);return{DECIMAL_PLACES:s,ROUNDING_MODE:a,EXPONENTIAL_AT:[l,c],RANGE:[u,d],CRYPTO:f,MODULO_MODE:k,POW_PRECISION:C,FORMAT:D,ALPHABET:j}},U.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!U.DEBUG)return!0;var t,r,n=e.c,o=e.e,i=e.s;e:if("[object Array]"==({}).toString.call(n)){if((1===i||-1===i)&&o>=-S&&o<=S&&o===m(o)){if(0===n[0]){if(0===o&&1===n.length)return!0;break e}if((t=(o+1)%b)<1&&(t+=b),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=v||r!==m(r))break e;if(0!==r)return!0}}}else if(null===n&&null===o&&(null===i||1===i||-1===i))return!0;throw Error(y+"Invalid BigNumber: "+e)},U.maximum=U.max=function(){return F(arguments,-1)},U.minimum=U.min=function(){return F(arguments,1)},U.random=function(){var e=0x20000000000000,t=0x20000000000000*Math.random()&2097151?function(){return m(Math.random()*e)}:function(){return(0x40000000*Math.random()|0)*8388608+(8388608*Math.random()|0)};return function(e){var r,n,o,a,l,c=0,u=[],d=new U(i);if(null==e?e=s:x(e,0,S),a=p(e/b),f)if(crypto.getRandomValues){for(r=crypto.getRandomValues(new Uint32Array(a*=2));c<a;)(l=131072*r[c]+(r[c+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),r[c]=n[0],r[c+1]=n[1]):(u.push(l%1e14),c+=2);c=a/2}else if(crypto.randomBytes){for(r=crypto.randomBytes(a*=7);c<a;)(l=(31&r[c])*0x1000000000000+0x10000000000*r[c+1]+0x100000000*r[c+2]+0x1000000*r[c+3]+(r[c+4]<<16)+(r[c+5]<<8)+r[c+6])>=9e15?crypto.randomBytes(7).copy(r,c):(u.push(l%1e14),c+=7);c=a/7}else throw f=!1,Error(y+"crypto unavailable");if(!f)for(;c<a;)(l=t())<9e15&&(u[c++]=l%1e14);for(a=u[--c],e%=b,a&&e&&(l=_[b-e],u[c]=m(a/l)*l);0===u[c];u.pop(),c--);if(c<0)u=[o=0];else{for(o=-1;0===u[0];u.splice(0,1),o-=b);for(c=1,l=u[0];l>=10;l/=10,c++);c<b&&(o-=b-c)}return d.e=o,d.c=u,d}}(),U.sum=function(){for(var e=1,t=arguments,r=new U(t[0]);e<t.length;)r=r.plus(t[e++]);return r},r=function(){var e="0123456789";function r(e,t,r,n){for(var o,i,s=[0],a=0,l=e.length;a<l;){for(i=s.length;i--;s[i]*=t);for(s[0]+=n.indexOf(e.charAt(a++)),o=0;o<s.length;o++)s[o]>r-1&&(null==s[o+1]&&(s[o+1]=0),s[o+1]+=s[o]/r|0,s[o]%=r)}return s.reverse()}return function(n,o,i,l,c){var u,d,f,h,p,m,y,g,v=n.indexOf("."),b=s,E=a;for(v>=0&&(h=C,C=0,n=n.replace(".",""),m=(g=new U(o)).pow(n.length-v),C=h,g.c=r(N(O(m.c),m.e,"0"),10,i,e),g.e=g.c.length),f=h=(y=r(n,o,i,c?(u=j,e):(u=e,j))).length;0==y[--h];y.pop());if(!y[0])return u.charAt(0);if(v<0?--f:(m.c=y,m.e=f,m.s=l,y=(m=t(m,g,b,E,i)).c,p=m.r,f=m.e),v=y[d=f+b+1],h=i/2,p=p||d<0||null!=y[d+1],p=E<4?(null!=v||p)&&(0==E||E==(m.s<0?3:2)):v>h||v==h&&(4==E||p||6==E&&1&y[d-1]||E==(m.s<0?8:7)),d<1||!y[0])n=p?N(u.charAt(1),-b,u.charAt(0)):u.charAt(0);else{if(y.length=d,p)for(--i;++y[--d]>i;)y[d]=0,d||(++f,y=[1].concat(y));for(h=y.length;!y[--h];);for(v=0,n="";v<=h;n+=u.charAt(y[v++]));n=N(n,f,u.charAt(0))}return n}}(),t=function(){function e(e,t,r){var n,o,i,s,a=0,l=e.length,c=t%w,u=t/w|0;for(e=e.slice();l--;)n=u*(i=e[l]%w)+(s=e[l]/w|0)*c,a=((o=c*i+n%w*w+a)/r|0)+(n/w|0)+u*s,e[l]=o%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,n){var o,i;if(r!=n)i=r>n?1:-1;else for(o=i=0;o<r;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function r(e,t,r,n){for(var o=0;r--;)e[r]-=o,o=+(e[r]<t[r]),e[r]=o*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,o,i,s,a){var l,c,u,d,f,h,p,y,g,E,_,w,S,P,O,I,x,A=n.s==o.s?1:-1,R=n.c,N=o.c;if(!R||!R[0]||!N||!N[0])return new U(!n.s||!o.s||(R?N&&R[0]==N[0]:!N)?NaN:R&&0==R[0]||!N?0*A:A/0);for(g=(y=new U(A)).c=[],A=i+(c=n.e-o.e)+1,a||(a=v,c=T(n.e/b)-T(o.e/b),A=A/b|0),u=0;N[u]==(R[u]||0);u++);if(N[u]>(R[u]||0)&&c--,A<0)g.push(1),d=!0;else{for(P=R.length,I=N.length,u=0,A+=2,(f=m(a/(N[0]+1)))>1&&(N=e(N,f,a),R=e(R,f,a),I=N.length,P=R.length),S=I,_=(E=R.slice(0,I)).length;_<I;E[_++]=0);x=[0].concat(x=N.slice()),O=N[0],N[1]>=a/2&&O++;do{if(f=0,(l=t(N,E,I,_))<0){if(w=E[0],I!=_&&(w=w*a+(E[1]||0)),(f=m(w/O))>1)for(f>=a&&(f=a-1),p=(h=e(N,f,a)).length,_=E.length;1==t(h,E,p,_);)f--,r(h,I<p?x:N,p,a),p=h.length,l=1;else 0==f&&(l=f=1),p=(h=N.slice()).length;if(p<_&&(h=[0].concat(h)),r(E,h,_,a),_=E.length,-1==l)for(;1>t(N,E,I,_);)f++,r(E,I<_?x:N,_,a),_=E.length}else 0===l&&(f++,E=[0]);g[u++]=f,E[0]?E[_++]=R[S]||0:(E=[R[S]],_=1)}while((S++<P||null!=E[0])&&A--);d=null!=E[0],g[0]||g.splice(0,1)}if(a==v){for(u=1,A=g[0];A>=10;A/=10,u++);B(y,i+(y.e=u+c*b-1)+1,s,d)}else y.e=c,y.r=+d;return y}}(),n=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,t=/^([^.]+)\.$/,r=/^\.([^.]+)$/,n=/^-?(Infinity|NaN)$/,o=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(i,s,a,l){var c,u=a?s:s.replace(o,"");if(n.test(u))i.s=isNaN(u)?null:u<0?-1:1;else{if(!a&&(u=u.replace(e,function(e,t,r){return c="x"==(r=r.toLowerCase())?16:"b"==r?2:8,l&&l!=c?e:t}),l&&(c=l,u=u.replace(t,"$1").replace(r,"0.$1")),s!=u))return new U(u,c);if(U.DEBUG)throw Error(y+"Not a"+(l?" base "+l:"")+" number: "+s);i.s=null}i.c=i.e=null}}(),o.absoluteValue=o.abs=function(){var e=new U(this);return e.s<0&&(e.s=1),e},o.comparedTo=function(e,t){return I(this,new U(e,t))},o.decimalPlaces=o.dp=function(e,t){var r,n,o,i=this;if(null!=e)return x(e,0,S),null==t?t=a:x(t,0,8),B(new U(i),e+i.e+1,t);if(!(r=i.c))return null;if(n=((o=r.length-1)-T(this.e/b))*b,o=r[o])for(;o%10==0;o/=10,n--);return n<0&&(n=0),n},o.dividedBy=o.div=function(e,r){return t(this,new U(e,r),s,a)},o.dividedToIntegerBy=o.idiv=function(e,r){return t(this,new U(e,r),0,1)},o.exponentiatedBy=o.pow=function(e,t){var r,n,o,s,l,c,u,d,f,h=this;if((e=new U(e)).c&&!e.isInteger())throw Error(y+"Exponent not an integer: "+G(e));if(null!=t&&(t=new U(t)),c=e.e>14,!h.c||!h.c[0]||1==h.c[0]&&!h.e&&1==h.c.length||!e.c||!e.c[0])return f=new U(Math.pow(+G(h),c?e.s*(2-A(e)):+G(e))),t?f.mod(t):f;if(u=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new U(NaN);(n=!u&&h.isInteger()&&t.isInteger())&&(h=h.mod(t))}else{if(e.e>9&&(h.e>0||h.e<-1||(0==h.e?h.c[0]>1||c&&h.c[1]>=24e7:h.c[0]<8e13||c&&h.c[0]<=9999975e7)))return s=h.s<0&&A(e)?-0:0,h.e>-1&&(s=1/s),new U(u?1/s:s);C&&(s=p(C/b+2))}for(c?(r=new U(.5),u&&(e.s=1),d=A(e)):d=(o=Math.abs(+G(e)))%2,f=new U(i);;){if(d){if(!(f=f.times(h)).c)break;s?f.c.length>s&&(f.c.length=s):n&&(f=f.mod(t))}if(o){if(0===(o=m(o/2)))break;d=o%2}else if(B(e=e.times(r),e.e+1,1),e.e>14)d=A(e);else{if(0==(o=+G(e)))break;d=o%2}h=h.times(h),s?h.c&&h.c.length>s&&(h.c.length=s):n&&(h=h.mod(t))}return n?f:(u&&(f=i.div(f)),t?f.mod(t):s?B(f,C,a,l):f)},o.integerValue=function(e){var t=new U(this);return null==e?e=a:x(e,0,8),B(t,t.e+1,e)},o.isEqualTo=o.eq=function(e,t){return 0===I(this,new U(e,t))},o.isFinite=function(){return!!this.c},o.isGreaterThan=o.gt=function(e,t){return I(this,new U(e,t))>0},o.isGreaterThanOrEqualTo=o.gte=function(e,t){return 1===(t=I(this,new U(e,t)))||0===t},o.isInteger=function(){return!!this.c&&T(this.e/b)>this.c.length-2},o.isLessThan=o.lt=function(e,t){return 0>I(this,new U(e,t))},o.isLessThanOrEqualTo=o.lte=function(e,t){return -1===(t=I(this,new U(e,t)))||0===t},o.isNaN=function(){return!this.s},o.isNegative=function(){return this.s<0},o.isPositive=function(){return this.s>0},o.isZero=function(){return!!this.c&&0==this.c[0]},o.minus=function(e,t){var r,n,o,i,s=this,l=s.s;if(t=(e=new U(e,t)).s,!l||!t)return new U(NaN);if(l!=t)return e.s=-t,s.plus(e);var c=s.e/b,u=e.e/b,d=s.c,f=e.c;if(!c||!u){if(!d||!f)return d?(e.s=-t,e):new U(f?s:NaN);if(!d[0]||!f[0])return f[0]?(e.s=-t,e):new U(d[0]?s:3==a?-0:0)}if(c=T(c),u=T(u),d=d.slice(),l=c-u){for((i=l<0)?(l=-l,o=d):(u=c,o=f),o.reverse(),t=l;t--;o.push(0));o.reverse()}else for(n=(i=(l=d.length)<(t=f.length))?l:t,l=t=0;t<n;t++)if(d[t]!=f[t]){i=d[t]<f[t];break}if(i&&(o=d,d=f,f=o,e.s=-e.s),(t=(n=f.length)-(r=d.length))>0)for(;t--;d[r++]=0);for(t=v-1;n>l;){if(d[--n]<f[n]){for(r=n;r&&!d[--r];d[r]=t);--d[r],d[n]+=v}d[n]-=f[n]}for(;0==d[0];d.splice(0,1),--u);return d[0]?$(e,d,u):(e.s=3==a?-1:1,e.c=[e.e=0],e)},o.modulo=o.mod=function(e,r){var n,o,i=this;return(e=new U(e,r),i.c&&e.s&&(!e.c||e.c[0]))?e.c&&(!i.c||i.c[0])?(9==k?(o=e.s,e.s=1,n=t(i,e,0,3),e.s=o,n.s*=o):n=t(i,e,0,k),(e=i.minus(n.times(e))).c[0]||1!=k||(e.s=i.s),e):new U(i):new U(NaN)},o.multipliedBy=o.times=function(e,t){var r,n,o,i,s,a,l,c,u,d,f,h,p,m,y,g=this,E=g.c,_=(e=new U(e,t)).c;if(!E||!_||!E[0]||!_[0])return g.s&&e.s&&(!E||E[0]||_)&&(!_||_[0]||E)?(e.s*=g.s,E&&_?(e.c=[0],e.e=0):e.c=e.e=null):e.c=e.e=e.s=null,e;for(n=T(g.e/b)+T(e.e/b),e.s*=g.s,(l=E.length)<(d=_.length)&&(p=E,E=_,_=p,o=l,l=d,d=o),o=l+d,p=[];o--;p.push(0));for(m=v,y=w,o=d;--o>=0;){for(r=0,f=_[o]%y,h=_[o]/y|0,i=o+(s=l);i>o;)a=h*(c=E[--s]%y)+(u=E[s]/y|0)*f,r=((c=f*c+a%y*y+p[i]+r)/m|0)+(a/y|0)+h*u,p[i--]=c%m;p[i]=r}return r?++n:p.splice(0,1),$(e,p,n)},o.negated=function(){var e=new U(this);return e.s=-e.s||null,e},o.plus=function(e,t){var r,n=this,o=n.s;if(t=(e=new U(e,t)).s,!o||!t)return new U(NaN);if(o!=t)return e.s=-t,n.minus(e);var i=n.e/b,s=e.e/b,a=n.c,l=e.c;if(!i||!s){if(!a||!l)return new U(o/0);if(!a[0]||!l[0])return l[0]?e:new U(a[0]?n:0*o)}if(i=T(i),s=T(s),a=a.slice(),o=i-s){for(o>0?(s=i,r=l):(o=-o,r=a),r.reverse();o--;r.push(0));r.reverse()}for((o=a.length)-(t=l.length)<0&&(r=l,l=a,a=r,t=o),o=0;t;)o=(a[--t]=a[t]+l[t]+o)/v|0,a[t]=v===a[t]?0:a[t]%v;return o&&(a=[o].concat(a),++s),$(e,a,s)},o.precision=o.sd=function(e,t){var r,n,o,i=this;if(null!=e&&!!e!==e)return x(e,1,S),null==t?t=a:x(t,0,8),B(new U(i),e,t);if(!(r=i.c))return null;if(n=(o=r.length-1)*b+1,o=r[o]){for(;o%10==0;o/=10,n--);for(o=r[0];o>=10;o/=10,n++);}return e&&i.e+1>n&&(n=i.e+1),n},o.shiftedBy=function(e){return x(e,-E,E),this.times("1e"+e)},o.squareRoot=o.sqrt=function(){var e,r,n,o,i,l=this,c=l.c,u=l.s,d=l.e,f=s+4,h=new U("0.5");if(1!==u||!c||!c[0])return new U(!u||u<0&&(!c||c[0])?NaN:c?l:1/0);if(0==(u=Math.sqrt(+G(l)))||u==1/0?(((r=O(c)).length+d)%2==0&&(r+="0"),u=Math.sqrt(+r),d=T((d+1)/2)-(d<0||d%2),n=new U(r=u==1/0?"5e"+d:(r=u.toExponential()).slice(0,r.indexOf("e")+1)+d)):n=new U(u+""),n.c[0]){for((u=(d=n.e)+f)<3&&(u=0);;)if(i=n,n=h.times(i.plus(t(l,i,f,1))),O(i.c).slice(0,u)===(r=O(n.c)).slice(0,u)){if(n.e<d&&--u,"9999"!=(r=r.slice(u-3,u+1))&&(o||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(B(n,n.e+s+2,1),e=!n.times(n).eq(l));break}if(!o&&(B(i,i.e+s+2,0),i.times(i).eq(l))){n=i;break}f+=4,u+=4,o=1}}return B(n,n.e+s+1,a,e)},o.toExponential=function(e,t){return null!=e&&(x(e,0,S),e++),M(this,e,t,1)},o.toFixed=function(e,t){return null!=e&&(x(e,0,S),e=e+this.e+1),M(this,e,t)},o.toFormat=function(e,t,r){var n,o=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=D;else if("object"!=typeof r)throw Error(y+"Argument not an object: "+r);if(n=o.toFixed(e,t),o.c){var i,s=n.split("."),a=+r.groupSize,l=+r.secondaryGroupSize,c=r.groupSeparator||"",u=s[0],d=s[1],f=o.s<0,h=f?u.slice(1):u,p=h.length;if(l&&(i=a,a=l,l=i,p-=i),a>0&&p>0){for(i=p%a||a,u=h.substr(0,i);i<p;i+=a)u+=c+h.substr(i,a);l>0&&(u+=c+h.slice(i)),f&&(u="-"+u)}n=d?u+(r.decimalSeparator||"")+((l=+r.fractionGroupSize)?d.replace(RegExp("\\d{"+l+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):d):u}return(r.prefix||"")+n+(r.suffix||"")},o.toFraction=function(e){var r,n,o,s,l,c,u,f,h,p,m,g,v=this,E=v.c;if(null!=e&&(!(u=new U(e)).isInteger()&&(u.c||1!==u.s)||u.lt(i)))throw Error(y+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+G(u));if(!E)return new U(v);for(r=new U(i),h=n=new U(i),o=f=new U(i),g=O(E),l=r.e=g.length-v.e-1,r.c[0]=_[(c=l%b)<0?b+c:c],e=!e||u.comparedTo(r)>0?l>0?r:h:u,c=d,d=1/0,u=new U(g),f.c[0]=0;p=t(u,r,0,1),1!=(s=n.plus(p.times(o))).comparedTo(e);)n=o,o=s,h=f.plus(p.times(s=h)),f=s,r=u.minus(p.times(s=r)),u=s;return s=t(e.minus(n),o,0,1),f=f.plus(s.times(h)),n=n.plus(s.times(o)),f.s=h.s=v.s,l*=2,m=1>t(h,o,l,a).minus(v).abs().comparedTo(t(f,n,l,a).minus(v).abs())?[h,o]:[f,n],d=c,m},o.toNumber=function(){return+G(this)},o.toPrecision=function(e,t){return null!=e&&x(e,1,S),M(this,e,t,2)},o.toString=function(e){var t,n=this,o=n.s,i=n.e;return null===i?o?(t="Infinity",o<0&&(t="-"+t)):t="NaN":(null==e?t=i<=l||i>=c?R(O(n.c),i):N(O(n.c),i,"0"):10===e&&z?t=N(O((n=B(new U(n),s+i+1,a)).c),n.e,"0"):(x(e,2,j.length,"Base"),t=r(N(O(n.c),i,"0"),10,e,o,!0)),o<0&&n.c[0]&&(t="-"+t)),t},o.valueOf=o.toJSON=function(){return G(this)},o._isBigNumber=!0,o[Symbol.toStringTag]="BigNumber",o[Symbol.for("nodejs.util.inspect.custom")]=o.valueOf,null!=e&&U.set(e),U}function T(e){var t=0|e;return e>0||e===t?t:t-1}function O(e){for(var t,r,n=1,o=e.length,i=e[0]+"";n<o;){for(r=b-(t=e[n++]+"").length;r--;t="0"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function I(e,t){var r,n,o=e.c,i=t.c,s=e.s,a=t.s,l=e.e,c=t.e;if(!s||!a)return null;if(r=o&&!o[0],n=i&&!i[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=l==c,!o||!i)return n?0:!o^r?1:-1;if(!n)return l>c^r?1:-1;for(s=0,a=(l=o.length)<(c=i.length)?l:c;s<a;s++)if(o[s]!=i[s])return o[s]>i[s]^r?1:-1;return l==c?0:l>c^r?1:-1}function x(e,t,r,n){if(e<t||e>r||e!==m(e))throw Error(y+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function A(e){var t=e.c.length-1;return T(e.e/b)==t&&e.c[t]%2!=0}function R(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function N(e,t,r){var n,o;if(t<0){for(o=r+".";++t;o+=r);e=o+e}else if(n=e.length,++t>n){for(o=r,t-=n;--t;o+=r);e+=o}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}let k=P();function C(e){return e.length>=2&&e.length<=64&&/^(([a-z\d]+[-_])*[a-z\d]+\.)*([a-z\d]+[-_])*[a-z\d]+$/.test(e)}function D(e){return e===Object(e)&&!Array.isArray(e)&&"function"!=typeof e}function j(e){let t=(e,r)=>null===r||"object"!=typeof r?e.join("/"):Object.entries(r).flatMap(([r,n])=>t([...e,r],n));return t([],e)}function z(e){let t=(e,r)=>D(e)?Object.entries(e).reduce((e,[n,o])=>r&&D(r)?e+t(o,r[n]):e+BigInt(2*n.length)+t(o)+BigInt(d),BigInt(D(r)?0:f)):BigInt(("string"==typeof e?e.length:8)-(r&&"string"==typeof r?r.length:0));return t(e)}function U({data:e,storageBalance:t}){let r=new k(l).multipliedBy(new k(c)),n=new k(String(z(e))).plus(u).multipliedBy(c);if(!t)return n.lt(r)?r:n;let o=new k(t.available.toString());return o.lt(n)?n.minus(o):new k("0")}function M(e){return e.reduce((e,t)=>{let r=t.split("/")[0]||"";return e.find(e=>e===r)?e:[...e,r]},[])}var F=r(9305),$=class{near;contractId;apiServer;defaultUseApiServer;constructor(e){this.contractId=e?.contractId??s,this.apiServer=e?.apiServer??a,this.defaultUseApiServer=e?.useApiServer??!0,e?.near?this.near=e.near:this.near=new F.zU({network:e?.network??"mainnet"})}async fetchFromApi(e,t){return(await fetch(this.apiServer+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}async get({keys:e,blockHeight:t,returnDeleted:r,withBlockHeight:n,withNodeId:o,withTimestamp:i,useApiServer:s}){return s??this.defaultUseApiServer?this.fetchFromApi("/get",{keys:e,blockHeight:t,...(r||n||i)&&{options:{with_block_height:n,return_deleted:r,with_timestamp:i}}}):await this.near.view(this.contractId,"get",{keys:e,...(r||n||o)&&{options:{with_block_height:n,with_node_id:o,return_deleted:r}}})??null}async keys({keys:e,blockHeight:t,returnDeleted:r,returnType:n,valuesOnly:o,useApiServer:i}){return i??this.defaultUseApiServer?this.fetchFromApi("/keys",{keys:e,blockHeight:t,...(r||n||o)&&{options:{return_deleted:r,return_type:n,values_only:o}}}):await this.near.view(this.contractId,"keys",{keys:e,...(r||n||o)&&{options:{return_deleted:r,return_type:n,values_only:o}}})??null}async index({action:e,key:t,accountId:r,order:n,limit:o,from:i}){return this.fetchFromApi("/index",{action:e,key:t,...(r||n||o||i)&&{options:{accountId:r,order:n,limit:o,from:i}}})}async getVersion(){let e=await this.near.view(this.contractId,"get_version",{});if("string"!=typeof e)throw Error(`Unexpected response format from get_version: ${JSON.stringify(e)}`);return e}async getAccount({accountId:e}){return await this.near.view(this.contractId,"get_account",{account_id:e})??null}async getAccounts({fromIndex:e,limit:t}={}){return await this.near.view(this.contractId,"get_accounts",{...void 0!==e&&{from_index:e},...void 0!==t&&{limit:t}})??null}async getAccountCount(){let e=await this.near.view(this.contractId,"get_account_count",{});if("number"!=typeof e)throw Error(`Unexpected response format from get_account_count: ${JSON.stringify(e)}`);return e}async getNode({nodeId:e,fromIndex:t,limit:r}){return await this.near.view(this.contractId,"get_node",{node_id:e,...void 0!==t&&{from_index:t},...void 0!==r&&{limit:r}})??null}async getNodes({fromIndex:e,limit:t}={}){return await this.near.view(this.contractId,"get_nodes",{...void 0!==e&&{from_index:e},...void 0!==t&&{limit:t}})??null}async getNodeCount(){let e=await this.near.view(this.contractId,"get_node_count",{});if("number"!=typeof e)throw Error(`Unexpected response format from get_node_count: ${JSON.stringify(e)}`);return e}async isWritePermissionGranted({key:e,granteeAccountId:t,granteePublicKey:r}){if(t){if(!C(t))throw new o(t,"the grantee account id is not valid");if(t===(e.split("/")[0]||""))return!0}let n=await this.near.view(this.contractId,"is_write_permission_granted",{key:e,...t&&{predecessor_id:t},...r&&{public_key:r}});if("boolean"!=typeof n)throw Error(`Unexpected response format from is_write_permission_granted: ${JSON.stringify(n)}`);return n}async storageBalanceOf(e){let t=await this.near.view(this.contractId,"storage_balance_of",{account_id:e});return t?{available:String(t.available),total:String(t.total)}:null}async set({signerId:e,data:t,deposit:r,refundUnusedDeposit:n}){let o,s=j(t);for(let t of s)if((t.split("/")[0]||"")!==e&&!await this.isWritePermissionGranted({key:t,granteeAccountId:e}))throw new i(t,`the signer has not been granted write permission for "${t}"`);return o=r?BigInt(r):M(s).includes(e)?BigInt(U({data:t,storageBalance:await this.near.view(this.contractId,"storage_balance_of",{account_id:e})??null}).toFixed()):1n,this.near.transaction(e).functionCall(this.contractId,"set",{data:t,...n&&{options:{refund_unused_deposit:n}}},{gas:"100 Tgas",attachedDeposit:o})}async grantWritePermission({signerId:e,keys:t,granteeAccountId:r,granteePublicKey:n}){if(r&&!C(r))throw new o(r,"the grantee account id is not valid");for(let r of t){let t=r.split("/")[0]||"";if(!C(t))throw new o(t);if(t!==e)throw new i(r,`key "${r}" does not belong to granter "${e}"`)}return this.near.transaction(e).functionCall(this.contractId,"grant_write_permission",{keys:t,...r&&{predecessor_id:r},...n&&{public_key:n}},{gas:"30 Tgas",attachedDeposit:F.J0.ONE_YOCTO})}async storageDeposit({signerId:e,accountId:t,deposit:r,registrationOnly:n}){let o=BigInt(r);return this.near.transaction(e).functionCall(this.contractId,"storage_deposit",{...t&&{account_id:t},...n&&{registration_only:n}},{gas:"30 Tgas",attachedDeposit:o})}async storageWithdraw({signerId:e,amount:t}){return this.near.transaction(e).functionCall(this.contractId,"storage_withdraw",{...t&&{amount:t}},{gas:"30 Tgas",attachedDeposit:F.J0.ONE_YOCTO})}async storageUnregister({signerId:e,force:t}){return this.near.transaction(e).functionCall(this.contractId,"storage_unregister",{...void 0!==t&&{force:t}},{gas:"30 Tgas",attachedDeposit:F.J0.ONE_YOCTO})}createDelegateKey(e,t,r){return this.near.transaction(e).addKey(t,{type:"functionCall",receiverId:this.contractId,methodNames:[],allowance:r??"0.25 NEAR"})}getContractId(){return this.contractId}}},7310(e,t,r){"use strict";r.d(t,{A:()=>ib});var n={};r.r(n),r.d(n,{StripeAPIError:()=>es,StripeAuthenticationError:()=>ea,StripeCardError:()=>eo,StripeConnectionError:()=>eu,StripeError:()=>en,StripeIdempotencyError:()=>ef,StripeInvalidGrantError:()=>eh,StripeInvalidRequestError:()=>ei,StripePermissionError:()=>el,StripeRateLimitError:()=>ec,StripeSignatureVerificationError:()=>ed,StripeUnknownError:()=>ep,TemporarySessionExpiredError:()=>em,generateV1Error:()=>et,generateV2Error:()=>er});var o={};r.r(o),r.d(o,{Account:()=>nn,AccountLinks:()=>ni,AccountSessions:()=>na,Accounts:()=>nn,ApplePayDomains:()=>nc,ApplicationFees:()=>nd,Apps:()=>oQ,Balance:()=>nh,BalanceSettings:()=>nm,BalanceTransactions:()=>ng,Billing:()=>o0,BillingPortal:()=>o1,Charges:()=>nb,Checkout:()=>o2,Climate:()=>o6,ConfirmationTokens:()=>n_,CountrySpecs:()=>nS,Coupons:()=>nT,CreditNotes:()=>nI,CustomerSessions:()=>nA,Customers:()=>nN,Disputes:()=>nC,Entitlements:()=>o8,EphemeralKeys:()=>nj,Events:()=>nU,ExchangeRates:()=>nF,FileLinks:()=>nB,Files:()=>nq,FinancialConnections:()=>o3,Forwarding:()=>o4,Identity:()=>o5,InvoiceItems:()=>nV,InvoicePayments:()=>nY,InvoiceRenderingTemplates:()=>nJ,Invoices:()=>nQ,Issuing:()=>o9,Mandates:()=>n1,OAuth:()=>n8,PaymentAttemptRecords:()=>n4,PaymentIntents:()=>n9,PaymentLinks:()=>oe,PaymentMethodConfigurations:()=>or,PaymentMethodDomains:()=>oo,PaymentMethods:()=>os,PaymentRecords:()=>ol,Payouts:()=>ou,Plans:()=>of,Prices:()=>op,Products:()=>oy,PromotionCodes:()=>ov,Quotes:()=>oE,Radar:()=>o7,Refunds:()=>ow,Reporting:()=>ie,Reviews:()=>oP,SetupAttempts:()=>oO,SetupIntents:()=>ox,ShippingRates:()=>oR,Sigma:()=>it,Sources:()=>ok,SubscriptionItems:()=>oD,SubscriptionSchedules:()=>oz,Subscriptions:()=>oM,Tax:()=>ir,TaxCodes:()=>o$,TaxIds:()=>oG,TaxRates:()=>oH,Terminal:()=>io,TestHelpers:()=>ii,Tokens:()=>oK,Topups:()=>oW,Transfers:()=>oZ,Treasury:()=>is,V2:()=>ia,WebhookEndpoints:()=>oX});var i=r(6982),s=r(4434);class a{computeHMACSignature(e,t){throw Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(e,t){throw Error("computeHMACSignatureAsync not implemented.")}computeSHA256Async(e){throw Error("computeSHA256 not implemented.")}}class l extends Error{}class c extends a{computeHMACSignature(e,t){return i.createHmac("sha256",t).update(e,"utf8").digest("hex")}async computeHMACSignatureAsync(e,t){return await this.computeHMACSignature(e,t)}async computeSHA256Async(e){return new Uint8Array(await i.createHash("sha256").update(e).digest())}}var u=r(8611),d=r.t(u,2),f=r(5692),h=r.t(f,2);class p{getClientName(){throw Error("getClientName not implemented.")}makeRequest(e,t,r,n,o,i,s,a){throw Error("makeRequest not implemented.")}static makeTimeoutError(){let e=TypeError(p.TIMEOUT_ERROR_CODE);return e.code=p.TIMEOUT_ERROR_CODE,e}}p.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"],p.TIMEOUT_ERROR_CODE="ETIMEDOUT";class m{constructor(e,t){this._statusCode=e,this._headers=t}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw Error("getRawResponse not implemented.")}toStream(e){throw Error("toStream not implemented.")}toJSON(){throw Error("toJSON not implemented.")}}let y=u||d,g=f||h,v=new y.Agent({keepAlive:!0}),b=new g.Agent({keepAlive:!0});class E extends p{constructor(e){super(),this._agent=e}getClientName(){return"node"}makeRequest(e,t,r,n,o,i,s,a){let l="http"===s,c=this._agent;return c||(c=l?v:b),new Promise((s,u)=>{let d=(l?y:g).request({host:e,port:t,path:r,method:n,agent:c,headers:o,ciphers:"DEFAULT:!aNULL:!eNULL:!LOW:!EXPORT:!SSLv2:!MD5"});d.setTimeout(a,()=>{d.destroy(p.makeTimeoutError())}),d.on("response",e=>{s(new _(e))}),d.on("error",e=>{u(e)}),d.once("socket",e=>{e.connecting?e.once(l?"connect":"secureConnect",()=>{d.write(i),d.end()}):(d.write(i),d.end())})})}}class _ extends m{constructor(e){super(e.statusCode,e.headers||{}),this._res=e}getRawResponse(){return this._res}toStream(e){return this._res.once("end",()=>e()),this._res}toJSON(){return new Promise((e,t)=>{let r="";this._res.setEncoding("utf8"),this._res.on("data",e=>{r+=e}),this._res.once("end",()=>{try{e(JSON.parse(r))}catch(e){t(e)}})})}}var w=r(9537);let S=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host","authenticator","stripeContext","additionalHeaders","streaming"];function P(e){return e&&"object"==typeof e&&S.some(t=>Object.prototype.hasOwnProperty.call(e,t))}function T(e,t){return w.stringify(e,{serializeDate:e=>Math.floor(e.getTime()/1e3).toString(),arrayFormat:"indices"}).replace(/%5B/g,"[").replace(/%5D/g,"]")}let O=(()=>{let e={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return t=>{let r=t.replace(/["\n\r\u2028\u2029]/g,t=>e[t]);return e=>r.replace(/\{([\s\S]+?)\}/g,(t,r)=>{let n=e[r];return I(n)?encodeURIComponent(n):""})}})();function I(e){return["number","string","boolean"].includes(typeof e)}function x(e){let t=e.match(/\{\w+\}/g);return t?t.map(e=>e.replace(/[{}]/g,"")):[]}function A(e){if(!Array.isArray(e)||!e[0]||"object"!=typeof e[0])return{};if(!P(e[0]))return e.shift();let t=Object.keys(e[0]),r=t.filter(e=>S.includes(e));return r.length>0&&r.length!==t.length&&U(`Options found in arguments (${r.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function R(e){let t={host:null,headers:{},settings:{},streaming:!1};if(e.length>0){let r=e[e.length-1];if("string"==typeof r)t.authenticator=G(e.pop());else if(P(r)){let r=Object.assign({},e.pop()),n=Object.keys(r).filter(e=>!S.includes(e));if(n.length&&U(`Invalid options found (${n.join(", ")}); ignoring.`),r.apiKey&&(t.authenticator=G(r.apiKey)),r.idempotencyKey&&(t.headers["Idempotency-Key"]=r.idempotencyKey),r.stripeAccount&&(t.headers["Stripe-Account"]=r.stripeAccount),r.stripeContext){if(t.headers["Stripe-Account"])throw Error("Can't specify both stripeAccount and stripeContext.");t.headers["Stripe-Context"]=r.stripeContext}if(r.apiVersion&&(t.headers["Stripe-Version"]=r.apiVersion),Number.isInteger(r.maxNetworkRetries)&&(t.settings.maxNetworkRetries=r.maxNetworkRetries),Number.isInteger(r.timeout)&&(t.settings.timeout=r.timeout),r.host&&(t.host=r.host),r.authenticator){if(r.apiKey)throw Error("Can't specify both apiKey and authenticator.");if("function"!=typeof r.authenticator)throw Error("The authenticator must be a function receiving a request as the first parameter.");t.authenticator=r.authenticator}r.additionalHeaders&&(t.headers=r.additionalHeaders),r.streaming&&(t.streaming=!0)}}return t}function N(e){let t=this,r=Object.prototype.hasOwnProperty.call(e,"constructor")?e.constructor:function(...e){t.apply(this,e)};return Object.assign(r,t),r.prototype=Object.create(t.prototype),Object.assign(r.prototype,e),r}function k(e){if("object"!=typeof e)throw Error("Argument must be an object");return Object.keys(e).reduce((t,r)=>(null!=e[r]&&(t[r]=e[r]),t),{})}function C(e){return e&&"object"==typeof e?Object.keys(e).reduce((t,r)=>(t[D(r)]=e[r],t),{}):e}function D(e){return e.split("-").map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join("-")}function j(e,t){return t?e.then(e=>{setTimeout(()=>{t(null,e)},0)},e=>{setTimeout(()=>{t(e,null)},0)}):e}function z(e){return"OAuth"===e?"oauth":e[0].toLowerCase()+e.substring(1)}function U(e){return"function"!=typeof process.emitWarning?console.warn(`Stripe: ${e}`):process.emitWarning(e,"Stripe")}function M(e){let t=typeof e;return("function"===t||"object"===t)&&!!e}function F(e){let t={},r=(e,n)=>{Object.entries(e).forEach(([e,o])=>{let i=n?`${n}[${e}]`:e;if(M(o))if(!(o instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(o,"data"))return r(o,i);else t[i]=o;else t[i]=String(o)})};return r(e,null),t}function $(e,t,r){if(!Number.isInteger(t))if(void 0!==r)return r;else throw Error(`${e} must be an integer`);return t}function B(){return"undefined"==typeof process?{}:{lang_version:process.version,platform:process.platform}}function G(e){let t=t=>(t.headers.Authorization="Bearer "+e,Promise.resolve());return t._apiKey=e,t}function L(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{t.set(e,r),r+=e.length}),t}function H(e,t){return this[e]instanceof Date?Math.floor(this[e].getTime()/1e3).toString():t}function q(e){return JSON.stringify(e,H)}function K(e){return e&&e.startsWith("/v2")?"v2":"v1"}function V(e){return Array.isArray(e)?e.join(", "):String(e)}function W(e){return Number(Array.isArray(e)?e[0]:e)}function Y(e){return Object.entries(e).map(([e,t])=>[e,V(t)])}class Z extends p{constructor(e){if(super(),!e){if(!globalThis.fetch)throw Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");e=globalThis.fetch}globalThis.AbortController?this._fetchFn=Z.makeFetchWithAbortTimeout(e):this._fetchFn=Z.makeFetchWithRaceTimeout(e)}static makeFetchWithRaceTimeout(e){return(t,r,n)=>{let o,i=new Promise((e,t)=>{o=setTimeout(()=>{o=null,t(p.makeTimeoutError())},n)});return Promise.race([e(t,r),i]).finally(()=>{o&&clearTimeout(o)})}}static makeFetchWithAbortTimeout(e){return async(t,r,n)=>{let o=new AbortController,i=setTimeout(()=>{i=null,o.abort(p.makeTimeoutError())},n);try{return await e(t,Object.assign(Object.assign({},r),{signal:o.signal}))}catch(e){if("AbortError"===e.name)throw p.makeTimeoutError();throw e}finally{i&&clearTimeout(i)}}}getClientName(){return"fetch"}async makeRequest(e,t,r,n,o,i,s,a){let l="http"===s,c=new URL(r,`${l?"http":"https"}://${e}`);c.port=t;let u="POST"==n||"PUT"==n||"PATCH"==n,d=i||(u?"":void 0);return new J(await this._fetchFn(c.toString(),{method:n,headers:Y(o),body:d},a))}}class J extends m{constructor(e){super(e.status,J._transformHeadersToObject(e.headers)),this._res=e}getRawResponse(){return this._res}toStream(e){return e(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(e){let t={};for(let r of e){if(!Array.isArray(r)||2!=r.length)throw Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");t[r[0]]=r[1]}return t}}class X extends a{constructor(e){super(),this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,t){throw new l("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(e,t){let r=new TextEncoder,n=await this.subtleCrypto.importKey("raw",r.encode(t),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),o=new Uint8Array(await this.subtleCrypto.sign("hmac",n,r.encode(e))),i=Array(o.length);for(let e=0;e<o.length;e++)i[e]=Q[o[e]];return i.join("")}async computeSHA256Async(e){return new Uint8Array(await this.subtleCrypto.digest("SHA-256",e))}}let Q=Array(256);for(let e=0;e<Q.length;e++)Q[e]=e.toString(16).padStart(2,"0");class ee{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}secureCompare(e,t){if(e.length!==t.length)return!1;let r=e.length,n=0;for(let o=0;o<r;++o)n|=e.charCodeAt(o)^t.charCodeAt(o);return 0===n}createEmitter(){throw Error("createEmitter not implemented.")}tryBufferData(e){throw Error("tryBufferData not implemented.")}createNodeHttpClient(e){throw Error("createNodeHttpClient not implemented.")}createFetchHttpClient(e){return new Z(e)}createDefaultHttpClient(){throw Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(e){return new X(e)}createDefaultCryptoProvider(){throw Error("createDefaultCryptoProvider not implemented.")}}let et=e=>{switch(e.type){case"card_error":return new eo(e);case"invalid_request_error":return new ei(e);case"api_error":return new es(e);case"authentication_error":return new ea(e);case"rate_limit_error":return new ec(e);case"idempotency_error":return new ef(e);case"invalid_grant":return new eh(e);default:return new ep(e)}},er=e=>"temporary_session_expired"===e.type?new em(e):"invalid_fields"===e.code?new ei(e):et(e);class en extends Error{constructor(e={},t=null){var r;super(e.message),this.type=t||this.constructor.name,this.raw=e,this.rawType=e.type,this.code=e.code,this.doc_url=e.doc_url,this.param=e.param,this.detail=e.detail,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode,this.message=null!=(r=e.message)?r:"",this.userMessage=e.user_message,this.charge=e.charge,this.decline_code=e.decline_code,this.payment_intent=e.payment_intent,this.payment_method=e.payment_method,this.payment_method_type=e.payment_method_type,this.setup_intent=e.setup_intent,this.source=e.source}}en.generate=et;class eo extends en{constructor(e={}){super(e,"StripeCardError")}}class ei extends en{constructor(e={}){super(e,"StripeInvalidRequestError")}}class es extends en{constructor(e={}){super(e,"StripeAPIError")}}class ea extends en{constructor(e={}){super(e,"StripeAuthenticationError")}}class el extends en{constructor(e={}){super(e,"StripePermissionError")}}class ec extends en{constructor(e={}){super(e,"StripeRateLimitError")}}class eu extends en{constructor(e={}){super(e,"StripeConnectionError")}}class ed extends en{constructor(e,t,r={}){super(r,"StripeSignatureVerificationError"),this.header=e,this.payload=t}}class ef extends en{constructor(e={}){super(e,"StripeIdempotencyError")}}class eh extends en{constructor(e={}){super(e,"StripeInvalidGrantError")}}class ep extends en{constructor(e={}){super(e,"StripeUnknownError")}}class em extends en{constructor(e={}){super(e,"TemporarySessionExpiredError")}}var ey=r(5317);class eg extends en{}class ev extends ee{constructor(){super(),this._exec=ey.exec,this._UNAME_CACHE=null}uuid4(){return i.randomUUID?i.randomUUID():super.uuid4()}getUname(){return this._UNAME_CACHE||(this._UNAME_CACHE=new Promise((e,t)=>{try{this._exec("uname -a",(t,r)=>{if(t)return e(null);e(r)})}catch(t){e(null)}})),this._UNAME_CACHE}secureCompare(e,t){if(!e||!t)throw Error("secureCompare must receive two arguments");if(e.length!==t.length)return!1;if(i.timingSafeEqual){let r=new TextEncoder,n=r.encode(e),o=r.encode(t);return i.timingSafeEqual(n,o)}return super.secureCompare(e,t)}createEmitter(){return new s.EventEmitter}tryBufferData(e){if(!(e.file.data instanceof s.EventEmitter))return Promise.resolve(e);let t=[];return new Promise((r,n)=>{e.file.data.on("data",e=>{t.push(e)}).once("end",()=>{let n=Object.assign({},e);n.file.data=L(t),r(n)}).on("error",e=>{n(new eg({message:"An error occurred while attempting to process the file for upload.",detail:e}))})})}createNodeHttpClient(e){return new E(e)}createDefaultHttpClient(){return new E}createNodeCryptoProvider(){return new c}createDefaultCryptoProvider(){return this.createNodeCryptoProvider()}}let eb=60;class eE{constructor(e,t){this._stripe=e,this._maxBufferedRequestMetric=t}_normalizeStripeContext(e,t){return e?e.toString()||null:(null==t?void 0:t.toString())||null}_addHeadersDirectlyToObject(e,t){e.requestId=t["request-id"],e.stripeAccount=e.stripeAccount||t["stripe-account"],e.apiVersion=e.apiVersion||t["stripe-version"],e.idempotencyKey=e.idempotencyKey||t["idempotency-key"]}_makeResponseEvent(e,t,r){let n=Date.now(),o=n-e.request_start_time;return k({api_version:r["stripe-version"],account:r["stripe-account"],idempotency_key:r["idempotency-key"],method:e.method,path:e.path,status:t,request_id:this._getRequestId(r),elapsed:o,request_start_time:e.request_start_time,request_end_time:n})}_getRequestId(e){return e["request-id"]}_streamingResponseHandler(e,t,r){return n=>{let o=n.getHeaders(),i=()=>{let r=this._makeResponseEvent(e,n.getStatusCode(),o);this._stripe._emitter.emit("response",r),this._recordRequestMetrics(this._getRequestId(o),r.elapsed,t)},s=n.toStream(i);return this._addHeadersDirectlyToObject(s,o),r(null,s)}}_jsonResponseHandler(e,t,r,n){return o=>{let i=o.getHeaders(),s=this._getRequestId(i),a=o.getStatusCode(),l=this._makeResponseEvent(e,a,i);this._stripe._emitter.emit("response",l),o.toJSON().then(e=>{if(e.error){let r;throw"string"==typeof e.error&&(e.error={type:e.error,message:e.error_description}),e.error.headers=i,e.error.statusCode=a,e.error.requestId=s,r=401===a?new ea(e.error):403===a?new el(e.error):429===a?new ec(e.error):"v2"===t?er(e.error):et(e.error)}return e},e=>{throw new es({message:"Invalid JSON received from the Stripe API",exception:e,requestId:i["request-id"]})}).then(e=>{this._recordRequestMetrics(s,l.elapsed,r);let t=o.getRawResponse();this._addHeadersDirectlyToObject(t,i),Object.defineProperty(e,"lastResponse",{enumerable:!1,writable:!1,value:t}),n(null,e)},e=>n(e,null))}}static _generateConnectionErrorMessage(e){return`An error occurred with our connection to Stripe.${e>0?` Request was retried ${e} times.`:""}`}static _shouldRetry(e,t,r,n){return!!(n&&0===t&&p.CONNECTION_CLOSED_ERROR_CODES.includes(n.code))||!(t>=r)&&(!e||"false"!==e.getHeaders()["stripe-should-retry"]&&!!("true"===e.getHeaders()["stripe-should-retry"]||409===e.getStatusCode()||e.getStatusCode()>=500))}_getSleepTimeInMS(e,t=null){let r=this._stripe.getInitialNetworkRetryDelay(),n=Math.min(r*Math.pow(2,e-1),this._stripe.getMaxNetworkRetryDelay());return n*=.5*(1+Math.random()),n=Math.max(r,n),Number.isInteger(t)&&t<=eb&&(n=Math.max(n,t)),1e3*n}_getMaxNetworkRetries(e={}){return void 0!==e.maxNetworkRetries&&Number.isInteger(e.maxNetworkRetries)?e.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(e,t,r){let n=this._getMaxNetworkRetries(t),o=()=>`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`;if("v2"===r){if("POST"===e||"DELETE"===e)return o()}else if("v1"===r&&"POST"===e&&n>0)return o();return null}_makeHeaders({contentType:e,contentLength:t,apiVersion:r,clientUserAgent:n,method:o,userSuppliedHeaders:i,userSuppliedSettings:s,stripeAccount:a,stripeContext:l,apiMode:c}){let u={Accept:"application/json","Content-Type":e,"User-Agent":this._getUserAgentString(c),"X-Stripe-Client-User-Agent":n,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":r,"Stripe-Account":a,"Stripe-Context":l,"Idempotency-Key":this._defaultIdempotencyKey(o,s,c)},d="POST"==o||"PUT"==o||"PATCH"==o;return(d||t)&&(d||U(`${o} method had non-zero contentLength but no payload is expected for this verb`),u["Content-Length"]=t),Object.assign(k(u),C(i))}_getUserAgentString(e){let t=this._stripe.getConstant("PACKAGE_VERSION"),r=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/${e} NodeBindings/${t} ${r}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0)return JSON.stringify({last_request_metrics:this._stripe._prevRequestMetrics.shift()})}_recordRequestMetrics(e,t,r){if(this._stripe.getTelemetryEnabled()&&e)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)U("Request metrics buffer is full, dropping telemetry message.");else{let n={request_id:e,request_duration_ms:t};r&&r.length>0&&(n.usage=r),this._stripe._prevRequestMetrics.push(n)}}_rawRequest(e,t,r,n,o){return new Promise((i,s)=>{let a;try{let i=e.toUpperCase();if("POST"!==i&&r&&0!==Object.keys(r).length)throw Error("rawRequest only supports params on POST requests. Please pass null and add your parameters to path.");let s=[].slice.call([r,n]),l=A(s),c="POST"===i?Object.assign({},l):null,u=R(s),d=u.headers,f=u.authenticator;a={requestMethod:i,requestPath:t,bodyData:c,queryData:{},authenticator:f,headers:d,host:u.host,streaming:!!u.streaming,settings:{},usage:o||["raw_request"]}}catch(e){s(e);return}function l(e,t){e?s(e):i(t)}let{headers:c,settings:u}=a,d=a.authenticator;this._request(a.requestMethod,a.host,t,a.bodyData,d,{headers:c,settings:u,streaming:a.streaming},a.usage,l)})}_request(e,t,r,n,o,i,s=[],a,l=null){var c;let u;o=null!=(c=null!=o?o:this._stripe._authenticator)?c:null;let d=K(r),f=(e,t,r,n,o)=>setTimeout(e,this._getSleepTimeInMS(n,o),t,r,n+1),h=(n,l,c)=>{let m=i.settings&&i.settings.timeout&&Number.isInteger(i.settings.timeout)&&i.settings.timeout>=0?i.settings.timeout:this._stripe.getApiField("timeout"),y={host:t||this._stripe.getApiField("host"),port:this._stripe.getApiField("port"),path:r,method:e,headers:Object.assign({},l),body:u,protocol:this._stripe.getApiField("protocol")};o(y).then(()=>{let t=this._stripe.getApiField("httpClient").makeRequest(y.host,y.port,y.path,y.method,y.headers,y.body,y.protocol,m),o=Date.now(),u=k({api_version:n,account:V(l["Stripe-Account"]),idempotency_key:V(l["Idempotency-Key"]),method:e,path:r,request_start_time:o}),g=c||0,v=this._getMaxNetworkRetries(i.settings||{});this._stripe._emitter.emit("request",u),t.then(e=>eE._shouldRetry(e,g,v)?f(h,n,l,g,W(e.getHeaders()["retry-after"])):i.streaming&&400>e.getStatusCode()?this._streamingResponseHandler(u,s,a)(e):this._jsonResponseHandler(u,d,s,a)(e)).catch(e=>eE._shouldRetry(null,g,v,e)?f(h,n,l,g,null):a(new eu({message:e.code&&e.code===p.TIMEOUT_ERROR_CODE?`Request aborted due to timeout being reached (${m}ms)`:eE._generateConnectionErrorMessage(g),detail:e})))}).catch(e=>{throw new en({message:"Unable to authenticate the request",exception:e})})},m=(t,r)=>{if(t)return a(t);u=r,this._stripe.getClientUserAgent(t=>{var r,n,o;let s=this._stripe.getApiField("version"),a=this._makeHeaders({contentType:"v2"==d?"application/json":"application/x-www-form-urlencoded",contentLength:new TextEncoder().encode(u).length,apiVersion:s,clientUserAgent:t,method:e,userSuppliedHeaders:null!=(r=i.headers)?r:null,userSuppliedSettings:null!=(n=i.settings)?n:{},stripeAccount:null!=(o=i.stripeAccount)?o:this._stripe.getApiField("stripeAccount"),stripeContext:this._normalizeStripeContext(i.stripeContext,this._stripe.getApiField("stripeContext")),apiMode:d});h(s,a,0)})};if(l)l(e,n,i.headers,m);else{let e;m(null,e="v2"==d?n?q(n):"":T(n||{},d))}}}class e_{constructor(e,t,r,n){this.index=0,this.pagePromise=e,this.promiseCache={currentPromise:null},this.requestArgs=t,this.spec=r,this.stripeResource=n}async iterate(e){if(!(e&&e.data&&"number"==typeof e.data.length))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");let t=eD(this.requestArgs);if(this.index<e.data.length){let r=t?e.data.length-1-this.index:this.index,n=e.data[r];return this.index+=1,{value:n,done:!1}}if(e.has_more){this.index=0,this.pagePromise=this.getNextPage(e);let t=await this.pagePromise;return this.iterate(t)}return{done:!0,value:void 0}}getNextPage(e){throw Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;let e=(async()=>{let e=await this._next();return this.promiseCache.currentPromise=null,e})();return this.promiseCache.currentPromise=e,e}}class ew extends e_{getNextPage(e){let t=eD(this.requestArgs),r=eR(e,t);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[t?"ending_before":"starting_after"]:r})}}class eS extends e_{getNextPage(e){if(!e.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:e.next_page})}}class eP{constructor(e,t,r,n){this.currentPageIterator=(async()=>(await e).data[Symbol.iterator]())(),this.nextPageUrl=(async()=>(await e).next_page_url||null)(),this.requestArgs=t,this.spec=r,this.stripeResource=n}async turnPage(){let e=await this.nextPageUrl;if(!e)return null;this.spec.fullPath=e;let t=await this.stripeResource._makeRequest([],this.spec,{});return this.nextPageUrl=Promise.resolve(t.next_page_url),this.currentPageIterator=Promise.resolve(t.data[Symbol.iterator]()),this.currentPageIterator}async next(){{let e=(await this.currentPageIterator).next();if(!e.done)return{done:!1,value:e.value}}let e=await this.turnPage();if(!e)return{done:!0,value:void 0};let t=e.next();return t.done?{done:!0,value:void 0}:{done:!1,value:t.value}}}let eT=(e,t,r,n)=>{let o=K(r.fullPath||r.path);return"v2"!==o&&"search"===r.methodType?eO(new eS(n,t,r,e)):"v2"!==o&&"list"===r.methodType?eO(new ew(n,t,r,e)):"v2"===o&&"list"===r.methodType?eO(new eP(n,t,r,e)):null},eO=e=>{let t=eN((...t)=>e.next(...t)),r=ek(t),n={autoPagingEach:t,autoPagingToArray:r,next:()=>e.next(),return:()=>({}),[eI()]:()=>n};return n};function eI(){return"undefined"!=typeof Symbol&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function ex(e){if(e.length<2)return null;let t=e[1];if("function"!=typeof t)throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof t}`);return t}function eA(e){if(0===e.length)return;let t=e[0];if("function"!=typeof t)throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof t}`);if(2===t.length)return t;if(t.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${t}`);return function(e,r){r(t(e))}}function eR(e,t){let r=t?0:e.data.length-1,n=e.data[r],o=n&&n.id;if(!o)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return o}function eN(e){return function(){let t=[].slice.call(arguments),r=eA(t),n=ex(t);if(t.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${t}`);return j(eC(e,r),n)}}function ek(e){return function(t,r){let n=t&&t.limit;if(!n)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(n>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");return j(new Promise((t,r)=>{let o=[];e(e=>{if(o.push(e),o.length>=n)return!1}).then(()=>{t(o)}).catch(r)}),r)}}function eC(e,t){return new Promise((r,n)=>{function o(n){if(n.done)return void r();let i=n.value;return new Promise(e=>{t(i,e)}).then(t=>!1===t?o({done:!0,value:void 0}):e().then(o))}e().then(o).catch(n)})}function eD(e){return!!A([].slice.call(e)).ending_before}function ej(e){if(void 0!==e.path&&void 0!==e.fullPath)throw Error(`Method spec specified both a 'path' (${e.path}) and a 'fullPath' (${e.fullPath}).`);return function(...t){let r="function"==typeof t[t.length-1]&&t.pop();e.urlParams=x(e.fullPath||this.createResourcePathWithSymbols(e.path||""));let n=j(this._makeRequest(t,e,{}),r);return Object.assign(n,eT(this,t,e,n)),n}}function ez(e,t){if(this._stripe=e,t)throw Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=O(this.basePath||e.getApiField("basePath")),this.resourcePath=this.path,this.path=O(this.path),this.initialize(...arguments)}ez.extend=N,ez.method=ej,ez.MAX_BUFFERED_REQUEST_METRICS=100,ez.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(e,t){let r=[this.basePath(t),this.path(t)];if("function"==typeof e){let n=e(t);n&&r.push(n)}else r.push(e);return this._joinUrlParts(r)},createResourcePathWithSymbols(e){return e?`/${this._joinUrlParts([this.resourcePath,e])}`:`/${this.resourcePath}`},_joinUrlParts:e=>e.join("/").replace(/\/{2,}/g,"/"),_getRequestOpts(e,t,r){var n;let o=(t.method||"GET").toUpperCase(),i=t.usage||[],s=t.urlParams||[],a=t.encode||(e=>e),l=!!t.fullPath,c=O(l?t.fullPath:t.path||""),u=l?t.fullPath:this.createResourcePathWithSymbols(t.path),d=[].slice.call(e),f=s.reduce((e,t)=>{let r=d.shift();if("string"!=typeof r)throw Error(`Stripe: Argument "${t}" must be a string, but got: ${r} (on API request to \`${o} ${u}\`)`);return e[t]=r,e},{}),h=a(Object.assign({},A(d),r)),p=R(d),m=p.host||t.host,y=!!t.streaming||!!p.streaming;if(d.filter(e=>null!=e).length)throw Error(`Stripe: Unknown arguments (${d}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${o} \`${u}\`)`);let g=l?c(f):this.createFullPath(c,f),v=Object.assign(p.headers,t.headers);t.validator&&t.validator(h,{headers:v});let b="GET"===t.method||"DELETE"===t.method;return{requestMethod:o,requestPath:g,bodyData:b?null:h,queryData:b?h:{},authenticator:null!=(n=p.authenticator)?n:null,headers:v,host:null!=m?m:null,streaming:y,settings:p.settings,usage:i}},_makeRequest(e,t,r){return new Promise((n,o)=>{var i;let s;try{s=this._getRequestOpts(e,t,r)}catch(e){o(e);return}function a(e,r){e?o(e):n(t.transformResponseData?t.transformResponseData(r):r)}let l=0===Object.keys(s.queryData).length,c=[s.requestPath,l?"":"?",T(s.queryData,K(s.requestPath))].join(""),{headers:u,settings:d}=s;this._stripe._requestSender._request(s.requestMethod,s.host,c,s.bodyData,s.authenticator,{headers:u,settings:d,streaming:s.streaming},s.usage,a,null==(i=this.requestDataProcessor)?void 0:i.bind(this))})}};class eU{constructor(e=[]){this._segments=[...e]}get segments(){return[...this._segments]}push(e){if(!e)throw Error("Segment cannot be null or undefined");return new eU([...this._segments,e])}pop(){if(0===this._segments.length)throw Error("Cannot pop from an empty context");return new eU(this._segments.slice(0,-1))}toString(){return this._segments.join("/")}static parse(e){return new eU(e?e.split("/"):[])}}function eM(e){let t={DEFAULT_TOLERANCE:300,signature:null,constructEvent(e,r,n,o,i,s){try{if(!this.signature)throw Error("ERR: missing signature helper, unable to verify");this.signature.verifyHeader(e,r,n,o||t.DEFAULT_TOLERANCE,i,s)}catch(e){throw e instanceof l&&(e.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),e}return e instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(e)):JSON.parse(e)},async constructEventAsync(e,r,n,o,i,s){if(!this.signature)throw Error("ERR: missing signature helper, unable to verify");return await this.signature.verifyHeaderAsync(e,r,n,o||t.DEFAULT_TOLERANCE,i,s),e instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(e)):JSON.parse(e)},generateTestHeaderString:function(e){let t=u(e),r=t.signature||t.cryptoProvider.computeHMACSignature(t.payloadString,t.secret);return t.generateHeaderString(r)},generateTestHeaderStringAsync:async function(e){let t=u(e),r=t.signature||await t.cryptoProvider.computeHMACSignatureAsync(t.payloadString,t.secret);return t.generateHeaderString(r)}},r={EXPECTED_SCHEME:"v1",verifyHeader(e,t,r,s,a,l){let{decodedHeader:u,decodedPayload:d,details:f,suspectPayloadType:h}=o(e,t,this.EXPECTED_SCHEME),p=/\s/.test(r),m=(a=a||c()).computeHMACSignature(n(d,f),r);return i(d,u,f,m,s,h,p,l),!0},async verifyHeaderAsync(e,t,r,s,a,l){let{decodedHeader:u,decodedPayload:d,details:f,suspectPayloadType:h}=o(e,t,this.EXPECTED_SCHEME),p=/\s/.test(r);a=a||c();let m=await a.computeHMACSignatureAsync(n(d,f),r);return i(d,u,f,m,s,h,p,l)}};function n(e,t){return`${t.timestamp}.${e}`}function o(e,t,r){if(!e)throw new ed(t,e,{message:"No webhook payload was provided."});let n="string"!=typeof e&&!(e instanceof Uint8Array),o=new TextDecoder("utf8"),i=e instanceof Uint8Array?o.decode(e):e;if(Array.isArray(t))throw Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(null==t||""==t)throw new ed(t,e,{message:"No stripe-signature header value was provided."});let a=t instanceof Uint8Array?o.decode(t):t,l=s(a,r);if(!l||-1===l.timestamp)throw new ed(a,i,{message:"Unable to extract timestamp and signatures from header"});if(!l.signatures.length)throw new ed(a,i,{message:"No signatures found with expected scheme"});return{decodedPayload:i,decodedHeader:a,details:l,suspectPayloadType:n}}function i(t,r,n,o,i,s,a,l){let c=!!n.signatures.filter(e.secureCompare.bind(e,o)).length,u="\nLearn more about webhook signing and explore webhook integration examples for various frameworks at https://docs.stripe.com/webhooks/signature",d=a?"\n\nNote: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value":"";if(!c){if(s)throw new ed(r,t,{message:"Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. \nSignature verification is impossible without access to the original signed material. \n"+u+"\n"+d});throw new ed(r,t,{message:"No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? \n If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.\n"+u+"\n"+d})}let f=Math.floor(("number"==typeof l?l:Date.now())/1e3)-n.timestamp;if(i>0&&f>i)throw new ed(r,t,{message:"Timestamp outside the tolerance zone"});return!0}function s(e,t){return"string"!=typeof e?null:e.split(",").reduce((e,r)=>{let n=r.split("=");return"t"===n[0]&&(e.timestamp=parseInt(n[1],10)),n[0]===t&&e.signatures.push(n[1]),e},{timestamp:-1,signatures:[]})}let a=null;function c(){return a||(a=e.createDefaultCryptoProvider()),a}function u(e){if(!e)throw new en({message:"Options are required"});let t=Math.floor(e.timestamp)||Math.floor(Date.now()/1e3),n=e.scheme||r.EXPECTED_SCHEME,o=e.cryptoProvider||c(),i=`${t}.${e.payload}`,s=e=>`t=${t},${n}=${e}`;return Object.assign(Object.assign({},e),{timestamp:t,scheme:n,cryptoProvider:o,payloadString:i,generateHeaderString:s})}return t.signature=r,t}let eF="2025-11-17.clover";function e$(e,t){for(let r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;let n=r[0].toLowerCase()+r.substring(1),o=new t[r](e);this[n]=o}}function eB(e,t){return function(e){return new e$(e,t)}}let eG=ez.method,eL=ez.extend({retrieve:eG({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:eG({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:eG({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:eG({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:eG({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:eG({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:eG({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})}),eH=ez.method,eq=ez.extend({retrieve:eH({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:eH({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})}),eK=ez.method,eV=ez.extend({create:eK({method:"POST",fullPath:"/v1/billing/alerts"}),retrieve:eK({method:"GET",fullPath:"/v1/billing/alerts/{id}"}),list:eK({method:"GET",fullPath:"/v1/billing/alerts",methodType:"list"}),activate:eK({method:"POST",fullPath:"/v1/billing/alerts/{id}/activate"}),archive:eK({method:"POST",fullPath:"/v1/billing/alerts/{id}/archive"}),deactivate:eK({method:"POST",fullPath:"/v1/billing/alerts/{id}/deactivate"})}),eW=ez.method,eY=ez.extend({find:eW({method:"GET",fullPath:"/v1/tax/associations/find"})}),eZ=ez.method,eJ=ez.extend({retrieve:eZ({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:eZ({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:eZ({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:eZ({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:eZ({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})}),eX=ez.method,eQ=ez.extend({create:eX({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:eX({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:eX({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:eX({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:eX({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),respond:eX({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond"}),reverse:eX({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})}),e0=ez.method,e1=ez.extend({create:e0({method:"POST",fullPath:"/v1/tax/calculations"}),retrieve:e0({method:"GET",fullPath:"/v1/tax/calculations/{calculation}"}),listLineItems:e0({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})}),e2=ez.method,e6=ez.extend({create:e2({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:e2({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:e2({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:e2({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})}),e8=ez.method,e3=ez.extend({create:e8({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:e8({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:e8({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:e8({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})}),e4=ez.method,e5=ez.extend({deliverCard:e4({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:e4({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:e4({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:e4({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"}),submitCard:e4({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/submit"})}),e9=ez.method,e7=ez.extend({create:e9({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:e9({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:e9({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:e9({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})}),te=ez.method,tt=ez.extend({create:te({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:te({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:te({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:te({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:te({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})}),tr=ez.method,tn=ez.extend({create:tr({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})}),to=ez.method,ti=ez.extend({create:to({method:"POST",fullPath:"/v1/terminal/connection_tokens"})}),ts=ez.method,ta=ez.extend({retrieve:ts({method:"GET",fullPath:"/v1/billing/credit_balance_summary"})}),tl=ez.method,tc=ez.extend({retrieve:tl({method:"GET",fullPath:"/v1/billing/credit_balance_transactions/{id}"}),list:tl({method:"GET",fullPath:"/v1/billing/credit_balance_transactions",methodType:"list"})}),tu=ez.method,td=ez.extend({create:tu({method:"POST",fullPath:"/v1/billing/credit_grants"}),retrieve:tu({method:"GET",fullPath:"/v1/billing/credit_grants/{id}"}),update:tu({method:"POST",fullPath:"/v1/billing/credit_grants/{id}"}),list:tu({method:"GET",fullPath:"/v1/billing/credit_grants",methodType:"list"}),expire:tu({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/expire"}),voidGrant:tu({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/void"})}),tf=ez.method,th=ez.extend({create:tf({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:tf({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:tf({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})}),tp=ez.method,tm=ez.extend({fundCashBalance:tp({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})}),ty=ez.method,tg=ez.extend({create:ty({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:ty({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:ty({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})}),tv=ez.method,tb=ez.extend({create:tv({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:tv({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:tv({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:tv({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:tv({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})}),tE=ez.method,t_=ez.extend({retrieve:tE({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:tE({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})}),tw=ez.method,tS=ez.extend({create:tw({method:"POST",fullPath:"/v2/core/event_destinations"}),retrieve:tw({method:"GET",fullPath:"/v2/core/event_destinations/{id}"}),update:tw({method:"POST",fullPath:"/v2/core/event_destinations/{id}"}),list:tw({method:"GET",fullPath:"/v2/core/event_destinations",methodType:"list"}),del:tw({method:"DELETE",fullPath:"/v2/core/event_destinations/{id}"}),disable:tw({method:"POST",fullPath:"/v2/core/event_destinations/{id}/disable"}),enable:tw({method:"POST",fullPath:"/v2/core/event_destinations/{id}/enable"}),ping:tw({method:"POST",fullPath:"/v2/core/event_destinations/{id}/ping"})}),tP=ez.method,tT=ez.extend({retrieve(...e){return tP({method:"GET",fullPath:"/v2/core/events/{id}",transformResponseData:e=>this.addFetchRelatedObjectIfNeeded(e)}).apply(this,e)},list(...e){return tP({method:"GET",fullPath:"/v2/core/events",methodType:"list",transformResponseData:e=>Object.assign(Object.assign({},e),{data:e.data.map(this.addFetchRelatedObjectIfNeeded.bind(this))})}).apply(this,e)},addFetchRelatedObjectIfNeeded(e){return e.related_object&&e.related_object.url?Object.assign(Object.assign({},e),{fetchRelatedObject:()=>tP({method:"GET",fullPath:e.related_object.url}).apply(this,[{stripeContext:e.context}])}):e}}),tO=ez.method,tI=ez.extend({create:tO({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:tO({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:tO({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:tO({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})}),tx=ez.method,tA=ez.extend({create:tx({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:tx({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:tx({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:tx({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),close:tx({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/close"}),retrieveFeatures:tx({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:tx({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})}),tR=ez.method,tN=ez.extend({fail:tR({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:tR({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:tR({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})}),tk=ez.method,tC=ez.extend({create:tk({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:tk({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:tk({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:tk({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})}),tD=ez.method,tj=ez.extend({create:tD({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:tD({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:tD({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:tD({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:tD({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})}),tz=ez.method,tU=ez.extend({create:tz({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})}),tM=ez.method,tF=ez.extend({create:tM({method:"POST",fullPath:"/v2/billing/meter_event_adjustments"})}),t$=ez.method,tB=ez.extend({create:t$({method:"POST",fullPath:"/v2/billing/meter_event_session"})}),tG=ez.method,tL=ez.extend({create:tG({method:"POST",fullPath:"/v2/billing/meter_event_stream",host:"meter-events.stripe.com"})}),tH=ez.method,tq=ez.extend({create:tH({method:"POST",fullPath:"/v1/billing/meter_events"})}),tK=ez.method,tV=ez.extend({create:tK({method:"POST",fullPath:"/v2/billing/meter_events"})}),tW=ez.method,tY=ez.extend({create:tW({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:tW({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:tW({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:tW({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:tW({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:tW({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:tW({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})}),tZ=ez.method,tJ=ez.extend({create:tZ({method:"POST",fullPath:"/v1/terminal/onboarding_links"})}),tX=ez.method,tQ=ez.extend({create:tX({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:tX({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:tX({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:tX({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:tX({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})}),t0=ez.method,t1=ez.extend({update:t0({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:t0({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:t0({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:t0({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})}),t2=ez.method,t6=ez.extend({create:t2({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:t2({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:t2({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:t2({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})}),t8=ez.method,t3=ez.extend({update:t8({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:t8({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:t8({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:t8({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})}),t4=ez.method,t5=ez.extend({create:t4({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:t4({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:t4({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:t4({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})}),t9=ez.method,t7=ez.extend({create:t9({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:t9({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:t9({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:t9({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})}),re=ez.method,rt=ez.extend({activate:re({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:re({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:re({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})}),rr=ez.method,rn=ez.extend({retrieve:rr({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:rr({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})}),ro=ez.method,ri=ez.extend({retrieve:ro({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:ro({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})}),rs=ez.method,ra=ez.extend({create:rs({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:rs({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:rs({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:rs({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:rs({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:rs({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),collectInputs:rs({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_inputs"}),collectPaymentMethod:rs({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_payment_method"}),confirmPaymentIntent:rs({method:"POST",fullPath:"/v1/terminal/readers/{reader}/confirm_payment_intent"}),processPaymentIntent:rs({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:rs({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:rs({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:rs({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})}),rl=ez.method,rc=ez.extend({presentPaymentMethod:rl({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"}),succeedInputCollection:rl({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/succeed_input_collection"}),timeoutInputCollection:rl({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/timeout_input_collection"})}),ru=ez.method,rd=ez.extend({create:ru({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})}),rf=ez.method,rh=ez.extend({retrieve:rf({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:rf({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})}),rp=ez.method,rm=ez.extend({create:rp({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})}),ry=ez.method,rg=ez.extend({retrieve:ry({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:ry({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})}),rv=ez.method,rb=ez.extend({expire:rv({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})}),rE=ez.method,r_=ez.extend({create:rE({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:rE({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:rE({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:rE({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})}),rw=ez.method,rS=ez.extend({create:rw({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:rw({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:rw({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})}),rP=ez.method,rT=ez.extend({retrieve:rP({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:rP({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})}),rO=ez.method,rI=ez.extend({create:rO({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:rO({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:rO({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})}),rx=ez.method,rA=ez.extend({retrieve:rx({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:rx({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})}),rR=ez.method,rN=ez.extend({create:rR({method:"POST",fullPath:"/v1/apps/secrets"}),list:rR({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:rR({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:rR({method:"GET",fullPath:"/v1/apps/secrets/find"})}),rk=ez.method,rC=ez.extend({create:rk({method:"POST",fullPath:"/v1/billing_portal/sessions"})}),rD=ez.method,rj=ez.extend({create:rD({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:rD({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:rD({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:rD({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:rD({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:rD({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})}),rz=ez.method,rU=ez.extend({create:rz({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:rz({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})}),rM=ez.method,rF=ez.extend({retrieve:rM({method:"GET",fullPath:"/v1/tax/settings"}),update:rM({method:"POST",fullPath:"/v1/tax/settings"})}),r$=ez.method,rB=ez.extend({retrieve:r$({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:r$({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})}),rG=ez.method,rL=ez.extend({create:rG({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:rG({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:rG({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:rG({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:rG({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})}),rH=ez.method,rq=ez.extend({retrieve:rH({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:rH({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:rH({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})}),rK=ez.method,rV=ez.extend({retrieve:rK({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:rK({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})}),rW=ez.method,rY=ez.extend({retrieve:rW({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:rW({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})}),rZ=ez.method,rJ=ez.extend({retrieve:rZ({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:rZ({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:rZ({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})}),rX=ez.method,rQ=ez.extend({retrieve:rX({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:rX({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:rX({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:rX({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})}),r0=ez.method,r1=ez.extend({createForceCapture:r0({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:r0({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:r0({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})}),r2=ez.method,r6=ez.extend({retrieve:r2({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:r2({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})}),r8=ez.method,r3=ez.extend({create:r8({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:r8({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:r8({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:r8({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})}),r4=ez.method,r5=ez.extend({create:r4({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:r4({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:r4({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:r4({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:r4({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})}),r9=ez.method,r7=ez.extend({retrieve:r9({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:r9({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})}),ne=ez.method,nt=ez.extend({create:ne({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:ne({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:ne({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:ne({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:ne({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:ne({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})}),nr=ez.method,nn=ez.extend({create:nr({method:"POST",fullPath:"/v1/accounts"}),retrieve(e,...t){return"string"==typeof e?nr({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[e,...t]):(null==e&&[].shift.apply([e,...t]),nr({method:"GET",fullPath:"/v1/account"}).apply(this,[e,...t]))},update:nr({method:"POST",fullPath:"/v1/accounts/{account}"}),list:nr({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:nr({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:nr({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:nr({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:nr({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:nr({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:nr({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:nr({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:nr({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:nr({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:nr({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:nr({method:"GET",fullPath:"/v1/account"}),retrieveCapability:nr({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:nr({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:nr({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:nr({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:nr({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:nr({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})}),no=ez.method,ni=ez.extend({create:no({method:"POST",fullPath:"/v1/account_links"})}),ns=ez.method,na=ez.extend({create:ns({method:"POST",fullPath:"/v1/account_sessions"})}),nl=ez.method,nc=ez.extend({create:nl({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:nl({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:nl({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:nl({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})}),nu=ez.method,nd=ez.extend({retrieve:nu({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:nu({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:nu({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:nu({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:nu({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:nu({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})}),nf=ez.method,nh=ez.extend({retrieve:nf({method:"GET",fullPath:"/v1/balance"})}),np=ez.method,nm=ez.extend({retrieve:np({method:"GET",fullPath:"/v1/balance_settings"}),update:np({method:"POST",fullPath:"/v1/balance_settings"})}),ny=ez.method,ng=ez.extend({retrieve:ny({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:ny({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})}),nv=ez.method,nb=ez.extend({create:nv({method:"POST",fullPath:"/v1/charges"}),retrieve:nv({method:"GET",fullPath:"/v1/charges/{charge}"}),update:nv({method:"POST",fullPath:"/v1/charges/{charge}"}),list:nv({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:nv({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:nv({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})}),nE=ez.method,n_=ez.extend({retrieve:nE({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})}),nw=ez.method,nS=ez.extend({retrieve:nw({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:nw({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})}),nP=ez.method,nT=ez.extend({create:nP({method:"POST",fullPath:"/v1/coupons"}),retrieve:nP({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:nP({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:nP({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:nP({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})}),nO=ez.method,nI=ez.extend({create:nO({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:nO({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:nO({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:nO({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:nO({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:nO({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:nO({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:nO({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})}),nx=ez.method,nA=ez.extend({create:nx({method:"POST",fullPath:"/v1/customer_sessions"})}),nR=ez.method,nN=ez.extend({create:nR({method:"POST",fullPath:"/v1/customers"}),retrieve:nR({method:"GET",fullPath:"/v1/customers/{customer}"}),update:nR({method:"POST",fullPath:"/v1/customers/{customer}"}),list:nR({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:nR({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:nR({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:nR({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:nR({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:nR({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:nR({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:nR({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:nR({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:nR({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:nR({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:nR({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:nR({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:nR({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:nR({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:nR({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:nR({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:nR({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:nR({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:nR({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:nR({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:nR({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:nR({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:nR({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:nR({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})}),nk=ez.method,nC=ez.extend({retrieve:nk({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:nk({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:nk({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:nk({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})}),nD=ez.method,nj=ez.extend({create:nD({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(e,t)=>{if(!t.headers||!t.headers["Stripe-Version"])throw Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:nD({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})}),nz=ez.method,nU=ez.extend({retrieve:nz({method:"GET",fullPath:"/v1/events/{id}"}),list:nz({method:"GET",fullPath:"/v1/events",methodType:"list"})}),nM=ez.method,nF=ez.extend({retrieve:nM({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:nM({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})}),n$=ez.method,nB=ez.extend({create:n$({method:"POST",fullPath:"/v1/file_links"}),retrieve:n$({method:"GET",fullPath:"/v1/file_links/{link}"}),update:n$({method:"POST",fullPath:"/v1/file_links/{link}"}),list:n$({method:"GET",fullPath:"/v1/file_links",methodType:"list"})}),nG=(e,t,r)=>{let n=(Math.round(1e16*Math.random())+Math.round(1e16*Math.random())).toString();r["Content-Type"]=`multipart/form-data; boundary=${n}`;let o=new TextEncoder,i=new Uint8Array(0),s=o.encode("\r\n");function a(e){let t=i,r=e instanceof Uint8Array?e:new Uint8Array(o.encode(e));(i=new Uint8Array(t.length+r.length+2)).set(t),i.set(r,t.length),i.set(s,i.length-2)}function l(e){return`"${e.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}let c=F(t);for(let e in c){if(!Object.prototype.hasOwnProperty.call(c,e))continue;let t=c[e];if(a(`--${n}`),Object.prototype.hasOwnProperty.call(t,"data")){let r=t;a(`Content-Disposition: form-data; name=${l(e)}; filename=${l(r.name||"blob")}`),a(`Content-Type: ${r.type||"application/octet-stream"}`),a(""),a(r.data)}else a(`Content-Disposition: form-data; name=${l(e)}`),a(""),a(t)}return a(`--${n}--`),i};function nL(e,t,r,n){if(t=t||{},"POST"!==e)return n(null,T(t));this._stripe._platformFunctions.tryBufferData(t).then(t=>n(null,nG(e,t,r))).catch(e=>n(e,null))}let nH=ez.method,nq=ez.extend({create:nH({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:nH({method:"GET",fullPath:"/v1/files/{file}"}),list:nH({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:nL}),nK=ez.method,nV=ez.extend({create:nK({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:nK({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:nK({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:nK({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:nK({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})}),nW=ez.method,nY=ez.extend({retrieve:nW({method:"GET",fullPath:"/v1/invoice_payments/{invoice_payment}"}),list:nW({method:"GET",fullPath:"/v1/invoice_payments",methodType:"list"})}),nZ=ez.method,nJ=ez.extend({retrieve:nZ({method:"GET",fullPath:"/v1/invoice_rendering_templates/{template}"}),list:nZ({method:"GET",fullPath:"/v1/invoice_rendering_templates",methodType:"list"}),archive:nZ({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/archive"}),unarchive:nZ({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/unarchive"})}),nX=ez.method,nQ=ez.extend({create:nX({method:"POST",fullPath:"/v1/invoices"}),retrieve:nX({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:nX({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:nX({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:nX({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:nX({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),attachPayment:nX({method:"POST",fullPath:"/v1/invoices/{invoice}/attach_payment"}),createPreview:nX({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:nX({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:nX({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),markUncollectible:nX({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:nX({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:nX({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),search:nX({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:nX({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:nX({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:nX({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:nX({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})}),n0=ez.method,n1=ez.extend({retrieve:n0({method:"GET",fullPath:"/v1/mandates/{mandate}"})}),n2=ez.method,n6="connect.stripe.com",n8=ez.extend({basePath:"/",authorizeUrl(e,t){e=e||{};let r="oauth/authorize";return(t=t||{}).express&&(r=`express/${r}`),e.response_type||(e.response_type="code"),e.client_id||(e.client_id=this._stripe.getClientId()),e.scope||(e.scope="read_write"),`https://${n6}/${r}?${T(e)}`},token:n2({method:"POST",path:"oauth/token",host:n6}),deauthorize(e,...t){return e.client_id||(e.client_id=this._stripe.getClientId()),n2({method:"POST",path:"oauth/deauthorize",host:n6}).apply(this,[e,...t])}}),n3=ez.method,n4=ez.extend({retrieve:n3({method:"GET",fullPath:"/v1/payment_attempt_records/{id}"}),list:n3({method:"GET",fullPath:"/v1/payment_attempt_records",methodType:"list"})}),n5=ez.method,n9=ez.extend({create:n5({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:n5({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:n5({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:n5({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:n5({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:n5({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:n5({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:n5({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:n5({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),listAmountDetailsLineItems:n5({method:"GET",fullPath:"/v1/payment_intents/{intent}/amount_details_line_items",methodType:"list"}),search:n5({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:n5({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})}),n7=ez.method,oe=ez.extend({create:n7({method:"POST",fullPath:"/v1/payment_links"}),retrieve:n7({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:n7({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:n7({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:n7({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})}),ot=ez.method,or=ez.extend({create:ot({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:ot({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:ot({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:ot({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})}),on=ez.method,oo=ez.extend({create:on({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:on({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:on({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:on({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:on({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})}),oi=ez.method,os=ez.extend({create:oi({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:oi({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:oi({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:oi({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:oi({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:oi({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})}),oa=ez.method,ol=ez.extend({retrieve:oa({method:"GET",fullPath:"/v1/payment_records/{id}"}),reportPayment:oa({method:"POST",fullPath:"/v1/payment_records/report_payment"}),reportPaymentAttempt:oa({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt"}),reportPaymentAttemptCanceled:oa({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_canceled"}),reportPaymentAttemptFailed:oa({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_failed"}),reportPaymentAttemptGuaranteed:oa({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_guaranteed"}),reportPaymentAttemptInformational:oa({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_informational"}),reportRefund:oa({method:"POST",fullPath:"/v1/payment_records/{id}/report_refund"})}),oc=ez.method,ou=ez.extend({create:oc({method:"POST",fullPath:"/v1/payouts"}),retrieve:oc({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:oc({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:oc({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:oc({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:oc({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})}),od=ez.method,of=ez.extend({create:od({method:"POST",fullPath:"/v1/plans"}),retrieve:od({method:"GET",fullPath:"/v1/plans/{plan}"}),update:od({method:"POST",fullPath:"/v1/plans/{plan}"}),list:od({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:od({method:"DELETE",fullPath:"/v1/plans/{plan}"})}),oh=ez.method,op=ez.extend({create:oh({method:"POST",fullPath:"/v1/prices"}),retrieve:oh({method:"GET",fullPath:"/v1/prices/{price}"}),update:oh({method:"POST",fullPath:"/v1/prices/{price}"}),list:oh({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:oh({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})}),om=ez.method,oy=ez.extend({create:om({method:"POST",fullPath:"/v1/products"}),retrieve:om({method:"GET",fullPath:"/v1/products/{id}"}),update:om({method:"POST",fullPath:"/v1/products/{id}"}),list:om({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:om({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:om({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:om({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:om({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:om({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:om({method:"GET",fullPath:"/v1/products/search",methodType:"search"})}),og=ez.method,ov=ez.extend({create:og({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:og({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:og({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:og({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})}),ob=ez.method,oE=ez.extend({create:ob({method:"POST",fullPath:"/v1/quotes"}),retrieve:ob({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:ob({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:ob({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:ob({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:ob({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:ob({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:ob({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:ob({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:ob({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})}),o_=ez.method,ow=ez.extend({create:o_({method:"POST",fullPath:"/v1/refunds"}),retrieve:o_({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:o_({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:o_({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:o_({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})}),oS=ez.method,oP=ez.extend({retrieve:oS({method:"GET",fullPath:"/v1/reviews/{review}"}),list:oS({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:oS({method:"POST",fullPath:"/v1/reviews/{review}/approve"})}),oT=ez.method,oO=ez.extend({list:oT({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})}),oI=ez.method,ox=ez.extend({create:oI({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:oI({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:oI({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:oI({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:oI({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:oI({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:oI({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})}),oA=ez.method,oR=ez.extend({create:oA({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:oA({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:oA({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:oA({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})}),oN=ez.method,ok=ez.extend({create:oN({method:"POST",fullPath:"/v1/sources"}),retrieve:oN({method:"GET",fullPath:"/v1/sources/{source}"}),update:oN({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:oN({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:oN({method:"POST",fullPath:"/v1/sources/{source}/verify"})}),oC=ez.method,oD=ez.extend({create:oC({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:oC({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:oC({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:oC({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:oC({method:"DELETE",fullPath:"/v1/subscription_items/{item}"})}),oj=ez.method,oz=ez.extend({create:oj({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:oj({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:oj({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:oj({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:oj({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:oj({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})}),oU=ez.method,oM=ez.extend({create:oU({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:oU({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:oU({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:oU({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:oU({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:oU({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),migrate:oU({method:"POST",fullPath:"/v1/subscriptions/{subscription}/migrate"}),resume:oU({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:oU({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})}),oF=ez.method,o$=ez.extend({retrieve:oF({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:oF({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})}),oB=ez.method,oG=ez.extend({create:oB({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:oB({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:oB({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:oB({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})}),oL=ez.method,oH=ez.extend({create:oL({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:oL({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:oL({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:oL({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})}),oq=ez.method,oK=ez.extend({create:oq({method:"POST",fullPath:"/v1/tokens"}),retrieve:oq({method:"GET",fullPath:"/v1/tokens/{token}"})}),oV=ez.method,oW=ez.extend({create:oV({method:"POST",fullPath:"/v1/topups"}),retrieve:oV({method:"GET",fullPath:"/v1/topups/{topup}"}),update:oV({method:"POST",fullPath:"/v1/topups/{topup}"}),list:oV({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:oV({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})}),oY=ez.method,oZ=ez.extend({create:oY({method:"POST",fullPath:"/v1/transfers"}),retrieve:oY({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:oY({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:oY({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:oY({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:oY({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:oY({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:oY({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})}),oJ=ez.method,oX=ez.extend({create:oJ({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:oJ({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:oJ({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:oJ({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:oJ({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})}),oQ=eB("apps",{Secrets:rN}),o0=eB("billing",{Alerts:eV,CreditBalanceSummary:ta,CreditBalanceTransactions:tc,CreditGrants:td,MeterEventAdjustments:tU,MeterEvents:tq,Meters:tY}),o1=eB("billingPortal",{Configurations:e7,Sessions:rC}),o2=eB("checkout",{Sessions:rj}),o6=eB("climate",{Orders:tQ,Products:ri,Suppliers:rB}),o8=eB("entitlements",{ActiveEntitlements:eq,Features:tI}),o3=eB("financialConnections",{Accounts:eL,Sessions:rU,Transactions:rY}),o4=eB("forwarding",{Requests:rI}),o5=eB("identity",{VerificationReports:r7,VerificationSessions:nt}),o9=eB("issuing",{Authorizations:eJ,Cardholders:e6,Cards:e3,Disputes:tb,PersonalizationDesigns:t7,PhysicalBundles:rn,Tokens:rq,Transactions:rJ}),o7=eB("radar",{EarlyFraudWarnings:t_,ValueListItems:r3,ValueLists:r5}),ie=eB("reporting",{ReportRuns:rS,ReportTypes:rT}),it=eB("sigma",{ScheduledQueryRuns:rA}),ir=eB("tax",{Associations:eY,Calculations:e1,Registrations:r_,Settings:rF,Transactions:rQ}),io=eB("terminal",{Configurations:tt,ConnectionTokens:ti,Locations:tj,OnboardingLinks:tJ,Readers:ra}),ii=eB("testHelpers",{ConfirmationTokens:tn,Customers:tm,Refunds:rb,TestClocks:rL,Issuing:eB("issuing",{Authorizations:eQ,Cards:e5,PersonalizationDesigns:rt,Transactions:r1}),Terminal:eB("terminal",{Readers:rc}),Treasury:eB("treasury",{InboundTransfers:tN,OutboundPayments:t1,OutboundTransfers:t3,ReceivedCredits:rd,ReceivedDebits:rm})}),is=eB("treasury",{CreditReversals:th,DebitReversals:tg,FinancialAccounts:tA,InboundTransfers:tC,OutboundPayments:t6,OutboundTransfers:t5,ReceivedCredits:rh,ReceivedDebits:rg,TransactionEntries:rV,Transactions:r6}),ia=eB("v2",{Billing:eB("billing",{MeterEventAdjustments:tF,MeterEventSession:tB,MeterEventStream:tL,MeterEvents:tV}),Core:eB("core",{EventDestinations:tS,Events:tT})}),il="api.stripe.com",ic="443",iu="/v1/",id=eF,ih=8e4,ip=5,im=.5,iy=["name","version","url","partner_id"],ig=["authenticator","apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount","stripeContext"],iv=e=>new eE(e,ez.MAX_BUFFERED_REQUEST_METRICS),ib=function(e,t=iv){function r(o,i={}){if(!(this instanceof r))return new r(o,i);let s=this._getPropsFromConfig(i);this._platformFunctions=e,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=r.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);let a=s.httpAgent||null;this._api={host:s.host||il,port:s.port||ic,protocol:s.protocol||"https",basePath:iu,version:s.apiVersion||id,timeout:$("timeout",s.timeout,ih),maxNetworkRetries:$("maxNetworkRetries",s.maxNetworkRetries,2),agent:a,httpClient:s.httpClient||(a?this._platformFunctions.createNodeHttpClient(a):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:s.stripeAccount||null,stripeContext:s.stripeContext||null};let l=s.typescript||!1;l!==r.USER_AGENT.typescript&&(r.USER_AGENT.typescript=l),s.appInfo&&this._setAppInfo(s.appInfo),this._prepResources(),this._setAuthenticator(o,s.authenticator),this.errors=n,this.webhooks=r.webhooks,this._prevRequestMetrics=[],this._enableTelemetry=!1!==s.telemetry,this._requestSender=t(this),this.StripeResource=r.StripeResource}return r.PACKAGE_VERSION="20.0.0",r.API_VERSION=eF,r.USER_AGENT=Object.assign({bindings_version:r.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},B()),r.StripeResource=ez,r.StripeContext=eU,r.resources=o,r.HttpClient=p,r.HttpClientResponse=m,r.CryptoProvider=a,r.webhooks=eM(e),r.errors=n,r.createNodeHttpClient=e.createNodeHttpClient,r.createFetchHttpClient=e.createFetchHttpClient,r.createNodeCryptoProvider=e.createNodeCryptoProvider,r.createSubtleCryptoProvider=e.createSubtleCryptoProvider,r.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,rawRequest(e,t,r,n){return this._requestSender._rawRequest(e,t,r,n)},_setAuthenticator(e,t){if(e&&t)throw Error("Can't specify both apiKey and authenticator");if(!e&&!t)throw Error("Neither apiKey nor config.authenticator provided");this._authenticator=e?G(e):t},_setAppInfo(e){if(e&&"object"!=typeof e)throw Error("AppInfo must be an object.");if(e&&!e.name)throw Error("AppInfo.name is required");e=e||{},this._appInfo=iy.reduce((t,r)=>("string"==typeof e[r]&&((t=t||{})[r]=e[r]),t),{})},_setApiField(e,t){this._api[e]=t},getApiField(e){return this._api[e]},setClientId(e){this._clientId=e},getClientId(){return this._clientId},getConstant:e=>{switch(e){case"DEFAULT_HOST":return il;case"DEFAULT_PORT":return ic;case"DEFAULT_BASE_PATH":return iu;case"DEFAULT_API_VERSION":return id;case"DEFAULT_TIMEOUT":return ih;case"MAX_NETWORK_RETRY_DELAY_SEC":return ip;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return im}return r[e]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(e,t,r){let n=$(e,t,r);this._setApiField(e,n)},getMaxNetworkRetryDelay:()=>ip,getInitialNetworkRetryDelay:()=>im,getClientUserAgent(e){return this.getClientUserAgentSeeded(r.USER_AGENT,e)},getClientUserAgentSeeded(e,t){this._platformFunctions.getUname().then(r=>{var n;let o={};for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=encodeURIComponent(null!=(n=e[t])?n:"null"));o.uname=encodeURIComponent(r||"UNKNOWN");let i=this.getApiField("httpClient");i&&(o.httplib=encodeURIComponent(i.getClientName())),this._appInfo&&(o.application=this._appInfo),t(JSON.stringify(o))})},getAppInfoAsString(){if(!this._appInfo)return"";let e=this._appInfo.name;return this._appInfo.version&&(e+=`/${this._appInfo.version}`),this._appInfo.url&&(e+=` (${this._appInfo.url})`),e},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(let e in o)Object.prototype.hasOwnProperty.call(o,e)&&(this[z(e)]=new o[e](this))},_getPropsFromConfig(e){if(!e)return{};let t="string"==typeof e;if(!(e===Object(e)&&!Array.isArray(e))&&!t)throw Error("Config must either be an object or a string");if(t)return{apiVersion:e};if(Object.keys(e).filter(e=>!ig.includes(e)).length>0)throw Error(`Config object may only contain the following: ${ig.join(", ")}`);return e},parseEventNotification(e,t,r,n,o,i){let s=this.webhooks.constructEvent(e,t,r,n,o,i);return s.context&&(s.context=eU.parse(s.context)),s.fetchEvent=()=>this._requestSender._rawRequest("GET",`/v2/core/events/${s.id}`,void 0,{stripeContext:s.context},["fetch_event"]),s.fetchRelatedObject=()=>s.related_object?this._requestSender._rawRequest("GET",s.related_object.url,void 0,{stripeContext:s.context},["fetch_related_object"]):Promise.resolve(null),s}},r}(new ev)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.c=__webpack_module_cache__,__webpack_require__.x=()=>__webpack_require__(5365),(()=>{__webpack_require__.federation||(__webpack_require__.federation={chunkMatcher:function(e){return!/^(473|847)$/.test(e)},rootOutputDir:""})})(),(()=>{__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t}})(),(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;__webpack_require__.t=function(r,n){if(1&n&&(r=this(r)),8&n||"object"==typeof r&&r&&(4&n&&r.__esModule||16&n&&"function"==typeof r.then))return r;var o=Object.create(null);__webpack_require__.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&n&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>{i[e]=()=>r[e]});return i.default=()=>r,__webpack_require__.d(o,i),o}})(),(()=>{__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce((t,r)=>(__webpack_require__.f[r](e,t),t),[]))})(),(()=>{__webpack_require__.u=e=>""+e+".js"})(),(()=>{__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{__webpack_require__.S={},__webpack_require__.initializeSharingData={scopeToSharingDataMapping:{default:[{name:"@orpc/contract",version:"^1.10.0",factory:()=>Promise.all([__webpack_require__.e("345"),__webpack_require__.e("605")]).then(()=>()=>__webpack_require__(3620)),eager:0,singleton:1,requiredVersion:"^1.10.0",strictVersion:0},{name:"@orpc/server",version:"^1.10.0",factory:()=>Promise.all([__webpack_require__.e("345"),__webpack_require__.e("304"),__webpack_require__.e("473")]).then(()=>()=>__webpack_require__(923)),eager:0,singleton:1,requiredVersion:"^1.10.0",strictVersion:0},{name:"effect",version:"3.18.1",factory:()=>__webpack_require__.e("75").then(()=>()=>__webpack_require__(9078)),eager:0,singleton:1,requiredVersion:"3.18.1",strictVersion:0},{name:"every-plugin",version:"0.6.2",factory:()=>Promise.all([__webpack_require__.e("110"),__webpack_require__.e("473"),__webpack_require__.e("847"),__webpack_require__.e("613")]).then(()=>()=>__webpack_require__(2813)),eager:0,singleton:1,requiredVersion:"0.6.2",strictVersion:0},{name:"zod",version:"4.1.5",factory:()=>__webpack_require__.e("785").then(()=>()=>__webpack_require__(1200)),eager:0,singleton:1,requiredVersion:"4.1.5",strictVersion:0},{name:"zod",version:"4.1.5",factory:()=>__webpack_require__.e("149").then(()=>()=>__webpack_require__(1044)),eager:0,singleton:1,requiredVersion:"4.1.5",strictVersion:0}]},uniqueName:"marketplace-api"},__webpack_require__.I=__webpack_require__.I||function(){throw Error("should have __webpack_require__.I")}})(),(()=>{__webpack_require__.consumesLoadingData={chunkMapping:{889:["8803","8962","9200","9230","5600","8231"],473:["9200"],847:["8803","9230","8231"]},moduleIdToConsumeDataMapping:{8803:{shareScope:"default",shareKey:"effect",import:"effect",requiredVersion:"3.18.1",strictVersion:!1,singleton:!0,eager:!1,fallback:()=>__webpack_require__.e("75").then(()=>()=>__webpack_require__(9078))},9230:{shareScope:"default",shareKey:"zod",import:"zod",requiredVersion:"4.1.5",strictVersion:!1,singleton:!0,eager:!1,fallback:()=>__webpack_require__.e("149").then(()=>()=>__webpack_require__(1044))},9200:{shareScope:"default",shareKey:"@orpc/contract",import:"@orpc/contract",requiredVersion:"^1.10.0",strictVersion:!1,singleton:!0,eager:!1,fallback:()=>Promise.all([__webpack_require__.e("345"),__webpack_require__.e("605")]).then(()=>()=>__webpack_require__(3620))},5600:{shareScope:"default",shareKey:"zod",import:"zod",requiredVersion:"4.1.5",strictVersion:!1,singleton:!0,eager:!1,fallback:()=>__webpack_require__.e("785").then(()=>()=>__webpack_require__(1200))},8231:{shareScope:"default",shareKey:"@orpc/server",import:"@orpc/server",requiredVersion:"^1.10.0",strictVersion:!1,singleton:!0,eager:!1,fallback:()=>Promise.all([__webpack_require__.e("345"),__webpack_require__.e("304")]).then(()=>()=>__webpack_require__(923))},8962:{shareScope:"default",shareKey:"every-plugin",import:"every-plugin",requiredVersion:"0.6.2",strictVersion:!1,singleton:!0,eager:!1,fallback:()=>__webpack_require__.e("110").then(()=>()=>__webpack_require__(2813))}},initialConsumes:["8803","8962","9200","9230","5600","8231"]},__webpack_require__.f.consumes=__webpack_require__.f.consumes||function(){throw Error("should have __webpack_require__.f.consumes")}})(),(()=>{var e={889:0},t=t=>{var r=t.modules,n=t.ids,o=t.runtime;for(var i in r)__webpack_require__.o(r,i)&&(__webpack_require__.m[i]=r[i]);o&&o(__webpack_require__);for(var s=0;s<n.length;s++)e[n[s]]&&e[n[s]][0](),e[n[s]]=0};__webpack_require__.f.readFileVm=function(r,n){var o=e[r];if(0!==o)if(o)n.push(o[2]);else if(/^(473|847)$/.test(r))e[r]=0;else{var i=new Promise(function(n,i){o=e[r]=[n,i];var s=require("path").join(__dirname,""+__webpack_require__.u(r));require("fs").readFile(s,"utf-8",function(e,r){if(e)return i(e);var n={};require("vm").runInThisContext("(function(exports, require, __dirname, __filename) {"+r+"\n})",s)(n,require,require("path").dirname(s),s),t(n)})});n.push(o[2]=i)}}})(),(()=>{var e=__webpack_require__.x,t=!1;__webpack_require__.x=function(){if(t||(t=!0,__webpack_require__(1073)),"function"==typeof e)return e();console.warn("[MF] Invalid prevStartup")}})();var __webpack_exports__=__webpack_require__.x();module.exports=__webpack_exports__})();
//# sourceMappingURL=main.js.map