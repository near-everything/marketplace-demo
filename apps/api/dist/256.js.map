{"version":3,"file":"256.js","sources":["webpack://marketplace-api/../../node_modules/.bun/@zorsh+zorsh@0.4.0/node_modules/@zorsh/zorsh/dist/src/binary-io.js","webpack://marketplace-api/../../node_modules/.bun/@zorsh+zorsh@0.4.0/node_modules/@zorsh/zorsh/dist/src/index.js","webpack://marketplace-api/../../node_modules/.bun/@zorsh+zorsh@0.4.0/node_modules/@zorsh/zorsh/dist/src/registry.js","webpack://marketplace-api/../../node_modules/.bun/@zorsh+zorsh@0.4.0/node_modules/@zorsh/zorsh/dist/src/schema.js","webpack://marketplace-api/../../node_modules/.bun/call-bind-apply-helpers@1.0.2/node_modules/call-bind-apply-helpers/actualApply.js","webpack://marketplace-api/../../node_modules/.bun/call-bind-apply-helpers@1.0.2/node_modules/call-bind-apply-helpers/functionApply.js","webpack://marketplace-api/../../node_modules/.bun/call-bind-apply-helpers@1.0.2/node_modules/call-bind-apply-helpers/functionCall.js","webpack://marketplace-api/../../node_modules/.bun/call-bind-apply-helpers@1.0.2/node_modules/call-bind-apply-helpers/index.js","webpack://marketplace-api/../../node_modules/.bun/call-bind-apply-helpers@1.0.2/node_modules/call-bind-apply-helpers/reflectApply.js","webpack://marketplace-api/../../node_modules/.bun/call-bound@1.0.4/node_modules/call-bound/index.js","webpack://marketplace-api/../../node_modules/.bun/dunder-proto@1.0.1/node_modules/dunder-proto/get.js","webpack://marketplace-api/../../node_modules/.bun/es-define-property@1.0.1/node_modules/es-define-property/index.js","webpack://marketplace-api/../../node_modules/.bun/es-errors@1.3.0/node_modules/es-errors/eval.js","webpack://marketplace-api/../../node_modules/.bun/es-errors@1.3.0/node_modules/es-errors/index.js","webpack://marketplace-api/../../node_modules/.bun/es-errors@1.3.0/node_modules/es-errors/range.js","webpack://marketplace-api/../../node_modules/.bun/es-errors@1.3.0/node_modules/es-errors/ref.js","webpack://marketplace-api/../../node_modules/.bun/es-errors@1.3.0/node_modules/es-errors/syntax.js","webpack://marketplace-api/../../node_modules/.bun/es-errors@1.3.0/node_modules/es-errors/type.js","webpack://marketplace-api/../../node_modules/.bun/es-errors@1.3.0/node_modules/es-errors/uri.js","webpack://marketplace-api/../../node_modules/.bun/es-object-atoms@1.1.1/node_modules/es-object-atoms/index.js","webpack://marketplace-api/../../node_modules/.bun/function-bind@1.1.2/node_modules/function-bind/implementation.js","webpack://marketplace-api/../../node_modules/.bun/function-bind@1.1.2/node_modules/function-bind/index.js","webpack://marketplace-api/../../node_modules/.bun/get-intrinsic@1.3.0/node_modules/get-intrinsic/index.js","webpack://marketplace-api/../../node_modules/.bun/get-proto@1.0.1/node_modules/get-proto/Object.getPrototypeOf.js","webpack://marketplace-api/../../node_modules/.bun/get-proto@1.0.1/node_modules/get-proto/Reflect.getPrototypeOf.js","webpack://marketplace-api/../../node_modules/.bun/get-proto@1.0.1/node_modules/get-proto/index.js","webpack://marketplace-api/../../node_modules/.bun/gopd@1.2.0/node_modules/gopd/gOPD.js","webpack://marketplace-api/../../node_modules/.bun/gopd@1.2.0/node_modules/gopd/index.js","webpack://marketplace-api/../../node_modules/.bun/has-symbols@1.1.0/node_modules/has-symbols/index.js","webpack://marketplace-api/../../node_modules/.bun/has-symbols@1.1.0/node_modules/has-symbols/shams.js","webpack://marketplace-api/../../node_modules/.bun/hasown@2.0.2/node_modules/hasown/index.js","webpack://marketplace-api/../../node_modules/.bun/math-intrinsics@1.1.0/node_modules/math-intrinsics/abs.js","webpack://marketplace-api/../../node_modules/.bun/math-intrinsics@1.1.0/node_modules/math-intrinsics/floor.js","webpack://marketplace-api/../../node_modules/.bun/math-intrinsics@1.1.0/node_modules/math-intrinsics/isNaN.js","webpack://marketplace-api/../../node_modules/.bun/math-intrinsics@1.1.0/node_modules/math-intrinsics/max.js","webpack://marketplace-api/../../node_modules/.bun/math-intrinsics@1.1.0/node_modules/math-intrinsics/min.js","webpack://marketplace-api/../../node_modules/.bun/math-intrinsics@1.1.0/node_modules/math-intrinsics/pow.js","webpack://marketplace-api/../../node_modules/.bun/math-intrinsics@1.1.0/node_modules/math-intrinsics/round.js","webpack://marketplace-api/../../node_modules/.bun/math-intrinsics@1.1.0/node_modules/math-intrinsics/sign.js","webpack://marketplace-api/../../node_modules/.bun/object-inspect@1.13.4/node_modules/object-inspect/index.js","webpack://marketplace-api/../../node_modules/.bun/object-inspect@1.13.4/node_modules/object-inspect/util.inspect.js","webpack://marketplace-api/../../node_modules/.bun/qs@6.14.0/node_modules/qs/lib/formats.js","webpack://marketplace-api/../../node_modules/.bun/qs@6.14.0/node_modules/qs/lib/index.js","webpack://marketplace-api/../../node_modules/.bun/qs@6.14.0/node_modules/qs/lib/parse.js","webpack://marketplace-api/../../node_modules/.bun/qs@6.14.0/node_modules/qs/lib/stringify.js","webpack://marketplace-api/../../node_modules/.bun/qs@6.14.0/node_modules/qs/lib/utils.js","webpack://marketplace-api/../../node_modules/.bun/side-channel-list@1.0.0/node_modules/side-channel-list/index.js","webpack://marketplace-api/../../node_modules/.bun/side-channel-map@1.0.1/node_modules/side-channel-map/index.js","webpack://marketplace-api/../../node_modules/.bun/side-channel-weakmap@1.0.2/node_modules/side-channel-weakmap/index.js","webpack://marketplace-api/../../node_modules/.bun/side-channel@1.1.0/node_modules/side-channel/index.js","webpack://marketplace-api/../../node_modules/.bun/@orpc+client@1.12.2/node_modules/@orpc/client/dist/shared/client.EX0cvH1U.mjs","webpack://marketplace-api/../../node_modules/.bun/@orpc+experimental-publisher@1.12.2+26e186e5fab098e3/node_modules/@orpc/experimental-publisher/dist/adapters/ioredis.mjs","webpack://marketplace-api/../../node_modules/.bun/@orpc+experimental-publisher@1.12.2+26e186e5fab098e3/node_modules/@orpc/experimental-publisher/dist/adapters/memory.mjs","webpack://marketplace-api/../../node_modules/.bun/@orpc+experimental-publisher@1.12.2+26e186e5fab098e3/node_modules/@orpc/experimental-publisher/dist/adapters/upstash-redis.mjs","webpack://marketplace-api/../../node_modules/.bun/@orpc+experimental-publisher@1.12.2+26e186e5fab098e3/node_modules/@orpc/experimental-publisher/dist/shared/experimental-publisher.BtlOkhPO.mjs","webpack://marketplace-api/../../node_modules/.bun/every-plugin@0.6.2+9b2b6995065541f2/node_modules/every-plugin/dist/_virtual/rolldown_runtime.mjs","webpack://marketplace-api/../../node_modules/.bun/every-plugin@0.6.2+9b2b6995065541f2/node_modules/every-plugin/dist/zod.mjs","webpack://marketplace-api/../../node_modules/.bun/@scure+base@2.0.0/node_modules/@scure/base/index.js","webpack://marketplace-api/../../node_modules/.bun/@noble+hashes@2.0.1/node_modules/@noble/hashes/_u64.js","webpack://marketplace-api/../../node_modules/.bun/@noble+hashes@2.0.1/node_modules/@noble/hashes/utils.js","webpack://marketplace-api/../../node_modules/.bun/@noble+hashes@2.0.1/node_modules/@noble/hashes/sha3.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/types.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/utils/state-init.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/schema.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/actions.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/errors/index.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/keys/credential-schemas.js","webpack://marketplace-api/../../node_modules/.bun/@noble+hashes@2.0.1/node_modules/@noble/hashes/_md.js","webpack://marketplace-api/../../node_modules/.bun/@noble+hashes@2.0.1/node_modules/@noble/hashes/sha2.js","webpack://marketplace-api/../../node_modules/.bun/@noble+curves@2.0.1/node_modules/@noble/curves/utils.js","webpack://marketplace-api/../../node_modules/.bun/@noble+curves@2.0.1/node_modules/@noble/curves/abstract/modular.js","webpack://marketplace-api/../../node_modules/.bun/@noble+curves@2.0.1/node_modules/@noble/curves/abstract/curve.js","webpack://marketplace-api/../../node_modules/.bun/@noble+curves@2.0.1/node_modules/@noble/curves/abstract/edwards.js","webpack://marketplace-api/../../node_modules/.bun/@noble+curves@2.0.1/node_modules/@noble/curves/ed25519.js","webpack://marketplace-api/../../node_modules/.bun/@noble+hashes@2.0.1/node_modules/@noble/hashes/hmac.js","webpack://marketplace-api/../../node_modules/.bun/@noble+curves@2.0.1/node_modules/@noble/curves/abstract/weierstrass.js","webpack://marketplace-api/../../node_modules/.bun/@noble+curves@2.0.1/node_modules/@noble/curves/secp256k1.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/constants.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/utils/nep413.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/utils/key.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/keys/in-memory-keystore.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/utils/amount.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/utils/validation.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/utils/gas.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/config-schemas.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/rpc/rpc-schemas.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/rpc/rpc-error-handler.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/rpc/rpc.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/transaction.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/nonce-manager.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/core/near.js","webpack://marketplace-api/../../node_modules/.bun/near-kit@0.6.3+3a301246db8c8d19/node_modules/near-kit/dist/contracts/contract.js","webpack://marketplace-api/../../node_modules/.bun/near-social-js@2.0.3+3a301246db8c8d19/node_modules/near-social-js/dist/chunk-35XQS2E7.mjs","webpack://marketplace-api/../../node_modules/.bun/near-social-js@2.0.3+3a301246db8c8d19/node_modules/near-social-js/dist/chunk-G2Z3ZTTP.mjs","webpack://marketplace-api/../../node_modules/.bun/bignumber.js@9.3.1/node_modules/bignumber.js/bignumber.mjs","webpack://marketplace-api/../../node_modules/.bun/near-social-js@2.0.3+3a301246db8c8d19/node_modules/near-social-js/dist/chunk-H7IJBNMA.mjs","webpack://marketplace-api/../../node_modules/.bun/near-social-js@2.0.3+3a301246db8c8d19/node_modules/near-social-js/dist/chunk-4C2DNQLY.mjs","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/utils.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/crypto/CryptoProvider.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/crypto/NodeCryptoProvider.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/net/HttpClient.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/net/NodeHttpClient.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/net/FetchHttpClient.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/crypto/SubtleCryptoProvider.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/platform/PlatformFunctions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/Error.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/platform/NodePlatformFunctions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/RequestSender.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/autoPagination.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/StripeResource.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/StripeMethod.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/StripeContext.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/apiVersion.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/ResourceNamespace.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/FinancialConnections/Accounts.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Entitlements/ActiveEntitlements.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Billing/Alerts.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Tax/Associations.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Issuing/Authorizations.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Issuing/Authorizations.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Tax/Calculations.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Issuing/Cardholders.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Issuing/Cards.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Issuing/Cards.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/BillingPortal/Configurations.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Terminal/Configurations.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/ConfirmationTokens.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Terminal/ConnectionTokens.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Billing/CreditBalanceSummary.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Billing/CreditBalanceTransactions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Billing/CreditGrants.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Treasury/CreditReversals.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Customers.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Treasury/DebitReversals.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Issuing/Disputes.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Radar/EarlyFraudWarnings.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/V2/Core/EventDestinations.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/V2/Core/Events.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Entitlements/Features.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Treasury/FinancialAccounts.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Treasury/InboundTransfers.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Treasury/InboundTransfers.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Terminal/Locations.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Billing/MeterEventAdjustments.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/V2/Billing/MeterEventAdjustments.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/V2/Billing/MeterEventSession.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/V2/Billing/MeterEventStream.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Billing/MeterEvents.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/V2/Billing/MeterEvents.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Billing/Meters.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Terminal/OnboardingLinks.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Climate/Orders.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Treasury/OutboundPayments.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Treasury/OutboundPayments.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Treasury/OutboundTransfers.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Treasury/OutboundTransfers.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Issuing/PersonalizationDesigns.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Issuing/PersonalizationDesigns.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Issuing/PhysicalBundles.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Climate/Products.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Terminal/Readers.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Terminal/Readers.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Treasury/ReceivedCredits.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Treasury/ReceivedCredits.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Treasury/ReceivedDebits.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Treasury/ReceivedDebits.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Refunds.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Tax/Registrations.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Reporting/ReportRuns.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Reporting/ReportTypes.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Forwarding/Requests.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Sigma/ScheduledQueryRuns.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Apps/Secrets.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/BillingPortal/Sessions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Checkout/Sessions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/FinancialConnections/Sessions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Tax/Settings.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Climate/Suppliers.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/TestClocks.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Issuing/Tokens.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Treasury/TransactionEntries.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/FinancialConnections/Transactions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Issuing/Transactions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Tax/Transactions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TestHelpers/Issuing/Transactions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Treasury/Transactions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Radar/ValueListItems.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Radar/ValueLists.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Identity/VerificationReports.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Identity/VerificationSessions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Accounts.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/AccountLinks.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/AccountSessions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/ApplePayDomains.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/ApplicationFees.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Balance.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/BalanceSettings.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/BalanceTransactions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Charges.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/ConfirmationTokens.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/CountrySpecs.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Coupons.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/CreditNotes.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/CustomerSessions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Customers.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Disputes.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/EphemeralKeys.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Events.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/ExchangeRates.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/FileLinks.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Files.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/multipart.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/InvoiceItems.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/InvoicePayments.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/InvoiceRenderingTemplates.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Invoices.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Mandates.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/OAuth.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/PaymentAttemptRecords.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/PaymentIntents.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/PaymentLinks.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/PaymentMethodConfigurations.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/PaymentMethodDomains.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/PaymentMethods.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/PaymentRecords.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Payouts.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Plans.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Prices.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Products.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/PromotionCodes.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Quotes.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Refunds.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Reviews.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/SetupAttempts.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/SetupIntents.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/ShippingRates.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Sources.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/SubscriptionItems.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/SubscriptionSchedules.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Subscriptions.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TaxCodes.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TaxIds.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/TaxRates.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Tokens.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Topups.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/Transfers.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources/WebhookEndpoints.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/resources.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/stripe.core.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/stripe.esm.node.js","webpack://marketplace-api/../../node_modules/.bun/stripe@20.0.0+4069304764c9e6f1/node_modules/stripe/esm/Webhooks.js"],"sourcesContent":["\"use strict\";\n// Core binary reading/writing utilities\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BinaryReader = exports.BinaryWriter = void 0;\nclass BinaryWriter {\n    buffer;\n    view;\n    offset = 0;\n    constructor(initialSize = 1024) {\n        this.buffer = new Uint8Array(initialSize);\n        this.view = new DataView(this.buffer.buffer);\n    }\n    ensureCapacity(additionalBytes) {\n        const requiredSize = this.offset + additionalBytes;\n        if (requiredSize <= this.buffer.length) {\n            return;\n        }\n        // Double the buffer size until it's large enough\n        let newSize = this.buffer.length;\n        while (newSize < requiredSize) {\n            newSize *= 2;\n        }\n        const newBuffer = new Uint8Array(newSize);\n        newBuffer.set(this.buffer);\n        this.buffer = newBuffer;\n        this.view = new DataView(this.buffer.buffer);\n    }\n    // Unsigned integers\n    writeUint8(value) {\n        this.ensureCapacity(1);\n        this.view.setUint8(this.offset, value);\n        this.offset += 1;\n    }\n    writeUint16(value) {\n        this.ensureCapacity(2);\n        this.view.setUint16(this.offset, value, true);\n        this.offset += 2;\n    }\n    writeUint32(value) {\n        this.ensureCapacity(4);\n        this.view.setUint32(this.offset, value, true);\n        this.offset += 4;\n    }\n    writeUint64(value) {\n        this.ensureCapacity(8);\n        this.view.setBigUint64(this.offset, value, true);\n        this.offset += 8;\n    }\n    writeUint128(value) {\n        this.ensureCapacity(16);\n        const low = value & BigInt(\"0xFFFFFFFFFFFFFFFF\");\n        const high = value >> BigInt(64);\n        this.writeUint64(low);\n        this.writeUint64(high);\n    }\n    // Signed integers\n    writeInt8(value) {\n        this.ensureCapacity(1);\n        this.view.setInt8(this.offset, value);\n        this.offset += 1;\n    }\n    writeInt16(value) {\n        this.ensureCapacity(2);\n        this.view.setInt16(this.offset, value, true);\n        this.offset += 2;\n    }\n    writeInt32(value) {\n        this.ensureCapacity(4);\n        this.view.setInt32(this.offset, value, true);\n        this.offset += 4;\n    }\n    writeInt64(value) {\n        this.ensureCapacity(8);\n        this.view.setBigInt64(this.offset, value, true);\n        this.offset += 8;\n    }\n    writeInt128(value) {\n        this.ensureCapacity(16);\n        const low = value & BigInt(\"0xFFFFFFFFFFFFFFFF\");\n        const high = value >> BigInt(64);\n        this.writeInt64(low);\n        this.writeInt64(high);\n    }\n    // Floating point\n    writeFloat32(value) {\n        this.ensureCapacity(4);\n        this.view.setFloat32(this.offset, value, true);\n        this.offset += 4;\n    }\n    writeFloat64(value) {\n        this.ensureCapacity(8);\n        this.view.setFloat64(this.offset, value, true);\n        this.offset += 8;\n    }\n    writeBool(value) {\n        this.writeUint8(value ? 1 : 0);\n    }\n    writeString(value) {\n        const bytes = new TextEncoder().encode(value);\n        this.writeUint32(bytes.length);\n        this.ensureCapacity(bytes.length);\n        this.buffer.set(bytes, this.offset);\n        this.offset += bytes.length;\n    }\n    getBuffer() {\n        return this.buffer.slice(0, this.offset);\n    }\n}\nexports.BinaryWriter = BinaryWriter;\nclass BinaryReader {\n    buffer;\n    view;\n    offset = 0;\n    constructor(buffer) {\n        this.buffer = buffer;\n        this.view = new DataView(buffer.buffer, buffer.byteOffset, buffer.byteLength);\n    }\n    // Unsigned integers\n    readUint8() {\n        const value = this.view.getUint8(this.offset);\n        this.offset += 1;\n        return value;\n    }\n    readUint16() {\n        const value = this.view.getUint16(this.offset, true);\n        this.offset += 2;\n        return value;\n    }\n    readUint32() {\n        const value = this.view.getUint32(this.offset, true);\n        this.offset += 4;\n        return value;\n    }\n    readUint64() {\n        const value = this.view.getBigUint64(this.offset, true);\n        this.offset += 8;\n        return value;\n    }\n    readUint128() {\n        const low = this.readUint64();\n        const high = this.readUint64();\n        return (high << BigInt(64)) | low;\n    }\n    // Signed integers\n    readInt8() {\n        const value = this.view.getInt8(this.offset);\n        this.offset += 1;\n        return value;\n    }\n    readInt16() {\n        const value = this.view.getInt16(this.offset, true);\n        this.offset += 2;\n        return value;\n    }\n    readInt32() {\n        const value = this.view.getInt32(this.offset, true);\n        this.offset += 4;\n        return value;\n    }\n    readInt64() {\n        const value = this.view.getBigInt64(this.offset, true);\n        this.offset += 8;\n        return value;\n    }\n    readInt128() {\n        const low = this.readUint64(); // Read as unsigned to preserve bit pattern\n        const high = this.readInt64(); // Read high bits as signed\n        return (high << BigInt(64)) | low;\n    }\n    // Floating point\n    readFloat32() {\n        const value = this.view.getFloat32(this.offset, true);\n        this.offset += 4;\n        return value;\n    }\n    readFloat64() {\n        const value = this.view.getFloat64(this.offset, true);\n        this.offset += 8;\n        return value;\n    }\n    readBool() {\n        return Boolean(this.readUint8());\n    }\n    readString() {\n        const length = this.readUint32();\n        const bytes = this.buffer.slice(this.offset, this.offset + length);\n        this.offset += length;\n        return new TextDecoder().decode(bytes);\n    }\n    getOffset() {\n        return this.offset;\n    }\n}\nexports.BinaryReader = BinaryReader;\n//# sourceMappingURL=binary-io.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Schema = exports.b = void 0;\nvar schema_1 = require(\"./schema\");\nObject.defineProperty(exports, \"b\", { enumerable: true, get: function () { return schema_1.b; } });\nObject.defineProperty(exports, \"Schema\", { enumerable: true, get: function () { return schema_1.Schema; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.registry = exports.TypeRegistry = void 0;\nclass TypeRegistry {\n    handlers = new Map();\n    register(type, handler) {\n        this.handlers.set(type, handler);\n    }\n    getHandler(type) {\n        const handler = this.handlers.get(type);\n        if (!handler) {\n            throw new Error(`No handler registered for type: ${type}`);\n        }\n        return handler;\n    }\n}\nexports.TypeRegistry = TypeRegistry;\n// Create and initialize the global registry with primitive types\nexports.registry = new TypeRegistry();\n// Register all primitive type handlers\n// Unsigned integers\nexports.registry.register(\"u8\", {\n    write: (writer, value) => {\n        if (value < 0 || value > 255 || !Number.isInteger(value)) {\n            throw new Error(\"Value out of range for u8\");\n        }\n        writer.writeUint8(value);\n    },\n    read: (reader) => reader.readUint8(),\n});\nexports.registry.register(\"u16\", {\n    write: (writer, value) => {\n        if (value < 0 || value > 65535 || !Number.isInteger(value)) {\n            throw new Error(\"Value out of range for u16\");\n        }\n        writer.writeUint16(value);\n    },\n    read: (reader) => reader.readUint16(),\n});\nexports.registry.register(\"u32\", {\n    write: (writer, value) => {\n        if (value < 0 || value > 4294967295 || !Number.isInteger(value)) {\n            throw new Error(\"Value out of range for u32\");\n        }\n        writer.writeUint32(value);\n    },\n    read: (reader) => reader.readUint32(),\n});\nexports.registry.register(\"u64\", {\n    write: (writer, value) => {\n        if (value < 0n || value > 18446744073709551615n) {\n            throw new Error(\"Value out of range for u64\");\n        }\n        writer.writeUint64(value);\n    },\n    read: (reader) => reader.readUint64(),\n});\nexports.registry.register(\"u128\", {\n    write: (writer, value) => {\n        if (value < 0n || value > 340282366920938463463374607431768211455n) {\n            throw new Error(\"Value out of range for u128\");\n        }\n        writer.writeUint128(value);\n    },\n    read: (reader) => reader.readUint128(),\n});\n// Signed integers\nexports.registry.register(\"i8\", {\n    write: (writer, value) => {\n        if (value < -128 || value > 127 || !Number.isInteger(value)) {\n            throw new Error(\"Value out of range for i8\");\n        }\n        writer.writeInt8(value);\n    },\n    read: (reader) => reader.readInt8(),\n});\nexports.registry.register(\"i16\", {\n    write: (writer, value) => {\n        if (value < -32768 || value > 32767 || !Number.isInteger(value)) {\n            throw new Error(\"Value out of range for i16\");\n        }\n        writer.writeInt16(value);\n    },\n    read: (reader) => reader.readInt16(),\n});\nexports.registry.register(\"i32\", {\n    write: (writer, value) => {\n        if (value < -2147483648 || value > 2147483647 || !Number.isInteger(value)) {\n            throw new Error(\"Value out of range for i32\");\n        }\n        writer.writeInt32(value);\n    },\n    read: (reader) => reader.readInt32(),\n});\nexports.registry.register(\"i64\", {\n    write: (writer, value) => {\n        if (value < -9223372036854775808n || value > 9223372036854775807n) {\n            throw new Error(\"Value out of range for i64\");\n        }\n        writer.writeInt64(value);\n    },\n    read: (reader) => reader.readInt64(),\n});\nexports.registry.register(\"i128\", {\n    write: (writer, value) => {\n        if (value < -170141183460469231731687303715884105728n ||\n            value > 170141183460469231731687303715884105727n) {\n            throw new Error(\"Value out of range for i128\");\n        }\n        writer.writeInt128(value);\n    },\n    read: (reader) => reader.readInt128(),\n});\n// Floating point\nexports.registry.register(\"f32\", {\n    write: (writer, value) => writer.writeFloat32(value),\n    read: (reader) => reader.readFloat32(),\n});\nexports.registry.register(\"f64\", {\n    write: (writer, value) => {\n        if (Number.isNaN(value)) {\n            throw new Error(\"For portability reasons we do not allow serializing NaN values.\");\n        }\n        writer.writeFloat64(value);\n    },\n    read: (reader) => reader.readFloat64(),\n});\n// Boolean, string and unit type\nexports.registry.register(\"bool\", {\n    write: (writer, value) => writer.writeBool(value),\n    read: (reader) => reader.readBool(),\n});\nexports.registry.register(\"string\", {\n    write: (writer, value) => writer.writeString(value),\n    read: (reader) => reader.readString(),\n});\nexports.registry.register(\"unit\", {\n    write: () => { }, // Unit type takes up no space\n    read: () => ({}),\n});\nexports.registry.register(\"struct\", {\n    write: (writer, value, fields) => {\n        if (!fields)\n            return;\n        for (const [field, def] of Object.entries(fields)) {\n            const handler = exports.registry.getHandler(def.type);\n            handler.write(writer, value[field], def.options);\n        }\n    },\n    read: (reader, fields) => {\n        if (!fields)\n            return {};\n        const result = {};\n        for (const [field, def] of Object.entries(fields)) {\n            const handler = exports.registry.getHandler(def.type);\n            result[field] = handler.read(reader, def.options);\n        }\n        return result;\n    },\n});\nexports.registry.register(\"vec\", {\n    write: (writer, value, options) => {\n        if (!options)\n            return;\n        const { elementType, elementOptions } = options;\n        // Handle TypedArrays and regular arrays\n        const length = ArrayBuffer.isView(value) ? value.length : value.length;\n        writer.writeUint32(length);\n        const handler = exports.registry.getHandler(elementType);\n        if (ArrayBuffer.isView(value)) {\n            for (let i = 0; i < length; i++) {\n                handler.write(writer, value[i], elementOptions);\n            }\n        }\n        else {\n            for (const item of value) {\n                handler.write(writer, item, elementOptions);\n            }\n        }\n    },\n    read: (reader, options) => {\n        if (!options)\n            return [];\n        const { elementType, elementOptions } = options;\n        const length = reader.readUint32();\n        const handler = exports.registry.getHandler(elementType);\n        // Create array of raw values first\n        const values = Array.from({ length }, () => handler.read(reader, elementOptions));\n        // Convert to appropriate TypedArray if needed\n        switch (elementType) {\n            case \"u8\":\n                return new Uint8Array(values);\n            case \"u16\":\n                return new Uint16Array(values);\n            case \"u32\":\n                return new Uint32Array(values);\n            case \"i8\":\n                return new Int8Array(values);\n            case \"i16\":\n                return new Int16Array(values);\n            case \"i32\":\n                return new Int32Array(values);\n            case \"i64\":\n                return new BigInt64Array(values);\n            case \"f32\":\n                return new Float32Array(values);\n            case \"f64\":\n                return new Float64Array(values);\n            default:\n                return values;\n        }\n    },\n});\nexports.registry.register(\"set\", {\n    write: (writer, value, options) => {\n        if (!options)\n            return;\n        const { elementType, elementOptions } = options;\n        const array = Array.from(value).sort();\n        writer.writeUint32(array.length);\n        const handler = exports.registry.getHandler(elementType);\n        for (const item of array) {\n            handler.write(writer, item, elementOptions);\n        }\n    },\n    read: (reader, options) => {\n        if (!options)\n            return new Set();\n        const { elementType, elementOptions } = options;\n        const length = reader.readUint32();\n        const handler = exports.registry.getHandler(elementType);\n        const items = Array.from({ length }, () => handler.read(reader, elementOptions));\n        return new Set(items);\n    },\n});\nexports.registry.register(\"map\", {\n    write: (writer, value, options) => {\n        if (!options)\n            return;\n        const { keyType, keyOptions, valueType, valueOptions } = options;\n        const entries = Array.from(value.entries()).sort();\n        writer.writeUint32(entries.length);\n        const keyHandler = exports.registry.getHandler(keyType);\n        const valueHandler = exports.registry.getHandler(valueType);\n        for (const [key, val] of entries) {\n            keyHandler.write(writer, key, keyOptions);\n            valueHandler.write(writer, val, valueOptions);\n        }\n    },\n    read: (reader, options) => {\n        if (!options)\n            return new Map();\n        const { keyType, keyOptions, valueType, valueOptions } = options;\n        const length = reader.readUint32();\n        const keyHandler = exports.registry.getHandler(keyType);\n        const valueHandler = exports.registry.getHandler(valueType);\n        const entries = Array.from({ length }, () => {\n            const key = keyHandler.read(reader, keyOptions);\n            const value = valueHandler.read(reader, valueOptions);\n            return [key, value];\n        });\n        return new Map(entries);\n    },\n});\nexports.registry.register(\"option\", {\n    write: (writer, value, options) => {\n        if (!options)\n            return;\n        const { valueType, valueOptions } = options;\n        const isSome = value !== null;\n        writer.writeUint8(isSome ? 1 : 0);\n        if (isSome) {\n            const handler = exports.registry.getHandler(valueType);\n            handler.write(writer, value, valueOptions);\n        }\n    },\n    read: (reader, options) => {\n        if (!options)\n            return null;\n        const { valueType, valueOptions } = options;\n        const isSome = reader.readUint8() === 1;\n        if (isSome) {\n            const handler = exports.registry.getHandler(valueType);\n            return handler.read(reader, valueOptions);\n        }\n        return null;\n    },\n});\nexports.registry.register(\"enum\", {\n    write: (writer, value, options) => {\n        if (!options)\n            return;\n        // Get the variant name (should be the only key in the object)\n        const variantName = Object.keys(value)[0];\n        // Assert variantName exists and is a string key of the value object\n        const variantValue = value[variantName];\n        // Find the variant definition\n        const variant = options.variants.find((v) => v.name === variantName);\n        if (!variant) {\n            throw new Error(`Unknown enum variant: ${variantName}`);\n        }\n        // Write variant index\n        writer.writeUint8(variant.index);\n        // Write variant value if it has associated data\n        if (variant.type !== \"unit\") {\n            const handler = exports.registry.getHandler(variant.type);\n            handler.write(writer, variantValue, variant.options);\n        }\n    },\n    read: (reader, options) => {\n        if (!options)\n            return {};\n        const index = reader.readUint8();\n        const variant = options.variants.find((v) => v.index === index);\n        if (!variant) {\n            throw new Error(`Unknown enum variant index: ${index}`);\n        }\n        // Return early for unit type\n        if (variant.type === \"unit\") {\n            return { [variant.name]: {} };\n        }\n        // Handle non-unit types\n        const handler = exports.registry.getHandler(variant.type);\n        const value = handler.read(reader, variant.options);\n        return { [variant.name]: value };\n    },\n});\n// Add the tuple handler to the registry\nexports.registry.register(\"tuple\", {\n    write: (writer, value, types) => {\n        if (!types)\n            return;\n        if (value.length !== types.length) {\n            throw new Error(`Tuple length mismatch: expected ${types.length}, got ${value.length}`);\n        }\n        for (let i = 0; i < types.length; i++) {\n            const typeInfo = types[i];\n            if (!typeInfo) {\n                throw new Error(`Missing type information for tuple element at index ${i}`);\n            }\n            const handler = exports.registry.getHandler(typeInfo.type);\n            handler.write(writer, value[i], typeInfo.options);\n        }\n    },\n    read: (reader, types) => {\n        if (!types)\n            return [];\n        const result = [];\n        for (const type of types) {\n            const handler = exports.registry.getHandler(type.type);\n            result.push(handler.read(reader, type.options));\n        }\n        return result;\n    },\n});\nexports.registry.register(\"array\", {\n    write: (writer, value, options) => {\n        if (!options)\n            return;\n        const { elementType, elementOptions, length } = options;\n        if (value.length !== length) {\n            throw new Error(`Array length mismatch: expected ${length}, got ${value.length}`);\n        }\n        const handler = exports.registry.getHandler(elementType);\n        for (const item of value) {\n            handler.write(writer, item, elementOptions);\n        }\n    },\n    read: (reader, options) => {\n        if (!options)\n            return [];\n        const { elementType, elementOptions, length } = options;\n        const handler = exports.registry.getHandler(elementType);\n        return Array.from({ length }, () => handler.read(reader, elementOptions));\n    },\n});\nexports.registry.register(\"bytes\", {\n    write: (writer, value, options) => {\n        const length = value.length;\n        if (options?.length != null) {\n            if (length !== options.length) {\n                throw new Error(`Bytes length mismatch: expected ${options.length}, got ${length}`);\n            }\n            for (let i = 0; i < length; i++) {\n                writer.writeUint8(value[i]);\n            }\n        }\n        else {\n            writer.writeUint32(length);\n            for (let i = 0; i < length; i++) {\n                writer.writeUint8(value[i]);\n            }\n        }\n    },\n    read: (reader, options) => {\n        const length = options?.length != null ? options.length : reader.readUint32();\n        const bytes = new Uint8Array(length);\n        for (let i = 0; i < length; i++) {\n            bytes[i] = reader.readUint8();\n        }\n        return bytes;\n    },\n});\n// Add native TypeScript enum handler\nexports.registry.register(\"nativeEnum\", {\n    write: (writer, value, options) => {\n        if (!options)\n            return;\n        const { valueToIndexMap } = options;\n        // Cast to string | number to satisfy TypeScript\n        const enumValue = value;\n        const index = valueToIndexMap.get(enumValue);\n        if (index === undefined) {\n            throw new Error(`Invalid enum value: ${String(value)}`);\n        }\n        // Always encode enum variant as u8, per Borsh spec\n        writer.writeUint8(index);\n    },\n    read: (reader, options) => {\n        if (!options)\n            return null;\n        const { indexToValueMap } = options;\n        const index = reader.readUint8();\n        const value = indexToValueMap.get(index);\n        if (value === undefined) {\n            throw new Error(`Invalid enum index: ${index}`);\n        }\n        return value;\n    },\n});\n//# sourceMappingURL=registry.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.b = exports.Schema = void 0;\nconst binary_io_1 = require(\"./binary-io\");\nconst registry_1 = require(\"./registry\");\nclass Schema {\n    type;\n    options;\n    registry;\n    constructor(type, options, registry) {\n        this.type = type;\n        this.options = options;\n        this.registry = registry;\n    }\n    serialize(value) {\n        const writer = new binary_io_1.BinaryWriter();\n        const handler = this.registry.getHandler(this.type);\n        handler.write(writer, value, this.options);\n        return writer.getBuffer();\n    }\n    deserialize(buffer) {\n        const reader = new binary_io_1.BinaryReader(buffer);\n        const handler = this.registry.getHandler(this.type);\n        return handler.read(reader, this.options);\n    }\n}\nexports.Schema = Schema;\n// Builder API\nexports.b = {\n    // Primitive types\n    // Unsigned integers\n    u8: () => new Schema(\"u8\", null, registry_1.registry),\n    u16: () => new Schema(\"u16\", null, registry_1.registry),\n    u32: () => new Schema(\"u32\", null, registry_1.registry),\n    u64: () => new Schema(\"u64\", null, registry_1.registry),\n    u128: () => new Schema(\"u128\", null, registry_1.registry),\n    // Signed integers\n    i8: () => new Schema(\"i8\", null, registry_1.registry),\n    i16: () => new Schema(\"i16\", null, registry_1.registry),\n    i32: () => new Schema(\"i32\", null, registry_1.registry),\n    i64: () => new Schema(\"i64\", null, registry_1.registry),\n    i128: () => new Schema(\"i128\", null, registry_1.registry),\n    // Floating point\n    f32: () => new Schema(\"f32\", null, registry_1.registry),\n    f64: () => new Schema(\"f64\", null, registry_1.registry),\n    // Other primitives\n    bool: () => new Schema(\"bool\", null, registry_1.registry),\n    string: () => new Schema(\"string\", null, registry_1.registry),\n    unit: () => new Schema(\"unit\", null, registry_1.registry),\n    // Complex container types\n    vec: (elementSchema) => {\n        return new Schema(\"vec\", {\n            elementType: elementSchema.type,\n            elementOptions: elementSchema.options,\n        }, registry_1.registry);\n    },\n    hashSet: (elementSchema) => {\n        return new Schema(\"set\", {\n            elementType: elementSchema.type,\n            elementOptions: elementSchema.options,\n        }, registry_1.registry);\n    },\n    hashMap: (keySchema, valueSchema) => {\n        return new Schema(\"map\", {\n            keyType: keySchema.type,\n            keyOptions: keySchema.options,\n            valueType: valueSchema.type,\n            valueOptions: valueSchema.options,\n        }, registry_1.registry);\n    },\n    option: (valueSchema) => {\n        return new Schema(\"option\", {\n            valueType: valueSchema.type,\n            valueOptions: valueSchema.options,\n        }, registry_1.registry);\n    },\n    array: (elementSchema, length) => {\n        return new Schema(\"array\", {\n            elementType: elementSchema.type,\n            elementOptions: elementSchema.options,\n            length,\n        }, registry_1.registry);\n    },\n    bytes: (length) => {\n        return new Schema(\"bytes\", length != null ? { length } : {}, registry_1.registry);\n    },\n    // Enum type\n    enum: (variants) => {\n        // Convert variants to array format with indices\n        const variantArray = Object.entries(variants).map(([name, schema], index) => ({\n            index,\n            name,\n            type: schema.type,\n            options: schema.options,\n        }));\n        return new Schema(\"enum\", { variants: variantArray }, registry_1.registry);\n    },\n    // Complex types\n    struct: (fields) => {\n        const fieldDefs = Object.fromEntries(Object.entries(fields).map(([key, schema]) => [\n            key,\n            { type: schema.type, options: schema.options },\n        ]));\n        return new Schema(\"struct\", fieldDefs, registry_1.registry);\n    },\n    // Tuple type\n    tuple: (...elements) => {\n        const types = elements.map((schema) => ({\n            type: schema.type,\n            options: schema.options,\n        }));\n        return new Schema(\"tuple\", types, registry_1.registry);\n    },\n    // Native TypeScript enum\n    nativeEnum: (enumObj) => {\n        // First, filter out numeric keys that TypeScript adds to enums\n        const enumEntries = Object.entries(enumObj).filter(([key]) => typeof key === \"string\" && Number.isNaN(Number(key)));\n        // Check for mixed enum types (string and numeric values)\n        const enumValues = enumEntries.map(([_, value]) => value);\n        const hasStringValues = enumValues.some((value) => typeof value === \"string\");\n        const hasNumericValues = enumValues.some((value) => typeof value === \"number\");\n        if (hasStringValues && hasNumericValues) {\n            throw new Error(\"Mixed string/numeric enums are not supported\");\n        }\n        // Create mappings between the enum values and their serialized indices\n        const valueToIndexMap = new Map();\n        const indexToValueMap = new Map();\n        // Process entries in the order they appear in the enum definition\n        enumEntries.forEach(([_key, value], index) => {\n            valueToIndexMap.set(value, index);\n            indexToValueMap.set(index, value);\n        });\n        // Check if we have too many variants\n        if (enumEntries.length > 255) {\n            throw new Error(\"Borsh only supports enums with up to 255 variants\");\n        }\n        return new Schema(\"nativeEnum\", {\n            enumObj,\n            valueToIndexMap,\n            indexToValueMap,\n        }, registry_1.registry);\n    },\n};\n//# sourceMappingURL=schema.js.map","'use strict';\n\nvar bind = require('function-bind');\n\nvar $apply = require('./functionApply');\nvar $call = require('./functionCall');\nvar $reflectApply = require('./reflectApply');\n\n/** @type {import('./actualApply')} */\nmodule.exports = $reflectApply || bind.call($call, $apply);\n","'use strict';\n\n/** @type {import('./functionApply')} */\nmodule.exports = Function.prototype.apply;\n","'use strict';\n\n/** @type {import('./functionCall')} */\nmodule.exports = Function.prototype.call;\n","'use strict';\n\nvar bind = require('function-bind');\nvar $TypeError = require('es-errors/type');\n\nvar $call = require('./functionCall');\nvar $actualApply = require('./actualApply');\n\n/** @type {(args: [Function, thisArg?: unknown, ...args: unknown[]]) => Function} TODO FIXME, find a way to use import('.') */\nmodule.exports = function callBindBasic(args) {\n\tif (args.length < 1 || typeof args[0] !== 'function') {\n\t\tthrow new $TypeError('a function is required');\n\t}\n\treturn $actualApply(bind, $call, args);\n};\n","'use strict';\n\n/** @type {import('./reflectApply')} */\nmodule.exports = typeof Reflect !== 'undefined' && Reflect && Reflect.apply;\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBindBasic = require('call-bind-apply-helpers');\n\n/** @type {(thisArg: string, searchString: string, position?: number) => number} */\nvar $indexOf = callBindBasic([GetIntrinsic('%String.prototype.indexOf%')]);\n\n/** @type {import('.')} */\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\t/* eslint no-extra-parens: 0 */\n\n\tvar intrinsic = /** @type {(this: unknown, ...args: unknown[]) => unknown} */ (GetIntrinsic(name, !!allowMissing));\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBindBasic(/** @type {const} */ ([intrinsic]));\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar callBind = require('call-bind-apply-helpers');\nvar gOPD = require('gopd');\n\nvar hasProtoAccessor;\ntry {\n\t// eslint-disable-next-line no-extra-parens, no-proto\n\thasProtoAccessor = /** @type {{ __proto__?: typeof Array.prototype }} */ ([]).__proto__ === Array.prototype;\n} catch (e) {\n\tif (!e || typeof e !== 'object' || !('code' in e) || e.code !== 'ERR_PROTO_ACCESS') {\n\t\tthrow e;\n\t}\n}\n\n// eslint-disable-next-line no-extra-parens\nvar desc = !!hasProtoAccessor && gOPD && gOPD(Object.prototype, /** @type {keyof typeof Object.prototype} */ ('__proto__'));\n\nvar $Object = Object;\nvar $getPrototypeOf = $Object.getPrototypeOf;\n\n/** @type {import('./get')} */\nmodule.exports = desc && typeof desc.get === 'function'\n\t? callBind([desc.get])\n\t: typeof $getPrototypeOf === 'function'\n\t\t? /** @type {import('./get')} */ function getDunder(value) {\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\treturn $getPrototypeOf(value == null ? value : $Object(value));\n\t\t}\n\t\t: false;\n","'use strict';\n\n/** @type {import('.')} */\nvar $defineProperty = Object.defineProperty || false;\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = false;\n\t}\n}\n\nmodule.exports = $defineProperty;\n","'use strict';\n\n/** @type {import('./eval')} */\nmodule.exports = EvalError;\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Error;\n","'use strict';\n\n/** @type {import('./range')} */\nmodule.exports = RangeError;\n","'use strict';\n\n/** @type {import('./ref')} */\nmodule.exports = ReferenceError;\n","'use strict';\n\n/** @type {import('./syntax')} */\nmodule.exports = SyntaxError;\n","'use strict';\n\n/** @type {import('./type')} */\nmodule.exports = TypeError;\n","'use strict';\n\n/** @type {import('./uri')} */\nmodule.exports = URIError;\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Object;\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar undefined;\n\nvar $Object = require('es-object-atoms');\n\nvar $Error = require('es-errors');\nvar $EvalError = require('es-errors/eval');\nvar $RangeError = require('es-errors/range');\nvar $ReferenceError = require('es-errors/ref');\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\nvar $URIError = require('es-errors/uri');\n\nvar abs = require('math-intrinsics/abs');\nvar floor = require('math-intrinsics/floor');\nvar max = require('math-intrinsics/max');\nvar min = require('math-intrinsics/min');\nvar pow = require('math-intrinsics/pow');\nvar round = require('math-intrinsics/round');\nvar sign = require('math-intrinsics/sign');\n\nvar $Function = Function;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = require('gopd');\nvar $defineProperty = require('es-define-property');\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = require('get-proto');\nvar $ObjectGPO = require('get-proto/Object.getPrototypeOf');\nvar $ReflectGPO = require('get-proto/Reflect.getPrototypeOf');\n\nvar $apply = require('call-bind-apply-helpers/functionApply');\nvar $call = require('call-bind-apply-helpers/functionCall');\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t__proto__: null,\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': $Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': $EvalError,\n\t'%Float16Array%': typeof Float16Array === 'undefined' ? undefined : Float16Array,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': $Object,\n\t'%Object.getOwnPropertyDescriptor%': $gOPD,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': $RangeError,\n\t'%ReferenceError%': $ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': $URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\n\t'%Function.prototype.call%': $call,\n\t'%Function.prototype.apply%': $apply,\n\t'%Object.defineProperty%': $defineProperty,\n\t'%Object.getPrototypeOf%': $ObjectGPO,\n\t'%Math.abs%': abs,\n\t'%Math.floor%': floor,\n\t'%Math.max%': max,\n\t'%Math.min%': min,\n\t'%Math.pow%': pow,\n\t'%Math.round%': round,\n\t'%Math.sign%': sign,\n\t'%Reflect.getPrototypeOf%': $ReflectGPO\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t__proto__: null,\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call($call, Array.prototype.concat);\nvar $spliceApply = bind.call($apply, Array.prototype.splice);\nvar $replace = bind.call($call, String.prototype.replace);\nvar $strSlice = bind.call($call, String.prototype.slice);\nvar $exec = bind.call($call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar $Object = require('es-object-atoms');\n\n/** @type {import('./Object.getPrototypeOf')} */\nmodule.exports = $Object.getPrototypeOf || null;\n","'use strict';\n\n/** @type {import('./Reflect.getPrototypeOf')} */\nmodule.exports = (typeof Reflect !== 'undefined' && Reflect.getPrototypeOf) || null;\n","'use strict';\n\nvar reflectGetProto = require('./Reflect.getPrototypeOf');\nvar originalGetProto = require('./Object.getPrototypeOf');\n\nvar getDunderProto = require('dunder-proto/get');\n\n/** @type {import('.')} */\nmodule.exports = reflectGetProto\n\t? function getProto(O) {\n\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\treturn reflectGetProto(O);\n\t}\n\t: originalGetProto\n\t\t? function getProto(O) {\n\t\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\t\tthrow new TypeError('getProto: not an object');\n\t\t\t}\n\t\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\t\treturn originalGetProto(O);\n\t\t}\n\t\t: getDunderProto\n\t\t\t? function getProto(O) {\n\t\t\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\t\t\treturn getDunderProto(O);\n\t\t\t}\n\t\t\t: null;\n","'use strict';\n\n/** @type {import('./gOPD')} */\nmodule.exports = Object.getOwnPropertyDescriptor;\n","'use strict';\n\n/** @type {import('.')} */\nvar $gOPD = require('./gOPD');\n\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\n/** @type {import('.')} */\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/** @type {import('./shams')} */\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\t/** @type {{ [k in symbol]?: unknown }} */\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (var _ in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\t// eslint-disable-next-line no-extra-parens\n\t\tvar descriptor = /** @type {PropertyDescriptor} */ (Object.getOwnPropertyDescriptor(obj, sym));\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar call = Function.prototype.call;\nvar $hasOwn = Object.prototype.hasOwnProperty;\nvar bind = require('function-bind');\n\n/** @type {import('.')} */\nmodule.exports = bind.call(call, $hasOwn);\n","'use strict';\n\n/** @type {import('./abs')} */\nmodule.exports = Math.abs;\n","'use strict';\n\n/** @type {import('./floor')} */\nmodule.exports = Math.floor;\n","'use strict';\n\n/** @type {import('./isNaN')} */\nmodule.exports = Number.isNaN || function isNaN(a) {\n\treturn a !== a;\n};\n","'use strict';\n\n/** @type {import('./max')} */\nmodule.exports = Math.max;\n","'use strict';\n\n/** @type {import('./min')} */\nmodule.exports = Math.min;\n","'use strict';\n\n/** @type {import('./pow')} */\nmodule.exports = Math.pow;\n","'use strict';\n\n/** @type {import('./round')} */\nmodule.exports = Math.round;\n","'use strict';\n\nvar $isNaN = require('./isNaN');\n\n/** @type {import('./sign')} */\nmodule.exports = function sign(number) {\n\tif ($isNaN(number) || number === 0) {\n\t\treturn number;\n\t}\n\treturn number < 0 ? -1 : +1;\n};\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nvar quotes = {\n    __proto__: null,\n    'double': '\"',\n    single: \"'\"\n};\nvar quoteREs = {\n    __proto__: null,\n    'double': /([\"\\\\])/g,\n    single: /(['\\\\])/g\n};\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && !has(quotes, opts.quoteStyle)) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        if (mapForEach) {\n            mapForEach.call(obj, function (value, key) {\n                mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n            });\n        }\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        if (setForEach) {\n            setForEach.call(obj, function (value) {\n                setParts.push(inspect(value, obj));\n            });\n        }\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    // note: in IE 8, sometimes `global !== window` but both are the prototypes of each other\n    /* eslint-env browser */\n    if (typeof window !== 'undefined' && obj === window) {\n        return '{ [object Window] }';\n    }\n    if (\n        (typeof globalThis !== 'undefined' && obj === globalThis)\n        || (typeof global !== 'undefined' && obj === global)\n    ) {\n        return '{ [object globalThis] }';\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var style = opts.quoteStyle || defaultStyle;\n    var quoteChar = quotes[style];\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction canTrustToString(obj) {\n    return !toStringTag || !(typeof obj === 'object' && (toStringTag in obj || typeof obj[toStringTag] !== 'undefined'));\n}\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && canTrustToString(obj); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && canTrustToString(obj); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && canTrustToString(obj); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && canTrustToString(obj); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && canTrustToString(obj); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && canTrustToString(obj); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && canTrustToString(obj); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    var quoteRE = quoteREs[opts.quoteStyle || 'single'];\n    quoteRE.lastIndex = 0;\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, quoteRE, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n","module.exports = require('util').inspect;\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowEmptyArrays: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decodeDotInKeys: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    duplicates: 'combine',\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictDepth: false,\n    strictNullHandling: false,\n    throwOnLimitExceeded: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options, currentArrayLength) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    if (options.throwOnLimitExceeded && currentArrayLength >= options.arrayLimit) {\n        throw new RangeError('Array limit exceeded. Only ' + options.arrayLimit + ' element' + (options.arrayLimit === 1 ? '' : 's') + ' allowed in an array.');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the  character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the  character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = { __proto__: null };\n\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    cleanStr = cleanStr.replace(/%5B/gi, '[').replace(/%5D/gi, ']');\n\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(\n        options.delimiter,\n        options.throwOnLimitExceeded ? limit + 1 : limit\n    );\n\n    if (options.throwOnLimitExceeded && parts.length > limit) {\n        throw new RangeError('Parameter limit exceeded. Only ' + limit + ' parameter' + (limit === 1 ? '' : 's') + ' allowed.');\n    }\n\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key;\n        var val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n\n            val = utils.maybeMap(\n                parseArrayValue(\n                    part.slice(pos + 1),\n                    options,\n                    isArray(obj[key]) ? obj[key].length : 0\n                ),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(String(val));\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        var existing = has.call(obj, key);\n        if (existing && options.duplicates === 'combine') {\n            obj[key] = utils.combine(obj[key], val);\n        } else if (!existing || options.duplicates === 'last') {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var currentArrayLength = 0;\n    if (chain.length > 0 && chain[chain.length - 1] === '[]') {\n        var parentKey = chain.slice(0, -1).join('');\n        currentArrayLength = Array.isArray(val) && val[parentKey] ? val[parentKey].length : 0;\n    }\n\n    var leaf = valuesParsed ? val : parseArrayValue(val, options, currentArrayLength);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = options.allowEmptyArrays && (leaf === '' || (options.strictNullHandling && leaf === null))\n                ? []\n                : utils.combine([], leaf);\n        } else {\n            obj = options.plainObjects ? { __proto__: null } : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var decodedRoot = options.decodeDotInKeys ? cleanRoot.replace(/%2E/g, '.') : cleanRoot;\n            var index = parseInt(decodedRoot, 10);\n            if (!options.parseArrays && decodedRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== decodedRoot\n                && String(index) === decodedRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (decodedRoot !== '__proto__') {\n                obj[decodedRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, check strictDepth option for throw, else just add whatever is left\n\n    if (segment) {\n        if (options.strictDepth === true) {\n            throw new RangeError('Input depth exceeded depth option of ' + options.depth + ' and strictDepth is true');\n        }\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.decodeDotInKeys !== 'undefined' && typeof opts.decodeDotInKeys !== 'boolean') {\n        throw new TypeError('`decodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.decoder !== null && typeof opts.decoder !== 'undefined' && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    if (typeof opts.throwOnLimitExceeded !== 'undefined' && typeof opts.throwOnLimitExceeded !== 'boolean') {\n        throw new TypeError('`throwOnLimitExceeded` option must be a boolean');\n    }\n\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    var duplicates = typeof opts.duplicates === 'undefined' ? defaults.duplicates : opts.duplicates;\n\n    if (duplicates !== 'combine' && duplicates !== 'first' && duplicates !== 'last') {\n        throw new TypeError('The duplicates option must be either combine, first, or last');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.decodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decodeDotInKeys: typeof opts.decodeDotInKeys === 'boolean' ? opts.decodeDotInKeys : defaults.decodeDotInKeys,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        duplicates: duplicates,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictDepth: typeof opts.strictDepth === 'boolean' ? !!opts.strictDepth : defaults.strictDepth,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling,\n        throwOnLimitExceeded: typeof opts.throwOnLimitExceeded === 'boolean' ? opts.throwOnLimitExceeded : false\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? { __proto__: null } : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? { __proto__: null } : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    allowEmptyArrays: false,\n    arrayFormat: 'indices',\n    charset: 'utf-8',\n    charsetSentinel: false,\n    commaRoundTrip: false,\n    delimiter: '&',\n    encode: true,\n    encodeDotInKeys: false,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    filter: void undefined,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar sentinel = {};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    commaRoundTrip,\n    allowEmptyArrays,\n    strictNullHandling,\n    skipNulls,\n    encodeDotInKeys,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    var tmpSc = sideChannel;\n    var step = 0;\n    var findFlag = false;\n    while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {\n        // Where object last appeared in the ref tree\n        var pos = tmpSc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            } else {\n                findFlag = true; // Break while\n            }\n        }\n        if (typeof tmpSc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        if (encodeValuesOnly && encoder) {\n            obj = utils.maybeMap(obj, encoder);\n        }\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    var encodedPrefix = encodeDotInKeys ? String(prefix).replace(/\\./g, '%2E') : String(prefix);\n\n    var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? encodedPrefix + '[]' : encodedPrefix;\n\n    if (allowEmptyArrays && isArray(obj) && obj.length === 0) {\n        return adjustedPrefix + '[]';\n    }\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && key && typeof key.value !== 'undefined'\n            ? key.value\n            : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var encodedKey = allowDots && encodeDotInKeys ? String(key).replace(/\\./g, '%2E') : String(key);\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, encodedKey) : adjustedPrefix\n            : adjustedPrefix + (allowDots ? '.' + encodedKey : '[' + encodedKey + ']');\n\n        sideChannel.set(object, step);\n        var valueSideChannel = getSideChannel();\n        valueSideChannel.set(sentinel, sideChannel);\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            commaRoundTrip,\n            allowEmptyArrays,\n            strictNullHandling,\n            skipNulls,\n            encodeDotInKeys,\n            generateArrayPrefix === 'comma' && encodeValuesOnly && isArray(obj) ? null : encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.encodeDotInKeys !== 'undefined' && typeof opts.encodeDotInKeys !== 'boolean') {\n        throw new TypeError('`encodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    var arrayFormat;\n    if (opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if ('indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = defaults.arrayFormat;\n    }\n\n    if ('commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.encodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        arrayFormat: arrayFormat,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        commaRoundTrip: !!opts.commaRoundTrip,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encodeDotInKeys: typeof opts.encodeDotInKeys === 'boolean' ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[options.arrayFormat];\n    var commaRoundTrip = generateArrayPrefix === 'comma' && options.commaRoundTrip;\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n        var value = obj[key];\n\n        if (options.skipNulls && value === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            value,\n            key,\n            generateArrayPrefix,\n            commaRoundTrip,\n            options.allowEmptyArrays,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encodeDotInKeys,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? { __proto__: null } : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object' && typeof source !== 'function') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if (\n                (options && (options.plainObjects || options.allowPrototypes))\n                || !has.call(Object.prototype, source)\n            ) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, defaultDecoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar limit = 1024;\n\n/* eslint operator-linebreak: [2, \"before\"] */\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var j = 0; j < string.length; j += limit) {\n        var segment = string.length >= limit ? string.slice(j, j + limit) : string;\n        var arr = [];\n\n        for (var i = 0; i < segment.length; ++i) {\n            var c = segment.charCodeAt(i);\n            if (\n                c === 0x2D // -\n                || c === 0x2E // .\n                || c === 0x5F // _\n                || c === 0x7E // ~\n                || (c >= 0x30 && c <= 0x39) // 0-9\n                || (c >= 0x41 && c <= 0x5A) // a-z\n                || (c >= 0x61 && c <= 0x7A) // A-Z\n                || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n            ) {\n                arr[arr.length] = segment.charAt(i);\n                continue;\n            }\n\n            if (c < 0x80) {\n                arr[arr.length] = hexTable[c];\n                continue;\n            }\n\n            if (c < 0x800) {\n                arr[arr.length] = hexTable[0xC0 | (c >> 6)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            if (c < 0xD800 || c >= 0xE000) {\n                arr[arr.length] = hexTable[0xE0 | (c >> 12)]\n                    + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            i += 1;\n            c = 0x10000 + (((c & 0x3FF) << 10) | (segment.charCodeAt(i) & 0x3FF));\n\n            arr[arr.length] = hexTable[0xF0 | (c >> 18)]\n                + hexTable[0x80 | ((c >> 12) & 0x3F)]\n                + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                + hexTable[0x80 | (c & 0x3F)];\n        }\n\n        out += arr.join('');\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","'use strict';\n\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\n\n/*\n* This function traverses the list returning the node corresponding to the given key.\n*\n* That node is also moved to the head of the list, so that if it's accessed again we don't need to traverse the whole list.\n* By doing so, all the recently used nodes can be accessed relatively quickly.\n*/\n/** @type {import('./list.d.ts').listGetNode} */\n// eslint-disable-next-line consistent-return\nvar listGetNode = function (list, key, isDelete) {\n\t/** @type {typeof list | NonNullable<(typeof list)['next']>} */\n\tvar prev = list;\n\t/** @type {(typeof list)['next']} */\n\tvar curr;\n\t// eslint-disable-next-line eqeqeq\n\tfor (; (curr = prev.next) != null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\tif (!isDelete) {\n\t\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\t\tcurr.next = /** @type {NonNullable<typeof list.next>} */ (list.next);\n\t\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\t}\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\n/** @type {import('./list.d.ts').listGet} */\nvar listGet = function (objects, key) {\n\tif (!objects) {\n\t\treturn void undefined;\n\t}\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\n/** @type {import('./list.d.ts').listSet} */\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = /** @type {import('./list.d.ts').ListNode<typeof value, typeof key>} */ ({ // eslint-disable-line no-param-reassign, no-extra-parens\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t});\n\t}\n};\n/** @type {import('./list.d.ts').listHas} */\nvar listHas = function (objects, key) {\n\tif (!objects) {\n\t\treturn false;\n\t}\n\treturn !!listGetNode(objects, key);\n};\n/** @type {import('./list.d.ts').listDelete} */\n// eslint-disable-next-line consistent-return\nvar listDelete = function (objects, key) {\n\tif (objects) {\n\t\treturn listGetNode(objects, key, true);\n\t}\n};\n\n/** @type {import('.')} */\nmodule.exports = function getSideChannelList() {\n\t/** @typedef {ReturnType<typeof getSideChannelList>} Channel */\n\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t/** @type {import('./list.d.ts').RootNode<V, K> | undefined} */ var $o;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\tvar root = $o && $o.next;\n\t\t\tvar deletedNode = listDelete($o, key);\n\t\t\tif (deletedNode && root && root === deletedNode) {\n\t\t\t\t$o = void undefined;\n\t\t\t}\n\t\t\treturn !!deletedNode;\n\t\t},\n\t\tget: function (key) {\n\t\t\treturn listGet($o, key);\n\t\t},\n\t\thas: function (key) {\n\t\t\treturn listHas($o, key);\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$o) {\n\t\t\t\t// Initialize the linked list as an empty node, so that we don't have to special-case handling of the first node: we can always refer to it as (previous node).next, instead of something like (list).head\n\t\t\t\t$o = {\n\t\t\t\t\tnext: void undefined\n\t\t\t\t};\n\t\t\t}\n\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\tlistSet(/** @type {NonNullable<typeof $o>} */ ($o), key, value);\n\t\t}\n\t};\n\t// @ts-expect-error TODO: figure out why this is erroring\n\treturn channel;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\nvar $Map = GetIntrinsic('%Map%', true);\n\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => V} */\nvar $mapGet = callBound('Map.prototype.get', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K, value: V) => void} */\nvar $mapSet = callBound('Map.prototype.set', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => boolean} */\nvar $mapHas = callBound('Map.prototype.has', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => boolean} */\nvar $mapDelete = callBound('Map.prototype.delete', true);\n/** @type {<K, V>(thisArg: Map<K, V>) => number} */\nvar $mapSize = callBound('Map.prototype.size', true);\n\n/** @type {import('.')} */\nmodule.exports = !!$Map && /** @type {Exclude<import('.'), false>} */ function getSideChannelMap() {\n\t/** @typedef {ReturnType<typeof getSideChannelMap>} Channel */\n\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t/** @type {Map<K, V> | undefined} */ var $m;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\tif ($m) {\n\t\t\t\tvar result = $mapDelete($m, key);\n\t\t\t\tif ($mapSize($m) === 0) {\n\t\t\t\t\t$m = void undefined;\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($m) {\n\t\t\t\treturn $mapGet($m, key);\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($m) {\n\t\t\t\treturn $mapHas($m, key);\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$m) {\n\t\t\t\t// @ts-expect-error TS can't handle narrowing a variable inside a closure\n\t\t\t\t$m = new $Map();\n\t\t\t}\n\t\t\t$mapSet($m, key, value);\n\t\t}\n\t};\n\n\t// @ts-expect-error TODO: figure out why TS is erroring here\n\treturn channel;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bound');\nvar inspect = require('object-inspect');\nvar getSideChannelMap = require('side-channel-map');\n\nvar $TypeError = require('es-errors/type');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\n\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => V} */\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K, value: V) => void} */\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => boolean} */\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => boolean} */\nvar $weakMapDelete = callBound('WeakMap.prototype.delete', true);\n\n/** @type {import('.')} */\nmodule.exports = $WeakMap\n\t? /** @type {Exclude<import('.'), false>} */ function getSideChannelWeakMap() {\n\t\t/** @typedef {ReturnType<typeof getSideChannelWeakMap>} Channel */\n\t\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t\t/** @type {WeakMap<K & object, V> | undefined} */ var $wm;\n\t\t/** @type {Channel | undefined} */ var $m;\n\n\t\t/** @type {Channel} */\n\t\tvar channel = {\n\t\t\tassert: function (key) {\n\t\t\t\tif (!channel.has(key)) {\n\t\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t\t}\n\t\t\t},\n\t\t\t'delete': function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapDelete($wm, key);\n\t\t\t\t\t}\n\t\t\t\t} else if (getSideChannelMap) {\n\t\t\t\t\tif ($m) {\n\t\t\t\t\t\treturn $m['delete'](key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tget: function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn $m && $m.get(key);\n\t\t\t},\n\t\t\thas: function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!$m && $m.has(key);\n\t\t\t},\n\t\t\tset: function (key, value) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif (!$wm) {\n\t\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t\t}\n\t\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t\t} else if (getSideChannelMap) {\n\t\t\t\t\tif (!$m) {\n\t\t\t\t\t\t$m = getSideChannelMap();\n\t\t\t\t\t}\n\t\t\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\t\t\t/** @type {NonNullable<typeof $m>} */ ($m).set(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// @ts-expect-error TODO: figure out why this is erroring\n\t\treturn channel;\n\t}\n\t: getSideChannelMap;\n","'use strict';\n\nvar $TypeError = require('es-errors/type');\nvar inspect = require('object-inspect');\nvar getSideChannelList = require('side-channel-list');\nvar getSideChannelMap = require('side-channel-map');\nvar getSideChannelWeakMap = require('side-channel-weakmap');\n\nvar makeChannel = getSideChannelWeakMap || getSideChannelMap || getSideChannelList;\n\n/** @type {import('.')} */\nmodule.exports = function getSideChannel() {\n\t/** @typedef {ReturnType<typeof getSideChannel>} Channel */\n\n\t/** @type {Channel | undefined} */ var $channelData;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\treturn !!$channelData && $channelData['delete'](key);\n\t\t},\n\t\tget: function (key) {\n\t\t\treturn $channelData && $channelData.get(key);\n\t\t},\n\t\thas: function (key) {\n\t\t\treturn !!$channelData && $channelData.has(key);\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$channelData) {\n\t\t\t\t$channelData = makeChannel();\n\t\t\t}\n\n\t\t\t$channelData.set(key, value);\n\t\t}\n\t};\n\t// @ts-expect-error TODO: figure out why this is erroring\n\treturn channel;\n};\n","import { toArray, runWithSpan, ORPC_NAME, isAsyncIteratorObject, asyncIteratorWithSpan, intercept, getGlobalOtelConfig, isObject, value, stringifyJSON } from '@orpc/shared';\nimport { mergeStandardHeaders, ErrorEvent } from '@orpc/standard-server';\nimport { C as COMMON_ORPC_ERROR_DEFS, d as isORPCErrorStatus, e as isORPCErrorJson, g as createORPCErrorFromJson, c as ORPCError, t as toORPCError } from './client.J7pEE4Uw.mjs';\nimport { toStandardHeaders as toStandardHeaders$1 } from '@orpc/standard-server-fetch';\nimport { m as mapEventIterator } from './client.BLtwTQUg.mjs';\n\nclass CompositeStandardLinkPlugin {\n  plugins;\n  constructor(plugins = []) {\n    this.plugins = [...plugins].sort((a, b) => (a.order ?? 0) - (b.order ?? 0));\n  }\n  init(options) {\n    for (const plugin of this.plugins) {\n      plugin.init?.(options);\n    }\n  }\n}\n\nclass StandardLink {\n  constructor(codec, sender, options = {}) {\n    this.codec = codec;\n    this.sender = sender;\n    const plugin = new CompositeStandardLinkPlugin(options.plugins);\n    plugin.init(options);\n    this.interceptors = toArray(options.interceptors);\n    this.clientInterceptors = toArray(options.clientInterceptors);\n  }\n  interceptors;\n  clientInterceptors;\n  call(path, input, options) {\n    return runWithSpan(\n      { name: `${ORPC_NAME}.${path.join(\"/\")}`, signal: options.signal },\n      (span) => {\n        span?.setAttribute(\"rpc.system\", ORPC_NAME);\n        span?.setAttribute(\"rpc.method\", path.join(\".\"));\n        if (isAsyncIteratorObject(input)) {\n          input = asyncIteratorWithSpan(\n            { name: \"consume_event_iterator_input\", signal: options.signal },\n            input\n          );\n        }\n        return intercept(this.interceptors, { ...options, path, input }, async ({ path: path2, input: input2, ...options2 }) => {\n          const otelConfig = getGlobalOtelConfig();\n          let otelContext;\n          const currentSpan = otelConfig?.trace.getActiveSpan() ?? span;\n          if (currentSpan && otelConfig) {\n            otelContext = otelConfig?.trace.setSpan(otelConfig.context.active(), currentSpan);\n          }\n          const request = await runWithSpan(\n            { name: \"encode_request\", context: otelContext },\n            () => this.codec.encode(path2, input2, options2)\n          );\n          const response = await intercept(\n            this.clientInterceptors,\n            { ...options2, input: input2, path: path2, request },\n            ({ input: input3, path: path3, request: request2, ...options3 }) => {\n              return runWithSpan(\n                { name: \"send_request\", signal: options3.signal, context: otelContext },\n                () => this.sender.call(request2, options3, path3, input3)\n              );\n            }\n          );\n          const output = await runWithSpan(\n            { name: \"decode_response\", context: otelContext },\n            () => this.codec.decode(response, options2, path2, input2)\n          );\n          if (isAsyncIteratorObject(output)) {\n            return asyncIteratorWithSpan(\n              { name: \"consume_event_iterator_output\", signal: options2.signal },\n              output\n            );\n          }\n          return output;\n        });\n      }\n    );\n  }\n}\n\nconst STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES = {\n  BIGINT: 0,\n  DATE: 1,\n  NAN: 2,\n  UNDEFINED: 3,\n  URL: 4,\n  REGEXP: 5,\n  SET: 6,\n  MAP: 7\n};\nclass StandardRPCJsonSerializer {\n  customSerializers;\n  constructor(options = {}) {\n    this.customSerializers = options.customJsonSerializers ?? [];\n    if (this.customSerializers.length !== new Set(this.customSerializers.map((custom) => custom.type)).size) {\n      throw new Error(\"Custom serializer type must be unique.\");\n    }\n  }\n  serialize(data, segments = [], meta = [], maps = [], blobs = []) {\n    for (const custom of this.customSerializers) {\n      if (custom.condition(data)) {\n        const result = this.serialize(custom.serialize(data), segments, meta, maps, blobs);\n        meta.push([custom.type, ...segments]);\n        return result;\n      }\n    }\n    if (data instanceof Blob) {\n      maps.push(segments);\n      blobs.push(data);\n      return [data, meta, maps, blobs];\n    }\n    if (typeof data === \"bigint\") {\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.BIGINT, ...segments]);\n      return [data.toString(), meta, maps, blobs];\n    }\n    if (data instanceof Date) {\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.DATE, ...segments]);\n      if (Number.isNaN(data.getTime())) {\n        return [null, meta, maps, blobs];\n      }\n      return [data.toISOString(), meta, maps, blobs];\n    }\n    if (Number.isNaN(data)) {\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.NAN, ...segments]);\n      return [null, meta, maps, blobs];\n    }\n    if (data instanceof URL) {\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.URL, ...segments]);\n      return [data.toString(), meta, maps, blobs];\n    }\n    if (data instanceof RegExp) {\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.REGEXP, ...segments]);\n      return [data.toString(), meta, maps, blobs];\n    }\n    if (data instanceof Set) {\n      const result = this.serialize(Array.from(data), segments, meta, maps, blobs);\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.SET, ...segments]);\n      return result;\n    }\n    if (data instanceof Map) {\n      const result = this.serialize(Array.from(data.entries()), segments, meta, maps, blobs);\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.MAP, ...segments]);\n      return result;\n    }\n    if (Array.isArray(data)) {\n      const json = data.map((v, i) => {\n        if (v === void 0) {\n          meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.UNDEFINED, ...segments, i]);\n          return v;\n        }\n        return this.serialize(v, [...segments, i], meta, maps, blobs)[0];\n      });\n      return [json, meta, maps, blobs];\n    }\n    if (isObject(data)) {\n      const json = {};\n      for (const k in data) {\n        if (k === \"toJSON\" && typeof data[k] === \"function\") {\n          continue;\n        }\n        json[k] = this.serialize(data[k], [...segments, k], meta, maps, blobs)[0];\n      }\n      return [json, meta, maps, blobs];\n    }\n    return [data, meta, maps, blobs];\n  }\n  deserialize(json, meta, maps, getBlob) {\n    const ref = { data: json };\n    if (maps && getBlob) {\n      maps.forEach((segments, i) => {\n        let currentRef = ref;\n        let preSegment = \"data\";\n        segments.forEach((segment) => {\n          currentRef = currentRef[preSegment];\n          preSegment = segment;\n        });\n        currentRef[preSegment] = getBlob(i);\n      });\n    }\n    for (const item of meta) {\n      const type = item[0];\n      let currentRef = ref;\n      let preSegment = \"data\";\n      for (let i = 1; i < item.length; i++) {\n        currentRef = currentRef[preSegment];\n        preSegment = item[i];\n      }\n      for (const custom of this.customSerializers) {\n        if (custom.type === type) {\n          currentRef[preSegment] = custom.deserialize(currentRef[preSegment]);\n          break;\n        }\n      }\n      switch (type) {\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.BIGINT:\n          currentRef[preSegment] = BigInt(currentRef[preSegment]);\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.DATE:\n          currentRef[preSegment] = new Date(currentRef[preSegment] ?? \"Invalid Date\");\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.NAN:\n          currentRef[preSegment] = Number.NaN;\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.UNDEFINED:\n          currentRef[preSegment] = void 0;\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.URL:\n          currentRef[preSegment] = new URL(currentRef[preSegment]);\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.REGEXP: {\n          const [, pattern, flags] = currentRef[preSegment].match(/^\\/(.*)\\/([a-z]*)$/);\n          currentRef[preSegment] = new RegExp(pattern, flags);\n          break;\n        }\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.SET:\n          currentRef[preSegment] = new Set(currentRef[preSegment]);\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.MAP:\n          currentRef[preSegment] = new Map(currentRef[preSegment]);\n          break;\n      }\n    }\n    return ref.data;\n  }\n}\n\nfunction toHttpPath(path) {\n  return `/${path.map(encodeURIComponent).join(\"/\")}`;\n}\nfunction toStandardHeaders(headers) {\n  if (typeof headers.forEach === \"function\") {\n    return toStandardHeaders$1(headers);\n  }\n  return headers;\n}\nfunction getMalformedResponseErrorCode(status) {\n  return Object.entries(COMMON_ORPC_ERROR_DEFS).find(([, def]) => def.status === status)?.[0] ?? \"MALFORMED_ORPC_ERROR_RESPONSE\";\n}\n\nclass StandardRPCLinkCodec {\n  constructor(serializer, options) {\n    this.serializer = serializer;\n    this.baseUrl = options.url;\n    this.maxUrlLength = options.maxUrlLength ?? 2083;\n    this.fallbackMethod = options.fallbackMethod ?? \"POST\";\n    this.expectedMethod = options.method ?? this.fallbackMethod;\n    this.headers = options.headers ?? {};\n  }\n  baseUrl;\n  maxUrlLength;\n  fallbackMethod;\n  expectedMethod;\n  headers;\n  async encode(path, input, options) {\n    let headers = toStandardHeaders(await value(this.headers, options, path, input));\n    if (options.lastEventId !== void 0) {\n      headers = mergeStandardHeaders(headers, { \"last-event-id\": options.lastEventId });\n    }\n    const expectedMethod = await value(this.expectedMethod, options, path, input);\n    const baseUrl = await value(this.baseUrl, options, path, input);\n    const url = new URL(baseUrl);\n    url.pathname = `${url.pathname.replace(/\\/$/, \"\")}${toHttpPath(path)}`;\n    const serialized = this.serializer.serialize(input);\n    if (expectedMethod === \"GET\" && !(serialized instanceof FormData) && !isAsyncIteratorObject(serialized)) {\n      const maxUrlLength = await value(this.maxUrlLength, options, path, input);\n      const getUrl = new URL(url);\n      getUrl.searchParams.append(\"data\", stringifyJSON(serialized));\n      if (getUrl.toString().length <= maxUrlLength) {\n        return {\n          body: void 0,\n          method: expectedMethod,\n          headers,\n          url: getUrl,\n          signal: options.signal\n        };\n      }\n    }\n    return {\n      url,\n      method: expectedMethod === \"GET\" ? this.fallbackMethod : expectedMethod,\n      headers,\n      body: serialized,\n      signal: options.signal\n    };\n  }\n  async decode(response) {\n    const isOk = !isORPCErrorStatus(response.status);\n    const deserialized = await (async () => {\n      let isBodyOk = false;\n      try {\n        const body = await response.body();\n        isBodyOk = true;\n        return this.serializer.deserialize(body);\n      } catch (error) {\n        if (!isBodyOk) {\n          throw new Error(\"Cannot parse response body, please check the response body and content-type.\", {\n            cause: error\n          });\n        }\n        throw new Error(\"Invalid RPC response format.\", {\n          cause: error\n        });\n      }\n    })();\n    if (!isOk) {\n      if (isORPCErrorJson(deserialized)) {\n        throw createORPCErrorFromJson(deserialized);\n      }\n      throw new ORPCError(getMalformedResponseErrorCode(response.status), {\n        status: response.status,\n        data: { ...response, body: deserialized }\n      });\n    }\n    return deserialized;\n  }\n}\n\nclass StandardRPCSerializer {\n  constructor(jsonSerializer) {\n    this.jsonSerializer = jsonSerializer;\n  }\n  serialize(data) {\n    if (isAsyncIteratorObject(data)) {\n      return mapEventIterator(data, {\n        value: async (value) => this.#serialize(value, false),\n        error: async (e) => {\n          return new ErrorEvent({\n            data: this.#serialize(toORPCError(e).toJSON(), false),\n            cause: e\n          });\n        }\n      });\n    }\n    return this.#serialize(data, true);\n  }\n  #serialize(data, enableFormData) {\n    const [json, meta_, maps, blobs] = this.jsonSerializer.serialize(data);\n    const meta = meta_.length === 0 ? void 0 : meta_;\n    if (!enableFormData || blobs.length === 0) {\n      return {\n        json,\n        meta\n      };\n    }\n    const form = new FormData();\n    form.set(\"data\", stringifyJSON({ json, meta, maps }));\n    blobs.forEach((blob, i) => {\n      form.set(i.toString(), blob);\n    });\n    return form;\n  }\n  deserialize(data) {\n    if (isAsyncIteratorObject(data)) {\n      return mapEventIterator(data, {\n        value: async (value) => this.#deserialize(value),\n        error: async (e) => {\n          if (!(e instanceof ErrorEvent)) {\n            return e;\n          }\n          const deserialized = this.#deserialize(e.data);\n          if (isORPCErrorJson(deserialized)) {\n            return createORPCErrorFromJson(deserialized, { cause: e });\n          }\n          return new ErrorEvent({\n            data: deserialized,\n            cause: e\n          });\n        }\n      });\n    }\n    return this.#deserialize(data);\n  }\n  #deserialize(data) {\n    if (data === void 0) {\n      return void 0;\n    }\n    if (!(data instanceof FormData)) {\n      return this.jsonSerializer.deserialize(data.json, data.meta ?? []);\n    }\n    const serialized = JSON.parse(data.get(\"data\"));\n    return this.jsonSerializer.deserialize(\n      serialized.json,\n      serialized.meta ?? [],\n      serialized.maps,\n      (i) => data.get(i.toString())\n    );\n  }\n}\n\nclass StandardRPCLink extends StandardLink {\n  constructor(linkClient, options) {\n    const jsonSerializer = new StandardRPCJsonSerializer(options);\n    const serializer = new StandardRPCSerializer(jsonSerializer);\n    const linkCodec = new StandardRPCLinkCodec(serializer, options);\n    super(linkCodec, linkClient, options);\n  }\n}\n\nexport { CompositeStandardLinkPlugin as C, StandardLink as S, STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES as a, StandardRPCJsonSerializer as b, StandardRPCLink as c, StandardRPCLinkCodec as d, StandardRPCSerializer as e, toStandardHeaders as f, getMalformedResponseErrorCode as g, toHttpPath as t };\n","import { StandardRPCJsonSerializer } from '@orpc/client/standard';\nimport { fallback, stringifyJSON, once } from '@orpc/shared';\nimport { getEventMeta, withEventMeta } from '@orpc/standard-server';\nimport { P as Publisher } from '../shared/experimental-publisher.BtlOkhPO.mjs';\n\nclass IORedisPublisher extends Publisher {\n  commander;\n  listener;\n  prefix;\n  serializer;\n  retentionSeconds;\n  subscriptionPromiseMap = /* @__PURE__ */ new Map();\n  listenersMap = /* @__PURE__ */ new Map();\n  onErrorsMap = /* @__PURE__ */ new Map();\n  redisListenerAndOnError;\n  get isResumeEnabled() {\n    return Number.isFinite(this.retentionSeconds) && this.retentionSeconds > 0;\n  }\n  /**\n   * The exactness of the `XTRIM` command.\n   *\n   * @internal\n   */\n  xtrimExactness = \"~\";\n  /**\n   * Useful for measuring memory usage.\n   *\n   * @internal\n   *\n   */\n  get size() {\n    let size = this.redisListenerAndOnError ? 1 : 0;\n    for (const listeners of this.listenersMap) {\n      size += listeners[1].length || 1;\n    }\n    for (const onErrors of this.onErrorsMap) {\n      size += onErrors[1].length || 1;\n    }\n    return size;\n  }\n  constructor({ commander, listener, resumeRetentionSeconds, prefix, ...options }) {\n    super(options);\n    this.commander = commander;\n    this.listener = listener;\n    this.prefix = fallback(prefix, \"orpc:publisher:\");\n    this.retentionSeconds = resumeRetentionSeconds ?? Number.NaN;\n    this.serializer = new StandardRPCJsonSerializer(options);\n  }\n  lastCleanupTimeMap = /* @__PURE__ */ new Map();\n  async publish(event, payload) {\n    const key = this.prefixKey(event);\n    const serialized = this.serializePayload(payload);\n    let id;\n    if (this.isResumeEnabled) {\n      const now = Date.now();\n      for (const [mapKey, lastCleanupTime] of this.lastCleanupTimeMap) {\n        if (lastCleanupTime + this.retentionSeconds * 1e3 < now) {\n          this.lastCleanupTimeMap.delete(mapKey);\n        }\n      }\n      if (!this.lastCleanupTimeMap.has(key)) {\n        this.lastCleanupTimeMap.set(key, now);\n        const result = await this.commander.multi().xadd(key, \"*\", \"data\", stringifyJSON(serialized)).xtrim(key, \"MINID\", this.xtrimExactness, `${now - this.retentionSeconds * 1e3}-0`).expire(key, this.retentionSeconds * 2).exec();\n        if (result) {\n          for (const [error] of result) {\n            if (error) {\n              throw error;\n            }\n          }\n        }\n        id = result[0][1];\n      } else {\n        const result = await this.commander.xadd(key, \"*\", \"data\", stringifyJSON(serialized));\n        id = result;\n      }\n    }\n    await this.commander.publish(key, stringifyJSON({ ...serialized, id }));\n  }\n  async subscribeListener(event, originalListener, { lastEventId, onError } = {}) {\n    const key = this.prefixKey(event);\n    let pendingPayloads = [];\n    const resumePayloadIds = /* @__PURE__ */ new Set();\n    const listener = (payload) => {\n      if (pendingPayloads) {\n        pendingPayloads.push(payload);\n        return;\n      }\n      const payloadId = getEventMeta(payload)?.id;\n      if (payloadId !== void 0 && resumePayloadIds.has(payloadId)) {\n        return;\n      }\n      originalListener(payload);\n    };\n    if (!this.redisListenerAndOnError) {\n      const redisOnError = (error) => {\n        for (const [_, onErrors] of this.onErrorsMap) {\n          for (const onError2 of onErrors) {\n            onError2(error);\n          }\n        }\n      };\n      const redisListener = (channel, message) => {\n        try {\n          const listeners2 = this.listenersMap.get(channel);\n          if (listeners2) {\n            const { id, ...rest } = JSON.parse(message);\n            const payload = this.deserializePayload(id, rest);\n            for (const listener2 of listeners2) {\n              listener2(payload);\n            }\n          }\n        } catch (error) {\n          const onErrors = this.onErrorsMap.get(channel);\n          if (onErrors) {\n            for (const onError2 of onErrors) {\n              onError2(error);\n            }\n          }\n        }\n      };\n      this.redisListenerAndOnError = { listener: redisListener, onError: redisOnError };\n      this.listener.on(\"message\", redisListener);\n      this.listener.on(\"error\", redisOnError);\n    }\n    const subscriptionPromise = this.subscriptionPromiseMap.get(key);\n    if (subscriptionPromise) {\n      await subscriptionPromise;\n    }\n    let listeners = this.listenersMap.get(key);\n    if (!listeners) {\n      try {\n        const promise = this.listener.subscribe(key);\n        this.subscriptionPromiseMap.set(key, promise);\n        await promise;\n        this.listenersMap.set(key, listeners = []);\n      } finally {\n        this.subscriptionPromiseMap.delete(key);\n        if (this.listenersMap.size === 0) {\n          this.listener.off(\"message\", this.redisListenerAndOnError.listener);\n          this.listener.off(\"error\", this.redisListenerAndOnError.onError);\n          this.redisListenerAndOnError = void 0;\n        }\n      }\n    }\n    listeners.push(listener);\n    if (onError) {\n      let onErrors = this.onErrorsMap.get(key);\n      if (!onErrors) {\n        this.onErrorsMap.set(key, onErrors = []);\n      }\n      onErrors.push(onError);\n    }\n    void (async () => {\n      try {\n        if (this.isResumeEnabled && typeof lastEventId === \"string\") {\n          const results = await this.commander.xread(\"STREAMS\", key, lastEventId);\n          if (results && results[0]) {\n            const [_, items] = results[0];\n            for (const [id, fields] of items) {\n              const serialized = fields[1];\n              const payload = this.deserializePayload(id, JSON.parse(serialized));\n              resumePayloadIds.add(id);\n              originalListener(payload);\n            }\n          }\n        }\n      } catch (error) {\n        onError?.(error);\n      } finally {\n        const pending = pendingPayloads;\n        pendingPayloads = void 0;\n        for (const payload of pending) {\n          listener(payload);\n        }\n      }\n    })();\n    const cleanupListeners = once(() => {\n      listeners.splice(listeners.indexOf(listener), 1);\n      if (onError) {\n        const onErrors = this.onErrorsMap.get(key);\n        if (onErrors) {\n          const index = onErrors.indexOf(onError);\n          if (index !== -1) {\n            onErrors.splice(index, 1);\n          }\n        }\n      }\n    });\n    return async () => {\n      cleanupListeners();\n      if (listeners.length === 0) {\n        this.listenersMap.delete(key);\n        this.onErrorsMap.delete(key);\n        if (this.redisListenerAndOnError && this.listenersMap.size === 0) {\n          this.listener.off(\"message\", this.redisListenerAndOnError.listener);\n          this.listener.off(\"error\", this.redisListenerAndOnError.onError);\n          this.redisListenerAndOnError = void 0;\n        }\n        await this.listener.unsubscribe(key);\n      }\n    };\n  }\n  prefixKey(key) {\n    return `${this.prefix}${key}`;\n  }\n  serializePayload(payload) {\n    const eventMeta = getEventMeta(payload);\n    const [json, meta] = this.serializer.serialize(payload);\n    return { json, meta, eventMeta };\n  }\n  deserializePayload(id, { json, meta, eventMeta }) {\n    return withEventMeta(\n      this.serializer.deserialize(json, meta),\n      id === void 0 ? { ...eventMeta } : { ...eventMeta, id }\n    );\n  }\n}\n\nexport { IORedisPublisher };\n","import { EventPublisher, SequentialIdGenerator, compareSequentialIds } from '@orpc/shared';\nimport { withEventMeta, getEventMeta } from '@orpc/standard-server';\nimport { P as Publisher } from '../shared/experimental-publisher.BtlOkhPO.mjs';\n\nclass MemoryPublisher extends Publisher {\n  eventPublisher = new EventPublisher();\n  idGenerator = new SequentialIdGenerator();\n  retentionSeconds;\n  eventsMap = /* @__PURE__ */ new Map();\n  /**\n   * Useful for measuring memory usage.\n   *\n   * @internal\n   *\n   */\n  get size() {\n    let size = this.eventPublisher.size;\n    for (const events of this.eventsMap) {\n      size += events[1].length || 1;\n    }\n    return size;\n  }\n  get isResumeEnabled() {\n    return Number.isFinite(this.retentionSeconds) && this.retentionSeconds > 0;\n  }\n  constructor({ resumeRetentionSeconds, ...options } = {}) {\n    super(options);\n    this.retentionSeconds = resumeRetentionSeconds ?? Number.NaN;\n  }\n  async publish(event, payload) {\n    this.cleanup();\n    if (this.isResumeEnabled) {\n      const now = Date.now();\n      const expiresAt = now + this.retentionSeconds * 1e3;\n      let events = this.eventsMap.get(event);\n      if (!events) {\n        this.eventsMap.set(event, events = []);\n      }\n      payload = withEventMeta(payload, { ...getEventMeta(payload), id: this.idGenerator.generate() });\n      events.push({ expiresAt, payload });\n    }\n    this.eventPublisher.publish(event, payload);\n  }\n  async subscribeListener(event, listener, options) {\n    if (this.isResumeEnabled && typeof options?.lastEventId === \"string\") {\n      const events = this.eventsMap.get(event);\n      if (events) {\n        for (const { payload } of events) {\n          const id = getEventMeta(payload)?.id;\n          if (typeof id === \"string\" && compareSequentialIds(id, options.lastEventId) > 0) {\n            listener(payload);\n          }\n        }\n      }\n    }\n    const syncUnsub = this.eventPublisher.subscribe(event, listener);\n    return async () => {\n      syncUnsub();\n    };\n  }\n  lastCleanupTime = null;\n  cleanup() {\n    if (!this.isResumeEnabled) {\n      return;\n    }\n    const now = Date.now();\n    if (this.lastCleanupTime !== null && this.lastCleanupTime + this.retentionSeconds * 1e3 > now) {\n      return;\n    }\n    this.lastCleanupTime = now;\n    for (const [event, events] of this.eventsMap) {\n      const validEvents = events.filter((event2) => event2.expiresAt > now);\n      if (validEvents.length > 0) {\n        this.eventsMap.set(event, validEvents);\n      } else {\n        this.eventsMap.delete(event);\n      }\n    }\n  }\n}\n\nexport { MemoryPublisher };\n","import { StandardRPCJsonSerializer } from '@orpc/client/standard';\nimport { fallback, once } from '@orpc/shared';\nimport { getEventMeta, withEventMeta } from '@orpc/standard-server';\nimport { P as Publisher } from '../shared/experimental-publisher.BtlOkhPO.mjs';\n\nclass UpstashRedisPublisher extends Publisher {\n  constructor(redis, { resumeRetentionSeconds, prefix, ...options } = {}) {\n    super(options);\n    this.redis = redis;\n    this.prefix = fallback(prefix, \"orpc:publisher:\");\n    this.retentionSeconds = resumeRetentionSeconds ?? Number.NaN;\n    this.serializer = new StandardRPCJsonSerializer(options);\n  }\n  prefix;\n  serializer;\n  retentionSeconds;\n  listenersMap = /* @__PURE__ */ new Map();\n  onErrorsMap = /* @__PURE__ */ new Map();\n  subscriptionPromiseMap = /* @__PURE__ */ new Map();\n  subscriptionsMap = /* @__PURE__ */ new Map();\n  // Upstash subscription objects\n  get isResumeEnabled() {\n    return Number.isFinite(this.retentionSeconds) && this.retentionSeconds > 0;\n  }\n  /**\n   * The exactness of the `XTRIM` command.\n   *\n   * @internal\n   */\n  xtrimExactness = \"~\";\n  /**\n   * Useful for measuring memory usage.\n   *\n   * @internal\n   *\n   */\n  get size() {\n    let size = 0;\n    for (const listeners of this.listenersMap) {\n      size += listeners[1].length || 1;\n    }\n    for (const onErrors of this.onErrorsMap) {\n      size += onErrors[1].length || 1;\n    }\n    return size;\n  }\n  lastCleanupTimeMap = /* @__PURE__ */ new Map();\n  async publish(event, payload) {\n    const key = this.prefixKey(event);\n    const serialized = this.serializePayload(payload);\n    let id;\n    if (this.isResumeEnabled) {\n      const now = Date.now();\n      for (const [mapKey, lastCleanupTime] of this.lastCleanupTimeMap) {\n        if (lastCleanupTime + this.retentionSeconds * 1e3 < now) {\n          this.lastCleanupTimeMap.delete(mapKey);\n        }\n      }\n      if (!this.lastCleanupTimeMap.has(key)) {\n        this.lastCleanupTimeMap.set(key, now);\n        const results = await this.redis.multi().xadd(key, \"*\", { data: serialized }).xtrim(key, { strategy: \"MINID\", exactness: this.xtrimExactness, threshold: `${now - this.retentionSeconds * 1e3}-0` }).expire(key, this.retentionSeconds * 2).exec();\n        id = results[0];\n      } else {\n        const result = await this.redis.xadd(key, \"*\", { data: serialized });\n        id = result;\n      }\n    }\n    await this.redis.publish(key, { ...serialized, id });\n  }\n  async subscribeListener(event, originalListener, { lastEventId, onError } = {}) {\n    const key = this.prefixKey(event);\n    let pendingPayloads = [];\n    const resumePayloadIds = /* @__PURE__ */ new Set();\n    const listener = (payload) => {\n      if (pendingPayloads) {\n        pendingPayloads.push(payload);\n        return;\n      }\n      const payloadId = getEventMeta(payload)?.id;\n      if (payloadId !== void 0 && resumePayloadIds.has(payloadId)) {\n        return;\n      }\n      originalListener(payload);\n    };\n    const subscriptionPromise = this.subscriptionPromiseMap.get(key);\n    if (subscriptionPromise) {\n      await subscriptionPromise;\n    }\n    let subscription = this.subscriptionsMap.get(key);\n    if (!subscription) {\n      const dispatchErrorForKey = (error) => {\n        const onErrors = this.onErrorsMap.get(key);\n        if (onErrors) {\n          for (const onError2 of onErrors) {\n            onError2(error);\n          }\n        }\n      };\n      subscription = this.redis.subscribe(key);\n      subscription.on(\"message\", (event2) => {\n        try {\n          const listeners2 = this.listenersMap.get(event2.channel);\n          if (listeners2) {\n            const { id, ...rest } = event2.message;\n            const payload = this.deserializePayload(id, rest);\n            for (const listener2 of listeners2) {\n              listener2(payload);\n            }\n          }\n        } catch (error) {\n          dispatchErrorForKey(error);\n        }\n      });\n      let resolvePromise;\n      let rejectPromise;\n      const promise = new Promise((resolve, reject) => {\n        resolvePromise = resolve;\n        rejectPromise = reject;\n      });\n      subscription.on(\"error\", (error) => {\n        rejectPromise(error);\n        dispatchErrorForKey(error);\n      });\n      subscription.on(\"subscribe\", () => {\n        resolvePromise();\n      });\n      try {\n        this.subscriptionPromiseMap.set(key, promise);\n        await promise;\n        this.subscriptionsMap.set(key, subscription);\n      } finally {\n        this.subscriptionPromiseMap.delete(key);\n      }\n    }\n    let listeners = this.listenersMap.get(key);\n    if (!listeners) {\n      this.listenersMap.set(key, listeners = []);\n    }\n    listeners.push(listener);\n    if (onError) {\n      let onErrors = this.onErrorsMap.get(key);\n      if (!onErrors) {\n        this.onErrorsMap.set(key, onErrors = []);\n      }\n      onErrors.push(onError);\n    }\n    void (async () => {\n      try {\n        if (this.isResumeEnabled && typeof lastEventId === \"string\") {\n          const results = await this.redis.xread(key, lastEventId);\n          if (results && results[0]) {\n            const [_, items] = results[0];\n            for (const [id, fields] of items) {\n              const serialized = fields[1];\n              const payload = this.deserializePayload(id, serialized);\n              resumePayloadIds.add(id);\n              originalListener(payload);\n            }\n          }\n        }\n      } catch (error) {\n        onError?.(error);\n      } finally {\n        const pending = pendingPayloads;\n        pendingPayloads = void 0;\n        for (const payload of pending) {\n          listener(payload);\n        }\n      }\n    })();\n    const cleanupListeners = once(() => {\n      listeners.splice(listeners.indexOf(listener), 1);\n      if (onError) {\n        const onErrors = this.onErrorsMap.get(key);\n        if (onErrors) {\n          onErrors.splice(onErrors.indexOf(onError), 1);\n        }\n      }\n    });\n    return async () => {\n      cleanupListeners();\n      if (listeners.length === 0) {\n        this.listenersMap.delete(key);\n        this.onErrorsMap.delete(key);\n        const subscription2 = this.subscriptionsMap.get(key);\n        if (subscription2) {\n          this.subscriptionsMap.delete(key);\n          await subscription2.unsubscribe();\n        }\n      }\n    };\n  }\n  prefixKey(key) {\n    return `${this.prefix}${key}`;\n  }\n  serializePayload(payload) {\n    const eventMeta = getEventMeta(payload);\n    const [json, meta] = this.serializer.serialize(payload);\n    return { json, meta, eventMeta };\n  }\n  deserializePayload(id, { json, meta, eventMeta }) {\n    return withEventMeta(\n      this.serializer.deserialize(json, meta),\n      id === void 0 ? { ...eventMeta } : { ...eventMeta, id }\n    );\n  }\n}\n\nexport { UpstashRedisPublisher };\n","import { AsyncIteratorClass } from '@orpc/shared';\n\nclass Publisher {\n  maxBufferedEvents;\n  constructor(options = {}) {\n    this.maxBufferedEvents = options.maxBufferedEvents ?? 100;\n  }\n  subscribe(event, listenerOrOptions, listenerOptions) {\n    if (typeof listenerOrOptions === \"function\") {\n      return this.subscribeListener(event, listenerOrOptions, listenerOptions);\n    }\n    const signal = listenerOrOptions?.signal;\n    const maxBufferedEvents = listenerOrOptions?.maxBufferedEvents ?? this.maxBufferedEvents;\n    signal?.throwIfAborted();\n    const bufferedEvents = [];\n    const pullResolvers = [];\n    let subscriptionError;\n    const unsubscribePromise = this.subscribe(event, (payload) => {\n      const resolver = pullResolvers.shift();\n      if (resolver) {\n        resolver[0]({ done: false, value: payload });\n      } else {\n        bufferedEvents.push(payload);\n        if (bufferedEvents.length > maxBufferedEvents) {\n          bufferedEvents.shift();\n        }\n      }\n    }, {\n      lastEventId: listenerOrOptions?.lastEventId,\n      onError: (error) => {\n        subscriptionError = { error };\n        pullResolvers.forEach((resolver) => resolver[1](error));\n        signal?.removeEventListener(\"abort\", abortListener);\n        pullResolvers.length = 0;\n        bufferedEvents.length = 0;\n        unsubscribePromise.then((unsubscribe) => unsubscribe()).catch(() => {\n        });\n      }\n    });\n    function abortListener(event2) {\n      pullResolvers.forEach((resolver) => resolver[1](event2.target.reason));\n      pullResolvers.length = 0;\n      bufferedEvents.length = 0;\n      unsubscribePromise.then((unsubscribe) => unsubscribe()).catch(() => {\n      });\n    }\n    signal?.addEventListener(\"abort\", abortListener, { once: true });\n    return new AsyncIteratorClass(async () => {\n      if (subscriptionError) {\n        throw subscriptionError.error;\n      }\n      if (signal?.aborted) {\n        throw signal.reason;\n      }\n      await unsubscribePromise;\n      if (bufferedEvents.length > 0) {\n        return { done: false, value: bufferedEvents.shift() };\n      }\n      return new Promise((resolve, reject) => {\n        pullResolvers.push([resolve, reject]);\n      });\n    }, async () => {\n      pullResolvers.forEach((resolver) => resolver[0]({ done: true, value: void 0 }));\n      signal?.removeEventListener(\"abort\", abortListener);\n      pullResolvers.length = 0;\n      bufferedEvents.length = 0;\n      await unsubscribePromise.then((unsubscribe) => unsubscribe());\n    });\n  }\n}\n\nexport { Publisher as P };\n","import { createRequire } from \"node:module\";\n\n//#region rolldown:runtime\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __copyProps = (to, from, except, desc) => {\n\tif (from && typeof from === \"object\" || typeof from === \"function\") for (var keys = __getOwnPropNames(from), i = 0, n = keys.length, key; i < n; i++) {\n\t\tkey = keys[i];\n\t\tif (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {\n\t\t\tget: ((k) => from[k]).bind(null, key),\n\t\t\tenumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable\n\t\t});\n\t}\n\treturn to;\n};\nvar __reExport = (target, mod, secondTarget) => (__copyProps(target, mod, \"default\"), secondTarget && __copyProps(secondTarget, mod, \"default\"));\nvar __require = /* @__PURE__ */ createRequire(import.meta.url);\n\n//#endregion\nexport { __reExport, __require };","import { __reExport } from \"./_virtual/rolldown_runtime.mjs\";\n\nexport * from \"zod\"\n\n//#region src/zod.ts\nvar zod_exports = {};\nimport * as import_zod from \"zod\";\n__reExport(zod_exports, import_zod);\n\n//#endregion\nexport { zod_exports };\n//# sourceMappingURL=zod.mjs.map","/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nfunction isBytes(a) {\n    return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');\n}\n/** Asserts something is Uint8Array. */\nfunction abytes(b) {\n    if (!isBytes(b))\n        throw new Error('Uint8Array expected');\n}\nfunction isArrayOf(isString, arr) {\n    if (!Array.isArray(arr))\n        return false;\n    if (arr.length === 0)\n        return true;\n    if (isString) {\n        return arr.every((item) => typeof item === 'string');\n    }\n    else {\n        return arr.every((item) => Number.isSafeInteger(item));\n    }\n}\nfunction afn(input) {\n    if (typeof input !== 'function')\n        throw new Error('function expected');\n    return true;\n}\nfunction astr(label, input) {\n    if (typeof input !== 'string')\n        throw new Error(`${label}: string expected`);\n    return true;\n}\nfunction anumber(n) {\n    if (!Number.isSafeInteger(n))\n        throw new Error(`invalid integer: ${n}`);\n}\nfunction aArr(input) {\n    if (!Array.isArray(input))\n        throw new Error('array expected');\n}\nfunction astrArr(label, input) {\n    if (!isArrayOf(true, input))\n        throw new Error(`${label}: array of strings expected`);\n}\nfunction anumArr(label, input) {\n    if (!isArrayOf(false, input))\n        throw new Error(`${label}: array of numbers expected`);\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction chain(...args) {\n    const id = (a) => a;\n    // Wrap call in closure so JIT can inline calls\n    const wrap = (a, b) => (c) => a(b(c));\n    // Construct chain of args[-1].encode(args[-2].encode([...]))\n    const encode = args.map((x) => x.encode).reduceRight(wrap, id);\n    // Construct chain of args[0].decode(args[1].decode(...))\n    const decode = args.map((x) => x.decode).reduce(wrap, id);\n    return { encode, decode };\n}\n/**\n * Encodes integer radix representation to array of strings using alphabet and back.\n * Could also be array of strings.\n * @__NO_SIDE_EFFECTS__\n */\nfunction alphabet(letters) {\n    // mapping 1 to \"b\"\n    const lettersA = typeof letters === 'string' ? letters.split('') : letters;\n    const len = lettersA.length;\n    astrArr('alphabet', lettersA);\n    // mapping \"b\" to 1\n    const indexes = new Map(lettersA.map((l, i) => [l, i]));\n    return {\n        encode: (digits) => {\n            aArr(digits);\n            return digits.map((i) => {\n                if (!Number.isSafeInteger(i) || i < 0 || i >= len)\n                    throw new Error(`alphabet.encode: digit index outside alphabet \"${i}\". Allowed: ${letters}`);\n                return lettersA[i];\n            });\n        },\n        decode: (input) => {\n            aArr(input);\n            return input.map((letter) => {\n                astr('alphabet.decode', letter);\n                const i = indexes.get(letter);\n                if (i === undefined)\n                    throw new Error(`Unknown letter: \"${letter}\". Allowed: ${letters}`);\n                return i;\n            });\n        },\n    };\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction join(separator = '') {\n    astr('join', separator);\n    return {\n        encode: (from) => {\n            astrArr('join.decode', from);\n            return from.join(separator);\n        },\n        decode: (to) => {\n            astr('join.decode', to);\n            return to.split(separator);\n        },\n    };\n}\n/**\n * Pad strings array so it has integer number of bits\n * @__NO_SIDE_EFFECTS__\n */\nfunction padding(bits, chr = '=') {\n    anumber(bits);\n    astr('padding', chr);\n    return {\n        encode(data) {\n            astrArr('padding.encode', data);\n            while ((data.length * bits) % 8)\n                data.push(chr);\n            return data;\n        },\n        decode(input) {\n            astrArr('padding.decode', input);\n            let end = input.length;\n            if ((end * bits) % 8)\n                throw new Error('padding: invalid, string should have whole number of bytes');\n            for (; end > 0 && input[end - 1] === chr; end--) {\n                const last = end - 1;\n                const byte = last * bits;\n                if (byte % 8 === 0)\n                    throw new Error('padding: invalid, string has too much padding');\n            }\n            return input.slice(0, end);\n        },\n    };\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction normalize(fn) {\n    afn(fn);\n    return { encode: (from) => from, decode: (to) => fn(to) };\n}\n/**\n * Slow: O(n^2) time complexity\n */\nfunction convertRadix(data, from, to) {\n    // base 1 is impossible\n    if (from < 2)\n        throw new Error(`convertRadix: invalid from=${from}, base cannot be less than 2`);\n    if (to < 2)\n        throw new Error(`convertRadix: invalid to=${to}, base cannot be less than 2`);\n    aArr(data);\n    if (!data.length)\n        return [];\n    let pos = 0;\n    const res = [];\n    const digits = Array.from(data, (d) => {\n        anumber(d);\n        if (d < 0 || d >= from)\n            throw new Error(`invalid integer: ${d}`);\n        return d;\n    });\n    const dlen = digits.length;\n    while (true) {\n        let carry = 0;\n        let done = true;\n        for (let i = pos; i < dlen; i++) {\n            const digit = digits[i];\n            const fromCarry = from * carry;\n            const digitBase = fromCarry + digit;\n            if (!Number.isSafeInteger(digitBase) ||\n                fromCarry / from !== carry ||\n                digitBase - digit !== fromCarry) {\n                throw new Error('convertRadix: carry overflow');\n            }\n            const div = digitBase / to;\n            carry = digitBase % to;\n            const rounded = Math.floor(div);\n            digits[i] = rounded;\n            if (!Number.isSafeInteger(rounded) || rounded * to + carry !== digitBase)\n                throw new Error('convertRadix: carry overflow');\n            if (!done)\n                continue;\n            else if (!rounded)\n                pos = i;\n            else\n                done = false;\n        }\n        res.push(carry);\n        if (done)\n            break;\n    }\n    for (let i = 0; i < data.length - 1 && data[i] === 0; i++)\n        res.push(0);\n    return res.reverse();\n}\nconst gcd = (a, b) => (b === 0 ? a : gcd(b, a % b));\nconst radix2carry = /* @__NO_SIDE_EFFECTS__ */ (from, to) => from + (to - gcd(from, to));\nconst powers = /* @__PURE__ */ (() => {\n    let res = [];\n    for (let i = 0; i < 40; i++)\n        res.push(2 ** i);\n    return res;\n})();\n/**\n * Implemented with numbers, because BigInt is 5x slower\n */\nfunction convertRadix2(data, from, to, padding) {\n    aArr(data);\n    if (from <= 0 || from > 32)\n        throw new Error(`convertRadix2: wrong from=${from}`);\n    if (to <= 0 || to > 32)\n        throw new Error(`convertRadix2: wrong to=${to}`);\n    if (radix2carry(from, to) > 32) {\n        throw new Error(`convertRadix2: carry overflow from=${from} to=${to} carryBits=${radix2carry(from, to)}`);\n    }\n    let carry = 0;\n    let pos = 0; // bitwise position in current element\n    const max = powers[from];\n    const mask = powers[to] - 1;\n    const res = [];\n    for (const n of data) {\n        anumber(n);\n        if (n >= max)\n            throw new Error(`convertRadix2: invalid data word=${n} from=${from}`);\n        carry = (carry << from) | n;\n        if (pos + from > 32)\n            throw new Error(`convertRadix2: carry overflow pos=${pos} from=${from}`);\n        pos += from;\n        for (; pos >= to; pos -= to)\n            res.push(((carry >> (pos - to)) & mask) >>> 0);\n        const pow = powers[pos];\n        if (pow === undefined)\n            throw new Error('invalid carry');\n        carry &= pow - 1; // clean carry, otherwise it will cause overflow\n    }\n    carry = (carry << (to - pos)) & mask;\n    if (!padding && pos >= from)\n        throw new Error('Excess padding');\n    if (!padding && carry > 0)\n        throw new Error(`Non-zero padding: ${carry}`);\n    if (padding && pos > 0)\n        res.push(carry >>> 0);\n    return res;\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction radix(num) {\n    anumber(num);\n    const _256 = 2 ** 8;\n    return {\n        encode: (bytes) => {\n            if (!isBytes(bytes))\n                throw new Error('radix.encode input should be Uint8Array');\n            return convertRadix(Array.from(bytes), _256, num);\n        },\n        decode: (digits) => {\n            anumArr('radix.decode', digits);\n            return Uint8Array.from(convertRadix(digits, num, _256));\n        },\n    };\n}\n/**\n * If both bases are power of same number (like `2**8 <-> 2**64`),\n * there is a linear algorithm. For now we have implementation for power-of-two bases only.\n * @__NO_SIDE_EFFECTS__\n */\nfunction radix2(bits, revPadding = false) {\n    anumber(bits);\n    if (bits <= 0 || bits > 32)\n        throw new Error('radix2: bits should be in (0..32]');\n    if (radix2carry(8, bits) > 32 || radix2carry(bits, 8) > 32)\n        throw new Error('radix2: carry overflow');\n    return {\n        encode: (bytes) => {\n            if (!isBytes(bytes))\n                throw new Error('radix2.encode input should be Uint8Array');\n            return convertRadix2(Array.from(bytes), 8, bits, !revPadding);\n        },\n        decode: (digits) => {\n            anumArr('radix2.decode', digits);\n            return Uint8Array.from(convertRadix2(digits, bits, 8, revPadding));\n        },\n    };\n}\nfunction unsafeWrapper(fn) {\n    afn(fn);\n    return function (...args) {\n        try {\n            return fn.apply(null, args);\n        }\n        catch (e) { }\n    };\n}\nfunction checksum(len, fn) {\n    anumber(len);\n    afn(fn);\n    return {\n        encode(data) {\n            if (!isBytes(data))\n                throw new Error('checksum.encode: input should be Uint8Array');\n            const sum = fn(data).slice(0, len);\n            const res = new Uint8Array(data.length + len);\n            res.set(data);\n            res.set(sum, data.length);\n            return res;\n        },\n        decode(data) {\n            if (!isBytes(data))\n                throw new Error('checksum.decode: input should be Uint8Array');\n            const payload = data.slice(0, -len);\n            const oldChecksum = data.slice(-len);\n            const newChecksum = fn(payload).slice(0, len);\n            for (let i = 0; i < len; i++)\n                if (newChecksum[i] !== oldChecksum[i])\n                    throw new Error('Invalid checksum');\n            return payload;\n        },\n    };\n}\n// prettier-ignore\nexport const utils = {\n    alphabet, chain, checksum, convertRadix, convertRadix2, radix, radix2, join, padding,\n};\n// RFC 4648 aka RFC 3548\n// ---------------------\n/**\n * base16 encoding from RFC 4648.\n * @example\n * ```js\n * base16.encode(Uint8Array.from([0x12, 0xab]));\n * // => '12AB'\n * ```\n */\nexport const base16 = chain(radix2(4), alphabet('0123456789ABCDEF'), join(''));\n/**\n * base32 encoding from RFC 4648. Has padding.\n * Use `base32nopad` for unpadded version.\n * Also check out `base32hex`, `base32hexnopad`, `base32crockford`.\n * @example\n * ```js\n * base32.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'CKVQ===='\n * base32.decode('CKVQ====');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base32 = chain(radix2(5), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZ234567'), padding(5), join(''));\n/**\n * base32 encoding from RFC 4648. No padding.\n * Use `base32` for padded version.\n * Also check out `base32hex`, `base32hexnopad`, `base32crockford`.\n * @example\n * ```js\n * base32nopad.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'CKVQ'\n * base32nopad.decode('CKVQ');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base32nopad = chain(radix2(5), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZ234567'), join(''));\n/**\n * base32 encoding from RFC 4648. Padded. Compared to ordinary `base32`, slightly different alphabet.\n * Use `base32hexnopad` for unpadded version.\n * @example\n * ```js\n * base32hex.encode(Uint8Array.from([0x12, 0xab]));\n * // => '2ALG===='\n * base32hex.decode('2ALG====');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base32hex = chain(radix2(5), alphabet('0123456789ABCDEFGHIJKLMNOPQRSTUV'), padding(5), join(''));\n/**\n * base32 encoding from RFC 4648. No padding. Compared to ordinary `base32`, slightly different alphabet.\n * Use `base32hex` for padded version.\n * @example\n * ```js\n * base32hexnopad.encode(Uint8Array.from([0x12, 0xab]));\n * // => '2ALG'\n * base32hexnopad.decode('2ALG');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base32hexnopad = chain(radix2(5), alphabet('0123456789ABCDEFGHIJKLMNOPQRSTUV'), join(''));\n/**\n * base32 encoding from RFC 4648. Doug Crockford's version.\n * https://www.crockford.com/base32.html\n * @example\n * ```js\n * base32crockford.encode(Uint8Array.from([0x12, 0xab]));\n * // => '2ANG'\n * base32crockford.decode('2ANG');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base32crockford = chain(radix2(5), alphabet('0123456789ABCDEFGHJKMNPQRSTVWXYZ'), join(''), normalize((s) => s.toUpperCase().replace(/O/g, '0').replace(/[IL]/g, '1')));\n// Built-in base64 conversion https://caniuse.com/mdn-javascript_builtins_uint8array_frombase64\n// prettier-ignore\nconst hasBase64Builtin = /* @__PURE__ */ (() => typeof Uint8Array.from([]).toBase64 === 'function' &&\n    typeof Uint8Array.fromBase64 === 'function')();\nconst decodeBase64Builtin = (s, isUrl) => {\n    astr('base64', s);\n    const re = isUrl ? /^[A-Za-z0-9=_-]+$/ : /^[A-Za-z0-9=+/]+$/;\n    const alphabet = isUrl ? 'base64url' : 'base64';\n    if (s.length > 0 && !re.test(s))\n        throw new Error('invalid base64');\n    return Uint8Array.fromBase64(s, { alphabet, lastChunkHandling: 'strict' });\n};\n/**\n * base64 from RFC 4648. Padded.\n * Use `base64nopad` for unpadded version.\n * Also check out `base64url`, `base64urlnopad`.\n * Falls back to built-in function, when available.\n * @example\n * ```js\n * base64.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'Eqs='\n * base64.decode('Eqs=');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\n// prettier-ignore\nexport const base64 = hasBase64Builtin ? {\n    encode(b) { abytes(b); return b.toBase64(); },\n    decode(s) { return decodeBase64Builtin(s, false); },\n} : chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'), padding(6), join(''));\n/**\n * base64 from RFC 4648. No padding.\n * Use `base64` for padded version.\n * @example\n * ```js\n * base64nopad.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'Eqs'\n * base64nopad.decode('Eqs');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base64nopad = chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'), join(''));\n/**\n * base64 from RFC 4648, using URL-safe alphabet. Padded.\n * Use `base64urlnopad` for unpadded version.\n * Falls back to built-in function, when available.\n * @example\n * ```js\n * base64url.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'Eqs='\n * base64url.decode('Eqs=');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\n// prettier-ignore\nexport const base64url = hasBase64Builtin ? {\n    encode(b) { abytes(b); return b.toBase64({ alphabet: 'base64url' }); },\n    decode(s) { return decodeBase64Builtin(s, true); },\n} : chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'), padding(6), join(''));\n/**\n * base64 from RFC 4648, using URL-safe alphabet. No padding.\n * Use `base64url` for padded version.\n * @example\n * ```js\n * base64urlnopad.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'Eqs'\n * base64urlnopad.decode('Eqs');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base64urlnopad = chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'), join(''));\n// base58 code\n// -----------\nconst genBase58 = /* @__NO_SIDE_EFFECTS__ */ (abc) => chain(radix(58), alphabet(abc), join(''));\n/**\n * base58: base64 without ambigous characters +, /, 0, O, I, l.\n * Quadratic (O(n^2)) - so, can't be used on large inputs.\n * @example\n * ```js\n * base58.decode('01abcdef');\n * // => '3UhJW'\n * ```\n */\nexport const base58 = genBase58('123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz');\n/**\n * base58: flickr version. Check out `base58`.\n */\nexport const base58flickr = genBase58('123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ');\n/**\n * base58: XRP version. Check out `base58`.\n */\nexport const base58xrp = genBase58('rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz');\n// Data len (index) -> encoded block len\nconst XMR_BLOCK_LEN = [0, 2, 3, 5, 6, 7, 9, 10, 11];\n/**\n * base58: XMR version. Check out `base58`.\n * Done in 8-byte blocks (which equals 11 chars in decoding). Last (non-full) block padded with '1' to size in XMR_BLOCK_LEN.\n * Block encoding significantly reduces quadratic complexity of base58.\n */\nexport const base58xmr = {\n    encode(data) {\n        let res = '';\n        for (let i = 0; i < data.length; i += 8) {\n            const block = data.subarray(i, i + 8);\n            res += base58.encode(block).padStart(XMR_BLOCK_LEN[block.length], '1');\n        }\n        return res;\n    },\n    decode(str) {\n        let res = [];\n        for (let i = 0; i < str.length; i += 11) {\n            const slice = str.slice(i, i + 11);\n            const blockLen = XMR_BLOCK_LEN.indexOf(slice.length);\n            const block = base58.decode(slice);\n            for (let j = 0; j < block.length - blockLen; j++) {\n                if (block[j] !== 0)\n                    throw new Error('base58xmr: wrong padding');\n            }\n            res = res.concat(Array.from(block.slice(block.length - blockLen)));\n        }\n        return Uint8Array.from(res);\n    },\n};\n/**\n * Method, which creates base58check encoder.\n * Requires function, calculating sha256.\n */\nexport const createBase58check = (sha256) => chain(checksum(4, (data) => sha256(sha256(data))), base58);\n/**\n * Use `createBase58check` instead.\n * @deprecated\n */\nexport const base58check = createBase58check;\nconst BECH_ALPHABET = chain(alphabet('qpzry9x8gf2tvdw0s3jn54khce6mua7l'), join(''));\nconst POLYMOD_GENERATORS = [0x3b6a57b2, 0x26508e6d, 0x1ea119fa, 0x3d4233dd, 0x2a1462b3];\nfunction bech32Polymod(pre) {\n    const b = pre >> 25;\n    let chk = (pre & 0x1ffffff) << 5;\n    for (let i = 0; i < POLYMOD_GENERATORS.length; i++) {\n        if (((b >> i) & 1) === 1)\n            chk ^= POLYMOD_GENERATORS[i];\n    }\n    return chk;\n}\nfunction bechChecksum(prefix, words, encodingConst = 1) {\n    const len = prefix.length;\n    let chk = 1;\n    for (let i = 0; i < len; i++) {\n        const c = prefix.charCodeAt(i);\n        if (c < 33 || c > 126)\n            throw new Error(`Invalid prefix (${prefix})`);\n        chk = bech32Polymod(chk) ^ (c >> 5);\n    }\n    chk = bech32Polymod(chk);\n    for (let i = 0; i < len; i++)\n        chk = bech32Polymod(chk) ^ (prefix.charCodeAt(i) & 0x1f);\n    for (let v of words)\n        chk = bech32Polymod(chk) ^ v;\n    for (let i = 0; i < 6; i++)\n        chk = bech32Polymod(chk);\n    chk ^= encodingConst;\n    return BECH_ALPHABET.encode(convertRadix2([chk % powers[30]], 30, 5, false));\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction genBech32(encoding) {\n    const ENCODING_CONST = encoding === 'bech32' ? 1 : 0x2bc830a3;\n    const _words = radix2(5);\n    const fromWords = _words.decode;\n    const toWords = _words.encode;\n    const fromWordsUnsafe = unsafeWrapper(fromWords);\n    function encode(prefix, words, limit = 90) {\n        astr('bech32.encode prefix', prefix);\n        if (isBytes(words))\n            words = Array.from(words);\n        anumArr('bech32.encode', words);\n        const plen = prefix.length;\n        if (plen === 0)\n            throw new TypeError(`Invalid prefix length ${plen}`);\n        const actualLength = plen + 7 + words.length;\n        if (limit !== false && actualLength > limit)\n            throw new TypeError(`Length ${actualLength} exceeds limit ${limit}`);\n        const lowered = prefix.toLowerCase();\n        const sum = bechChecksum(lowered, words, ENCODING_CONST);\n        return `${lowered}1${BECH_ALPHABET.encode(words)}${sum}`;\n    }\n    function decode(str, limit = 90) {\n        astr('bech32.decode input', str);\n        const slen = str.length;\n        if (slen < 8 || (limit !== false && slen > limit))\n            throw new TypeError(`invalid string length: ${slen} (${str}). Expected (8..${limit})`);\n        // don't allow mixed case\n        const lowered = str.toLowerCase();\n        if (str !== lowered && str !== str.toUpperCase())\n            throw new Error(`String must be lowercase or uppercase`);\n        const sepIndex = lowered.lastIndexOf('1');\n        if (sepIndex === 0 || sepIndex === -1)\n            throw new Error(`Letter \"1\" must be present between prefix and data only`);\n        const prefix = lowered.slice(0, sepIndex);\n        const data = lowered.slice(sepIndex + 1);\n        if (data.length < 6)\n            throw new Error('Data must be at least 6 characters long');\n        const words = BECH_ALPHABET.decode(data).slice(0, -6);\n        const sum = bechChecksum(prefix, words, ENCODING_CONST);\n        if (!data.endsWith(sum))\n            throw new Error(`Invalid checksum in ${str}: expected \"${sum}\"`);\n        return { prefix, words };\n    }\n    const decodeUnsafe = unsafeWrapper(decode);\n    function decodeToBytes(str) {\n        const { prefix, words } = decode(str, false);\n        return { prefix, words, bytes: fromWords(words) };\n    }\n    function encodeFromBytes(prefix, bytes) {\n        return encode(prefix, toWords(bytes));\n    }\n    return {\n        encode,\n        decode,\n        encodeFromBytes,\n        decodeToBytes,\n        decodeUnsafe,\n        fromWords,\n        fromWordsUnsafe,\n        toWords,\n    };\n}\n/**\n * bech32 from BIP 173. Operates on words.\n * For high-level, check out scure-btc-signer:\n * https://github.com/paulmillr/scure-btc-signer.\n */\nexport const bech32 = genBech32('bech32');\n/**\n * bech32m from BIP 350. Operates on words.\n * It was to mitigate `bech32` weaknesses.\n * For high-level, check out scure-btc-signer:\n * https://github.com/paulmillr/scure-btc-signer.\n */\nexport const bech32m = genBech32('bech32m');\n/**\n * UTF-8-to-byte decoder. Uses built-in TextDecoder / TextEncoder.\n * @example\n * ```js\n * const b = utf8.decode(\"hey\"); // => new Uint8Array([ 104, 101, 121 ])\n * const str = utf8.encode(b); // \"hey\"\n * ```\n */\nexport const utf8 = {\n    encode: (data) => new TextDecoder().decode(data),\n    decode: (str) => new TextEncoder().encode(str),\n};\n// Built-in hex conversion https://caniuse.com/mdn-javascript_builtins_uint8array_fromhex\n// prettier-ignore\nconst hasHexBuiltin = /* @__PURE__ */ (() => typeof Uint8Array.from([]).toHex === 'function' &&\n    typeof Uint8Array.fromHex === 'function')();\n// prettier-ignore\nconst hexBuiltin = {\n    encode(data) { abytes(data); return data.toHex(); },\n    decode(s) { astr('hex', s); return Uint8Array.fromHex(s); },\n};\n/**\n * hex string decoder. Uses built-in function, when available.\n * @example\n * ```js\n * const b = hex.decode(\"0102ff\"); // => new Uint8Array([ 1, 2, 255 ])\n * const str = hex.encode(b); // \"0102ff\"\n * ```\n */\nexport const hex = hasHexBuiltin\n    ? hexBuiltin\n    : chain(radix2(4), alphabet('0123456789abcdef'), join(''), normalize((s) => {\n        if (typeof s !== 'string' || s.length % 2 !== 0)\n            throw new TypeError(`hex.decode: expected string, got ${typeof s} with length ${s.length}`);\n        return s.toLowerCase();\n    }));\n// prettier-ignore\nconst CODERS = {\n    utf8, hex, base16, base32, base64, base64url, base58, base58xmr\n};\nconst coderTypeError = 'Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr';\n/** @deprecated */\nexport const bytesToString = (type, bytes) => {\n    if (typeof type !== 'string' || !CODERS.hasOwnProperty(type))\n        throw new TypeError(coderTypeError);\n    if (!isBytes(bytes))\n        throw new TypeError('bytesToString() expects Uint8Array');\n    return CODERS[type].encode(bytes);\n};\n/** @deprecated */\nexport const str = bytesToString; // as in python, but for bytes only\n/** @deprecated */\nexport const stringToBytes = (type, str) => {\n    if (!CODERS.hasOwnProperty(type))\n        throw new TypeError(coderTypeError);\n    if (typeof str !== 'string')\n        throw new TypeError('stringToBytes() expects string');\n    return CODERS[type].decode(str);\n};\n/** @deprecated */\nexport const bytes = stringToBytes;\n//# sourceMappingURL=index.js.map","/**\n * Internal helpers for u64. BigUint64Array is too slow as per 2025, so we implement it using Uint32Array.\n * @todo re-check https://issues.chromium.org/issues/42212588\n * @module\n */\nconst U32_MASK64 = /* @__PURE__ */ BigInt(2 ** 32 - 1);\nconst _32n = /* @__PURE__ */ BigInt(32);\nfunction fromBig(n, le = false) {\n    if (le)\n        return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };\n    return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };\n}\nfunction split(lst, le = false) {\n    const len = lst.length;\n    let Ah = new Uint32Array(len);\n    let Al = new Uint32Array(len);\n    for (let i = 0; i < len; i++) {\n        const { h, l } = fromBig(lst[i], le);\n        [Ah[i], Al[i]] = [h, l];\n    }\n    return [Ah, Al];\n}\nconst toBig = (h, l) => (BigInt(h >>> 0) << _32n) | BigInt(l >>> 0);\n// for Shift in [0, 32)\nconst shrSH = (h, _l, s) => h >>> s;\nconst shrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in [1, 32)\nconst rotrSH = (h, l, s) => (h >>> s) | (l << (32 - s));\nconst rotrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotrBH = (h, l, s) => (h << (64 - s)) | (l >>> (s - 32));\nconst rotrBL = (h, l, s) => (h >>> (s - 32)) | (l << (64 - s));\n// Right rotate for shift===32 (just swaps l&h)\nconst rotr32H = (_h, l) => l;\nconst rotr32L = (h, _l) => h;\n// Left rotate for Shift in [1, 32)\nconst rotlSH = (h, l, s) => (h << s) | (l >>> (32 - s));\nconst rotlSL = (h, l, s) => (l << s) | (h >>> (32 - s));\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotlBH = (h, l, s) => (l << (s - 32)) | (h >>> (64 - s));\nconst rotlBL = (h, l, s) => (h << (s - 32)) | (l >>> (64 - s));\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\nfunction add(Ah, Al, Bh, Bl) {\n    const l = (Al >>> 0) + (Bl >>> 0);\n    return { h: (Ah + Bh + ((l / 2 ** 32) | 0)) | 0, l: l | 0 };\n}\n// Addition with more than 2 elements\nconst add3L = (Al, Bl, Cl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\nconst add3H = (low, Ah, Bh, Ch) => (Ah + Bh + Ch + ((low / 2 ** 32) | 0)) | 0;\nconst add4L = (Al, Bl, Cl, Dl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\nconst add4H = (low, Ah, Bh, Ch, Dh) => (Ah + Bh + Ch + Dh + ((low / 2 ** 32) | 0)) | 0;\nconst add5L = (Al, Bl, Cl, Dl, El) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\nconst add5H = (low, Ah, Bh, Ch, Dh, Eh) => (Ah + Bh + Ch + Dh + Eh + ((low / 2 ** 32) | 0)) | 0;\n// prettier-ignore\nexport { add, add3H, add3L, add4H, add4L, add5H, add5L, fromBig, rotlBH, rotlBL, rotlSH, rotlSL, rotr32H, rotr32L, rotrBH, rotrBL, rotrSH, rotrSL, shrSH, shrSL, split, toBig };\n// prettier-ignore\nconst u64 = {\n    fromBig, split, toBig,\n    shrSH, shrSL,\n    rotrSH, rotrSL, rotrBH, rotrBL,\n    rotr32H, rotr32L,\n    rotlSH, rotlSL, rotlBH, rotlBL,\n    add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\nexport default u64;\n//# sourceMappingURL=_u64.js.map","/**\n * Utilities for hex, bytes, CSPRNG.\n * @module\n */\n/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n/** Checks if something is Uint8Array. Be careful: nodejs Buffer will return true. */\nexport function isBytes(a) {\n    return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');\n}\n/** Asserts something is positive integer. */\nexport function anumber(n, title = '') {\n    if (!Number.isSafeInteger(n) || n < 0) {\n        const prefix = title && `\"${title}\" `;\n        throw new Error(`${prefix}expected integer >= 0, got ${n}`);\n    }\n}\n/** Asserts something is Uint8Array. */\nexport function abytes(value, length, title = '') {\n    const bytes = isBytes(value);\n    const len = value?.length;\n    const needsLen = length !== undefined;\n    if (!bytes || (needsLen && len !== length)) {\n        const prefix = title && `\"${title}\" `;\n        const ofLen = needsLen ? ` of length ${length}` : '';\n        const got = bytes ? `length=${len}` : `type=${typeof value}`;\n        throw new Error(prefix + 'expected Uint8Array' + ofLen + ', got ' + got);\n    }\n    return value;\n}\n/** Asserts something is hash */\nexport function ahash(h) {\n    if (typeof h !== 'function' || typeof h.create !== 'function')\n        throw new Error('Hash must wrapped by utils.createHasher');\n    anumber(h.outputLen);\n    anumber(h.blockLen);\n}\n/** Asserts a hash instance has not been destroyed / finished */\nexport function aexists(instance, checkFinished = true) {\n    if (instance.destroyed)\n        throw new Error('Hash instance has been destroyed');\n    if (checkFinished && instance.finished)\n        throw new Error('Hash#digest() has already been called');\n}\n/** Asserts output is properly-sized byte array */\nexport function aoutput(out, instance) {\n    abytes(out, undefined, 'digestInto() output');\n    const min = instance.outputLen;\n    if (out.length < min) {\n        throw new Error('\"digestInto() output\" expected to be of length >=' + min);\n    }\n}\n/** Cast u8 / u16 / u32 to u8. */\nexport function u8(arr) {\n    return new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\n}\n/** Cast u8 / u16 / u32 to u32. */\nexport function u32(arr) {\n    return new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n}\n/** Zeroize a byte array. Warning: JS provides no guarantees. */\nexport function clean(...arrays) {\n    for (let i = 0; i < arrays.length; i++) {\n        arrays[i].fill(0);\n    }\n}\n/** Create DataView of an array for easy byte-level manipulation. */\nexport function createView(arr) {\n    return new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n}\n/** The rotate right (circular right shift) operation for uint32 */\nexport function rotr(word, shift) {\n    return (word << (32 - shift)) | (word >>> shift);\n}\n/** The rotate left (circular left shift) operation for uint32 */\nexport function rotl(word, shift) {\n    return (word << shift) | ((word >>> (32 - shift)) >>> 0);\n}\n/** Is current platform little-endian? Most are. Big-Endian platform: IBM */\nexport const isLE = /* @__PURE__ */ (() => new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44)();\n/** The byte swap operation for uint32 */\nexport function byteSwap(word) {\n    return (((word << 24) & 0xff000000) |\n        ((word << 8) & 0xff0000) |\n        ((word >>> 8) & 0xff00) |\n        ((word >>> 24) & 0xff));\n}\n/** Conditionally byte swap if on a big-endian platform */\nexport const swap8IfBE = isLE\n    ? (n) => n\n    : (n) => byteSwap(n);\n/** In place byte swap for Uint32Array */\nexport function byteSwap32(arr) {\n    for (let i = 0; i < arr.length; i++) {\n        arr[i] = byteSwap(arr[i]);\n    }\n    return arr;\n}\nexport const swap32IfBE = isLE\n    ? (u) => u\n    : byteSwap32;\n// Built-in hex conversion https://caniuse.com/mdn-javascript_builtins_uint8array_fromhex\nconst hasHexBuiltin = /* @__PURE__ */ (() => \n// @ts-ignore\ntypeof Uint8Array.from([]).toHex === 'function' && typeof Uint8Array.fromHex === 'function')();\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\n/**\n * Convert byte array to hex string. Uses built-in function, when available.\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes) {\n    abytes(bytes);\n    // @ts-ignore\n    if (hasHexBuiltin)\n        return bytes.toHex();\n    // pre-caching improves the speed 6x\n    let hex = '';\n    for (let i = 0; i < bytes.length; i++) {\n        hex += hexes[bytes[i]];\n    }\n    return hex;\n}\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, A: 65, F: 70, a: 97, f: 102 };\nfunction asciiToBase16(ch) {\n    if (ch >= asciis._0 && ch <= asciis._9)\n        return ch - asciis._0; // '2' => 50-48\n    if (ch >= asciis.A && ch <= asciis.F)\n        return ch - (asciis.A - 10); // 'B' => 66-(65-10)\n    if (ch >= asciis.a && ch <= asciis.f)\n        return ch - (asciis.a - 10); // 'b' => 98-(97-10)\n    return;\n}\n/**\n * Convert hex string to byte array. Uses built-in function, when available.\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    // @ts-ignore\n    if (hasHexBuiltin)\n        return Uint8Array.fromHex(hex);\n    const hl = hex.length;\n    const al = hl / 2;\n    if (hl % 2)\n        throw new Error('hex string expected, got unpadded hex of length ' + hl);\n    const array = new Uint8Array(al);\n    for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n        const n1 = asciiToBase16(hex.charCodeAt(hi));\n        const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n        if (n1 === undefined || n2 === undefined) {\n            const char = hex[hi] + hex[hi + 1];\n            throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n        }\n        array[ai] = n1 * 16 + n2; // multiply first octet, e.g. 'a3' => 10*16+3 => 160 + 3 => 163\n    }\n    return array;\n}\n/**\n * There is no setImmediate in browser and setTimeout is slow.\n * Call of async fn will return Promise, which will be fullfiled only on\n * next scheduler queue processing step and this is exactly what we need.\n */\nexport const nextTick = async () => { };\n/** Returns control to thread each 'tick' ms to avoid blocking. */\nexport async function asyncLoop(iters, tick, cb) {\n    let ts = Date.now();\n    for (let i = 0; i < iters; i++) {\n        cb(i);\n        // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n        const diff = Date.now() - ts;\n        if (diff >= 0 && diff < tick)\n            continue;\n        await nextTick();\n        ts += diff;\n    }\n}\n/**\n * Converts string to bytes using UTF8 encoding.\n * Built-in doesn't validate input to be string: we do the check.\n * @example utf8ToBytes('abc') // Uint8Array.from([97, 98, 99])\n */\nexport function utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error('string expected');\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n/**\n * Helper for KDFs: consumes uint8array or string.\n * When string is passed, does utf8 decoding, using TextDecoder.\n */\nexport function kdfInputToBytes(data, errorTitle = '') {\n    if (typeof data === 'string')\n        return utf8ToBytes(data);\n    return abytes(data, undefined, errorTitle);\n}\n/** Copies several Uint8Arrays into one. */\nexport function concatBytes(...arrays) {\n    let sum = 0;\n    for (let i = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        abytes(a);\n        sum += a.length;\n    }\n    const res = new Uint8Array(sum);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        res.set(a, pad);\n        pad += a.length;\n    }\n    return res;\n}\n/** Merges default options and passed options. */\nexport function checkOpts(defaults, opts) {\n    if (opts !== undefined && {}.toString.call(opts) !== '[object Object]')\n        throw new Error('options must be object or undefined');\n    const merged = Object.assign(defaults, opts);\n    return merged;\n}\n/** Creates function with outputLen, blockLen, create properties from a class constructor. */\nexport function createHasher(hashCons, info = {}) {\n    const hashC = (msg, opts) => hashCons(opts).update(msg).digest();\n    const tmp = hashCons(undefined);\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    Object.assign(hashC, info);\n    return Object.freeze(hashC);\n}\n/** Cryptographically secure PRNG. Uses internal OS-level `crypto.getRandomValues`. */\nexport function randomBytes(bytesLength = 32) {\n    const cr = typeof globalThis === 'object' ? globalThis.crypto : null;\n    if (typeof cr?.getRandomValues !== 'function')\n        throw new Error('crypto.getRandomValues must be defined');\n    return cr.getRandomValues(new Uint8Array(bytesLength));\n}\n/** Creates OID opts for NIST hashes, with prefix 06 09 60 86 48 01 65 03 04 02. */\nexport const oidNist = (suffix) => ({\n    oid: Uint8Array.from([0x06, 0x09, 0x60, 0x86, 0x48, 0x01, 0x65, 0x03, 0x04, 0x02, suffix]),\n});\n//# sourceMappingURL=utils.js.map","/**\n * SHA3 (keccak) hash function, based on a new \"Sponge function\" design.\n * Different from older hashes, the internal state is bigger than output size.\n *\n * Check out [FIPS-202](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.202.pdf),\n * [Website](https://keccak.team/keccak.html),\n * [the differences between SHA-3 and Keccak](https://crypto.stackexchange.com/questions/15727/what-are-the-key-differences-between-the-draft-sha-3-standard-and-the-keccak-sub).\n *\n * Check out `sha3-addons` module for cSHAKE, k12, and others.\n * @module\n */\nimport { rotlBH, rotlBL, rotlSH, rotlSL, split } from \"./_u64.js\";\n// prettier-ignore\nimport { abytes, aexists, anumber, aoutput, clean, createHasher, oidNist, swap32IfBE, u32 } from \"./utils.js\";\n// No __PURE__ annotations in sha3 header:\n// EVERYTHING is in fact used on every export.\n// Various per round constants calculations\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst _7n = BigInt(7);\nconst _256n = BigInt(256);\nconst _0x71n = BigInt(0x71);\nconst SHA3_PI = [];\nconst SHA3_ROTL = [];\nconst _SHA3_IOTA = []; // no pure annotation: var is always used\nfor (let round = 0, R = _1n, x = 1, y = 0; round < 24; round++) {\n    // Pi\n    [x, y] = [y, (2 * x + 3 * y) % 5];\n    SHA3_PI.push(2 * (5 * y + x));\n    // Rotational\n    SHA3_ROTL.push((((round + 1) * (round + 2)) / 2) % 64);\n    // Iota\n    let t = _0n;\n    for (let j = 0; j < 7; j++) {\n        R = ((R << _1n) ^ ((R >> _7n) * _0x71n)) % _256n;\n        if (R & _2n)\n            t ^= _1n << ((_1n << BigInt(j)) - _1n);\n    }\n    _SHA3_IOTA.push(t);\n}\nconst IOTAS = split(_SHA3_IOTA, true);\nconst SHA3_IOTA_H = IOTAS[0];\nconst SHA3_IOTA_L = IOTAS[1];\n// Left rotation (without 0, 32, 64)\nconst rotlH = (h, l, s) => (s > 32 ? rotlBH(h, l, s) : rotlSH(h, l, s));\nconst rotlL = (h, l, s) => (s > 32 ? rotlBL(h, l, s) : rotlSL(h, l, s));\n/** `keccakf1600` internal function, additionally allows to adjust round count. */\nexport function keccakP(s, rounds = 24) {\n    const B = new Uint32Array(5 * 2);\n    // NOTE: all indices are x2 since we store state as u32 instead of u64 (bigints to slow in js)\n    for (let round = 24 - rounds; round < 24; round++) {\n        // Theta \n        for (let x = 0; x < 10; x++)\n            B[x] = s[x] ^ s[x + 10] ^ s[x + 20] ^ s[x + 30] ^ s[x + 40];\n        for (let x = 0; x < 10; x += 2) {\n            const idx1 = (x + 8) % 10;\n            const idx0 = (x + 2) % 10;\n            const B0 = B[idx0];\n            const B1 = B[idx0 + 1];\n            const Th = rotlH(B0, B1, 1) ^ B[idx1];\n            const Tl = rotlL(B0, B1, 1) ^ B[idx1 + 1];\n            for (let y = 0; y < 50; y += 10) {\n                s[x + y] ^= Th;\n                s[x + y + 1] ^= Tl;\n            }\n        }\n        // Rho () and Pi ()\n        let curH = s[2];\n        let curL = s[3];\n        for (let t = 0; t < 24; t++) {\n            const shift = SHA3_ROTL[t];\n            const Th = rotlH(curH, curL, shift);\n            const Tl = rotlL(curH, curL, shift);\n            const PI = SHA3_PI[t];\n            curH = s[PI];\n            curL = s[PI + 1];\n            s[PI] = Th;\n            s[PI + 1] = Tl;\n        }\n        // Chi ()\n        for (let y = 0; y < 50; y += 10) {\n            for (let x = 0; x < 10; x++)\n                B[x] = s[y + x];\n            for (let x = 0; x < 10; x++)\n                s[y + x] ^= ~B[(x + 2) % 10] & B[(x + 4) % 10];\n        }\n        // Iota ()\n        s[0] ^= SHA3_IOTA_H[round];\n        s[1] ^= SHA3_IOTA_L[round];\n    }\n    clean(B);\n}\n/** Keccak sponge function. */\nexport class Keccak {\n    state;\n    pos = 0;\n    posOut = 0;\n    finished = false;\n    state32;\n    destroyed = false;\n    blockLen;\n    suffix;\n    outputLen;\n    enableXOF = false;\n    rounds;\n    // NOTE: we accept arguments in bytes instead of bits here.\n    constructor(blockLen, suffix, outputLen, enableXOF = false, rounds = 24) {\n        this.blockLen = blockLen;\n        this.suffix = suffix;\n        this.outputLen = outputLen;\n        this.enableXOF = enableXOF;\n        this.rounds = rounds;\n        // Can be passed from user as dkLen\n        anumber(outputLen, 'outputLen');\n        // 1600 = 5x5 matrix of 64bit.  1600 bits === 200 bytes\n        // 0 < blockLen < 200\n        if (!(0 < blockLen && blockLen < 200))\n            throw new Error('only keccak-f1600 function is supported');\n        this.state = new Uint8Array(200);\n        this.state32 = u32(this.state);\n    }\n    clone() {\n        return this._cloneInto();\n    }\n    keccak() {\n        swap32IfBE(this.state32);\n        keccakP(this.state32, this.rounds);\n        swap32IfBE(this.state32);\n        this.posOut = 0;\n        this.pos = 0;\n    }\n    update(data) {\n        aexists(this);\n        abytes(data);\n        const { blockLen, state } = this;\n        const len = data.length;\n        for (let pos = 0; pos < len;) {\n            const take = Math.min(blockLen - this.pos, len - pos);\n            for (let i = 0; i < take; i++)\n                state[this.pos++] ^= data[pos++];\n            if (this.pos === blockLen)\n                this.keccak();\n        }\n        return this;\n    }\n    finish() {\n        if (this.finished)\n            return;\n        this.finished = true;\n        const { state, suffix, pos, blockLen } = this;\n        // Do the padding\n        state[pos] ^= suffix;\n        if ((suffix & 0x80) !== 0 && pos === blockLen - 1)\n            this.keccak();\n        state[blockLen - 1] ^= 0x80;\n        this.keccak();\n    }\n    writeInto(out) {\n        aexists(this, false);\n        abytes(out);\n        this.finish();\n        const bufferOut = this.state;\n        const { blockLen } = this;\n        for (let pos = 0, len = out.length; pos < len;) {\n            if (this.posOut >= blockLen)\n                this.keccak();\n            const take = Math.min(blockLen - this.posOut, len - pos);\n            out.set(bufferOut.subarray(this.posOut, this.posOut + take), pos);\n            this.posOut += take;\n            pos += take;\n        }\n        return out;\n    }\n    xofInto(out) {\n        // Sha3/Keccak usage with XOF is probably mistake, only SHAKE instances can do XOF\n        if (!this.enableXOF)\n            throw new Error('XOF is not possible for this instance');\n        return this.writeInto(out);\n    }\n    xof(bytes) {\n        anumber(bytes);\n        return this.xofInto(new Uint8Array(bytes));\n    }\n    digestInto(out) {\n        aoutput(out, this);\n        if (this.finished)\n            throw new Error('digest() was already called');\n        this.writeInto(out);\n        this.destroy();\n        return out;\n    }\n    digest() {\n        return this.digestInto(new Uint8Array(this.outputLen));\n    }\n    destroy() {\n        this.destroyed = true;\n        clean(this.state);\n    }\n    _cloneInto(to) {\n        const { blockLen, suffix, outputLen, rounds, enableXOF } = this;\n        to ||= new Keccak(blockLen, suffix, outputLen, enableXOF, rounds);\n        to.state32.set(this.state32);\n        to.pos = this.pos;\n        to.posOut = this.posOut;\n        to.finished = this.finished;\n        to.rounds = rounds;\n        // Suffix can change in cSHAKE\n        to.suffix = suffix;\n        to.outputLen = outputLen;\n        to.enableXOF = enableXOF;\n        to.destroyed = this.destroyed;\n        return to;\n    }\n}\nconst genKeccak = (suffix, blockLen, outputLen, info = {}) => createHasher(() => new Keccak(blockLen, suffix, outputLen), info);\n/** SHA3-224 hash function. */\nexport const sha3_224 = /* @__PURE__ */ genKeccak(0x06, 144, 28, \n/* @__PURE__ */ oidNist(0x07));\n/** SHA3-256 hash function. Different from keccak-256. */\nexport const sha3_256 = /* @__PURE__ */ genKeccak(0x06, 136, 32, \n/* @__PURE__ */ oidNist(0x08));\n/** SHA3-384 hash function. */\nexport const sha3_384 = /* @__PURE__ */ genKeccak(0x06, 104, 48, \n/* @__PURE__ */ oidNist(0x09));\n/** SHA3-512 hash function. */\nexport const sha3_512 = /* @__PURE__ */ genKeccak(0x06, 72, 64, \n/* @__PURE__ */ oidNist(0x0a));\n/** keccak-224 hash function. */\nexport const keccak_224 = /* @__PURE__ */ genKeccak(0x01, 144, 28);\n/** keccak-256 hash function. Different from SHA3-256. */\nexport const keccak_256 = /* @__PURE__ */ genKeccak(0x01, 136, 32);\n/** keccak-384 hash function. */\nexport const keccak_384 = /* @__PURE__ */ genKeccak(0x01, 104, 48);\n/** keccak-512 hash function. */\nexport const keccak_512 = /* @__PURE__ */ genKeccak(0x01, 72, 64);\nconst genShake = (suffix, blockLen, outputLen, info = {}) => createHasher((opts = {}) => new Keccak(blockLen, suffix, opts.dkLen === undefined ? outputLen : opts.dkLen, true), info);\n/** SHAKE128 XOF with 128-bit security. */\nexport const shake128 = \n/* @__PURE__ */\ngenShake(0x1f, 168, 16, /* @__PURE__ */ oidNist(0x0b));\n/** SHAKE256 XOF with 256-bit security. */\nexport const shake256 = \n/* @__PURE__ */\ngenShake(0x1f, 136, 32, /* @__PURE__ */ oidNist(0x0c));\n/** SHAKE128 XOF with 256-bit output (NIST version). */\nexport const shake128_32 = \n/* @__PURE__ */\ngenShake(0x1f, 168, 32, /* @__PURE__ */ oidNist(0x0b));\n/** SHAKE256 XOF with 512-bit output (NIST version). */\nexport const shake256_64 = \n/* @__PURE__ */\ngenShake(0x1f, 136, 64, /* @__PURE__ */ oidNist(0x0c));\n//# sourceMappingURL=sha3.js.map","/**\n * Core type definitions for the NEAR client library\n */\nexport var KeyType;\n(function (KeyType) {\n    KeyType[KeyType[\"ED25519\"] = 0] = \"ED25519\";\n    KeyType[KeyType[\"SECP256K1\"] = 1] = \"SECP256K1\";\n})(KeyType || (KeyType = {}));\n//# sourceMappingURL=types.js.map","/**\n * NEP-616 StateInit utilities for deterministic account IDs\n *\n * This module provides utilities for working with NEP-616 Deterministic AccountIds.\n * These account IDs are derived from the contract initialization state using the formula:\n * `\"0s\" + hex(keccak256(borsh(state_init))[12..32])`\n *\n * @see https://github.com/near/NEPs/pull/616\n */\nimport { keccak_256 } from \"@noble/hashes/sha3.js\";\nimport { base58, hex } from \"@scure/base\";\nimport { b } from \"@zorsh/zorsh\";\n// ==================== Helper Functions ====================\n/**\n * Parse and validate a code hash from either base58 string or Uint8Array\n *\n * @param codeHash - Code hash as base58 string or Uint8Array\n * @returns Validated 32-byte hash as Uint8Array\n * @throws Error if base58 is invalid or hash is not 32 bytes\n */\nexport function parseCodeHash(codeHash) {\n    let hashBytes;\n    if (typeof codeHash === \"string\") {\n        try {\n            hashBytes = base58.decode(codeHash);\n        }\n        catch {\n            throw new Error(`Invalid base58 code hash: ${codeHash}`);\n        }\n    }\n    else {\n        hashBytes = codeHash;\n    }\n    if (hashBytes.length !== 32) {\n        throw new Error(`Code hash must be 32 bytes, got ${hashBytes.length} bytes`);\n    }\n    return hashBytes;\n}\n// ==================== Borsh Schemas for StateInit ====================\n/**\n * GlobalContractIdentifier enum for Borsh serialization\n * 0 = CodeHash (32-byte hash)\n * 1 = AccountId (string)\n */\nconst GlobalContractIdentifierSchema = b.enum({\n    CodeHash: b.array(b.u8(), 32),\n    AccountId: b.string(),\n});\n/**\n * StateInitV1 struct for Borsh serialization\n */\nconst StateInitV1Schema = b.struct({\n    code: GlobalContractIdentifierSchema,\n    data: b.hashMap(b.bytes(), b.bytes()),\n});\n/**\n * StateInit enum (versioned) for Borsh serialization\n */\nconst StateInitSchema = b.enum({\n    V1: StateInitV1Schema,\n});\n/**\n * Create a StateInit object from options\n *\n * @param options - StateInit configuration\n * @returns StateInit object\n */\nexport function createStateInit(options) {\n    let code;\n    if (\"accountId\" in options.code) {\n        code = { type: \"accountId\", accountId: options.code.accountId };\n    }\n    else {\n        const hashBytes = parseCodeHash(options.code.codeHash);\n        code = { type: \"codeHash\", hash: hashBytes };\n    }\n    return {\n        code,\n        data: options.data ?? new Map(),\n    };\n}\n/**\n * Serialize a StateInit to Borsh bytes\n *\n * @param stateInit - StateInit object to serialize\n * @returns Borsh-serialized bytes\n */\nexport function serializeStateInit(stateInit) {\n    let codeIdentifier;\n    if (stateInit.code.type === \"accountId\") {\n        codeIdentifier = { AccountId: stateInit.code.accountId };\n    }\n    else {\n        codeIdentifier = { CodeHash: Array.from(stateInit.code.hash) };\n    }\n    // Sort the data map by keys to ensure deterministic serialization\n    // NEP-616 specifies BTreeMap which has sorted order, but JavaScript Map\n    // maintains insertion order. We must sort to ensure the same key-value pairs\n    // produce the same account ID regardless of insertion order.\n    const sortedData = new Map(Array.from(stateInit.data.entries()).sort((a, b) => {\n        const [keyA] = a;\n        const [keyB] = b;\n        // Compare byte-by-byte\n        for (let i = 0; i < Math.min(keyA.length, keyB.length); i++) {\n            const byteA = keyA[i];\n            const byteB = keyB[i];\n            if (byteA !== undefined && byteB !== undefined && byteA !== byteB) {\n                return byteA - byteB;\n            }\n        }\n        // If all bytes match, shorter key comes first\n        return keyA.length - keyB.length;\n    }));\n    return StateInitSchema.serialize({\n        V1: {\n            code: codeIdentifier,\n            data: sortedData,\n        },\n    });\n}\n/**\n * Derive a deterministic account ID from a StateInit according to NEP-616.\n *\n * The account ID is derived as: `\"0s\" + hex(keccak256(borsh(state_init))[12..32])`\n *\n * This produces a 42-character account ID that:\n * - Starts with \"0s\" prefix (distinguishes from Ethereum implicit accounts \"0x\")\n * - Followed by 40 hex characters (20 bytes from the keccak256 hash)\n *\n * @param stateInit - StateInit object or options to create one\n * @returns The deterministically derived account ID\n *\n * @example\n * ```typescript\n * // From a global contract by account ID\n * const accountId = deriveAccountId({\n *   code: { accountId: \"publisher.near\" },\n * })\n * // => \"0s1234567890abcdef1234567890abcdef12345678\"\n *\n * // From a global contract by code hash\n * const accountId = deriveAccountId({\n *   code: { codeHash: hashBytes },\n * })\n *\n * // With initial storage data\n * const accountId = deriveAccountId({\n *   code: { accountId: \"publisher.near\" },\n *   data: new Map([[key1, value1], [key2, value2]]),\n * })\n * ```\n */\nexport function deriveAccountId(options) {\n    const stateInit = createStateInit(options);\n    const serialized = serializeStateInit(stateInit);\n    const hash = keccak_256(serialized);\n    // Take last 20 bytes (indices 12-32) of the hash\n    const suffix = hash.slice(12, 32);\n    return `0s${hex.encode(suffix)}`;\n}\n/**\n * Verify that an account ID matches the expected deterministic derivation from a StateInit.\n *\n * @param accountId - The account ID to verify\n * @param options - StateInit options to derive the expected account ID from\n * @returns true if the account ID matches the derivation, false otherwise\n *\n * @example\n * ```typescript\n * const isValid = verifyDeterministicAccountId(\n *   \"0s1234567890abcdef1234567890abcdef12345678\",\n *   { code: { accountId: \"publisher.near\" } }\n * )\n * ```\n */\nexport function verifyDeterministicAccountId(accountId, options) {\n    const expected = deriveAccountId(options);\n    return accountId === expected;\n}\n/**\n * Check if an account ID is a deterministic account ID (NEP-616).\n *\n * Deterministic account IDs start with \"0s\" followed by 40 hex characters.\n *\n * @param accountId - The account ID to check\n * @returns true if it's a deterministic account ID, false otherwise\n *\n * @example\n * ```typescript\n * isDeterministicAccountId(\"0s1234567890abcdef1234567890abcdef12345678\") // true\n * isDeterministicAccountId(\"alice.near\") // false\n * isDeterministicAccountId(\"0x1234567890abcdef1234567890abcdef12345678\") // false (Ethereum)\n * ```\n */\nexport function isDeterministicAccountId(accountId) {\n    // Must be exactly 42 characters: \"0s\" + 40 hex chars\n    if (accountId.length !== 42) {\n        return false;\n    }\n    // Must start with \"0s\"\n    if (!accountId.startsWith(\"0s\")) {\n        return false;\n    }\n    // Rest must be valid hex\n    const hexPart = accountId.slice(2);\n    return /^[0-9a-f]+$/.test(hexPart);\n}\n//# sourceMappingURL=state-init.js.map","/**\n * Borsh serialization schemas for NEAR transactions using Zorsh\n * Based on NEAR Protocol specification and near-api-js implementation\n *\n * This module handles the low-level binary serialization details and keeps\n * all Zorsh-specific types internal. External code should only use the\n * serializeTransaction and serializeSignedTransaction functions.\n */\nimport { base64 } from \"@scure/base\";\nimport { b } from \"@zorsh/zorsh\";\n// ==================== NEP-461 Prefix ====================\n/**\n * Prefix for delegate actions (NEP-366 meta transactions)\n * Value: 2^30 + 366 = 1073742190\n *\n * This prefix is prepended to DelegateAction when serializing for signing,\n * ensuring delegate action signatures are always distinguishable from\n * transaction signatures.\n */\nexport const DELEGATE_ACTION_PREFIX = 1073742190;\n// ==================== Public Key ====================\n/**\n * Ed25519 public key data (32 bytes)\n */\nconst Ed25519KeySchema = b.struct({\n    data: b.array(b.u8(), 32),\n});\n/**\n * Secp256k1 public key data (64 bytes)\n */\nconst Secp256k1KeySchema = b.struct({\n    data: b.array(b.u8(), 64),\n});\n/**\n * PublicKey enum (0 = Ed25519, 1 = Secp256k1)\n */\nexport const PublicKeySchema = b.enum({\n    ed25519Key: Ed25519KeySchema,\n    secp256k1Key: Secp256k1KeySchema,\n});\n// ==================== Signature ====================\n/**\n * Ed25519 signature data (64 bytes)\n */\nconst Ed25519SignatureSchema = b.struct({\n    data: b.array(b.u8(), 64),\n});\n/**\n * Secp256k1 signature data (65 bytes)\n */\nconst Secp256k1SignatureSchema = b.struct({\n    data: b.array(b.u8(), 65),\n});\n/**\n * Signature enum (0 = Ed25519, 1 = Secp256k1)\n */\nexport const SignatureSchema = b.enum({\n    ed25519Signature: Ed25519SignatureSchema,\n    secp256k1Signature: Secp256k1SignatureSchema,\n});\n// ==================== Access Key Permissions ====================\n/**\n * Function call permission with optional allowance\n */\nconst FunctionCallPermissionSchema = b.struct({\n    allowance: b.option(b.u128()),\n    receiverId: b.string(),\n    methodNames: b.vec(b.string()),\n});\n/**\n * Full access permission (empty struct)\n */\nconst FullAccessPermissionSchema = b.struct({});\n/**\n * AccessKeyPermission enum (0 = FunctionCall, 1 = FullAccess)\n */\nconst AccessKeyPermissionSchema = b.enum({\n    functionCall: FunctionCallPermissionSchema,\n    fullAccess: FullAccessPermissionSchema,\n});\n/**\n * Access key with nonce and permission\n */\nconst AccessKeySchema = b.struct({\n    nonce: b.u64(),\n    permission: AccessKeyPermissionSchema,\n});\n// ==================== Transaction Actions ====================\n/**\n * CreateAccount action (empty struct)\n */\nconst CreateAccountSchema = b.struct({});\n/**\n * DeployContract action with WASM code\n */\nconst DeployContractSchema = b.struct({\n    code: b.vec(b.u8()),\n});\n/**\n * FunctionCall action\n * Field order: methodName, args, gas, deposit\n */\nconst FunctionCallSchema = b.struct({\n    methodName: b.string(),\n    args: b.vec(b.u8()),\n    gas: b.u64(),\n    deposit: b.u128(),\n});\n/**\n * Transfer action with deposit amount\n */\nconst TransferSchema = b.struct({\n    deposit: b.u128(),\n});\n/**\n * Stake action with amount and validator public key\n */\nconst StakeSchema = b.struct({\n    stake: b.u128(),\n    publicKey: PublicKeySchema,\n});\n/**\n * AddKey action to add a new access key\n */\nconst AddKeySchema = b.struct({\n    publicKey: PublicKeySchema,\n    accessKey: AccessKeySchema,\n});\n/**\n * DeleteKey action to remove an access key\n */\nconst DeleteKeySchema = b.struct({\n    publicKey: PublicKeySchema,\n});\n/**\n * DeleteAccount action with beneficiary\n */\nconst DeleteAccountSchema = b.struct({\n    beneficiaryId: b.string(),\n});\n// ==================== Global Contract Actions ====================\n/**\n * GlobalContractDeployMode enum\n * 0 = CodeHash (deploy by code hash)\n * 1 = AccountId (deploy by account ID)\n */\nconst GlobalContractDeployModeSchema = b.enum({\n    CodeHash: b.struct({}),\n    AccountId: b.struct({}),\n});\n/**\n * GlobalContractIdentifier enum\n * 0 = CodeHash (32-byte hash)\n * 1 = AccountId (string)\n */\nconst GlobalContractIdentifierSchema = b.enum({\n    CodeHash: b.array(b.u8(), 32),\n    AccountId: b.string(),\n});\n/**\n * DeployGlobalContract action\n */\nconst DeployGlobalContractSchema = b.struct({\n    code: b.vec(b.u8()),\n    deployMode: GlobalContractDeployModeSchema,\n});\n/**\n * UseGlobalContract action\n */\nconst UseGlobalContractSchema = b.struct({\n    contractIdentifier: GlobalContractIdentifierSchema,\n});\n// ==================== NEP-616 Deterministic Account (StateInit) Actions ====================\n/**\n * DeterministicAccountStateInitV1 struct\n * Contains the initialization state for a deterministic account\n */\nconst DeterministicAccountStateInitV1Schema = b.struct({\n    code: GlobalContractIdentifierSchema,\n    data: b.hashMap(b.bytes(), b.bytes()),\n});\n/**\n * DeterministicAccountStateInit enum (versioned)\n * V1 is the first version\n */\nconst DeterministicAccountStateInitSchema = b.enum({\n    V1: DeterministicAccountStateInitV1Schema,\n});\n/**\n * DeterministicStateInit action (NEP-616)\n * Used to deploy a contract with a deterministically derived account ID\n */\nconst DeterministicStateInitSchema = b.struct({\n    stateInit: DeterministicAccountStateInitSchema,\n    deposit: b.u128(),\n});\n// ==================== Delegate Actions ====================\n/**\n * ClassicActions enum - same as Action but without SignedDelegate\n * Used within DelegateAction to prevent infinite recursion\n * Note: The discriminant values must match the NEAR protocol spec\n */\nconst ClassicActionsSchema = b.enum({\n    createAccount: CreateAccountSchema,\n    deployContract: DeployContractSchema,\n    functionCall: FunctionCallSchema,\n    transfer: TransferSchema,\n    stake: StakeSchema,\n    addKey: AddKeySchema,\n    deleteKey: DeleteKeySchema,\n    deleteAccount: DeleteAccountSchema,\n    deployGlobalContract: DeployGlobalContractSchema,\n    useGlobalContract: UseGlobalContractSchema,\n    deterministicStateInit: DeterministicStateInitSchema,\n});\n/**\n * DelegateAction for meta-transactions\n * Allows one account to sign a transaction on behalf of another\n */\nconst DelegateActionSchema = b.struct({\n    senderId: b.string(),\n    receiverId: b.string(),\n    actions: b.vec(ClassicActionsSchema),\n    nonce: b.u64(),\n    maxBlockHeight: b.u64(),\n    publicKey: PublicKeySchema,\n});\n/**\n * SignedDelegate - a delegate action with signature\n */\nconst SignedDelegateSchema = b.struct({\n    delegateAction: DelegateActionSchema,\n    signature: SignatureSchema,\n});\n/**\n * Action enum matching NEAR protocol action discriminants\n * Order matters! Each position corresponds to the action type index:\n * 0 = CreateAccount\n * 1 = DeployContract\n * 2 = FunctionCall\n * 3 = Transfer\n * 4 = Stake\n * 5 = AddKey\n * 6 = DeleteKey\n * 7 = DeleteAccount\n * 8 = SignedDelegate\n * 9 = DeployGlobalContract\n * 10 = UseGlobalContract\n * 11 = DeterministicStateInit (NEP-616)\n */\nexport const ActionSchema = b.enum({\n    createAccount: CreateAccountSchema,\n    deployContract: DeployContractSchema,\n    functionCall: FunctionCallSchema,\n    transfer: TransferSchema,\n    stake: StakeSchema,\n    addKey: AddKeySchema,\n    deleteKey: DeleteKeySchema,\n    deleteAccount: DeleteAccountSchema,\n    signedDelegate: SignedDelegateSchema,\n    deployGlobalContract: DeployGlobalContractSchema,\n    useGlobalContract: UseGlobalContractSchema,\n    deterministicStateInit: DeterministicStateInitSchema,\n});\nexport { DeterministicAccountStateInitSchema, DeterministicAccountStateInitV1Schema, };\n// ==================== Transaction ====================\n/**\n * Transaction schema\n * Field order: signerId, publicKey, nonce, receiverId, blockHash, actions\n */\nexport const TransactionSchema = b.struct({\n    signerId: b.string(),\n    publicKey: PublicKeySchema,\n    nonce: b.u64(),\n    receiverId: b.string(),\n    blockHash: b.array(b.u8(), 32),\n    actions: b.vec(ActionSchema),\n});\n/**\n * SignedTransaction schema\n */\nexport const SignedTransactionSchema = b.struct({\n    transaction: TransactionSchema,\n    signature: SignatureSchema,\n});\n// ==================== Serialization Helpers ====================\n/**\n * Convert DelegateAction to zorsh-compatible format\n */\nfunction delegateActionToZorsh(delegateAction) {\n    return {\n        senderId: delegateAction.senderId,\n        receiverId: delegateAction.receiverId,\n        actions: delegateAction.actions,\n        nonce: delegateAction.nonce,\n        maxBlockHeight: delegateAction.maxBlockHeight,\n        publicKey: publicKeyToZorsh(delegateAction.publicKey),\n    };\n}\nexport function publicKeyToZorsh(pk) {\n    if (pk.keyType === 0) {\n        // Ed25519\n        return { ed25519Key: { data: Array.from(pk.data) } };\n    }\n    else {\n        // Secp256k1\n        return { secp256k1Key: { data: Array.from(pk.data) } };\n    }\n}\nexport function signatureToZorsh(sig) {\n    if (sig.keyType === 0) {\n        // Ed25519\n        return { ed25519Signature: { data: Array.from(sig.data) } };\n    }\n    else {\n        // Secp256k1\n        return { secp256k1Signature: { data: Array.from(sig.data) } };\n    }\n}\n/**\n * Convert an action to zorsh-compatible format\n * Since action helpers now do conversion, this only handles recursive processing\n * of delegate actions (which contain nested action arrays)\n */\nfunction actionToZorsh(action) {\n    // Only need to recursively process delegate actions\n    if (\"signedDelegate\" in action) {\n        return {\n            signedDelegate: {\n                delegateAction: {\n                    senderId: action.signedDelegate.delegateAction.senderId,\n                    receiverId: action.signedDelegate.delegateAction.receiverId,\n                    // Recursively convert nested actions\n                    actions: action.signedDelegate.delegateAction.actions.map((a) => actionToZorsh(a)),\n                    nonce: action.signedDelegate.delegateAction.nonce,\n                    maxBlockHeight: action.signedDelegate.delegateAction.maxBlockHeight,\n                    publicKey: action.signedDelegate.delegateAction.publicKey,\n                },\n                signature: action.signedDelegate.signature,\n            },\n        };\n    }\n    // All other actions are already in zorsh-compatible format from helpers\n    return action;\n}\n/**\n * Serialize a transaction to bytes\n */\nexport function serializeTransaction(tx) {\n    return TransactionSchema.serialize({\n        signerId: tx.signerId,\n        publicKey: publicKeyToZorsh(tx.publicKey),\n        nonce: tx.nonce,\n        receiverId: tx.receiverId,\n        blockHash: Array.from(tx.blockHash),\n        actions: tx.actions.map(actionToZorsh),\n    });\n}\n/**\n * Serialize a signed transaction to bytes\n */\nexport function serializeSignedTransaction(signedTx) {\n    return SignedTransactionSchema.serialize({\n        transaction: {\n            signerId: signedTx.transaction.signerId,\n            publicKey: publicKeyToZorsh(signedTx.transaction.publicKey),\n            nonce: signedTx.transaction.nonce,\n            receiverId: signedTx.transaction.receiverId,\n            blockHash: Array.from(signedTx.transaction.blockHash),\n            actions: signedTx.transaction.actions.map(actionToZorsh),\n        },\n        signature: signatureToZorsh(signedTx.signature),\n    });\n}\n// ==================== Delegate Action Serialization ====================\n/**\n * Serialize a delegate action for signing\n *\n * Per NEP-461, this prepends a u32 prefix (2^30 + 366) before the delegate action,\n * ensuring signed delegate actions are never identical to signed transactions.\n *\n * Use this to serialize a DelegateAction before signing. The resulting bytes are hashed\n * and signed to create the signature, which is then combined with the DelegateAction\n * using the `signedDelegate()` helper to create a SignedDelegateAction.\n *\n * @param delegateAction - The delegate action to serialize\n * @returns Uint8Array - The prefixed and serialized delegate action\n *\n * @example\n * ```typescript\n * const encoded = serializeDelegateAction(delegateAction)\n * const hash = await crypto.subtle.digest(\"SHA-256\", encoded)\n * const signature = await signer.sign(new Uint8Array(hash))\n * ```\n */\nexport function serializeDelegateAction(delegateAction) {\n    const prefixBytes = b.u32().serialize(DELEGATE_ACTION_PREFIX);\n    const delegateBytes = DelegateActionSchema.serialize(delegateActionToZorsh(delegateAction));\n    const result = new Uint8Array(prefixBytes.length + delegateBytes.length);\n    result.set(prefixBytes, 0);\n    result.set(delegateBytes, prefixBytes.length);\n    return result;\n}\nfunction signedDelegateActionToBytes(signedDelegate) {\n    return SignedDelegateSchema.serialize(signedDelegate.signedDelegate);\n}\nexport function encodeSignedDelegateAction(signedDelegate, format = \"base64\") {\n    const serialized = signedDelegateActionToBytes(signedDelegate);\n    return format === \"base64\" ? base64.encode(serialized) : serialized;\n}\n/**\n * Decode an encoded payload (base64 string or bytes) back into the\n * SignedDelegateAction that `.delegate()` returns.\n */\nexport function decodeSignedDelegateAction(payload) {\n    const bytes = typeof payload === \"string\" ? base64.decode(payload) : payload;\n    return {\n        signedDelegate: SignedDelegateSchema.deserialize(bytes),\n    };\n}\n//# sourceMappingURL=schema.js.map","/**\n * Transaction action factories.\n *\n * Provides low-level, type-safe helpers for creating NEAR transaction actions.\n * Most applications should use {@link TransactionBuilder} rather than calling\n * these functions directly; they are exported for advanced and custom tooling.\n */\nimport { base58 } from \"@scure/base\";\nimport { parseCodeHash } from \"../utils/state-init.js\";\nimport { publicKeyToZorsh, signatureToZorsh } from \"./schema.js\";\n// ==================== Delegate Actions ====================\n/**\n * Delegate action for NEP-366 meta-transactions.\n *\n * Represents a set of classic actions signed by one account to be executed\n * by another (typically a relayer).\n */\nexport class DelegateAction {\n    constructor(senderId, receiverId, actions, nonce, maxBlockHeight, publicKey) {\n        this.senderId = senderId;\n        this.receiverId = receiverId;\n        this.actions = actions;\n        this.nonce = nonce;\n        this.maxBlockHeight = maxBlockHeight;\n        this.publicKey = publicKey;\n    }\n}\n// ==================== Action Factory Functions ====================\n/**\n * Create a transfer action.\n *\n * @param deposit - Amount in yoctoNEAR as bigint.\n */\nexport function transfer(deposit) {\n    return {\n        transfer: { deposit },\n    };\n}\n/**\n * Create a function call action.\n *\n * @param methodName - Contract method name.\n * @param args - Serialized arguments as bytes.\n * @param gas - Gas attached (raw units).\n * @param deposit - Attached deposit in yoctoNEAR.\n */\nexport function functionCall(methodName, args, gas, deposit) {\n    return {\n        functionCall: { methodName, args, gas, deposit },\n    };\n}\n/**\n * Create an account creation action.\n */\nexport function createAccount() {\n    return {\n        createAccount: {},\n    };\n}\n/**\n * Create a delete account action.\n */\nexport function deleteAccount(beneficiaryId) {\n    return {\n        deleteAccount: { beneficiaryId },\n    };\n}\n/**\n * Create a deploy contract action.\n *\n * @param code - WASM bytes of the contract to deploy.\n */\nexport function deployContract(code) {\n    return {\n        deployContract: { code },\n    };\n}\nexport function stake(amount, publicKey) {\n    return {\n        stake: {\n            stake: amount,\n            publicKey: publicKeyToZorsh(publicKey),\n        },\n    };\n}\nexport function addKey(publicKey, permission) {\n    return {\n        addKey: {\n            publicKey: publicKeyToZorsh(publicKey),\n            accessKey: { nonce: BigInt(0), permission },\n        },\n    };\n}\nexport function deleteKey(publicKey) {\n    return {\n        deleteKey: {\n            publicKey: publicKeyToZorsh(publicKey),\n        },\n    };\n}\n/**\n * Publish a global contract that can be reused by multiple accounts.\n *\n * Global contracts are deployed once and referenced by multiple accounts,\n * saving storage costs. Two modes are available:\n *\n * - **\"account\" (default)** - Contract is identified by the signer's account ID. The signer\n *   can update the contract later, and all accounts using it will automatically\n *   use the updated version. Use this when you need to push updates to users.\n *\n * - **\"hash\"** - Contract is identified by its code hash. This creates\n *   an immutable contract that cannot be updated. Other accounts reference it by\n *   the hash. Use this when you want guaranteed immutability.\n *\n * @param code - The compiled contract code bytes (WASM)\n * @param options - Optional configuration\n * @param options.identifiedBy - How the contract is identified and referenced:\n *   - `\"account\"` (default): Updatable by signer, identified by signer's account ID\n *   - `\"hash\"`: Immutable, identified by code hash\n * @returns DeployGlobalContractAction\n *\n * @example\n * ```typescript\n * // Publish updatable contract (identified by your account) - default\n * publishContract(contractCode)\n * publishContract(contractCode, { identifiedBy: \"account\" })\n *\n * // Publish immutable contract (identified by its hash)\n * publishContract(contractCode, { identifiedBy: \"hash\" })\n * ```\n */\nexport function publishContract(code, options) {\n    const deployMode = options?.identifiedBy === \"hash\" ? { CodeHash: {} } : { AccountId: {} };\n    return {\n        deployGlobalContract: {\n            code,\n            deployMode,\n        },\n    };\n}\n/**\n * Deploy a contract to this account from previously published code in the global registry\n *\n * @param reference - Reference to the published contract, either:\n *                    - { codeHash: Uint8Array | string } - Reference by code hash (Uint8Array or base58 string)\n *                    - { accountId: string } - Reference by the account that published it\n * @returns UseGlobalContractAction\n *\n * @example\n * ```typescript\n * // Deploy from code hash (Uint8Array)\n * deployFromPublished({ codeHash: hashBytes })\n *\n * // Deploy from code hash (base58 string)\n * deployFromPublished({ codeHash: \"5FzD8...\" })\n *\n * // Deploy from account ID\n * deployFromPublished({ accountId: \"contract-publisher.near\" })\n * ```\n */\nexport function deployFromPublished(reference) {\n    let contractIdentifier;\n    if (\"accountId\" in reference) {\n        contractIdentifier = { AccountId: reference.accountId };\n    }\n    else {\n        // Handle codeHash - could be string (base58) or Uint8Array\n        const hashBytes = typeof reference.codeHash === \"string\"\n            ? base58.decode(reference.codeHash)\n            : reference.codeHash;\n        // Validate hash is 32 bytes\n        if (hashBytes.length !== 32) {\n            throw new Error(`Code hash must be 32 bytes, got ${hashBytes.length} bytes`);\n        }\n        contractIdentifier = { CodeHash: Array.from(hashBytes) };\n    }\n    return {\n        useGlobalContract: {\n            contractIdentifier,\n        },\n    };\n}\n/**\n * Create a signed delegate action for meta-transactions\n */\nexport function signedDelegate(delegateAction, signature) {\n    return {\n        signedDelegate: {\n            delegateAction: {\n                senderId: delegateAction.senderId,\n                receiverId: delegateAction.receiverId,\n                actions: delegateAction.actions,\n                nonce: delegateAction.nonce,\n                maxBlockHeight: delegateAction.maxBlockHeight,\n                publicKey: publicKeyToZorsh(delegateAction.publicKey),\n            },\n            signature: signatureToZorsh(signature),\n        },\n    };\n}\n/**\n * Create a StateInit action for deploying a contract with a deterministically derived account ID.\n *\n * This enables NEP-616 deterministic AccountIds where the account ID is derived from:\n * `\"0s\" + hex(keccak256(borsh(state_init))[12..32])`\n *\n * @param options - StateInit configuration\n * @returns DeterministicStateInitAction\n *\n * @example\n * ```typescript\n * // Deploy from a published global contract by account ID\n * stateInit({\n *   code: { accountId: \"publisher.near\" },\n *   deposit: BigInt(\"1000000000000000000000000\"), // 1 NEAR\n * })\n *\n * // Deploy from a code hash\n * stateInit({\n *   code: { codeHash: hashBytes },\n *   deposit: BigInt(\"1000000000000000000000000\"),\n * })\n * ```\n */\nexport function stateInit(options) {\n    let codeIdentifier;\n    if (\"accountId\" in options.code) {\n        codeIdentifier = { AccountId: options.code.accountId };\n    }\n    else {\n        const hashBytes = parseCodeHash(options.code.codeHash);\n        codeIdentifier = { CodeHash: Array.from(hashBytes) };\n    }\n    return {\n        deterministicStateInit: {\n            stateInit: {\n                V1: {\n                    code: codeIdentifier,\n                    data: options.data ?? new Map(),\n                },\n            },\n            deposit: options.deposit,\n        },\n    };\n}\n//# sourceMappingURL=actions.js.map","/**\n * Error classes for the NEAR client library.\n *\n * @remarks\n * All errors in this module extend {@link NearError}, which carries a stable\n * `code` string and optional `data` field. Many errors also expose a\n * `retryable` flag to indicate whether the operation is safe to retry.\n */\n/**\n * Base error class for all NEAR-related errors.\n *\n * Provides a stable `code` and optional `data` payload for structured error\n * handling. Concrete error subclasses in this module narrow down specific\n * failure scenarios (network issues, contract panics, invalid transactions, etc.).\n */\nexport class NearError extends Error {\n    constructor(message, code, data) {\n        super(message);\n        this.name = \"NearError\";\n        this.code = code;\n        this.data = data;\n        Object.setPrototypeOf(this, NearError.prototype);\n    }\n}\n/**\n * Thrown when an account has insufficient balance for an operation\n */\nexport class InsufficientBalanceError extends NearError {\n    constructor(required, available) {\n        super(`Insufficient balance: required ${required} NEAR, available ${available} NEAR`, \"INSUFFICIENT_BALANCE\");\n        this.name = \"InsufficientBalanceError\";\n        this.required = required;\n        this.available = available;\n        Object.setPrototypeOf(this, InsufficientBalanceError.prototype);\n    }\n}\n/**\n * Thrown when a contract function call fails\n */\nexport class FunctionCallError extends NearError {\n    constructor(contractId, methodName, panic, logs = []) {\n        const methodPart = methodName ? `.${methodName}` : \"\";\n        const message = panic\n            ? `Contract call failed: ${contractId}${methodPart} - ${panic}`\n            : `Contract call failed: ${contractId}${methodPart}`;\n        super(message, \"FUNCTION_CALL_ERROR\");\n        this.name = \"FunctionCallError\";\n        this.contractId = contractId;\n        if (methodName !== undefined) {\n            this.methodName = methodName;\n        }\n        this.logs = logs;\n        if (panic !== undefined) {\n            this.panic = panic;\n        }\n        Object.setPrototypeOf(this, FunctionCallError.prototype);\n    }\n}\n/**\n * Thrown when a network request fails\n */\nexport class NetworkError extends NearError {\n    constructor(message, statusCode, retryable = true) {\n        super(message, \"NETWORK_ERROR\", { statusCode });\n        this.name = \"NetworkError\";\n        if (statusCode !== undefined) {\n            this.statusCode = statusCode;\n        }\n        this.retryable = retryable;\n        Object.setPrototypeOf(this, NetworkError.prototype);\n    }\n}\n/**\n * Thrown when a key is invalid or malformed\n */\nexport class InvalidKeyError extends NearError {\n    constructor(message) {\n        super(message, \"INVALID_KEY\");\n        this.name = \"InvalidKeyError\";\n        Object.setPrototypeOf(this, InvalidKeyError.prototype);\n    }\n}\n/**\n * Thrown when an account does not exist\n */\nexport class AccountDoesNotExistError extends NearError {\n    constructor(accountId) {\n        super(`Account does not exist: ${accountId}`, \"ACCOUNT_NOT_FOUND\");\n        this.name = \"AccountDoesNotExistError\";\n        this.accountId = accountId;\n        Object.setPrototypeOf(this, AccountDoesNotExistError.prototype);\n    }\n}\n/**\n * Thrown when an access key does not exist\n */\nexport class AccessKeyDoesNotExistError extends NearError {\n    constructor(accountId, publicKey) {\n        super(`Access key does not exist: ${publicKey} for account ${accountId}`, \"ACCESS_KEY_NOT_FOUND\");\n        this.name = \"AccessKeyDoesNotExistError\";\n        this.accountId = accountId;\n        this.publicKey = publicKey;\n        Object.setPrototypeOf(this, AccessKeyDoesNotExistError.prototype);\n    }\n}\n/**\n * Thrown when an account ID is invalid\n */\nexport class InvalidAccountIdError extends NearError {\n    constructor(accountId, reason) {\n        const message = reason\n            ? `Invalid account ID: ${accountId} - ${reason}`\n            : `Invalid account ID: ${accountId}`;\n        super(message, \"INVALID_ACCOUNT_ID\");\n        this.name = \"InvalidAccountIdError\";\n        this.accountId = accountId;\n        Object.setPrototypeOf(this, InvalidAccountIdError.prototype);\n    }\n}\n/**\n * Thrown when transaction signing fails\n */\nexport class SignatureError extends NearError {\n    constructor(message) {\n        super(message, \"SIGNATURE_ERROR\");\n        this.name = \"SignatureError\";\n        Object.setPrototypeOf(this, SignatureError.prototype);\n    }\n}\n/**\n * Thrown when gas limit is exceeded\n */\nexport class GasLimitExceededError extends NearError {\n    constructor(gasUsed, gasLimit) {\n        super(`Gas limit exceeded: used ${gasUsed}, limit ${gasLimit}`, \"GAS_LIMIT_EXCEEDED\");\n        this.name = \"GasLimitExceededError\";\n        this.gasUsed = gasUsed;\n        this.gasLimit = gasLimit;\n        Object.setPrototypeOf(this, GasLimitExceededError.prototype);\n    }\n}\n/**\n * Thrown when a transaction times out\n */\nexport class TransactionTimeoutError extends NearError {\n    constructor(transactionHash) {\n        super(`Transaction timed out: ${transactionHash}`, \"TRANSACTION_TIMEOUT\");\n        this.name = \"TransactionTimeoutError\";\n        this.transactionHash = transactionHash;\n        Object.setPrototypeOf(this, TransactionTimeoutError.prototype);\n    }\n}\n/**\n * Thrown when wallet operations fail\n */\nexport class WalletError extends NearError {\n    constructor(message) {\n        super(message, \"WALLET_ERROR\");\n        this.name = \"WalletError\";\n        Object.setPrototypeOf(this, WalletError.prototype);\n    }\n}\n/**\n * Thrown when a requested block cannot be found\n * Suggests using an archival node for old blocks\n */\nexport class UnknownBlockError extends NearError {\n    constructor(blockReference) {\n        super(`Block not found: ${blockReference}. It may have been garbage-collected. Try an archival node for blocks older than 5 epochs.`, \"UNKNOWN_BLOCK\");\n        this.name = \"UnknownBlockError\";\n        this.blockReference = blockReference;\n        Object.setPrototypeOf(this, UnknownBlockError.prototype);\n    }\n}\n/**\n * Thrown when account ID format is invalid\n */\nexport class InvalidAccountError extends NearError {\n    constructor(accountId) {\n        super(`Invalid account ID format: ${accountId}`, \"INVALID_ACCOUNT\");\n        this.name = \"InvalidAccountError\";\n        this.accountId = accountId;\n        Object.setPrototypeOf(this, InvalidAccountError.prototype);\n    }\n}\n/**\n * Thrown when the requested shard is not available on this node\n */\nexport class ShardUnavailableError extends NearError {\n    constructor(message) {\n        super(message ||\n            \"The requested shard is not tracked by this node. Try a different node.\", \"UNAVAILABLE_SHARD\");\n        this.retryable = true;\n        this.name = \"ShardUnavailableError\";\n        Object.setPrototypeOf(this, ShardUnavailableError.prototype);\n    }\n}\n/**\n * Thrown when the node is still syncing\n */\nexport class NodeNotSyncedError extends NearError {\n    constructor(message) {\n        super(message ||\n            \"Node is still syncing. Wait for sync to complete or try a different node.\", \"NOT_SYNCED\");\n        this.retryable = true;\n        this.name = \"NodeNotSyncedError\";\n        Object.setPrototypeOf(this, NodeNotSyncedError.prototype);\n    }\n}\n/**\n * Thrown when an account has no contract deployed\n */\nexport class ContractNotDeployedError extends NearError {\n    constructor(accountId) {\n        super(`No contract deployed on account: ${accountId}`, \"NO_CONTRACT_CODE\");\n        this.name = \"ContractNotDeployedError\";\n        this.accountId = accountId;\n        Object.setPrototypeOf(this, ContractNotDeployedError.prototype);\n    }\n}\n/**\n * Thrown when contract state is too large to return\n */\nexport class ContractStateTooLargeError extends NearError {\n    constructor(accountId) {\n        super(`Contract state too large (>50kb) for account ${accountId}. Try a node with larger limits.`, \"TOO_LARGE_CONTRACT_STATE\");\n        this.name = \"ContractStateTooLargeError\";\n        this.accountId = accountId;\n        Object.setPrototypeOf(this, ContractStateTooLargeError.prototype);\n    }\n}\n/**\n * Thrown when a view function call execution fails\n */\nexport class ContractExecutionError extends NearError {\n    constructor(contractId, methodName, details) {\n        const message = methodName\n            ? `Contract execution failed: ${contractId}.${methodName}`\n            : `Contract execution failed: ${contractId}`;\n        super(message, \"CONTRACT_EXECUTION_ERROR\", details);\n        this.name = \"ContractExecutionError\";\n        this.contractId = contractId;\n        if (methodName !== undefined) {\n            this.methodName = methodName;\n        }\n        if (details !== undefined) {\n            this.details = details;\n        }\n        Object.setPrototypeOf(this, ContractExecutionError.prototype);\n    }\n}\n/**\n * Thrown when a chunk cannot be found\n */\nexport class UnknownChunkError extends NearError {\n    constructor(chunkReference) {\n        super(`Chunk not found: ${chunkReference}. It may have been garbage-collected. Try an archival node.`, \"UNKNOWN_CHUNK\");\n        this.name = \"UnknownChunkError\";\n        this.chunkReference = chunkReference;\n        Object.setPrototypeOf(this, UnknownChunkError.prototype);\n    }\n}\n/**\n * Thrown when an invalid shard ID is provided\n */\nexport class InvalidShardIdError extends NearError {\n    constructor(shardId) {\n        super(`Invalid shard ID: ${shardId}. Provide a valid shard ID within the network's range.`, \"INVALID_SHARD_ID\");\n        this.name = \"InvalidShardIdError\";\n        this.shardId = shardId;\n        Object.setPrototypeOf(this, InvalidShardIdError.prototype);\n    }\n}\n/**\n * Thrown when an epoch cannot be found\n */\nexport class UnknownEpochError extends NearError {\n    constructor(blockReference) {\n        super(`Epoch not found for block: ${blockReference}. The block may be invalid or too old. Try an archival node.`, \"UNKNOWN_EPOCH\");\n        this.name = \"UnknownEpochError\";\n        this.blockReference = blockReference;\n        Object.setPrototypeOf(this, UnknownEpochError.prototype);\n    }\n}\n/**\n * Thrown when transaction nonce is invalid\n * This happens when a transaction uses a nonce that has already been used\n */\nexport class InvalidNonceError extends NearError {\n    constructor(txNonce, akNonce) {\n        super(`Invalid transaction nonce: transaction nonce ${txNonce} must be greater than access key nonce ${akNonce}`, \"INVALID_NONCE\");\n        this.retryable = true; // Can retry with updated nonce\n        this.name = \"InvalidNonceError\";\n        this.txNonce = txNonce;\n        this.akNonce = akNonce;\n        Object.setPrototypeOf(this, InvalidNonceError.prototype);\n    }\n}\n/**\n * Thrown when a transaction is invalid\n * Check details for specific reasons like ShardCongested or ShardStuck\n */\nexport class InvalidTransactionError extends NearError {\n    constructor(message, details) {\n        super(message, \"INVALID_TRANSACTION\", details);\n        this.name = \"InvalidTransactionError\";\n        this.details = details;\n        // Check if this is a retryable transaction error\n        const detailsObj = details;\n        this.shardCongested = !!detailsObj?.ShardCongested;\n        this.shardStuck = !!detailsObj?.ShardStuck;\n        this.retryable = this.shardCongested || this.shardStuck;\n        Object.setPrototypeOf(this, InvalidTransactionError.prototype);\n    }\n}\n/**\n * Thrown when a receipt cannot be found\n */\nexport class UnknownReceiptError extends NearError {\n    constructor(receiptId) {\n        super(`Receipt not found: ${receiptId}. It may not have been observed on this node.`, \"UNKNOWN_RECEIPT\");\n        this.name = \"UnknownReceiptError\";\n        this.receiptId = receiptId;\n        Object.setPrototypeOf(this, UnknownReceiptError.prototype);\n    }\n}\n/**\n * Thrown when request parameters cannot be parsed\n */\nexport class ParseError extends NearError {\n    constructor(message, details) {\n        super(`Request validation failed: ${message}. Check that all parameters are valid.`, \"PARSE_ERROR\", details);\n        this.name = \"ParseError\";\n        Object.setPrototypeOf(this, ParseError.prototype);\n    }\n}\n/**\n * Thrown when a request times out (408)\n * This is always retryable - resubmit the identical transaction\n */\nexport class TimeoutError extends NearError {\n    constructor(message, transactionHash) {\n        super(message ||\n            \"Request timed out. The transaction may still be processed. Resubmit the identical transaction.\", \"TIMEOUT_ERROR\");\n        this.retryable = true;\n        this.name = \"TimeoutError\";\n        if (transactionHash !== undefined) {\n            this.transactionHash = transactionHash;\n        }\n        Object.setPrototypeOf(this, TimeoutError.prototype);\n    }\n}\n/**\n * Thrown when the RPC server encounters an internal error (500)\n * This is always retryable\n */\nexport class InternalServerError extends NearError {\n    constructor(message, details) {\n        super(message ||\n            \"Internal server error. The node may be overloaded. Try again or use a different node.\", \"INTERNAL_ERROR\", details);\n        this.retryable = true;\n        this.name = \"InternalServerError\";\n        Object.setPrototypeOf(this, InternalServerError.prototype);\n    }\n}\n//# sourceMappingURL=index.js.map","/**\n * Zod schemas for NEAR CLI credential file formats\n *\n * NEAR CLI stores credentials in `~/.near-credentials/` with the following structure:\n *\n * ## Directory Structure\n * ```\n * ~/.near-credentials/\n *    mainnet/\n *       account.near.json              # Single key per account\n *       account.near/                   # Multiple keys per account\n *           ed25519_PublicKeyBase58.json\n *    testnet/\n *       account.testnet.json\n *    implicit/\n *        accountId.json\n * ```\n *\n * ## File Format\n * Each credential file contains:\n * - `account_id` (optional): Named account ID\n * - `public_key`: Public key in format \"ed25519:Base58EncodedKey\"\n * - `private_key`: Private key in format \"ed25519:Base58EncodedKey\"\n * - `seed_phrase_hd_path` (optional): BIP32 derivation path (e.g., \"m/44'/397'/0'\")\n * - `master_seed_phrase` (optional): BIP39 seed phrase\n * - `implicit_account_id` (optional): Implicit account ID (hex of public key)\n *\n * @see https://github.com/near/near-cli\n */\nimport { z } from \"zod\";\n/**\n * Schema for NEAR CLI credential file\n *\n * This matches the format used by near-cli and near-cli-rs for storing\n * account credentials on the filesystem.\n *\n * @example\n * ```json\n * {\n *   \"account_id\": \"example.testnet\",\n *   \"public_key\": \"ed25519:8nFkHgRePSGD9UsK3Hx6234567890abcdefghijklmnop\",\n *   \"private_key\": \"ed25519:3D4c2v8K5x...\",\n *   \"seed_phrase_hd_path\": \"m/44'/397'/0'\",\n *   \"master_seed_phrase\": \"word1 word2 word3 ...\",\n *   \"implicit_account_id\": \"1234567890abcdef...\"\n * }\n * ```\n */\nexport const NearCliCredentialSchema = z.object({\n    /**\n     * Named account ID (optional)\n     * @example \"example.testnet\"\n     */\n    account_id: z.string().optional(),\n    /**\n     * Public key in NEAR format\n     * @example \"ed25519:8nFkHgRePSGD9UsK3Hx6nWKXGQ7Kd7k3k7k3k7k3k7k3\"\n     */\n    public_key: z.string(),\n    /**\n     * Private key in NEAR format (note: uses \"private_key\", not \"secret_key\")\n     * @example \"ed25519:3D4c2v8K5x...\"\n     */\n    private_key: z.string(),\n    /**\n     * BIP32 derivation path (optional)\n     * @example \"m/44'/397'/0'\"\n     */\n    seed_phrase_hd_path: z.string().optional(),\n    /**\n     * BIP39 seed phrase (optional)\n     * @example \"witch collapse practice feed shame open despair creek road again ice least\"\n     */\n    master_seed_phrase: z.string().optional(),\n    /**\n     * Implicit account ID (optional) - hex representation of the public key\n     * @example \"e3cb032dbb6e8f45239c79652ba94172378f940d340b429ce5076d1a2f7366e2\"\n     */\n    implicit_account_id: z.string().optional(),\n});\n/**\n * Legacy format used by some tools (uses \"secret_key\" instead of \"private_key\")\n * This is supported for reading only, not writing\n */\nexport const LegacyCredentialSchema = z.object({\n    account_id: z.string().optional(),\n    public_key: z.string(),\n    secret_key: z.string(), // Legacy field name\n    seed_phrase_hd_path: z.string().optional(),\n    master_seed_phrase: z.string().optional(),\n    implicit_account_id: z.string().optional(),\n});\n/**\n * Network identifiers supported by NEAR\n */\nexport const NetworkSchema = z.enum([\n    \"mainnet\",\n    \"testnet\",\n    \"betanet\",\n    \"localnet\",\n]);\n/**\n * Parse a credential file, supporting both modern and legacy formats\n *\n * @param data - Raw JSON data from credential file\n * @returns Parsed credential with normalized field names\n * @throws {z.ZodError} If the data doesn't match any supported format\n */\nexport function parseCredentialFile(data) {\n    // Try modern format first\n    const modernResult = NearCliCredentialSchema.safeParse(data);\n    if (modernResult.success) {\n        return modernResult.data;\n    }\n    // Try legacy format\n    const legacyResult = LegacyCredentialSchema.safeParse(data);\n    if (legacyResult.success) {\n        // Convert legacy format to modern format\n        const { secret_key, ...rest } = legacyResult.data;\n        return {\n            ...rest,\n            private_key: secret_key,\n        };\n    }\n    // Neither format matched, throw the modern format error\n    throw modernResult.error;\n}\n//# sourceMappingURL=credential-schemas.js.map","/**\n * Internal Merkle-Damgard hash utils.\n * @module\n */\nimport { abytes, aexists, aoutput, clean, createView } from \"./utils.js\";\n/** Choice: a ? b : c */\nexport function Chi(a, b, c) {\n    return (a & b) ^ (~a & c);\n}\n/** Majority function, true if any two inputs is true. */\nexport function Maj(a, b, c) {\n    return (a & b) ^ (a & c) ^ (b & c);\n}\n/**\n * Merkle-Damgard hash construction base class.\n * Could be used to create MD5, RIPEMD, SHA1, SHA2.\n */\nexport class HashMD {\n    blockLen;\n    outputLen;\n    padOffset;\n    isLE;\n    // For partial updates less than block size\n    buffer;\n    view;\n    finished = false;\n    length = 0;\n    pos = 0;\n    destroyed = false;\n    constructor(blockLen, outputLen, padOffset, isLE) {\n        this.blockLen = blockLen;\n        this.outputLen = outputLen;\n        this.padOffset = padOffset;\n        this.isLE = isLE;\n        this.buffer = new Uint8Array(blockLen);\n        this.view = createView(this.buffer);\n    }\n    update(data) {\n        aexists(this);\n        abytes(data);\n        const { view, buffer, blockLen } = this;\n        const len = data.length;\n        for (let pos = 0; pos < len;) {\n            const take = Math.min(blockLen - this.pos, len - pos);\n            // Fast path: we have at least one block in input, cast it to view and process\n            if (take === blockLen) {\n                const dataView = createView(data);\n                for (; blockLen <= len - pos; pos += blockLen)\n                    this.process(dataView, pos);\n                continue;\n            }\n            buffer.set(data.subarray(pos, pos + take), this.pos);\n            this.pos += take;\n            pos += take;\n            if (this.pos === blockLen) {\n                this.process(view, 0);\n                this.pos = 0;\n            }\n        }\n        this.length += data.length;\n        this.roundClean();\n        return this;\n    }\n    digestInto(out) {\n        aexists(this);\n        aoutput(out, this);\n        this.finished = true;\n        // Padding\n        // We can avoid allocation of buffer for padding completely if it\n        // was previously not allocated here. But it won't change performance.\n        const { buffer, view, blockLen, isLE } = this;\n        let { pos } = this;\n        // append the bit '1' to the message\n        buffer[pos++] = 0b10000000;\n        clean(this.buffer.subarray(pos));\n        // we have less than padOffset left in buffer, so we cannot put length in\n        // current block, need process it and pad again\n        if (this.padOffset > blockLen - pos) {\n            this.process(view, 0);\n            pos = 0;\n        }\n        // Pad until full block byte with zeros\n        for (let i = pos; i < blockLen; i++)\n            buffer[i] = 0;\n        // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n        // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n        // So we just write lowest 64 bits of that value.\n        view.setBigUint64(blockLen - 8, BigInt(this.length * 8), isLE);\n        this.process(view, 0);\n        const oview = createView(out);\n        const len = this.outputLen;\n        // NOTE: we do division by 4 later, which must be fused in single op with modulo by JIT\n        if (len % 4)\n            throw new Error('_sha2: outputLen must be aligned to 32bit');\n        const outLen = len / 4;\n        const state = this.get();\n        if (outLen > state.length)\n            throw new Error('_sha2: outputLen bigger than state');\n        for (let i = 0; i < outLen; i++)\n            oview.setUint32(4 * i, state[i], isLE);\n    }\n    digest() {\n        const { buffer, outputLen } = this;\n        this.digestInto(buffer);\n        const res = buffer.slice(0, outputLen);\n        this.destroy();\n        return res;\n    }\n    _cloneInto(to) {\n        to ||= new this.constructor();\n        to.set(...this.get());\n        const { blockLen, buffer, length, finished, destroyed, pos } = this;\n        to.destroyed = destroyed;\n        to.finished = finished;\n        to.length = length;\n        to.pos = pos;\n        if (length % blockLen)\n            to.buffer.set(buffer);\n        return to;\n    }\n    clone() {\n        return this._cloneInto();\n    }\n}\n/**\n * Initial SHA-2 state: fractional parts of square roots of first 16 primes 2..53.\n * Check out `test/misc/sha2-gen-iv.js` for recomputation guide.\n */\n/** Initial SHA256 state. Bits 0..32 of frac part of sqrt of primes 2..19 */\nexport const SHA256_IV = /* @__PURE__ */ Uint32Array.from([\n    0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19,\n]);\n/** Initial SHA224 state. Bits 32..64 of frac part of sqrt of primes 23..53 */\nexport const SHA224_IV = /* @__PURE__ */ Uint32Array.from([\n    0xc1059ed8, 0x367cd507, 0x3070dd17, 0xf70e5939, 0xffc00b31, 0x68581511, 0x64f98fa7, 0xbefa4fa4,\n]);\n/** Initial SHA384 state. Bits 0..64 of frac part of sqrt of primes 23..53 */\nexport const SHA384_IV = /* @__PURE__ */ Uint32Array.from([\n    0xcbbb9d5d, 0xc1059ed8, 0x629a292a, 0x367cd507, 0x9159015a, 0x3070dd17, 0x152fecd8, 0xf70e5939,\n    0x67332667, 0xffc00b31, 0x8eb44a87, 0x68581511, 0xdb0c2e0d, 0x64f98fa7, 0x47b5481d, 0xbefa4fa4,\n]);\n/** Initial SHA512 state. Bits 0..64 of frac part of sqrt of primes 2..19 */\nexport const SHA512_IV = /* @__PURE__ */ Uint32Array.from([\n    0x6a09e667, 0xf3bcc908, 0xbb67ae85, 0x84caa73b, 0x3c6ef372, 0xfe94f82b, 0xa54ff53a, 0x5f1d36f1,\n    0x510e527f, 0xade682d1, 0x9b05688c, 0x2b3e6c1f, 0x1f83d9ab, 0xfb41bd6b, 0x5be0cd19, 0x137e2179,\n]);\n//# sourceMappingURL=_md.js.map","/**\n * SHA2 hash function. A.k.a. sha256, sha384, sha512, sha512_224, sha512_256.\n * SHA256 is the fastest hash implementable in JS, even faster than Blake3.\n * Check out [RFC 4634](https://www.rfc-editor.org/rfc/rfc4634) and\n * [FIPS 180-4](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf).\n * @module\n */\nimport { Chi, HashMD, Maj, SHA224_IV, SHA256_IV, SHA384_IV, SHA512_IV } from \"./_md.js\";\nimport * as u64 from \"./_u64.js\";\nimport { clean, createHasher, oidNist, rotr } from \"./utils.js\";\n/**\n * Round constants:\n * First 32 bits of fractional parts of the cube roots of the first 64 primes 2..311)\n */\n// prettier-ignore\nconst SHA256_K = /* @__PURE__ */ Uint32Array.from([\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n/** Reusable temporary buffer. \"W\" comes straight from spec. */\nconst SHA256_W = /* @__PURE__ */ new Uint32Array(64);\n/** Internal 32-byte base SHA2 hash class. */\nclass SHA2_32B extends HashMD {\n    constructor(outputLen) {\n        super(64, outputLen, 8, false);\n    }\n    get() {\n        const { A, B, C, D, E, F, G, H } = this;\n        return [A, B, C, D, E, F, G, H];\n    }\n    // prettier-ignore\n    set(A, B, C, D, E, F, G, H) {\n        this.A = A | 0;\n        this.B = B | 0;\n        this.C = C | 0;\n        this.D = D | 0;\n        this.E = E | 0;\n        this.F = F | 0;\n        this.G = G | 0;\n        this.H = H | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4)\n            SHA256_W[i] = view.getUint32(offset, false);\n        for (let i = 16; i < 64; i++) {\n            const W15 = SHA256_W[i - 15];\n            const W2 = SHA256_W[i - 2];\n            const s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ (W15 >>> 3);\n            const s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ (W2 >>> 10);\n            SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n        }\n        // Compression function main loop, 64 rounds\n        let { A, B, C, D, E, F, G, H } = this;\n        for (let i = 0; i < 64; i++) {\n            const sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n            const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n            const T2 = (sigma0 + Maj(A, B, C)) | 0;\n            H = G;\n            G = F;\n            F = E;\n            E = (D + T1) | 0;\n            D = C;\n            C = B;\n            B = A;\n            A = (T1 + T2) | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        A = (A + this.A) | 0;\n        B = (B + this.B) | 0;\n        C = (C + this.C) | 0;\n        D = (D + this.D) | 0;\n        E = (E + this.E) | 0;\n        F = (F + this.F) | 0;\n        G = (G + this.G) | 0;\n        H = (H + this.H) | 0;\n        this.set(A, B, C, D, E, F, G, H);\n    }\n    roundClean() {\n        clean(SHA256_W);\n    }\n    destroy() {\n        this.set(0, 0, 0, 0, 0, 0, 0, 0);\n        clean(this.buffer);\n    }\n}\n/** Internal SHA2-256 hash class. */\nexport class _SHA256 extends SHA2_32B {\n    // We cannot use array here since array allows indexing by variable\n    // which means optimizer/compiler cannot use registers.\n    A = SHA256_IV[0] | 0;\n    B = SHA256_IV[1] | 0;\n    C = SHA256_IV[2] | 0;\n    D = SHA256_IV[3] | 0;\n    E = SHA256_IV[4] | 0;\n    F = SHA256_IV[5] | 0;\n    G = SHA256_IV[6] | 0;\n    H = SHA256_IV[7] | 0;\n    constructor() {\n        super(32);\n    }\n}\n/** Internal SHA2-224 hash class. */\nexport class _SHA224 extends SHA2_32B {\n    A = SHA224_IV[0] | 0;\n    B = SHA224_IV[1] | 0;\n    C = SHA224_IV[2] | 0;\n    D = SHA224_IV[3] | 0;\n    E = SHA224_IV[4] | 0;\n    F = SHA224_IV[5] | 0;\n    G = SHA224_IV[6] | 0;\n    H = SHA224_IV[7] | 0;\n    constructor() {\n        super(28);\n    }\n}\n// SHA2-512 is slower than sha256 in js because u64 operations are slow.\n// Round contants\n// First 32 bits of the fractional parts of the cube roots of the first 80 primes 2..409\n// prettier-ignore\nconst K512 = /* @__PURE__ */ (() => u64.split([\n    '0x428a2f98d728ae22', '0x7137449123ef65cd', '0xb5c0fbcfec4d3b2f', '0xe9b5dba58189dbbc',\n    '0x3956c25bf348b538', '0x59f111f1b605d019', '0x923f82a4af194f9b', '0xab1c5ed5da6d8118',\n    '0xd807aa98a3030242', '0x12835b0145706fbe', '0x243185be4ee4b28c', '0x550c7dc3d5ffb4e2',\n    '0x72be5d74f27b896f', '0x80deb1fe3b1696b1', '0x9bdc06a725c71235', '0xc19bf174cf692694',\n    '0xe49b69c19ef14ad2', '0xefbe4786384f25e3', '0x0fc19dc68b8cd5b5', '0x240ca1cc77ac9c65',\n    '0x2de92c6f592b0275', '0x4a7484aa6ea6e483', '0x5cb0a9dcbd41fbd4', '0x76f988da831153b5',\n    '0x983e5152ee66dfab', '0xa831c66d2db43210', '0xb00327c898fb213f', '0xbf597fc7beef0ee4',\n    '0xc6e00bf33da88fc2', '0xd5a79147930aa725', '0x06ca6351e003826f', '0x142929670a0e6e70',\n    '0x27b70a8546d22ffc', '0x2e1b21385c26c926', '0x4d2c6dfc5ac42aed', '0x53380d139d95b3df',\n    '0x650a73548baf63de', '0x766a0abb3c77b2a8', '0x81c2c92e47edaee6', '0x92722c851482353b',\n    '0xa2bfe8a14cf10364', '0xa81a664bbc423001', '0xc24b8b70d0f89791', '0xc76c51a30654be30',\n    '0xd192e819d6ef5218', '0xd69906245565a910', '0xf40e35855771202a', '0x106aa07032bbd1b8',\n    '0x19a4c116b8d2d0c8', '0x1e376c085141ab53', '0x2748774cdf8eeb99', '0x34b0bcb5e19b48a8',\n    '0x391c0cb3c5c95a63', '0x4ed8aa4ae3418acb', '0x5b9cca4f7763e373', '0x682e6ff3d6b2b8a3',\n    '0x748f82ee5defb2fc', '0x78a5636f43172f60', '0x84c87814a1f0ab72', '0x8cc702081a6439ec',\n    '0x90befffa23631e28', '0xa4506cebde82bde9', '0xbef9a3f7b2c67915', '0xc67178f2e372532b',\n    '0xca273eceea26619c', '0xd186b8c721c0c207', '0xeada7dd6cde0eb1e', '0xf57d4f7fee6ed178',\n    '0x06f067aa72176fba', '0x0a637dc5a2c898a6', '0x113f9804bef90dae', '0x1b710b35131c471b',\n    '0x28db77f523047d84', '0x32caab7b40c72493', '0x3c9ebe0a15c9bebc', '0x431d67c49c100d4c',\n    '0x4cc5d4becb3e42b6', '0x597f299cfc657e2a', '0x5fcb6fab3ad6faec', '0x6c44198c4a475817'\n].map(n => BigInt(n))))();\nconst SHA512_Kh = /* @__PURE__ */ (() => K512[0])();\nconst SHA512_Kl = /* @__PURE__ */ (() => K512[1])();\n// Reusable temporary buffers\nconst SHA512_W_H = /* @__PURE__ */ new Uint32Array(80);\nconst SHA512_W_L = /* @__PURE__ */ new Uint32Array(80);\n/** Internal 64-byte base SHA2 hash class. */\nclass SHA2_64B extends HashMD {\n    constructor(outputLen) {\n        super(128, outputLen, 16, false);\n    }\n    // prettier-ignore\n    get() {\n        const { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        return [Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl];\n    }\n    // prettier-ignore\n    set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl) {\n        this.Ah = Ah | 0;\n        this.Al = Al | 0;\n        this.Bh = Bh | 0;\n        this.Bl = Bl | 0;\n        this.Ch = Ch | 0;\n        this.Cl = Cl | 0;\n        this.Dh = Dh | 0;\n        this.Dl = Dl | 0;\n        this.Eh = Eh | 0;\n        this.El = El | 0;\n        this.Fh = Fh | 0;\n        this.Fl = Fl | 0;\n        this.Gh = Gh | 0;\n        this.Gl = Gl | 0;\n        this.Hh = Hh | 0;\n        this.Hl = Hl | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 64 words w[16..79] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4) {\n            SHA512_W_H[i] = view.getUint32(offset);\n            SHA512_W_L[i] = view.getUint32((offset += 4));\n        }\n        for (let i = 16; i < 80; i++) {\n            // s0 := (w[i-15] rightrotate 1) xor (w[i-15] rightrotate 8) xor (w[i-15] rightshift 7)\n            const W15h = SHA512_W_H[i - 15] | 0;\n            const W15l = SHA512_W_L[i - 15] | 0;\n            const s0h = u64.rotrSH(W15h, W15l, 1) ^ u64.rotrSH(W15h, W15l, 8) ^ u64.shrSH(W15h, W15l, 7);\n            const s0l = u64.rotrSL(W15h, W15l, 1) ^ u64.rotrSL(W15h, W15l, 8) ^ u64.shrSL(W15h, W15l, 7);\n            // s1 := (w[i-2] rightrotate 19) xor (w[i-2] rightrotate 61) xor (w[i-2] rightshift 6)\n            const W2h = SHA512_W_H[i - 2] | 0;\n            const W2l = SHA512_W_L[i - 2] | 0;\n            const s1h = u64.rotrSH(W2h, W2l, 19) ^ u64.rotrBH(W2h, W2l, 61) ^ u64.shrSH(W2h, W2l, 6);\n            const s1l = u64.rotrSL(W2h, W2l, 19) ^ u64.rotrBL(W2h, W2l, 61) ^ u64.shrSL(W2h, W2l, 6);\n            // SHA256_W[i] = s0 + s1 + SHA256_W[i - 7] + SHA256_W[i - 16];\n            const SUMl = u64.add4L(s0l, s1l, SHA512_W_L[i - 7], SHA512_W_L[i - 16]);\n            const SUMh = u64.add4H(SUMl, s0h, s1h, SHA512_W_H[i - 7], SHA512_W_H[i - 16]);\n            SHA512_W_H[i] = SUMh | 0;\n            SHA512_W_L[i] = SUMl | 0;\n        }\n        let { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        // Compression function main loop, 80 rounds\n        for (let i = 0; i < 80; i++) {\n            // S1 := (e rightrotate 14) xor (e rightrotate 18) xor (e rightrotate 41)\n            const sigma1h = u64.rotrSH(Eh, El, 14) ^ u64.rotrSH(Eh, El, 18) ^ u64.rotrBH(Eh, El, 41);\n            const sigma1l = u64.rotrSL(Eh, El, 14) ^ u64.rotrSL(Eh, El, 18) ^ u64.rotrBL(Eh, El, 41);\n            //const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const CHIh = (Eh & Fh) ^ (~Eh & Gh);\n            const CHIl = (El & Fl) ^ (~El & Gl);\n            // T1 = H + sigma1 + Chi(E, F, G) + SHA512_K[i] + SHA512_W[i]\n            // prettier-ignore\n            const T1ll = u64.add5L(Hl, sigma1l, CHIl, SHA512_Kl[i], SHA512_W_L[i]);\n            const T1h = u64.add5H(T1ll, Hh, sigma1h, CHIh, SHA512_Kh[i], SHA512_W_H[i]);\n            const T1l = T1ll | 0;\n            // S0 := (a rightrotate 28) xor (a rightrotate 34) xor (a rightrotate 39)\n            const sigma0h = u64.rotrSH(Ah, Al, 28) ^ u64.rotrBH(Ah, Al, 34) ^ u64.rotrBH(Ah, Al, 39);\n            const sigma0l = u64.rotrSL(Ah, Al, 28) ^ u64.rotrBL(Ah, Al, 34) ^ u64.rotrBL(Ah, Al, 39);\n            const MAJh = (Ah & Bh) ^ (Ah & Ch) ^ (Bh & Ch);\n            const MAJl = (Al & Bl) ^ (Al & Cl) ^ (Bl & Cl);\n            Hh = Gh | 0;\n            Hl = Gl | 0;\n            Gh = Fh | 0;\n            Gl = Fl | 0;\n            Fh = Eh | 0;\n            Fl = El | 0;\n            ({ h: Eh, l: El } = u64.add(Dh | 0, Dl | 0, T1h | 0, T1l | 0));\n            Dh = Ch | 0;\n            Dl = Cl | 0;\n            Ch = Bh | 0;\n            Cl = Bl | 0;\n            Bh = Ah | 0;\n            Bl = Al | 0;\n            const All = u64.add3L(T1l, sigma0l, MAJl);\n            Ah = u64.add3H(All, T1h, sigma0h, MAJh);\n            Al = All | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        ({ h: Ah, l: Al } = u64.add(this.Ah | 0, this.Al | 0, Ah | 0, Al | 0));\n        ({ h: Bh, l: Bl } = u64.add(this.Bh | 0, this.Bl | 0, Bh | 0, Bl | 0));\n        ({ h: Ch, l: Cl } = u64.add(this.Ch | 0, this.Cl | 0, Ch | 0, Cl | 0));\n        ({ h: Dh, l: Dl } = u64.add(this.Dh | 0, this.Dl | 0, Dh | 0, Dl | 0));\n        ({ h: Eh, l: El } = u64.add(this.Eh | 0, this.El | 0, Eh | 0, El | 0));\n        ({ h: Fh, l: Fl } = u64.add(this.Fh | 0, this.Fl | 0, Fh | 0, Fl | 0));\n        ({ h: Gh, l: Gl } = u64.add(this.Gh | 0, this.Gl | 0, Gh | 0, Gl | 0));\n        ({ h: Hh, l: Hl } = u64.add(this.Hh | 0, this.Hl | 0, Hh | 0, Hl | 0));\n        this.set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl);\n    }\n    roundClean() {\n        clean(SHA512_W_H, SHA512_W_L);\n    }\n    destroy() {\n        clean(this.buffer);\n        this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n    }\n}\n/** Internal SHA2-512 hash class. */\nexport class _SHA512 extends SHA2_64B {\n    Ah = SHA512_IV[0] | 0;\n    Al = SHA512_IV[1] | 0;\n    Bh = SHA512_IV[2] | 0;\n    Bl = SHA512_IV[3] | 0;\n    Ch = SHA512_IV[4] | 0;\n    Cl = SHA512_IV[5] | 0;\n    Dh = SHA512_IV[6] | 0;\n    Dl = SHA512_IV[7] | 0;\n    Eh = SHA512_IV[8] | 0;\n    El = SHA512_IV[9] | 0;\n    Fh = SHA512_IV[10] | 0;\n    Fl = SHA512_IV[11] | 0;\n    Gh = SHA512_IV[12] | 0;\n    Gl = SHA512_IV[13] | 0;\n    Hh = SHA512_IV[14] | 0;\n    Hl = SHA512_IV[15] | 0;\n    constructor() {\n        super(64);\n    }\n}\n/** Internal SHA2-384 hash class. */\nexport class _SHA384 extends SHA2_64B {\n    Ah = SHA384_IV[0] | 0;\n    Al = SHA384_IV[1] | 0;\n    Bh = SHA384_IV[2] | 0;\n    Bl = SHA384_IV[3] | 0;\n    Ch = SHA384_IV[4] | 0;\n    Cl = SHA384_IV[5] | 0;\n    Dh = SHA384_IV[6] | 0;\n    Dl = SHA384_IV[7] | 0;\n    Eh = SHA384_IV[8] | 0;\n    El = SHA384_IV[9] | 0;\n    Fh = SHA384_IV[10] | 0;\n    Fl = SHA384_IV[11] | 0;\n    Gh = SHA384_IV[12] | 0;\n    Gl = SHA384_IV[13] | 0;\n    Hh = SHA384_IV[14] | 0;\n    Hl = SHA384_IV[15] | 0;\n    constructor() {\n        super(48);\n    }\n}\n/**\n * Truncated SHA512/256 and SHA512/224.\n * SHA512_IV is XORed with 0xa5a5a5a5a5a5a5a5, then used as \"intermediary\" IV of SHA512/t.\n * Then t hashes string to produce result IV.\n * See `test/misc/sha2-gen-iv.js`.\n */\n/** SHA512/224 IV */\nconst T224_IV = /* @__PURE__ */ Uint32Array.from([\n    0x8c3d37c8, 0x19544da2, 0x73e19966, 0x89dcd4d6, 0x1dfab7ae, 0x32ff9c82, 0x679dd514, 0x582f9fcf,\n    0x0f6d2b69, 0x7bd44da8, 0x77e36f73, 0x04c48942, 0x3f9d85a8, 0x6a1d36c8, 0x1112e6ad, 0x91d692a1,\n]);\n/** SHA512/256 IV */\nconst T256_IV = /* @__PURE__ */ Uint32Array.from([\n    0x22312194, 0xfc2bf72c, 0x9f555fa3, 0xc84c64c2, 0x2393b86b, 0x6f53b151, 0x96387719, 0x5940eabd,\n    0x96283ee2, 0xa88effe3, 0xbe5e1e25, 0x53863992, 0x2b0199fc, 0x2c85b8aa, 0x0eb72ddc, 0x81c52ca2,\n]);\n/** Internal SHA2-512/224 hash class. */\nexport class _SHA512_224 extends SHA2_64B {\n    Ah = T224_IV[0] | 0;\n    Al = T224_IV[1] | 0;\n    Bh = T224_IV[2] | 0;\n    Bl = T224_IV[3] | 0;\n    Ch = T224_IV[4] | 0;\n    Cl = T224_IV[5] | 0;\n    Dh = T224_IV[6] | 0;\n    Dl = T224_IV[7] | 0;\n    Eh = T224_IV[8] | 0;\n    El = T224_IV[9] | 0;\n    Fh = T224_IV[10] | 0;\n    Fl = T224_IV[11] | 0;\n    Gh = T224_IV[12] | 0;\n    Gl = T224_IV[13] | 0;\n    Hh = T224_IV[14] | 0;\n    Hl = T224_IV[15] | 0;\n    constructor() {\n        super(28);\n    }\n}\n/** Internal SHA2-512/256 hash class. */\nexport class _SHA512_256 extends SHA2_64B {\n    Ah = T256_IV[0] | 0;\n    Al = T256_IV[1] | 0;\n    Bh = T256_IV[2] | 0;\n    Bl = T256_IV[3] | 0;\n    Ch = T256_IV[4] | 0;\n    Cl = T256_IV[5] | 0;\n    Dh = T256_IV[6] | 0;\n    Dl = T256_IV[7] | 0;\n    Eh = T256_IV[8] | 0;\n    El = T256_IV[9] | 0;\n    Fh = T256_IV[10] | 0;\n    Fl = T256_IV[11] | 0;\n    Gh = T256_IV[12] | 0;\n    Gl = T256_IV[13] | 0;\n    Hh = T256_IV[14] | 0;\n    Hl = T256_IV[15] | 0;\n    constructor() {\n        super(32);\n    }\n}\n/**\n * SHA2-256 hash function from RFC 4634. In JS it's the fastest: even faster than Blake3. Some info:\n *\n * - Trying 2^128 hashes would get 50% chance of collision, using birthday attack.\n * - BTC network is doing 2^70 hashes/sec (2^95 hashes/year) as per 2025.\n * - Each sha256 hash is executing 2^18 bit operations.\n * - Good 2024 ASICs can do 200Th/sec with 3500 watts of power, corresponding to 2^36 hashes/joule.\n */\nexport const sha256 = /* @__PURE__ */ createHasher(() => new _SHA256(), \n/* @__PURE__ */ oidNist(0x01));\n/** SHA2-224 hash function from RFC 4634 */\nexport const sha224 = /* @__PURE__ */ createHasher(() => new _SHA224(), \n/* @__PURE__ */ oidNist(0x04));\n/** SHA2-512 hash function from RFC 4634. */\nexport const sha512 = /* @__PURE__ */ createHasher(() => new _SHA512(), \n/* @__PURE__ */ oidNist(0x03));\n/** SHA2-384 hash function from RFC 4634. */\nexport const sha384 = /* @__PURE__ */ createHasher(() => new _SHA384(), \n/* @__PURE__ */ oidNist(0x02));\n/**\n * SHA2-512/256 \"truncated\" hash function, with improved resistance to length extension attacks.\n * See the paper on [truncated SHA512](https://eprint.iacr.org/2010/548.pdf).\n */\nexport const sha512_256 = /* @__PURE__ */ createHasher(() => new _SHA512_256(), \n/* @__PURE__ */ oidNist(0x06));\n/**\n * SHA2-512/224 \"truncated\" hash function, with improved resistance to length extension attacks.\n * See the paper on [truncated SHA512](https://eprint.iacr.org/2010/548.pdf).\n */\nexport const sha512_224 = /* @__PURE__ */ createHasher(() => new _SHA512_224(), \n/* @__PURE__ */ oidNist(0x05));\n//# sourceMappingURL=sha2.js.map","/**\n * Hex, bytes and number utilities.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { abytes as abytes_, anumber, bytesToHex as bytesToHex_, concatBytes as concatBytes_, hexToBytes as hexToBytes_, } from '@noble/hashes/utils.js';\nexport { abytes, anumber, bytesToHex, concatBytes, hexToBytes, isBytes, randomBytes, } from '@noble/hashes/utils.js';\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nexport function abool(value, title = '') {\n    if (typeof value !== 'boolean') {\n        const prefix = title && `\"${title}\" `;\n        throw new Error(prefix + 'expected boolean, got type=' + typeof value);\n    }\n    return value;\n}\n// Used in weierstrass, der\nfunction abignumber(n) {\n    if (typeof n === 'bigint') {\n        if (!isPosBig(n))\n            throw new Error('positive bigint expected, got ' + n);\n    }\n    else\n        anumber(n);\n    return n;\n}\nexport function asafenumber(value, title = '') {\n    if (!Number.isSafeInteger(value)) {\n        const prefix = title && `\"${title}\" `;\n        throw new Error(prefix + 'expected safe integer, got type=' + typeof value);\n    }\n}\nexport function numberToHexUnpadded(num) {\n    const hex = abignumber(num).toString(16);\n    return hex.length & 1 ? '0' + hex : hex;\n}\nexport function hexToNumber(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    return hex === '' ? _0n : BigInt('0x' + hex); // Big Endian\n}\n// BE: Big Endian, LE: Little Endian\nexport function bytesToNumberBE(bytes) {\n    return hexToNumber(bytesToHex_(bytes));\n}\nexport function bytesToNumberLE(bytes) {\n    return hexToNumber(bytesToHex_(copyBytes(abytes_(bytes)).reverse()));\n}\nexport function numberToBytesBE(n, len) {\n    anumber(len);\n    n = abignumber(n);\n    const res = hexToBytes_(n.toString(16).padStart(len * 2, '0'));\n    if (res.length !== len)\n        throw new Error('number too large');\n    return res;\n}\nexport function numberToBytesLE(n, len) {\n    return numberToBytesBE(n, len).reverse();\n}\n// Unpadded, rarely used\nexport function numberToVarBytesBE(n) {\n    return hexToBytes_(numberToHexUnpadded(abignumber(n)));\n}\n// Compares 2 u8a-s in kinda constant time\nexport function equalBytes(a, b) {\n    if (a.length !== b.length)\n        return false;\n    let diff = 0;\n    for (let i = 0; i < a.length; i++)\n        diff |= a[i] ^ b[i];\n    return diff === 0;\n}\n/**\n * Copies Uint8Array. We can't use u8a.slice(), because u8a can be Buffer,\n * and Buffer#slice creates mutable copy. Never use Buffers!\n */\nexport function copyBytes(bytes) {\n    return Uint8Array.from(bytes);\n}\n/**\n * Decodes 7-bit ASCII string to Uint8Array, throws on non-ascii symbols\n * Should be safe to use for things expected to be ASCII.\n * Returns exact same result as `TextEncoder` for ASCII or throws.\n */\nexport function asciiToBytes(ascii) {\n    return Uint8Array.from(ascii, (c, i) => {\n        const charCode = c.charCodeAt(0);\n        if (c.length !== 1 || charCode > 127) {\n            throw new Error(`string contains non-ASCII character \"${ascii[i]}\" with code ${charCode} at position ${i}`);\n        }\n        return charCode;\n    });\n}\n// Is positive bigint\nconst isPosBig = (n) => typeof n === 'bigint' && _0n <= n;\nexport function inRange(n, min, max) {\n    return isPosBig(n) && isPosBig(min) && isPosBig(max) && min <= n && n < max;\n}\n/**\n * Asserts min <= n < max. NOTE: It's < max and not <= max.\n * @example\n * aInRange('x', x, 1n, 256n); // would assume x is in (1n..255n)\n */\nexport function aInRange(title, n, min, max) {\n    // Why min <= n < max and not a (min < n < max) OR b (min <= n <= max)?\n    // consider P=256n, min=0n, max=P\n    // - a for min=0 would require -1:          `inRange('x', x, -1n, P)`\n    // - b would commonly require subtraction:  `inRange('x', x, 0n, P - 1n)`\n    // - our way is the cleanest:               `inRange('x', x, 0n, P)\n    if (!inRange(n, min, max))\n        throw new Error('expected valid ' + title + ': ' + min + ' <= n < ' + max + ', got ' + n);\n}\n// Bit operations\n/**\n * Calculates amount of bits in a bigint.\n * Same as `n.toString(2).length`\n * TODO: merge with nLength in modular\n */\nexport function bitLen(n) {\n    let len;\n    for (len = 0; n > _0n; n >>= _1n, len += 1)\n        ;\n    return len;\n}\n/**\n * Gets single bit at position.\n * NOTE: first bit position is 0 (same as arrays)\n * Same as `!!+Array.from(n.toString(2)).reverse()[pos]`\n */\nexport function bitGet(n, pos) {\n    return (n >> BigInt(pos)) & _1n;\n}\n/**\n * Sets single bit at position.\n */\nexport function bitSet(n, pos, value) {\n    return n | ((value ? _1n : _0n) << BigInt(pos));\n}\n/**\n * Calculate mask for N bits. Not using ** operator with bigints because of old engines.\n * Same as BigInt(`0b${Array(i).fill('1').join('')}`)\n */\nexport const bitMask = (n) => (_1n << BigInt(n)) - _1n;\n/**\n * Minimal HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n * @returns function that will call DRBG until 2nd arg returns something meaningful\n * @example\n *   const drbg = createHmacDRBG<Key>(32, 32, hmac);\n *   drbg(seed, bytesToKey); // bytesToKey must return Key or undefined\n */\nexport function createHmacDrbg(hashLen, qByteLen, hmacFn) {\n    anumber(hashLen, 'hashLen');\n    anumber(qByteLen, 'qByteLen');\n    if (typeof hmacFn !== 'function')\n        throw new Error('hmacFn must be a function');\n    const u8n = (len) => new Uint8Array(len); // creates Uint8Array\n    const NULL = Uint8Array.of();\n    const byte0 = Uint8Array.of(0x00);\n    const byte1 = Uint8Array.of(0x01);\n    const _maxDrbgIters = 1000;\n    // Step B, Step C: set hashLen to 8*ceil(hlen/8)\n    let v = u8n(hashLen); // Minimal non-full-spec HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n    let k = u8n(hashLen); // Steps B and C of RFC6979 3.2: set hashLen, in our case always same\n    let i = 0; // Iterations counter, will throw when over 1000\n    const reset = () => {\n        v.fill(1);\n        k.fill(0);\n        i = 0;\n    };\n    const h = (...msgs) => hmacFn(k, concatBytes_(v, ...msgs)); // hmac(k)(v, ...values)\n    const reseed = (seed = NULL) => {\n        // HMAC-DRBG reseed() function. Steps D-G\n        k = h(byte0, seed); // k = hmac(k || v || 0x00 || seed)\n        v = h(); // v = hmac(k || v)\n        if (seed.length === 0)\n            return;\n        k = h(byte1, seed); // k = hmac(k || v || 0x01 || seed)\n        v = h(); // v = hmac(k || v)\n    };\n    const gen = () => {\n        // HMAC-DRBG generate() function\n        if (i++ >= _maxDrbgIters)\n            throw new Error('drbg: tried max amount of iterations');\n        let len = 0;\n        const out = [];\n        while (len < qByteLen) {\n            v = h();\n            const sl = v.slice();\n            out.push(sl);\n            len += v.length;\n        }\n        return concatBytes_(...out);\n    };\n    const genUntil = (seed, pred) => {\n        reset();\n        reseed(seed); // Steps D-G\n        let res = undefined; // Step H: grind until k is in [1..n-1]\n        while (!(res = pred(gen())))\n            reseed();\n        reset();\n        return res;\n    };\n    return genUntil;\n}\nexport function validateObject(object, fields = {}, optFields = {}) {\n    if (!object || typeof object !== 'object')\n        throw new Error('expected valid options object');\n    function checkField(fieldName, expectedType, isOpt) {\n        const val = object[fieldName];\n        if (isOpt && val === undefined)\n            return;\n        const current = typeof val;\n        if (current !== expectedType || val === null)\n            throw new Error(`param \"${fieldName}\" is invalid: expected ${expectedType}, got ${current}`);\n    }\n    const iter = (f, isOpt) => Object.entries(f).forEach(([k, v]) => checkField(k, v, isOpt));\n    iter(fields, false);\n    iter(optFields, true);\n}\n/**\n * throws not implemented error\n */\nexport const notImplemented = () => {\n    throw new Error('not implemented');\n};\n/**\n * Memoizes (caches) computation result.\n * Uses WeakMap: the value is going auto-cleaned by GC after last reference is removed.\n */\nexport function memoized(fn) {\n    const map = new WeakMap();\n    return (arg, ...args) => {\n        const val = map.get(arg);\n        if (val !== undefined)\n            return val;\n        const computed = fn(arg, ...args);\n        map.set(arg, computed);\n        return computed;\n    };\n}\n//# sourceMappingURL=utils.js.map","/**\n * Utils for modular division and fields.\n * Field over 11 is a finite (Galois) field is integer number operations `mod 11`.\n * There is no division: it is replaced by modular multiplicative inverse.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { abytes, anumber, bytesToNumberBE, bytesToNumberLE, numberToBytesBE, numberToBytesLE, validateObject, } from \"../utils.js\";\n// Numbers aren't used in x25519 / x448 builds\n// prettier-ignore\nconst _0n = /* @__PURE__ */ BigInt(0), _1n = /* @__PURE__ */ BigInt(1), _2n = /* @__PURE__ */ BigInt(2);\n// prettier-ignore\nconst _3n = /* @__PURE__ */ BigInt(3), _4n = /* @__PURE__ */ BigInt(4), _5n = /* @__PURE__ */ BigInt(5);\n// prettier-ignore\nconst _7n = /* @__PURE__ */ BigInt(7), _8n = /* @__PURE__ */ BigInt(8), _9n = /* @__PURE__ */ BigInt(9);\nconst _16n = /* @__PURE__ */ BigInt(16);\n// Calculates a modulo b\nexport function mod(a, b) {\n    const result = a % b;\n    return result >= _0n ? result : b + result;\n}\n/**\n * Efficiently raise num to power and do modular division.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n * @example\n * pow(2n, 6n, 11n) // 64n % 11n == 9n\n */\nexport function pow(num, power, modulo) {\n    return FpPow(Field(modulo), num, power);\n}\n/** Does `x^(2^power)` mod p. `pow2(30, 4)` == `30^(2^4)` */\nexport function pow2(x, power, modulo) {\n    let res = x;\n    while (power-- > _0n) {\n        res *= res;\n        res %= modulo;\n    }\n    return res;\n}\n/**\n * Inverses number over modulo.\n * Implemented using [Euclidean GCD](https://brilliant.org/wiki/extended-euclidean-algorithm/).\n */\nexport function invert(number, modulo) {\n    if (number === _0n)\n        throw new Error('invert: expected non-zero number');\n    if (modulo <= _0n)\n        throw new Error('invert: expected positive modulus, got ' + modulo);\n    // Fermat's little theorem \"CT-like\" version inv(n) = n^(m-2) mod m is 30x slower.\n    let a = mod(number, modulo);\n    let b = modulo;\n    // prettier-ignore\n    let x = _0n, y = _1n, u = _1n, v = _0n;\n    while (a !== _0n) {\n        // JIT applies optimization if those two lines follow each other\n        const q = b / a;\n        const r = b % a;\n        const m = x - u * q;\n        const n = y - v * q;\n        // prettier-ignore\n        b = a, a = r, x = u, y = v, u = m, v = n;\n    }\n    const gcd = b;\n    if (gcd !== _1n)\n        throw new Error('invert: does not exist');\n    return mod(x, modulo);\n}\nfunction assertIsSquare(Fp, root, n) {\n    if (!Fp.eql(Fp.sqr(root), n))\n        throw new Error('Cannot find square root');\n}\n// Not all roots are possible! Example which will throw:\n// const NUM =\n// n = 72057594037927816n;\n// Fp = Field(BigInt('0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab'));\nfunction sqrt3mod4(Fp, n) {\n    const p1div4 = (Fp.ORDER + _1n) / _4n;\n    const root = Fp.pow(n, p1div4);\n    assertIsSquare(Fp, root, n);\n    return root;\n}\nfunction sqrt5mod8(Fp, n) {\n    const p5div8 = (Fp.ORDER - _5n) / _8n;\n    const n2 = Fp.mul(n, _2n);\n    const v = Fp.pow(n2, p5div8);\n    const nv = Fp.mul(n, v);\n    const i = Fp.mul(Fp.mul(nv, _2n), v);\n    const root = Fp.mul(nv, Fp.sub(i, Fp.ONE));\n    assertIsSquare(Fp, root, n);\n    return root;\n}\n// Based on RFC9380, Kong algorithm\n// prettier-ignore\nfunction sqrt9mod16(P) {\n    const Fp_ = Field(P);\n    const tn = tonelliShanks(P);\n    const c1 = tn(Fp_, Fp_.neg(Fp_.ONE)); //  1. c1 = sqrt(-1) in F, i.e., (c1^2) == -1 in F\n    const c2 = tn(Fp_, c1); //  2. c2 = sqrt(c1) in F, i.e., (c2^2) == c1 in F\n    const c3 = tn(Fp_, Fp_.neg(c1)); //  3. c3 = sqrt(-c1) in F, i.e., (c3^2) == -c1 in F\n    const c4 = (P + _7n) / _16n; //  4. c4 = (q + 7) / 16        # Integer arithmetic\n    return (Fp, n) => {\n        let tv1 = Fp.pow(n, c4); //  1. tv1 = x^c4\n        let tv2 = Fp.mul(tv1, c1); //  2. tv2 = c1 * tv1\n        const tv3 = Fp.mul(tv1, c2); //  3. tv3 = c2 * tv1\n        const tv4 = Fp.mul(tv1, c3); //  4. tv4 = c3 * tv1\n        const e1 = Fp.eql(Fp.sqr(tv2), n); //  5.  e1 = (tv2^2) == x\n        const e2 = Fp.eql(Fp.sqr(tv3), n); //  6.  e2 = (tv3^2) == x\n        tv1 = Fp.cmov(tv1, tv2, e1); //  7. tv1 = CMOV(tv1, tv2, e1)  # Select tv2 if (tv2^2) == x\n        tv2 = Fp.cmov(tv4, tv3, e2); //  8. tv2 = CMOV(tv4, tv3, e2)  # Select tv3 if (tv3^2) == x\n        const e3 = Fp.eql(Fp.sqr(tv2), n); //  9.  e3 = (tv2^2) == x\n        const root = Fp.cmov(tv1, tv2, e3); // 10.  z = CMOV(tv1, tv2, e3)   # Select sqrt from tv1 & tv2\n        assertIsSquare(Fp, root, n);\n        return root;\n    };\n}\n/**\n * Tonelli-Shanks square root search algorithm.\n * 1. https://eprint.iacr.org/2012/685.pdf (page 12)\n * 2. Square Roots from 1; 24, 51, 10 to Dan Shanks\n * @param P field order\n * @returns function that takes field Fp (created from P) and number n\n */\nexport function tonelliShanks(P) {\n    // Initialization (precomputation).\n    // Caching initialization could boost perf by 7%.\n    if (P < _3n)\n        throw new Error('sqrt is not defined for small field');\n    // Factor P - 1 = Q * 2^S, where Q is odd\n    let Q = P - _1n;\n    let S = 0;\n    while (Q % _2n === _0n) {\n        Q /= _2n;\n        S++;\n    }\n    // Find the first quadratic non-residue Z >= 2\n    let Z = _2n;\n    const _Fp = Field(P);\n    while (FpLegendre(_Fp, Z) === 1) {\n        // Basic primality test for P. After x iterations, chance of\n        // not finding quadratic non-residue is 2^x, so 2^1000.\n        if (Z++ > 1000)\n            throw new Error('Cannot find square root: probably non-prime P');\n    }\n    // Fast-path; usually done before Z, but we do \"primality test\".\n    if (S === 1)\n        return sqrt3mod4;\n    // Slow-path\n    // TODO: test on Fp2 and others\n    let cc = _Fp.pow(Z, Q); // c = z^Q\n    const Q1div2 = (Q + _1n) / _2n;\n    return function tonelliSlow(Fp, n) {\n        if (Fp.is0(n))\n            return n;\n        // Check if n is a quadratic residue using Legendre symbol\n        if (FpLegendre(Fp, n) !== 1)\n            throw new Error('Cannot find square root');\n        // Initialize variables for the main loop\n        let M = S;\n        let c = Fp.mul(Fp.ONE, cc); // c = z^Q, move cc from field _Fp into field Fp\n        let t = Fp.pow(n, Q); // t = n^Q, first guess at the fudge factor\n        let R = Fp.pow(n, Q1div2); // R = n^((Q+1)/2), first guess at the square root\n        // Main loop\n        // while t != 1\n        while (!Fp.eql(t, Fp.ONE)) {\n            if (Fp.is0(t))\n                return Fp.ZERO; // if t=0 return R=0\n            let i = 1;\n            // Find the smallest i >= 1 such that t^(2^i)  1 (mod P)\n            let t_tmp = Fp.sqr(t); // t^(2^1)\n            while (!Fp.eql(t_tmp, Fp.ONE)) {\n                i++;\n                t_tmp = Fp.sqr(t_tmp); // t^(2^2)...\n                if (i === M)\n                    throw new Error('Cannot find square root');\n            }\n            // Calculate the exponent for b: 2^(M - i - 1)\n            const exponent = _1n << BigInt(M - i - 1); // bigint is important\n            const b = Fp.pow(c, exponent); // b = 2^(M - i - 1)\n            // Update variables\n            M = i;\n            c = Fp.sqr(b); // c = b^2\n            t = Fp.mul(t, c); // t = (t * b^2)\n            R = Fp.mul(R, b); // R = R*b\n        }\n        return R;\n    };\n}\n/**\n * Square root for a finite field. Will try optimized versions first:\n *\n * 1. P  3 (mod 4)\n * 2. P  5 (mod 8)\n * 3. P  9 (mod 16)\n * 4. Tonelli-Shanks algorithm\n *\n * Different algorithms can give different roots, it is up to user to decide which one they want.\n * For example there is FpSqrtOdd/FpSqrtEven to choice root based on oddness (used for hash-to-curve).\n */\nexport function FpSqrt(P) {\n    // P  3 (mod 4) => n = n^((P+1)/4)\n    if (P % _4n === _3n)\n        return sqrt3mod4;\n    // P  5 (mod 8) => Atkin algorithm, page 10 of https://eprint.iacr.org/2012/685.pdf\n    if (P % _8n === _5n)\n        return sqrt5mod8;\n    // P  9 (mod 16) => Kong algorithm, page 11 of https://eprint.iacr.org/2012/685.pdf (algorithm 4)\n    if (P % _16n === _9n)\n        return sqrt9mod16(P);\n    // Tonelli-Shanks algorithm\n    return tonelliShanks(P);\n}\n// Little-endian check for first LE bit (last BE bit);\nexport const isNegativeLE = (num, modulo) => (mod(num, modulo) & _1n) === _1n;\n// prettier-ignore\nconst FIELD_FIELDS = [\n    'create', 'isValid', 'is0', 'neg', 'inv', 'sqrt', 'sqr',\n    'eql', 'add', 'sub', 'mul', 'pow', 'div',\n    'addN', 'subN', 'mulN', 'sqrN'\n];\nexport function validateField(field) {\n    const initial = {\n        ORDER: 'bigint',\n        BYTES: 'number',\n        BITS: 'number',\n    };\n    const opts = FIELD_FIELDS.reduce((map, val) => {\n        map[val] = 'function';\n        return map;\n    }, initial);\n    validateObject(field, opts);\n    // const max = 16384;\n    // if (field.BYTES < 1 || field.BYTES > max) throw new Error('invalid field');\n    // if (field.BITS < 1 || field.BITS > 8 * max) throw new Error('invalid field');\n    return field;\n}\n// Generic field functions\n/**\n * Same as `pow` but for Fp: non-constant-time.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n */\nexport function FpPow(Fp, num, power) {\n    if (power < _0n)\n        throw new Error('invalid exponent, negatives unsupported');\n    if (power === _0n)\n        return Fp.ONE;\n    if (power === _1n)\n        return num;\n    let p = Fp.ONE;\n    let d = num;\n    while (power > _0n) {\n        if (power & _1n)\n            p = Fp.mul(p, d);\n        d = Fp.sqr(d);\n        power >>= _1n;\n    }\n    return p;\n}\n/**\n * Efficiently invert an array of Field elements.\n * Exception-free. Will return `undefined` for 0 elements.\n * @param passZero map 0 to 0 (instead of undefined)\n */\nexport function FpInvertBatch(Fp, nums, passZero = false) {\n    const inverted = new Array(nums.length).fill(passZero ? Fp.ZERO : undefined);\n    // Walk from first to last, multiply them by each other MOD p\n    const multipliedAcc = nums.reduce((acc, num, i) => {\n        if (Fp.is0(num))\n            return acc;\n        inverted[i] = acc;\n        return Fp.mul(acc, num);\n    }, Fp.ONE);\n    // Invert last element\n    const invertedAcc = Fp.inv(multipliedAcc);\n    // Walk from last to first, multiply them by inverted each other MOD p\n    nums.reduceRight((acc, num, i) => {\n        if (Fp.is0(num))\n            return acc;\n        inverted[i] = Fp.mul(acc, inverted[i]);\n        return Fp.mul(acc, num);\n    }, invertedAcc);\n    return inverted;\n}\n// TODO: remove\nexport function FpDiv(Fp, lhs, rhs) {\n    return Fp.mul(lhs, typeof rhs === 'bigint' ? invert(rhs, Fp.ORDER) : Fp.inv(rhs));\n}\n/**\n * Legendre symbol.\n * Legendre constant is used to calculate Legendre symbol (a | p)\n * which denotes the value of a^((p-1)/2) (mod p).\n *\n * * (a | p)  1    if a is a square (mod p), quadratic residue\n * * (a | p)  -1   if a is not a square (mod p), quadratic non residue\n * * (a | p)  0    if a  0 (mod p)\n */\nexport function FpLegendre(Fp, n) {\n    // We can use 3rd argument as optional cache of this value\n    // but seems unneeded for now. The operation is very fast.\n    const p1mod2 = (Fp.ORDER - _1n) / _2n;\n    const powered = Fp.pow(n, p1mod2);\n    const yes = Fp.eql(powered, Fp.ONE);\n    const zero = Fp.eql(powered, Fp.ZERO);\n    const no = Fp.eql(powered, Fp.neg(Fp.ONE));\n    if (!yes && !zero && !no)\n        throw new Error('invalid Legendre symbol result');\n    return yes ? 1 : zero ? 0 : -1;\n}\n// This function returns True whenever the value x is a square in the field F.\nexport function FpIsSquare(Fp, n) {\n    const l = FpLegendre(Fp, n);\n    return l === 1;\n}\n// CURVE.n lengths\nexport function nLength(n, nBitLength) {\n    // Bit size, byte size of CURVE.n\n    if (nBitLength !== undefined)\n        anumber(nBitLength);\n    const _nBitLength = nBitLength !== undefined ? nBitLength : n.toString(2).length;\n    const nByteLength = Math.ceil(_nBitLength / 8);\n    return { nBitLength: _nBitLength, nByteLength };\n}\nclass _Field {\n    ORDER;\n    BITS;\n    BYTES;\n    isLE;\n    ZERO = _0n;\n    ONE = _1n;\n    _lengths;\n    _sqrt; // cached sqrt\n    _mod;\n    constructor(ORDER, opts = {}) {\n        if (ORDER <= _0n)\n            throw new Error('invalid field: expected ORDER > 0, got ' + ORDER);\n        let _nbitLength = undefined;\n        this.isLE = false;\n        if (opts != null && typeof opts === 'object') {\n            if (typeof opts.BITS === 'number')\n                _nbitLength = opts.BITS;\n            if (typeof opts.sqrt === 'function')\n                this.sqrt = opts.sqrt;\n            if (typeof opts.isLE === 'boolean')\n                this.isLE = opts.isLE;\n            if (opts.allowedLengths)\n                this._lengths = opts.allowedLengths?.slice();\n            if (typeof opts.modFromBytes === 'boolean')\n                this._mod = opts.modFromBytes;\n        }\n        const { nBitLength, nByteLength } = nLength(ORDER, _nbitLength);\n        if (nByteLength > 2048)\n            throw new Error('invalid field: expected ORDER of <= 2048 bytes');\n        this.ORDER = ORDER;\n        this.BITS = nBitLength;\n        this.BYTES = nByteLength;\n        this._sqrt = undefined;\n        Object.preventExtensions(this);\n    }\n    create(num) {\n        return mod(num, this.ORDER);\n    }\n    isValid(num) {\n        if (typeof num !== 'bigint')\n            throw new Error('invalid field element: expected bigint, got ' + typeof num);\n        return _0n <= num && num < this.ORDER; // 0 is valid element, but it's not invertible\n    }\n    is0(num) {\n        return num === _0n;\n    }\n    // is valid and invertible\n    isValidNot0(num) {\n        return !this.is0(num) && this.isValid(num);\n    }\n    isOdd(num) {\n        return (num & _1n) === _1n;\n    }\n    neg(num) {\n        return mod(-num, this.ORDER);\n    }\n    eql(lhs, rhs) {\n        return lhs === rhs;\n    }\n    sqr(num) {\n        return mod(num * num, this.ORDER);\n    }\n    add(lhs, rhs) {\n        return mod(lhs + rhs, this.ORDER);\n    }\n    sub(lhs, rhs) {\n        return mod(lhs - rhs, this.ORDER);\n    }\n    mul(lhs, rhs) {\n        return mod(lhs * rhs, this.ORDER);\n    }\n    pow(num, power) {\n        return FpPow(this, num, power);\n    }\n    div(lhs, rhs) {\n        return mod(lhs * invert(rhs, this.ORDER), this.ORDER);\n    }\n    // Same as above, but doesn't normalize\n    sqrN(num) {\n        return num * num;\n    }\n    addN(lhs, rhs) {\n        return lhs + rhs;\n    }\n    subN(lhs, rhs) {\n        return lhs - rhs;\n    }\n    mulN(lhs, rhs) {\n        return lhs * rhs;\n    }\n    inv(num) {\n        return invert(num, this.ORDER);\n    }\n    sqrt(num) {\n        // Caching _sqrt speeds up sqrt9mod16 by 5x and tonneli-shanks by 10%\n        if (!this._sqrt)\n            this._sqrt = FpSqrt(this.ORDER);\n        return this._sqrt(this, num);\n    }\n    toBytes(num) {\n        return this.isLE ? numberToBytesLE(num, this.BYTES) : numberToBytesBE(num, this.BYTES);\n    }\n    fromBytes(bytes, skipValidation = false) {\n        abytes(bytes);\n        const { _lengths: allowedLengths, BYTES, isLE, ORDER, _mod: modFromBytes } = this;\n        if (allowedLengths) {\n            if (!allowedLengths.includes(bytes.length) || bytes.length > BYTES) {\n                throw new Error('Field.fromBytes: expected ' + allowedLengths + ' bytes, got ' + bytes.length);\n            }\n            const padded = new Uint8Array(BYTES);\n            // isLE add 0 to right, !isLE to the left.\n            padded.set(bytes, isLE ? 0 : padded.length - bytes.length);\n            bytes = padded;\n        }\n        if (bytes.length !== BYTES)\n            throw new Error('Field.fromBytes: expected ' + BYTES + ' bytes, got ' + bytes.length);\n        let scalar = isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);\n        if (modFromBytes)\n            scalar = mod(scalar, ORDER);\n        if (!skipValidation)\n            if (!this.isValid(scalar))\n                throw new Error('invalid field element: outside of range 0..ORDER');\n        // NOTE: we don't validate scalar here, please use isValid. This done such way because some\n        // protocol may allow non-reduced scalar that reduced later or changed some other way.\n        return scalar;\n    }\n    // TODO: we don't need it here, move out to separate fn\n    invertBatch(lst) {\n        return FpInvertBatch(this, lst);\n    }\n    // We can't move this out because Fp6, Fp12 implement it\n    // and it's unclear what to return in there.\n    cmov(a, b, condition) {\n        return condition ? b : a;\n    }\n}\n/**\n * Creates a finite field. Major performance optimizations:\n * * 1. Denormalized operations like mulN instead of mul.\n * * 2. Identical object shape: never add or remove keys.\n * * 3. `Object.freeze`.\n * Fragile: always run a benchmark on a change.\n * Security note: operations don't check 'isValid' for all elements for performance reasons,\n * it is caller responsibility to check this.\n * This is low-level code, please make sure you know what you're doing.\n *\n * Note about field properties:\n * * CHARACTERISTIC p = prime number, number of elements in main subgroup.\n * * ORDER q = similar to cofactor in curves, may be composite `q = p^m`.\n *\n * @param ORDER field order, probably prime, or could be composite\n * @param bitLen how many bits the field consumes\n * @param isLE (default: false) if encoding / decoding should be in little-endian\n * @param redef optional faster redefinitions of sqrt and other methods\n */\nexport function Field(ORDER, opts = {}) {\n    return new _Field(ORDER, opts);\n}\n// Generic random scalar, we can do same for other fields if via Fp2.mul(Fp2.ONE, Fp2.random)?\n// This allows unsafe methods like ignore bias or zero. These unsafe, but often used in different protocols (if deterministic RNG).\n// which mean we cannot force this via opts.\n// Not sure what to do with randomBytes, we can accept it inside opts if wanted.\n// Probably need to export getMinHashLength somewhere?\n// random(bytes?: Uint8Array, unsafeAllowZero = false, unsafeAllowBias = false) {\n//   const LEN = !unsafeAllowBias ? getMinHashLength(ORDER) : BYTES;\n//   if (bytes === undefined) bytes = randomBytes(LEN); // _opts.randomBytes?\n//   const num = isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);\n//   // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n//   const reduced = unsafeAllowZero ? mod(num, ORDER) : mod(num, ORDER - _1n) + _1n;\n//   return reduced;\n// },\nexport function FpSqrtOdd(Fp, elm) {\n    if (!Fp.isOdd)\n        throw new Error(\"Field doesn't have isOdd\");\n    const root = Fp.sqrt(elm);\n    return Fp.isOdd(root) ? root : Fp.neg(root);\n}\nexport function FpSqrtEven(Fp, elm) {\n    if (!Fp.isOdd)\n        throw new Error(\"Field doesn't have isOdd\");\n    const root = Fp.sqrt(elm);\n    return Fp.isOdd(root) ? Fp.neg(root) : root;\n}\n/**\n * Returns total number of bytes consumed by the field element.\n * For example, 32 bytes for usual 256-bit weierstrass curve.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of field\n */\nexport function getFieldBytesLength(fieldOrder) {\n    if (typeof fieldOrder !== 'bigint')\n        throw new Error('field order must be bigint');\n    const bitLength = fieldOrder.toString(2).length;\n    return Math.ceil(bitLength / 8);\n}\n/**\n * Returns minimal amount of bytes that can be safely reduced\n * by field order.\n * Should be 2^-128 for 128-bit curve such as P256.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of target hash\n */\nexport function getMinHashLength(fieldOrder) {\n    const length = getFieldBytesLength(fieldOrder);\n    return length + Math.ceil(length / 2);\n}\n/**\n * \"Constant-time\" private key generation utility.\n * Can take (n + n/2) or more bytes of uniform input e.g. from CSPRNG or KDF\n * and convert them into private scalar, with the modulo bias being negligible.\n * Needs at least 48 bytes of input for 32-byte private key.\n * https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/\n * FIPS 186-5, A.2 https://csrc.nist.gov/publications/detail/fips/186/5/final\n * RFC 9380, https://www.rfc-editor.org/rfc/rfc9380#section-5\n * @param hash hash output from SHA3 or a similar function\n * @param groupOrder size of subgroup - (e.g. secp256k1.Point.Fn.ORDER)\n * @param isLE interpret hash bytes as LE num\n * @returns valid private scalar\n */\nexport function mapHashToField(key, fieldOrder, isLE = false) {\n    abytes(key);\n    const len = key.length;\n    const fieldLen = getFieldBytesLength(fieldOrder);\n    const minLen = getMinHashLength(fieldOrder);\n    // No small numbers: need to understand bias story. No huge numbers: easier to detect JS timings.\n    if (len < 16 || len < minLen || len > 1024)\n        throw new Error('expected ' + minLen + '-1024 bytes of input, got ' + len);\n    const num = isLE ? bytesToNumberLE(key) : bytesToNumberBE(key);\n    // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n    const reduced = mod(num, fieldOrder - _1n) + _1n;\n    return isLE ? numberToBytesLE(reduced, fieldLen) : numberToBytesBE(reduced, fieldLen);\n}\n//# sourceMappingURL=modular.js.map","/**\n * Methods for elliptic curve multiplication by scalars.\n * Contains wNAF, pippenger.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { bitLen, bitMask } from \"../utils.js\";\nimport { Field, FpInvertBatch, validateField } from \"./modular.js\";\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nexport function negateCt(condition, item) {\n    const neg = item.negate();\n    return condition ? neg : item;\n}\n/**\n * Takes a bunch of Projective Points but executes only one\n * inversion on all of them. Inversion is very slow operation,\n * so this improves performance massively.\n * Optimization: converts a list of projective points to a list of identical points with Z=1.\n */\nexport function normalizeZ(c, points) {\n    const invertedZs = FpInvertBatch(c.Fp, points.map((p) => p.Z));\n    return points.map((p, i) => c.fromAffine(p.toAffine(invertedZs[i])));\n}\nfunction validateW(W, bits) {\n    if (!Number.isSafeInteger(W) || W <= 0 || W > bits)\n        throw new Error('invalid window size, expected [1..' + bits + '], got W=' + W);\n}\nfunction calcWOpts(W, scalarBits) {\n    validateW(W, scalarBits);\n    const windows = Math.ceil(scalarBits / W) + 1; // W=8 33. Not 32, because we skip zero\n    const windowSize = 2 ** (W - 1); // W=8 128. Not 256, because we skip zero\n    const maxNumber = 2 ** W; // W=8 256\n    const mask = bitMask(W); // W=8 255 == mask 0b11111111\n    const shiftBy = BigInt(W); // W=8 8\n    return { windows, windowSize, mask, maxNumber, shiftBy };\n}\nfunction calcOffsets(n, window, wOpts) {\n    const { windowSize, mask, maxNumber, shiftBy } = wOpts;\n    let wbits = Number(n & mask); // extract W bits.\n    let nextN = n >> shiftBy; // shift number by W bits.\n    // What actually happens here:\n    // const highestBit = Number(mask ^ (mask >> 1n));\n    // let wbits2 = wbits - 1; // skip zero\n    // if (wbits2 & highestBit) { wbits2 ^= Number(mask); // (~);\n    // split if bits > max: +224 => 256-32\n    if (wbits > windowSize) {\n        // we skip zero, which means instead of `>= size-1`, we do `> size`\n        wbits -= maxNumber; // -32, can be maxNumber - wbits, but then we need to set isNeg here.\n        nextN += _1n; // +256 (carry)\n    }\n    const offsetStart = window * windowSize;\n    const offset = offsetStart + Math.abs(wbits) - 1; // -1 because we skip zero\n    const isZero = wbits === 0; // is current window slice a 0?\n    const isNeg = wbits < 0; // is current window slice negative?\n    const isNegF = window % 2 !== 0; // fake random statement for noise\n    const offsetF = offsetStart; // fake offset for noise\n    return { nextN, offset, isZero, isNeg, isNegF, offsetF };\n}\nfunction validateMSMPoints(points, c) {\n    if (!Array.isArray(points))\n        throw new Error('array expected');\n    points.forEach((p, i) => {\n        if (!(p instanceof c))\n            throw new Error('invalid point at index ' + i);\n    });\n}\nfunction validateMSMScalars(scalars, field) {\n    if (!Array.isArray(scalars))\n        throw new Error('array of scalars expected');\n    scalars.forEach((s, i) => {\n        if (!field.isValid(s))\n            throw new Error('invalid scalar at index ' + i);\n    });\n}\n// Since points in different groups cannot be equal (different object constructor),\n// we can have single place to store precomputes.\n// Allows to make points frozen / immutable.\nconst pointPrecomputes = new WeakMap();\nconst pointWindowSizes = new WeakMap();\nfunction getW(P) {\n    // To disable precomputes:\n    // return 1;\n    return pointWindowSizes.get(P) || 1;\n}\nfunction assert0(n) {\n    if (n !== _0n)\n        throw new Error('invalid wNAF');\n}\n/**\n * Elliptic curve multiplication of Point by scalar. Fragile.\n * Table generation takes **30MB of ram and 10ms on high-end CPU**,\n * but may take much longer on slow devices. Actual generation will happen on\n * first call of `multiply()`. By default, `BASE` point is precomputed.\n *\n * Scalars should always be less than curve order: this should be checked inside of a curve itself.\n * Creates precomputation tables for fast multiplication:\n * - private scalar is split by fixed size windows of W bits\n * - every window point is collected from window's table & added to accumulator\n * - since windows are different, same point inside tables won't be accessed more than once per calc\n * - each multiplication is 'Math.ceil(CURVE_ORDER / ) + 1' point additions (fixed for any scalar)\n * - +1 window is neccessary for wNAF\n * - wNAF reduces table size: 2x less memory + 2x faster generation, but 10% slower multiplication\n *\n * @todo Research returning 2d JS array of windows, instead of a single window.\n * This would allow windows to be in different memory locations\n */\nexport class wNAF {\n    BASE;\n    ZERO;\n    Fn;\n    bits;\n    // Parametrized with a given Point class (not individual point)\n    constructor(Point, bits) {\n        this.BASE = Point.BASE;\n        this.ZERO = Point.ZERO;\n        this.Fn = Point.Fn;\n        this.bits = bits;\n    }\n    // non-const time multiplication ladder\n    _unsafeLadder(elm, n, p = this.ZERO) {\n        let d = elm;\n        while (n > _0n) {\n            if (n & _1n)\n                p = p.add(d);\n            d = d.double();\n            n >>= _1n;\n        }\n        return p;\n    }\n    /**\n     * Creates a wNAF precomputation window. Used for caching.\n     * Default window size is set by `utils.precompute()` and is equal to 8.\n     * Number of precomputed points depends on the curve size:\n     * 2^(1) * (Math.ceil( / ) + 1), where:\n     * -  is the window size\n     * -  is the bitlength of the curve order.\n     * For a 256-bit curve and window size 8, the number of precomputed points is 128 * 33 = 4224.\n     * @param point Point instance\n     * @param W window size\n     * @returns precomputed point tables flattened to a single array\n     */\n    precomputeWindow(point, W) {\n        const { windows, windowSize } = calcWOpts(W, this.bits);\n        const points = [];\n        let p = point;\n        let base = p;\n        for (let window = 0; window < windows; window++) {\n            base = p;\n            points.push(base);\n            // i=1, bc we skip 0\n            for (let i = 1; i < windowSize; i++) {\n                base = base.add(p);\n                points.push(base);\n            }\n            p = base.double();\n        }\n        return points;\n    }\n    /**\n     * Implements ec multiplication using precomputed tables and w-ary non-adjacent form.\n     * More compact implementation:\n     * https://github.com/paulmillr/noble-secp256k1/blob/47cb1669b6e506ad66b35fe7d76132ae97465da2/index.ts#L502-L541\n     * @returns real and fake (for const-time) points\n     */\n    wNAF(W, precomputes, n) {\n        // Scalar should be smaller than field order\n        if (!this.Fn.isValid(n))\n            throw new Error('invalid scalar');\n        // Accumulators\n        let p = this.ZERO;\n        let f = this.BASE;\n        // This code was first written with assumption that 'f' and 'p' will never be infinity point:\n        // since each addition is multiplied by 2 ** W, it cannot cancel each other. However,\n        // there is negate now: it is possible that negated element from low value\n        // would be the same as high element, which will create carry into next window.\n        // It's not obvious how this can fail, but still worth investigating later.\n        const wo = calcWOpts(W, this.bits);\n        for (let window = 0; window < wo.windows; window++) {\n            // (n === _0n) is handled and not early-exited. isEven and offsetF are used for noise\n            const { nextN, offset, isZero, isNeg, isNegF, offsetF } = calcOffsets(n, window, wo);\n            n = nextN;\n            if (isZero) {\n                // bits are 0: add garbage to fake point\n                // Important part for const-time getPublicKey: add random \"noise\" point to f.\n                f = f.add(negateCt(isNegF, precomputes[offsetF]));\n            }\n            else {\n                // bits are 1: add to result point\n                p = p.add(negateCt(isNeg, precomputes[offset]));\n            }\n        }\n        assert0(n);\n        // Return both real and fake points: JIT won't eliminate f.\n        // At this point there is a way to F be infinity-point even if p is not,\n        // which makes it less const-time: around 1 bigint multiply.\n        return { p, f };\n    }\n    /**\n     * Implements ec unsafe (non const-time) multiplication using precomputed tables and w-ary non-adjacent form.\n     * @param acc accumulator point to add result of multiplication\n     * @returns point\n     */\n    wNAFUnsafe(W, precomputes, n, acc = this.ZERO) {\n        const wo = calcWOpts(W, this.bits);\n        for (let window = 0; window < wo.windows; window++) {\n            if (n === _0n)\n                break; // Early-exit, skip 0 value\n            const { nextN, offset, isZero, isNeg } = calcOffsets(n, window, wo);\n            n = nextN;\n            if (isZero) {\n                // Window bits are 0: skip processing.\n                // Move to next window.\n                continue;\n            }\n            else {\n                const item = precomputes[offset];\n                acc = acc.add(isNeg ? item.negate() : item); // Re-using acc allows to save adds in MSM\n            }\n        }\n        assert0(n);\n        return acc;\n    }\n    getPrecomputes(W, point, transform) {\n        // Calculate precomputes on a first run, reuse them after\n        let comp = pointPrecomputes.get(point);\n        if (!comp) {\n            comp = this.precomputeWindow(point, W);\n            if (W !== 1) {\n                // Doing transform outside of if brings 15% perf hit\n                if (typeof transform === 'function')\n                    comp = transform(comp);\n                pointPrecomputes.set(point, comp);\n            }\n        }\n        return comp;\n    }\n    cached(point, scalar, transform) {\n        const W = getW(point);\n        return this.wNAF(W, this.getPrecomputes(W, point, transform), scalar);\n    }\n    unsafe(point, scalar, transform, prev) {\n        const W = getW(point);\n        if (W === 1)\n            return this._unsafeLadder(point, scalar, prev); // For W=1 ladder is ~x2 faster\n        return this.wNAFUnsafe(W, this.getPrecomputes(W, point, transform), scalar, prev);\n    }\n    // We calculate precomputes for elliptic curve point multiplication\n    // using windowed method. This specifies window size and\n    // stores precomputed values. Usually only base point would be precomputed.\n    createCache(P, W) {\n        validateW(W, this.bits);\n        pointWindowSizes.set(P, W);\n        pointPrecomputes.delete(P);\n    }\n    hasCache(elm) {\n        return getW(elm) !== 1;\n    }\n}\n/**\n * Endomorphism-specific multiplication for Koblitz curves.\n * Cost: 128 dbl, 0-256 adds.\n */\nexport function mulEndoUnsafe(Point, point, k1, k2) {\n    let acc = point;\n    let p1 = Point.ZERO;\n    let p2 = Point.ZERO;\n    while (k1 > _0n || k2 > _0n) {\n        if (k1 & _1n)\n            p1 = p1.add(acc);\n        if (k2 & _1n)\n            p2 = p2.add(acc);\n        acc = acc.double();\n        k1 >>= _1n;\n        k2 >>= _1n;\n    }\n    return { p1, p2 };\n}\n/**\n * Pippenger algorithm for multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * 30x faster vs naive addition on L=4096, 10x faster than precomputes.\n * For N=254bit, L=1, it does: 1024 ADD + 254 DBL. For L=5: 1536 ADD + 254 DBL.\n * Algorithmically constant-time (for same L), even when 1 point + scalar, or when scalar = 0.\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @param scalars array of L scalars (aka secret keys / bigints)\n */\nexport function pippenger(c, points, scalars) {\n    // If we split scalars by some window (let's say 8 bits), every chunk will only\n    // take 256 buckets even if there are 4096 scalars, also re-uses double.\n    // TODO:\n    // - https://eprint.iacr.org/2024/750.pdf\n    // - https://tches.iacr.org/index.php/TCHES/article/view/10287\n    // 0 is accepted in scalars\n    const fieldN = c.Fn;\n    validateMSMPoints(points, c);\n    validateMSMScalars(scalars, fieldN);\n    const plength = points.length;\n    const slength = scalars.length;\n    if (plength !== slength)\n        throw new Error('arrays of points and scalars must have equal length');\n    // if (plength === 0) throw new Error('array must be of length >= 2');\n    const zero = c.ZERO;\n    const wbits = bitLen(BigInt(plength));\n    let windowSize = 1; // bits\n    if (wbits > 12)\n        windowSize = wbits - 3;\n    else if (wbits > 4)\n        windowSize = wbits - 2;\n    else if (wbits > 0)\n        windowSize = 2;\n    const MASK = bitMask(windowSize);\n    const buckets = new Array(Number(MASK) + 1).fill(zero); // +1 for zero array\n    const lastBits = Math.floor((fieldN.BITS - 1) / windowSize) * windowSize;\n    let sum = zero;\n    for (let i = lastBits; i >= 0; i -= windowSize) {\n        buckets.fill(zero);\n        for (let j = 0; j < slength; j++) {\n            const scalar = scalars[j];\n            const wbits = Number((scalar >> BigInt(i)) & MASK);\n            buckets[wbits] = buckets[wbits].add(points[j]);\n        }\n        let resI = zero; // not using this will do small speed-up, but will lose ct\n        // Skip first bucket, because it is zero\n        for (let j = buckets.length - 1, sumI = zero; j > 0; j--) {\n            sumI = sumI.add(buckets[j]);\n            resI = resI.add(sumI);\n        }\n        sum = sum.add(resI);\n        if (i !== 0)\n            for (let j = 0; j < windowSize; j++)\n                sum = sum.double();\n    }\n    return sum;\n}\n/**\n * Precomputed multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @returns function which multiplies points with scaars\n */\nexport function precomputeMSMUnsafe(c, points, windowSize) {\n    /**\n     * Performance Analysis of Window-based Precomputation\n     *\n     * Base Case (256-bit scalar, 8-bit window):\n     * - Standard precomputation requires:\n     *   - 31 additions per scalar  256 scalars = 7,936 ops\n     *   - Plus 255 summary additions = 8,191 total ops\n     *   Note: Summary additions can be optimized via accumulator\n     *\n     * Chunked Precomputation Analysis:\n     * - Using 32 chunks requires:\n     *   - 255 additions per chunk\n     *   - 256 doublings\n     *   - Total: (255  32) + 256 = 8,416 ops\n     *\n     * Memory Usage Comparison:\n     * Window Size | Standard Points | Chunked Points\n     * ------------|-----------------|---------------\n     *     4-bit   |     520         |      15\n     *     8-bit   |    4,224        |     255\n     *    10-bit   |   13,824        |   1,023\n     *    16-bit   |  557,056        |  65,535\n     *\n     * Key Advantages:\n     * 1. Enables larger window sizes due to reduced memory overhead\n     * 2. More efficient for smaller scalar counts:\n     *    - 16 chunks: (16  255) + 256 = 4,336 ops\n     *    - ~2x faster than standard 8,191 ops\n     *\n     * Limitations:\n     * - Not suitable for plain precomputes (requires 256 constant doublings)\n     * - Performance degrades with larger scalar counts:\n     *   - Optimal for ~256 scalars\n     *   - Less efficient for 4096+ scalars (Pippenger preferred)\n     */\n    const fieldN = c.Fn;\n    validateW(windowSize, fieldN.BITS);\n    validateMSMPoints(points, c);\n    const zero = c.ZERO;\n    const tableSize = 2 ** windowSize - 1; // table size (without zero)\n    const chunks = Math.ceil(fieldN.BITS / windowSize); // chunks of item\n    const MASK = bitMask(windowSize);\n    const tables = points.map((p) => {\n        const res = [];\n        for (let i = 0, acc = p; i < tableSize; i++) {\n            res.push(acc);\n            acc = acc.add(p);\n        }\n        return res;\n    });\n    return (scalars) => {\n        validateMSMScalars(scalars, fieldN);\n        if (scalars.length > points.length)\n            throw new Error('array of scalars must be smaller than array of points');\n        let res = zero;\n        for (let i = 0; i < chunks; i++) {\n            // No need to double if accumulator is still zero.\n            if (res !== zero)\n                for (let j = 0; j < windowSize; j++)\n                    res = res.double();\n            const shiftBy = BigInt(chunks * windowSize - (i + 1) * windowSize);\n            for (let j = 0; j < scalars.length; j++) {\n                const n = scalars[j];\n                const curr = Number((n >> shiftBy) & MASK);\n                if (!curr)\n                    continue; // skip zero scalars chunks\n                res = res.add(tables[j][curr - 1]);\n            }\n        }\n        return res;\n    };\n}\nfunction createField(order, field, isLE) {\n    if (field) {\n        if (field.ORDER !== order)\n            throw new Error('Field.ORDER must match order: Fp == p, Fn == n');\n        validateField(field);\n        return field;\n    }\n    else {\n        return Field(order, { isLE });\n    }\n}\n/** Validates CURVE opts and creates fields */\nexport function createCurveFields(type, CURVE, curveOpts = {}, FpFnLE) {\n    if (FpFnLE === undefined)\n        FpFnLE = type === 'edwards';\n    if (!CURVE || typeof CURVE !== 'object')\n        throw new Error(`expected valid ${type} CURVE object`);\n    for (const p of ['p', 'n', 'h']) {\n        const val = CURVE[p];\n        if (!(typeof val === 'bigint' && val > _0n))\n            throw new Error(`CURVE.${p} must be positive bigint`);\n    }\n    const Fp = createField(CURVE.p, curveOpts.Fp, FpFnLE);\n    const Fn = createField(CURVE.n, curveOpts.Fn, FpFnLE);\n    const _b = type === 'weierstrass' ? 'b' : 'd';\n    const params = ['Gx', 'Gy', 'a', _b];\n    for (const p of params) {\n        // @ts-ignore\n        if (!Fp.isValid(CURVE[p]))\n            throw new Error(`CURVE.${p} must be valid field element of CURVE.Fp`);\n    }\n    CURVE = Object.freeze(Object.assign({}, CURVE));\n    return { CURVE, Fp, Fn };\n}\nexport function createKeygen(randomSecretKey, getPublicKey) {\n    return function keygen(seed) {\n        const secretKey = randomSecretKey(seed);\n        return { secretKey, publicKey: getPublicKey(secretKey) };\n    };\n}\n//# sourceMappingURL=curve.js.map","/**\n * Twisted Edwards curve. The formula is: ax + y = 1 + dxy.\n * For design rationale of types / exports, see weierstrass module documentation.\n * Untwisted Edwards curves exist, but they aren't used in real-world protocols.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { abool, abytes, aInRange, bytesToHex, bytesToNumberLE, concatBytes, copyBytes, hexToBytes, isBytes, memoized, notImplemented, validateObject, randomBytes as wcRandomBytes, } from \"../utils.js\";\nimport { createCurveFields, createKeygen, normalizeZ, wNAF, } from \"./curve.js\";\nimport {} from \"./modular.js\";\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _8n = BigInt(8);\nfunction isEdValidXY(Fp, CURVE, x, y) {\n    const x2 = Fp.sqr(x);\n    const y2 = Fp.sqr(y);\n    const left = Fp.add(Fp.mul(CURVE.a, x2), y2);\n    const right = Fp.add(Fp.ONE, Fp.mul(CURVE.d, Fp.mul(x2, y2)));\n    return Fp.eql(left, right);\n}\nexport function edwards(params, extraOpts = {}) {\n    const validated = createCurveFields('edwards', params, extraOpts, extraOpts.FpFnLE);\n    const { Fp, Fn } = validated;\n    let CURVE = validated.CURVE;\n    const { h: cofactor } = CURVE;\n    validateObject(extraOpts, {}, { uvRatio: 'function' });\n    // Important:\n    // There are some places where Fp.BYTES is used instead of nByteLength.\n    // So far, everything has been tested with curves of Fp.BYTES == nByteLength.\n    // TODO: test and find curves which behave otherwise.\n    const MASK = _2n << (BigInt(Fn.BYTES * 8) - _1n);\n    const modP = (n) => Fp.create(n); // Function overrides\n    // sqrt(u/v)\n    const uvRatio = extraOpts.uvRatio ||\n        ((u, v) => {\n            try {\n                return { isValid: true, value: Fp.sqrt(Fp.div(u, v)) };\n            }\n            catch (e) {\n                return { isValid: false, value: _0n };\n            }\n        });\n    // Validate whether the passed curve params are valid.\n    // equation ax + y = 1 + dxy should work for generator point.\n    if (!isEdValidXY(Fp, CURVE, CURVE.Gx, CURVE.Gy))\n        throw new Error('bad curve params: generator point');\n    /**\n     * Asserts coordinate is valid: 0 <= n < MASK.\n     * Coordinates >= Fp.ORDER are allowed for zip215.\n     */\n    function acoord(title, n, banZero = false) {\n        const min = banZero ? _1n : _0n;\n        aInRange('coordinate ' + title, n, min, MASK);\n        return n;\n    }\n    function aedpoint(other) {\n        if (!(other instanceof Point))\n            throw new Error('EdwardsPoint expected');\n    }\n    // Converts Extended point to default (x, y) coordinates.\n    // Can accept precomputed Z^-1 - for example, from invertBatch.\n    const toAffineMemo = memoized((p, iz) => {\n        const { X, Y, Z } = p;\n        const is0 = p.is0();\n        if (iz == null)\n            iz = is0 ? _8n : Fp.inv(Z); // 8 was chosen arbitrarily\n        const x = modP(X * iz);\n        const y = modP(Y * iz);\n        const zz = Fp.mul(Z, iz);\n        if (is0)\n            return { x: _0n, y: _1n };\n        if (zz !== _1n)\n            throw new Error('invZ was invalid');\n        return { x, y };\n    });\n    const assertValidMemo = memoized((p) => {\n        const { a, d } = CURVE;\n        if (p.is0())\n            throw new Error('bad point: ZERO'); // TODO: optimize, with vars below?\n        // Equation in affine coordinates: ax + y = 1 + dxy\n        // Equation in projective coordinates (X/Z, Y/Z, Z):  (aX + Y)Z = Z + dXY\n        const { X, Y, Z, T } = p;\n        const X2 = modP(X * X); // X\n        const Y2 = modP(Y * Y); // Y\n        const Z2 = modP(Z * Z); // Z\n        const Z4 = modP(Z2 * Z2); // Z\n        const aX2 = modP(X2 * a); // aX\n        const left = modP(Z2 * modP(aX2 + Y2)); // (aX + Y)Z\n        const right = modP(Z4 + modP(d * modP(X2 * Y2))); // Z + dXY\n        if (left !== right)\n            throw new Error('bad point: equation left != right (1)');\n        // In Extended coordinates we also have T, which is x*y=T/Z: check X*Y == Z*T\n        const XY = modP(X * Y);\n        const ZT = modP(Z * T);\n        if (XY !== ZT)\n            throw new Error('bad point: equation left != right (2)');\n        return true;\n    });\n    // Extended Point works in extended coordinates: (X, Y, Z, T)  (x=X/Z, y=Y/Z, T=xy).\n    // https://en.wikipedia.org/wiki/Twisted_Edwards_curve#Extended_coordinates\n    class Point {\n        // base / generator point\n        static BASE = new Point(CURVE.Gx, CURVE.Gy, _1n, modP(CURVE.Gx * CURVE.Gy));\n        // zero / infinity / identity point\n        static ZERO = new Point(_0n, _1n, _1n, _0n); // 0, 1, 1, 0\n        // math field\n        static Fp = Fp;\n        // scalar field\n        static Fn = Fn;\n        X;\n        Y;\n        Z;\n        T;\n        constructor(X, Y, Z, T) {\n            this.X = acoord('x', X);\n            this.Y = acoord('y', Y);\n            this.Z = acoord('z', Z, true);\n            this.T = acoord('t', T);\n            Object.freeze(this);\n        }\n        static CURVE() {\n            return CURVE;\n        }\n        static fromAffine(p) {\n            if (p instanceof Point)\n                throw new Error('extended point not allowed');\n            const { x, y } = p || {};\n            acoord('x', x);\n            acoord('y', y);\n            return new Point(x, y, _1n, modP(x * y));\n        }\n        // Uses algo from RFC8032 5.1.3.\n        static fromBytes(bytes, zip215 = false) {\n            const len = Fp.BYTES;\n            const { a, d } = CURVE;\n            bytes = copyBytes(abytes(bytes, len, 'point'));\n            abool(zip215, 'zip215');\n            const normed = copyBytes(bytes); // copy again, we'll manipulate it\n            const lastByte = bytes[len - 1]; // select last byte\n            normed[len - 1] = lastByte & ~0x80; // clear last bit\n            const y = bytesToNumberLE(normed);\n            // zip215=true is good for consensus-critical apps. =false follows RFC8032 / NIST186-5.\n            // RFC8032 prohibits >= p, but ZIP215 doesn't\n            // zip215=true:  0 <= y < MASK (2^256 for ed25519)\n            // zip215=false: 0 <= y < P (2^255-19 for ed25519)\n            const max = zip215 ? MASK : Fp.ORDER;\n            aInRange('point.y', y, _0n, max);\n            // Ed25519: x = (y-1)/(dy+1) mod p. Ed448: x = (y-1)/(dy-1) mod p. Generic case:\n            // ax+y=1+dxy => y-1=dxy-ax => y-1=x(dy-a) => x=(y-1)/(dy-a)\n            const y2 = modP(y * y); // denominator is always non-0 mod p.\n            const u = modP(y2 - _1n); // u = y - 1\n            const v = modP(d * y2 - a); // v = d y + 1.\n            let { isValid, value: x } = uvRatio(u, v); // (u/v)\n            if (!isValid)\n                throw new Error('bad point: invalid y coordinate');\n            const isXOdd = (x & _1n) === _1n; // There are 2 square roots. Use x_0 bit to select proper\n            const isLastByteOdd = (lastByte & 0x80) !== 0; // x_0, last bit\n            if (!zip215 && x === _0n && isLastByteOdd)\n                // if x=0 and x_0 = 1, fail\n                throw new Error('bad point: x=0 and x_0=1');\n            if (isLastByteOdd !== isXOdd)\n                x = modP(-x); // if x_0 != x mod 2, set x = p-x\n            return Point.fromAffine({ x, y });\n        }\n        static fromHex(hex, zip215 = false) {\n            return Point.fromBytes(hexToBytes(hex), zip215);\n        }\n        get x() {\n            return this.toAffine().x;\n        }\n        get y() {\n            return this.toAffine().y;\n        }\n        precompute(windowSize = 8, isLazy = true) {\n            wnaf.createCache(this, windowSize);\n            if (!isLazy)\n                this.multiply(_2n); // random number\n            return this;\n        }\n        // Useful in fromAffine() - not for fromBytes(), which always created valid points.\n        assertValidity() {\n            assertValidMemo(this);\n        }\n        // Compare one point to another.\n        equals(other) {\n            aedpoint(other);\n            const { X: X1, Y: Y1, Z: Z1 } = this;\n            const { X: X2, Y: Y2, Z: Z2 } = other;\n            const X1Z2 = modP(X1 * Z2);\n            const X2Z1 = modP(X2 * Z1);\n            const Y1Z2 = modP(Y1 * Z2);\n            const Y2Z1 = modP(Y2 * Z1);\n            return X1Z2 === X2Z1 && Y1Z2 === Y2Z1;\n        }\n        is0() {\n            return this.equals(Point.ZERO);\n        }\n        negate() {\n            // Flips point sign to a negative one (-x, y in affine coords)\n            return new Point(modP(-this.X), this.Y, this.Z, modP(-this.T));\n        }\n        // Fast algo for doubling Extended Point.\n        // https://hyperelliptic.org/EFD/g1p/auto-twisted-extended.html#doubling-dbl-2008-hwcd\n        // Cost: 4M + 4S + 1*a + 6add + 1*2.\n        double() {\n            const { a } = CURVE;\n            const { X: X1, Y: Y1, Z: Z1 } = this;\n            const A = modP(X1 * X1); // A = X12\n            const B = modP(Y1 * Y1); // B = Y12\n            const C = modP(_2n * modP(Z1 * Z1)); // C = 2*Z12\n            const D = modP(a * A); // D = a*A\n            const x1y1 = X1 + Y1;\n            const E = modP(modP(x1y1 * x1y1) - A - B); // E = (X1+Y1)2-A-B\n            const G = D + B; // G = D+B\n            const F = G - C; // F = G-C\n            const H = D - B; // H = D-B\n            const X3 = modP(E * F); // X3 = E*F\n            const Y3 = modP(G * H); // Y3 = G*H\n            const T3 = modP(E * H); // T3 = E*H\n            const Z3 = modP(F * G); // Z3 = F*G\n            return new Point(X3, Y3, Z3, T3);\n        }\n        // Fast algo for adding 2 Extended Points.\n        // https://hyperelliptic.org/EFD/g1p/auto-twisted-extended.html#addition-add-2008-hwcd\n        // Cost: 9M + 1*a + 1*d + 7add.\n        add(other) {\n            aedpoint(other);\n            const { a, d } = CURVE;\n            const { X: X1, Y: Y1, Z: Z1, T: T1 } = this;\n            const { X: X2, Y: Y2, Z: Z2, T: T2 } = other;\n            const A = modP(X1 * X2); // A = X1*X2\n            const B = modP(Y1 * Y2); // B = Y1*Y2\n            const C = modP(T1 * d * T2); // C = T1*d*T2\n            const D = modP(Z1 * Z2); // D = Z1*Z2\n            const E = modP((X1 + Y1) * (X2 + Y2) - A - B); // E = (X1+Y1)*(X2+Y2)-A-B\n            const F = D - C; // F = D-C\n            const G = D + C; // G = D+C\n            const H = modP(B - a * A); // H = B-a*A\n            const X3 = modP(E * F); // X3 = E*F\n            const Y3 = modP(G * H); // Y3 = G*H\n            const T3 = modP(E * H); // T3 = E*H\n            const Z3 = modP(F * G); // Z3 = F*G\n            return new Point(X3, Y3, Z3, T3);\n        }\n        subtract(other) {\n            return this.add(other.negate());\n        }\n        // Constant-time multiplication.\n        multiply(scalar) {\n            // 1 <= scalar < L\n            if (!Fn.isValidNot0(scalar))\n                throw new Error('invalid scalar: expected 1 <= sc < curve.n');\n            const { p, f } = wnaf.cached(this, scalar, (p) => normalizeZ(Point, p));\n            return normalizeZ(Point, [p, f])[0];\n        }\n        // Non-constant-time multiplication. Uses double-and-add algorithm.\n        // It's faster, but should only be used when you don't care about\n        // an exposed private key e.g. sig verification.\n        // Does NOT allow scalars higher than CURVE.n.\n        // Accepts optional accumulator to merge with multiply (important for sparse scalars)\n        multiplyUnsafe(scalar, acc = Point.ZERO) {\n            // 0 <= scalar < L\n            if (!Fn.isValid(scalar))\n                throw new Error('invalid scalar: expected 0 <= sc < curve.n');\n            if (scalar === _0n)\n                return Point.ZERO;\n            if (this.is0() || scalar === _1n)\n                return this;\n            return wnaf.unsafe(this, scalar, (p) => normalizeZ(Point, p), acc);\n        }\n        // Checks if point is of small order.\n        // If you add something to small order point, you will have \"dirty\"\n        // point with torsion component.\n        // Multiplies point by cofactor and checks if the result is 0.\n        isSmallOrder() {\n            return this.multiplyUnsafe(cofactor).is0();\n        }\n        // Multiplies point by curve order and checks if the result is 0.\n        // Returns `false` is the point is dirty.\n        isTorsionFree() {\n            return wnaf.unsafe(this, CURVE.n).is0();\n        }\n        // Converts Extended point to default (x, y) coordinates.\n        // Can accept precomputed Z^-1 - for example, from invertBatch.\n        toAffine(invertedZ) {\n            return toAffineMemo(this, invertedZ);\n        }\n        clearCofactor() {\n            if (cofactor === _1n)\n                return this;\n            return this.multiplyUnsafe(cofactor);\n        }\n        toBytes() {\n            const { x, y } = this.toAffine();\n            // Fp.toBytes() allows non-canonical encoding of y (>= p).\n            const bytes = Fp.toBytes(y);\n            // Each y has 2 valid points: (x, y), (x,-y).\n            // When compressing, it's enough to store y and use the last byte to encode sign of x\n            bytes[bytes.length - 1] |= x & _1n ? 0x80 : 0;\n            return bytes;\n        }\n        toHex() {\n            return bytesToHex(this.toBytes());\n        }\n        toString() {\n            return `<Point ${this.is0() ? 'ZERO' : this.toHex()}>`;\n        }\n    }\n    const wnaf = new wNAF(Point, Fn.BITS);\n    Point.BASE.precompute(8); // Enable precomputes. Slows down first publicKey computation by 20ms.\n    return Point;\n}\n/**\n * Base class for prime-order points like Ristretto255 and Decaf448.\n * These points eliminate cofactor issues by representing equivalence classes\n * of Edwards curve points.\n */\nexport class PrimeEdwardsPoint {\n    static BASE;\n    static ZERO;\n    static Fp;\n    static Fn;\n    ep;\n    constructor(ep) {\n        this.ep = ep;\n    }\n    // Static methods that must be implemented by subclasses\n    static fromBytes(_bytes) {\n        notImplemented();\n    }\n    static fromHex(_hex) {\n        notImplemented();\n    }\n    get x() {\n        return this.toAffine().x;\n    }\n    get y() {\n        return this.toAffine().y;\n    }\n    // Common implementations\n    clearCofactor() {\n        // no-op for prime-order groups\n        return this;\n    }\n    assertValidity() {\n        this.ep.assertValidity();\n    }\n    toAffine(invertedZ) {\n        return this.ep.toAffine(invertedZ);\n    }\n    toHex() {\n        return bytesToHex(this.toBytes());\n    }\n    toString() {\n        return this.toHex();\n    }\n    isTorsionFree() {\n        return true;\n    }\n    isSmallOrder() {\n        return false;\n    }\n    add(other) {\n        this.assertSame(other);\n        return this.init(this.ep.add(other.ep));\n    }\n    subtract(other) {\n        this.assertSame(other);\n        return this.init(this.ep.subtract(other.ep));\n    }\n    multiply(scalar) {\n        return this.init(this.ep.multiply(scalar));\n    }\n    multiplyUnsafe(scalar) {\n        return this.init(this.ep.multiplyUnsafe(scalar));\n    }\n    double() {\n        return this.init(this.ep.double());\n    }\n    negate() {\n        return this.init(this.ep.negate());\n    }\n    precompute(windowSize, isLazy) {\n        return this.init(this.ep.precompute(windowSize, isLazy));\n    }\n}\n/**\n * Initializes EdDSA signatures over given Edwards curve.\n */\nexport function eddsa(Point, cHash, eddsaOpts = {}) {\n    if (typeof cHash !== 'function')\n        throw new Error('\"hash\" function param is required');\n    validateObject(eddsaOpts, {}, {\n        adjustScalarBytes: 'function',\n        randomBytes: 'function',\n        domain: 'function',\n        prehash: 'function',\n        mapToCurve: 'function',\n    });\n    const { prehash } = eddsaOpts;\n    const { BASE, Fp, Fn } = Point;\n    const randomBytes = eddsaOpts.randomBytes || wcRandomBytes;\n    const adjustScalarBytes = eddsaOpts.adjustScalarBytes || ((bytes) => bytes);\n    const domain = eddsaOpts.domain ||\n        ((data, ctx, phflag) => {\n            abool(phflag, 'phflag');\n            if (ctx.length || phflag)\n                throw new Error('Contexts/pre-hash are not supported');\n            return data;\n        }); // NOOP\n    // Little-endian SHA512 with modulo n\n    function modN_LE(hash) {\n        return Fn.create(bytesToNumberLE(hash)); // Not Fn.fromBytes: it has length limit\n    }\n    // Get the hashed private scalar per RFC8032 5.1.5\n    function getPrivateScalar(key) {\n        const len = lengths.secretKey;\n        abytes(key, lengths.secretKey, 'secretKey');\n        // Hash private key with curve's hash function to produce uniformingly random input\n        // Check byte lengths: ensure(64, h(ensure(32, key)))\n        const hashed = abytes(cHash(key), 2 * len, 'hashedSecretKey');\n        const head = adjustScalarBytes(hashed.slice(0, len)); // clear first half bits, produce FE\n        const prefix = hashed.slice(len, 2 * len); // second half is called key prefix (5.1.6)\n        const scalar = modN_LE(head); // The actual private scalar\n        return { head, prefix, scalar };\n    }\n    /** Convenience method that creates public key from scalar. RFC8032 5.1.5 */\n    function getExtendedPublicKey(secretKey) {\n        const { head, prefix, scalar } = getPrivateScalar(secretKey);\n        const point = BASE.multiply(scalar); // Point on Edwards curve aka public key\n        const pointBytes = point.toBytes();\n        return { head, prefix, scalar, point, pointBytes };\n    }\n    /** Calculates EdDSA pub key. RFC8032 5.1.5. */\n    function getPublicKey(secretKey) {\n        return getExtendedPublicKey(secretKey).pointBytes;\n    }\n    // int('LE', SHA512(dom2(F, C) || msgs)) mod N\n    function hashDomainToScalar(context = Uint8Array.of(), ...msgs) {\n        const msg = concatBytes(...msgs);\n        return modN_LE(cHash(domain(msg, abytes(context, undefined, 'context'), !!prehash)));\n    }\n    /** Signs message with secret key. RFC8032 5.1.6 */\n    function sign(msg, secretKey, options = {}) {\n        msg = abytes(msg, undefined, 'message');\n        if (prehash)\n            msg = prehash(msg); // for ed25519ph etc.\n        const { prefix, scalar, pointBytes } = getExtendedPublicKey(secretKey);\n        const r = hashDomainToScalar(options.context, prefix, msg); // r = dom2(F, C) || prefix || PH(M)\n        const R = BASE.multiply(r).toBytes(); // R = rG\n        const k = hashDomainToScalar(options.context, R, pointBytes, msg); // R || A || PH(M)\n        const s = Fn.create(r + k * scalar); // S = (r + k * s) mod L\n        if (!Fn.isValid(s))\n            throw new Error('sign failed: invalid s'); // 0 <= s < L\n        const rs = concatBytes(R, Fn.toBytes(s));\n        return abytes(rs, lengths.signature, 'result');\n    }\n    // verification rule is either zip215 or rfc8032 / nist186-5. Consult fromHex:\n    const verifyOpts = { zip215: true };\n    /**\n     * Verifies EdDSA signature against message and public key. RFC8032 5.1.7.\n     * An extended group equation is checked.\n     */\n    function verify(sig, msg, publicKey, options = verifyOpts) {\n        const { context, zip215 } = options;\n        const len = lengths.signature;\n        sig = abytes(sig, len, 'signature');\n        msg = abytes(msg, undefined, 'message');\n        publicKey = abytes(publicKey, lengths.publicKey, 'publicKey');\n        if (zip215 !== undefined)\n            abool(zip215, 'zip215');\n        if (prehash)\n            msg = prehash(msg); // for ed25519ph, etc\n        const mid = len / 2;\n        const r = sig.subarray(0, mid);\n        const s = bytesToNumberLE(sig.subarray(mid, len));\n        let A, R, SB;\n        try {\n            // zip215=true is good for consensus-critical apps. =false follows RFC8032 / NIST186-5.\n            // zip215=true:  0 <= y < MASK (2^256 for ed25519)\n            // zip215=false: 0 <= y < P (2^255-19 for ed25519)\n            A = Point.fromBytes(publicKey, zip215);\n            R = Point.fromBytes(r, zip215);\n            SB = BASE.multiplyUnsafe(s); // 0 <= s < l is done inside\n        }\n        catch (error) {\n            return false;\n        }\n        if (!zip215 && A.isSmallOrder())\n            return false; // zip215 allows public keys of small order\n        const k = hashDomainToScalar(context, R.toBytes(), A.toBytes(), msg);\n        const RkA = R.add(A.multiplyUnsafe(k));\n        // Extended group equation\n        // [8][S]B = [8]R + [8][k]A'\n        return RkA.subtract(SB).clearCofactor().is0();\n    }\n    const _size = Fp.BYTES; // 32 for ed25519, 57 for ed448\n    const lengths = {\n        secretKey: _size,\n        publicKey: _size,\n        signature: 2 * _size,\n        seed: _size,\n    };\n    function randomSecretKey(seed = randomBytes(lengths.seed)) {\n        return abytes(seed, lengths.seed, 'seed');\n    }\n    function isValidSecretKey(key) {\n        return isBytes(key) && key.length === Fn.BYTES;\n    }\n    function isValidPublicKey(key, zip215) {\n        try {\n            return !!Point.fromBytes(key, zip215);\n        }\n        catch (error) {\n            return false;\n        }\n    }\n    const utils = {\n        getExtendedPublicKey,\n        randomSecretKey,\n        isValidSecretKey,\n        isValidPublicKey,\n        /**\n         * Converts ed public key to x public key. Uses formula:\n         * - ed25519:\n         *   - `(u, v) = ((1+y)/(1-y), sqrt(-486664)*u/x)`\n         *   - `(x, y) = (sqrt(-486664)*u/v, (u-1)/(u+1))`\n         * - ed448:\n         *   - `(u, v) = ((y-1)/(y+1), sqrt(156324)*u/x)`\n         *   - `(x, y) = (sqrt(156324)*u/v, (1+u)/(1-u))`\n         */\n        toMontgomery(publicKey) {\n            const { y } = Point.fromBytes(publicKey);\n            const size = lengths.publicKey;\n            const is25519 = size === 32;\n            if (!is25519 && size !== 57)\n                throw new Error('only defined for 25519 and 448');\n            const u = is25519 ? Fp.div(_1n + y, _1n - y) : Fp.div(y - _1n, y + _1n);\n            return Fp.toBytes(u);\n        },\n        toMontgomerySecret(secretKey) {\n            const size = lengths.secretKey;\n            abytes(secretKey, size);\n            const hashed = cHash(secretKey.subarray(0, size));\n            return adjustScalarBytes(hashed).subarray(0, size);\n        },\n    };\n    return Object.freeze({\n        keygen: createKeygen(randomSecretKey, getPublicKey),\n        getPublicKey,\n        sign,\n        verify,\n        utils,\n        Point,\n        lengths,\n    });\n}\n//# sourceMappingURL=edwards.js.map","/**\n * ed25519 Twisted Edwards curve with following addons:\n * - X25519 ECDH\n * - Ristretto cofactor elimination\n * - Elligator hash-to-group / point indistinguishability\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { sha512 } from '@noble/hashes/sha2.js';\nimport { abytes, concatBytes, hexToBytes } from '@noble/hashes/utils.js';\nimport {} from \"./abstract/curve.js\";\nimport { eddsa, edwards, PrimeEdwardsPoint, } from \"./abstract/edwards.js\";\nimport { _DST_scalar, createHasher, expand_message_xmd, } from \"./abstract/hash-to-curve.js\";\nimport { FpInvertBatch, FpSqrtEven, isNegativeLE, mod, pow2, } from \"./abstract/modular.js\";\nimport { montgomery } from \"./abstract/montgomery.js\";\nimport { createORPF } from \"./abstract/oprf.js\";\nimport { asciiToBytes, bytesToNumberLE, equalBytes } from \"./utils.js\";\n// prettier-ignore\nconst _0n = /* @__PURE__ */ BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = /* @__PURE__ */ BigInt(3);\n// prettier-ignore\nconst _5n = BigInt(5), _8n = BigInt(8);\n// P = 2n**255n - 19n\nconst ed25519_CURVE_p = BigInt('0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed');\n// N = 2n**252n + 27742317777372353535851937790883648493n\n// a = Fp.create(BigInt(-1))\n// d = -121665/121666 a.k.a. Fp.neg(121665 * Fp.inv(121666))\nconst ed25519_CURVE = /* @__PURE__ */ (() => ({\n    p: ed25519_CURVE_p,\n    n: BigInt('0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed'),\n    h: _8n,\n    a: BigInt('0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec'),\n    d: BigInt('0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3'),\n    Gx: BigInt('0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a'),\n    Gy: BigInt('0x6666666666666666666666666666666666666666666666666666666666666658'),\n}))();\nfunction ed25519_pow_2_252_3(x) {\n    // prettier-ignore\n    const _10n = BigInt(10), _20n = BigInt(20), _40n = BigInt(40), _80n = BigInt(80);\n    const P = ed25519_CURVE_p;\n    const x2 = (x * x) % P;\n    const b2 = (x2 * x) % P; // x^3, 11\n    const b4 = (pow2(b2, _2n, P) * b2) % P; // x^15, 1111\n    const b5 = (pow2(b4, _1n, P) * x) % P; // x^31\n    const b10 = (pow2(b5, _5n, P) * b5) % P;\n    const b20 = (pow2(b10, _10n, P) * b10) % P;\n    const b40 = (pow2(b20, _20n, P) * b20) % P;\n    const b80 = (pow2(b40, _40n, P) * b40) % P;\n    const b160 = (pow2(b80, _80n, P) * b80) % P;\n    const b240 = (pow2(b160, _80n, P) * b80) % P;\n    const b250 = (pow2(b240, _10n, P) * b10) % P;\n    const pow_p_5_8 = (pow2(b250, _2n, P) * x) % P;\n    // ^ To pow to (p+3)/8, multiply it by x.\n    return { pow_p_5_8, b2 };\n}\nfunction adjustScalarBytes(bytes) {\n    // Section 5: For X25519, in order to decode 32 random bytes as an integer scalar,\n    // set the three least significant bits of the first byte\n    bytes[0] &= 248; // 0b1111_1000\n    // and the most significant bit of the last to zero,\n    bytes[31] &= 127; // 0b0111_1111\n    // set the second most significant bit of the last byte to 1\n    bytes[31] |= 64; // 0b0100_0000\n    return bytes;\n}\n// (-1) aka (a) aka 2^((p-1)/4)\n// Fp.sqrt(Fp.neg(1))\nconst ED25519_SQRT_M1 = /* @__PURE__ */ BigInt('19681161376707505956807079304988542015446066515923890162744021073123829784752');\n// sqrt(u/v)\nfunction uvRatio(u, v) {\n    const P = ed25519_CURVE_p;\n    const v3 = mod(v * v * v, P); // v\n    const v7 = mod(v3 * v3 * v, P); // v\n    // (p+3)/8 and (p-5)/8\n    const pow = ed25519_pow_2_252_3(u * v7).pow_p_5_8;\n    let x = mod(u * v3 * pow, P); // (uv)(uv)^(p-5)/8\n    const vx2 = mod(v * x * x, P); // vx\n    const root1 = x; // First root candidate\n    const root2 = mod(x * ED25519_SQRT_M1, P); // Second root candidate\n    const useRoot1 = vx2 === u; // If vx = u (mod p), x is a square root\n    const useRoot2 = vx2 === mod(-u, P); // If vx = -u, set x <-- x * 2^((p-1)/4)\n    const noRoot = vx2 === mod(-u * ED25519_SQRT_M1, P); // There is no valid root, vx = -u(-1)\n    if (useRoot1)\n        x = root1;\n    if (useRoot2 || noRoot)\n        x = root2; // We return root2 anyway, for const-time\n    if (isNegativeLE(x, P))\n        x = mod(-x, P);\n    return { isValid: useRoot1 || useRoot2, value: x };\n}\nconst ed25519_Point = /* @__PURE__ */ edwards(ed25519_CURVE, { uvRatio });\nconst Fp = /* @__PURE__ */ (() => ed25519_Point.Fp)();\nconst Fn = /* @__PURE__ */ (() => ed25519_Point.Fn)();\nfunction ed25519_domain(data, ctx, phflag) {\n    if (ctx.length > 255)\n        throw new Error('Context is too big');\n    return concatBytes(asciiToBytes('SigEd25519 no Ed25519 collisions'), new Uint8Array([phflag ? 1 : 0, ctx.length]), ctx, data);\n}\nfunction ed(opts) {\n    return eddsa(ed25519_Point, sha512, Object.assign({ adjustScalarBytes }, opts));\n}\n/**\n * ed25519 curve with EdDSA signatures.\n * @example\n * ```js\n * import { ed25519 } from '@noble/curves/ed25519.js';\n * const { secretKey, publicKey } = ed25519.keygen();\n * // const publicKey = ed25519.getPublicKey(secretKey);\n * const msg = new TextEncoder().encode('hello noble');\n * const sig = ed25519.sign(msg, secretKey);\n * const isValid = ed25519.verify(sig, msg, pub); // ZIP215\n * // RFC8032 / FIPS 186-5\n * const isValid2 = ed25519.verify(sig, msg, pub, { zip215: false });\n * ```\n */\nexport const ed25519 = /* @__PURE__ */ ed({});\n/** Context version of ed25519 (ctx for domain separation). See {@link ed25519} */\nexport const ed25519ctx = /* @__PURE__ */ ed({ domain: ed25519_domain });\n/** Prehashed version of ed25519. See {@link ed25519} */\nexport const ed25519ph = /* @__PURE__ */ ed({ domain: ed25519_domain, prehash: sha512 });\n/**\n * ECDH using curve25519 aka x25519.\n * @example\n * ```js\n * import { x25519 } from '@noble/curves/ed25519.js';\n * const alice = x25519.keygen();\n * const bob = x25519.keygen();\n * const shared = x25519.getSharedSecret(alice.secretKey, bob.publicKey);\n * ```\n */\nexport const x25519 = /* @__PURE__ */ (() => {\n    const P = ed25519_CURVE_p;\n    return montgomery({\n        P,\n        type: 'x25519',\n        powPminus2: (x) => {\n            // x^(p-2) aka x^(2^255-21)\n            const { pow_p_5_8, b2 } = ed25519_pow_2_252_3(x);\n            return mod(pow2(pow_p_5_8, _3n, P) * b2, P);\n        },\n        adjustScalarBytes,\n    });\n})();\n// Hash To Curve Elligator2 Map (NOTE: different from ristretto255 elligator)\n// NOTE: very important part is usage of FpSqrtEven for ELL2_C1_EDWARDS, since\n// SageMath returns different root first and everything falls apart\nconst ELL2_C1 = /* @__PURE__ */ (() => (ed25519_CURVE_p + _3n) / _8n)(); // 1. c1 = (q + 3) / 8       # Integer arithmetic\nconst ELL2_C2 = /* @__PURE__ */ (() => Fp.pow(_2n, ELL2_C1))(); // 2. c2 = 2^c1\nconst ELL2_C3 = /* @__PURE__ */ (() => Fp.sqrt(Fp.neg(Fp.ONE)))(); // 3. c3 = sqrt(-1)\n/**\n * RFC 9380 method `map_to_curve_elligator2_curve25519`. Experimental name: may be renamed later.\n * @private\n */\n// prettier-ignore\nexport function _map_to_curve_elligator2_curve25519(u) {\n    const ELL2_C4 = (ed25519_CURVE_p - _5n) / _8n; // 4. c4 = (q - 5) / 8       # Integer arithmetic\n    const ELL2_J = BigInt(486662);\n    let tv1 = Fp.sqr(u); //  1.  tv1 = u^2\n    tv1 = Fp.mul(tv1, _2n); //  2.  tv1 = 2 * tv1\n    let xd = Fp.add(tv1, Fp.ONE); //  3.   xd = tv1 + 1         # Nonzero: -1 is square (mod p), tv1 is not\n    let x1n = Fp.neg(ELL2_J); //  4.  x1n = -J              # x1 = x1n / xd = -J / (1 + 2 * u^2)\n    let tv2 = Fp.sqr(xd); //  5.  tv2 = xd^2\n    let gxd = Fp.mul(tv2, xd); //  6.  gxd = tv2 * xd        # gxd = xd^3\n    let gx1 = Fp.mul(tv1, ELL2_J); //  7.  gx1 = J * tv1         # x1n + J * xd\n    gx1 = Fp.mul(gx1, x1n); //  8.  gx1 = gx1 * x1n       # x1n^2 + J * x1n * xd\n    gx1 = Fp.add(gx1, tv2); //  9.  gx1 = gx1 + tv2       # x1n^2 + J * x1n * xd + xd^2\n    gx1 = Fp.mul(gx1, x1n); //  10. gx1 = gx1 * x1n       # x1n^3 + J * x1n^2 * xd + x1n * xd^2\n    let tv3 = Fp.sqr(gxd); //  11. tv3 = gxd^2\n    tv2 = Fp.sqr(tv3); //  12. tv2 = tv3^2           # gxd^4\n    tv3 = Fp.mul(tv3, gxd); //  13. tv3 = tv3 * gxd       # gxd^3\n    tv3 = Fp.mul(tv3, gx1); //  14. tv3 = tv3 * gx1       # gx1 * gxd^3\n    tv2 = Fp.mul(tv2, tv3); //  15. tv2 = tv2 * tv3       # gx1 * gxd^7\n    let y11 = Fp.pow(tv2, ELL2_C4); //  16. y11 = tv2^c4        # (gx1 * gxd^7)^((p - 5) / 8)\n    y11 = Fp.mul(y11, tv3); //  17. y11 = y11 * tv3       # gx1*gxd^3*(gx1*gxd^7)^((p-5)/8)\n    let y12 = Fp.mul(y11, ELL2_C3); //  18. y12 = y11 * c3\n    tv2 = Fp.sqr(y11); //  19. tv2 = y11^2\n    tv2 = Fp.mul(tv2, gxd); //  20. tv2 = tv2 * gxd\n    let e1 = Fp.eql(tv2, gx1); //  21.  e1 = tv2 == gx1\n    let y1 = Fp.cmov(y12, y11, e1); //  22.  y1 = CMOV(y12, y11, e1)  # If g(x1) is square, this is its sqrt\n    let x2n = Fp.mul(x1n, tv1); //  23. x2n = x1n * tv1       # x2 = x2n / xd = 2 * u^2 * x1n / xd\n    let y21 = Fp.mul(y11, u); //  24. y21 = y11 * u\n    y21 = Fp.mul(y21, ELL2_C2); //  25. y21 = y21 * c2\n    let y22 = Fp.mul(y21, ELL2_C3); //  26. y22 = y21 * c3\n    let gx2 = Fp.mul(gx1, tv1); //  27. gx2 = gx1 * tv1       # g(x2) = gx2 / gxd = 2 * u^2 * g(x1)\n    tv2 = Fp.sqr(y21); //  28. tv2 = y21^2\n    tv2 = Fp.mul(tv2, gxd); //  29. tv2 = tv2 * gxd\n    let e2 = Fp.eql(tv2, gx2); //  30.  e2 = tv2 == gx2\n    let y2 = Fp.cmov(y22, y21, e2); //  31.  y2 = CMOV(y22, y21, e2)  # If g(x2) is square, this is its sqrt\n    tv2 = Fp.sqr(y1); //  32. tv2 = y1^2\n    tv2 = Fp.mul(tv2, gxd); //  33. tv2 = tv2 * gxd\n    let e3 = Fp.eql(tv2, gx1); //  34.  e3 = tv2 == gx1\n    let xn = Fp.cmov(x2n, x1n, e3); //  35.  xn = CMOV(x2n, x1n, e3)  # If e3, x = x1, else x = x2\n    let y = Fp.cmov(y2, y1, e3); //  36.   y = CMOV(y2, y1, e3)    # If e3, y = y1, else y = y2\n    let e4 = Fp.isOdd(y); //  37.  e4 = sgn0(y) == 1        # Fix sign of y\n    y = Fp.cmov(y, Fp.neg(y), e3 !== e4); //  38.   y = CMOV(y, -y, e3 XOR e4)\n    return { xMn: xn, xMd: xd, yMn: y, yMd: _1n }; //  39. return (xn, xd, y, 1)\n}\nconst ELL2_C1_EDWARDS = /* @__PURE__ */ (() => FpSqrtEven(Fp, Fp.neg(BigInt(486664))))(); // sgn0(c1) MUST equal 0\nfunction map_to_curve_elligator2_edwards25519(u) {\n    const { xMn, xMd, yMn, yMd } = _map_to_curve_elligator2_curve25519(u); //  1.  (xMn, xMd, yMn, yMd) =\n    // map_to_curve_elligator2_curve25519(u)\n    let xn = Fp.mul(xMn, yMd); //  2.  xn = xMn * yMd\n    xn = Fp.mul(xn, ELL2_C1_EDWARDS); //  3.  xn = xn * c1\n    let xd = Fp.mul(xMd, yMn); //  4.  xd = xMd * yMn    # xn / xd = c1 * xM / yM\n    let yn = Fp.sub(xMn, xMd); //  5.  yn = xMn - xMd\n    let yd = Fp.add(xMn, xMd); //  6.  yd = xMn + xMd    # (n / d - 1) / (n / d + 1) = (n - d) / (n + d)\n    let tv1 = Fp.mul(xd, yd); //  7. tv1 = xd * yd\n    let e = Fp.eql(tv1, Fp.ZERO); //  8.   e = tv1 == 0\n    xn = Fp.cmov(xn, Fp.ZERO, e); //  9.  xn = CMOV(xn, 0, e)\n    xd = Fp.cmov(xd, Fp.ONE, e); //  10. xd = CMOV(xd, 1, e)\n    yn = Fp.cmov(yn, Fp.ONE, e); //  11. yn = CMOV(yn, 1, e)\n    yd = Fp.cmov(yd, Fp.ONE, e); //  12. yd = CMOV(yd, 1, e)\n    const [xd_inv, yd_inv] = FpInvertBatch(Fp, [xd, yd], true); // batch division\n    return { x: Fp.mul(xn, xd_inv), y: Fp.mul(yn, yd_inv) }; //  13. return (xn, xd, yn, yd)\n}\n/** Hashing to ed25519 points / field. RFC 9380 methods. */\nexport const ed25519_hasher = /* @__PURE__ */ (() => createHasher(ed25519_Point, (scalars) => map_to_curve_elligator2_edwards25519(scalars[0]), {\n    DST: 'edwards25519_XMD:SHA-512_ELL2_RO_',\n    encodeDST: 'edwards25519_XMD:SHA-512_ELL2_NU_',\n    p: ed25519_CURVE_p,\n    m: 1,\n    k: 128,\n    expand: 'xmd',\n    hash: sha512,\n}))();\n// (-1) aka (a) aka 2^((p-1)/4)\nconst SQRT_M1 = ED25519_SQRT_M1;\n// (ad - 1)\nconst SQRT_AD_MINUS_ONE = /* @__PURE__ */ BigInt('25063068953384623474111414158702152701244531502492656460079210482610430750235');\n// 1 / (a-d)\nconst INVSQRT_A_MINUS_D = /* @__PURE__ */ BigInt('54469307008909316920995813868745141605393597292927456921205312896311721017578');\n// 1-d\nconst ONE_MINUS_D_SQ = /* @__PURE__ */ BigInt('1159843021668779879193775521855586647937357759715417654439879720876111806838');\n// (d-1)\nconst D_MINUS_ONE_SQ = /* @__PURE__ */ BigInt('40440834346308536858101042469323190826248399146238708352240133220865137265952');\n// Calculates 1/(number)\nconst invertSqrt = (number) => uvRatio(_1n, number);\nconst MAX_255B = /* @__PURE__ */ BigInt('0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff');\nconst bytes255ToNumberLE = (bytes) => Fp.create(bytesToNumberLE(bytes) & MAX_255B);\n/**\n * Computes Elligator map for Ristretto255.\n * Described in [RFC9380](https://www.rfc-editor.org/rfc/rfc9380#appendix-B) and on\n * the [website](https://ristretto.group/formulas/elligator.html).\n */\nfunction calcElligatorRistrettoMap(r0) {\n    const { d } = ed25519_CURVE;\n    const P = ed25519_CURVE_p;\n    const mod = (n) => Fp.create(n);\n    const r = mod(SQRT_M1 * r0 * r0); // 1\n    const Ns = mod((r + _1n) * ONE_MINUS_D_SQ); // 2\n    let c = BigInt(-1); // 3\n    const D = mod((c - d * r) * mod(r + d)); // 4\n    let { isValid: Ns_D_is_sq, value: s } = uvRatio(Ns, D); // 5\n    let s_ = mod(s * r0); // 6\n    if (!isNegativeLE(s_, P))\n        s_ = mod(-s_);\n    if (!Ns_D_is_sq)\n        s = s_; // 7\n    if (!Ns_D_is_sq)\n        c = r; // 8\n    const Nt = mod(c * (r - _1n) * D_MINUS_ONE_SQ - D); // 9\n    const s2 = s * s;\n    const W0 = mod((s + s) * D); // 10\n    const W1 = mod(Nt * SQRT_AD_MINUS_ONE); // 11\n    const W2 = mod(_1n - s2); // 12\n    const W3 = mod(_1n + s2); // 13\n    return new ed25519_Point(mod(W0 * W3), mod(W2 * W1), mod(W1 * W3), mod(W0 * W2));\n}\n/**\n * Wrapper over Edwards Point for ristretto255.\n *\n * Each ed25519/EdwardsPoint has 8 different equivalent points. This can be\n * a source of bugs for protocols like ring signatures. Ristretto was created to solve this.\n * Ristretto point operates in X:Y:Z:T extended coordinates like EdwardsPoint,\n * but it should work in its own namespace: do not combine those two.\n * See [RFC9496](https://www.rfc-editor.org/rfc/rfc9496).\n */\nclass _RistrettoPoint extends PrimeEdwardsPoint {\n    // Do NOT change syntax: the following gymnastics is done,\n    // because typescript strips comments, which makes bundlers disable tree-shaking.\n    // prettier-ignore\n    static BASE = \n    /* @__PURE__ */ (() => new _RistrettoPoint(ed25519_Point.BASE))();\n    // prettier-ignore\n    static ZERO = \n    /* @__PURE__ */ (() => new _RistrettoPoint(ed25519_Point.ZERO))();\n    // prettier-ignore\n    static Fp = \n    /* @__PURE__ */ (() => Fp)();\n    // prettier-ignore\n    static Fn = \n    /* @__PURE__ */ (() => Fn)();\n    constructor(ep) {\n        super(ep);\n    }\n    static fromAffine(ap) {\n        return new _RistrettoPoint(ed25519_Point.fromAffine(ap));\n    }\n    assertSame(other) {\n        if (!(other instanceof _RistrettoPoint))\n            throw new Error('RistrettoPoint expected');\n    }\n    init(ep) {\n        return new _RistrettoPoint(ep);\n    }\n    static fromBytes(bytes) {\n        abytes(bytes, 32);\n        const { a, d } = ed25519_CURVE;\n        const P = ed25519_CURVE_p;\n        const mod = (n) => Fp.create(n);\n        const s = bytes255ToNumberLE(bytes);\n        // 1. Check that s_bytes is the canonical encoding of a field element, or else abort.\n        // 3. Check that s is non-negative, or else abort\n        if (!equalBytes(Fp.toBytes(s), bytes) || isNegativeLE(s, P))\n            throw new Error('invalid ristretto255 encoding 1');\n        const s2 = mod(s * s);\n        const u1 = mod(_1n + a * s2); // 4 (a is -1)\n        const u2 = mod(_1n - a * s2); // 5\n        const u1_2 = mod(u1 * u1);\n        const u2_2 = mod(u2 * u2);\n        const v = mod(a * d * u1_2 - u2_2); // 6\n        const { isValid, value: I } = invertSqrt(mod(v * u2_2)); // 7\n        const Dx = mod(I * u2); // 8\n        const Dy = mod(I * Dx * v); // 9\n        let x = mod((s + s) * Dx); // 10\n        if (isNegativeLE(x, P))\n            x = mod(-x); // 10\n        const y = mod(u1 * Dy); // 11\n        const t = mod(x * y); // 12\n        if (!isValid || isNegativeLE(t, P) || y === _0n)\n            throw new Error('invalid ristretto255 encoding 2');\n        return new _RistrettoPoint(new ed25519_Point(x, y, _1n, t));\n    }\n    /**\n     * Converts ristretto-encoded string to ristretto point.\n     * Described in [RFC9496](https://www.rfc-editor.org/rfc/rfc9496#name-decode).\n     * @param hex Ristretto-encoded 32 bytes. Not every 32-byte string is valid ristretto encoding\n     */\n    static fromHex(hex) {\n        return _RistrettoPoint.fromBytes(hexToBytes(hex));\n    }\n    /**\n     * Encodes ristretto point to Uint8Array.\n     * Described in [RFC9496](https://www.rfc-editor.org/rfc/rfc9496#name-encode).\n     */\n    toBytes() {\n        let { X, Y, Z, T } = this.ep;\n        const P = ed25519_CURVE_p;\n        const mod = (n) => Fp.create(n);\n        const u1 = mod(mod(Z + Y) * mod(Z - Y)); // 1\n        const u2 = mod(X * Y); // 2\n        // Square root always exists\n        const u2sq = mod(u2 * u2);\n        const { value: invsqrt } = invertSqrt(mod(u1 * u2sq)); // 3\n        const D1 = mod(invsqrt * u1); // 4\n        const D2 = mod(invsqrt * u2); // 5\n        const zInv = mod(D1 * D2 * T); // 6\n        let D; // 7\n        if (isNegativeLE(T * zInv, P)) {\n            let _x = mod(Y * SQRT_M1);\n            let _y = mod(X * SQRT_M1);\n            X = _x;\n            Y = _y;\n            D = mod(D1 * INVSQRT_A_MINUS_D);\n        }\n        else {\n            D = D2; // 8\n        }\n        if (isNegativeLE(X * zInv, P))\n            Y = mod(-Y); // 9\n        let s = mod((Z - Y) * D); // 10 (check footer's note, no sqrt(-a))\n        if (isNegativeLE(s, P))\n            s = mod(-s);\n        return Fp.toBytes(s); // 11\n    }\n    /**\n     * Compares two Ristretto points.\n     * Described in [RFC9496](https://www.rfc-editor.org/rfc/rfc9496#name-equals).\n     */\n    equals(other) {\n        this.assertSame(other);\n        const { X: X1, Y: Y1 } = this.ep;\n        const { X: X2, Y: Y2 } = other.ep;\n        const mod = (n) => Fp.create(n);\n        // (x1 * y2 == y1 * x2) | (y1 * y2 == x1 * x2)\n        const one = mod(X1 * Y2) === mod(Y1 * X2);\n        const two = mod(Y1 * Y2) === mod(X1 * X2);\n        return one || two;\n    }\n    is0() {\n        return this.equals(_RistrettoPoint.ZERO);\n    }\n}\nexport const ristretto255 = { Point: _RistrettoPoint };\n/** Hashing to ristretto255 points / field. RFC 9380 methods. */\nexport const ristretto255_hasher = {\n    Point: _RistrettoPoint,\n    /**\n    * Spec: https://www.rfc-editor.org/rfc/rfc9380.html#name-hashing-to-ristretto255. Caveats:\n    * * There are no test vectors\n    * * encodeToCurve / mapToCurve is undefined\n    * * mapToCurve would be `calcElligatorRistrettoMap(scalars[0])`, not ristretto255_map!\n    * * hashToScalar is undefined too, so we just use OPRF implementation\n    * * We cannot re-use 'createHasher', because ristretto255_map is different algorithm/RFC\n      (os2ip -> bytes255ToNumberLE)\n    * * mapToCurve == calcElligatorRistrettoMap, hashToCurve == ristretto255_map\n    * * hashToScalar is undefined in RFC9380 for ristretto, we are using version from OPRF here, using bytes255ToNumblerLE will create different result if we use bytes255ToNumberLE as os2ip\n    * * current version is closest to spec.\n    */\n    hashToCurve(msg, options) {\n        // == 'hash_to_ristretto255'\n        const DST = options?.DST || 'ristretto255_XMD:SHA-512_R255MAP_RO_';\n        const xmd = expand_message_xmd(msg, DST, 64, sha512);\n        // NOTE: RFC 9380 incorrectly calls this function 'ristretto255_map', in RFC 9496 map was function inside (per point)\n        // That also lead to confustion that ristretto255_map is mapToCurve (it is not! it is old hashToCurve)\n        return ristretto255_hasher.deriveToCurve(xmd);\n    },\n    hashToScalar(msg, options = { DST: _DST_scalar }) {\n        const xmd = expand_message_xmd(msg, options.DST, 64, sha512);\n        return Fn.create(bytesToNumberLE(xmd));\n    },\n    /**\n     * HashToCurve-like construction based on RFC 9496 (Element Derivation).\n     * Converts 64 uniform random bytes into a curve point.\n     *\n     * WARNING: This represents an older hash-to-curve construction, preceding the finalization of RFC 9380.\n     * It was later reused as a component in the newer `hash_to_ristretto255` function defined in RFC 9380.\n     */\n    deriveToCurve(bytes) {\n        // https://www.rfc-editor.org/rfc/rfc9496.html#name-element-derivation\n        abytes(bytes, 64);\n        const r1 = bytes255ToNumberLE(bytes.subarray(0, 32));\n        const R1 = calcElligatorRistrettoMap(r1);\n        const r2 = bytes255ToNumberLE(bytes.subarray(32, 64));\n        const R2 = calcElligatorRistrettoMap(r2);\n        return new _RistrettoPoint(R1.add(R2));\n    },\n};\n/** ristretto255 OPRF, defined in RFC 9497. */\nexport const ristretto255_oprf = /* @__PURE__ */ (() => createORPF({\n    name: 'ristretto255-SHA512',\n    Point: _RistrettoPoint,\n    hash: sha512,\n    hashToGroup: ristretto255_hasher.hashToCurve,\n    hashToScalar: ristretto255_hasher.hashToScalar,\n}))();\n/**\n * Weird / bogus points, useful for debugging.\n * All 8 ed25519 points of 8-torsion subgroup can be generated from the point\n * T = `26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05`.\n * T = { O, T, 2T, 3T, 4T, 5T, 6T, 7T }\n */\nexport const ED25519_TORSION_SUBGROUP = [\n    '0100000000000000000000000000000000000000000000000000000000000000',\n    'c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a',\n    '0000000000000000000000000000000000000000000000000000000000000080',\n    '26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05',\n    'ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f',\n    '26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85',\n    '0000000000000000000000000000000000000000000000000000000000000000',\n    'c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa',\n];\n//# sourceMappingURL=ed25519.js.map","/**\n * HMAC: RFC2104 message authentication code.\n * @module\n */\nimport { abytes, aexists, ahash, clean } from \"./utils.js\";\n/** Internal class for HMAC. */\nexport class _HMAC {\n    oHash;\n    iHash;\n    blockLen;\n    outputLen;\n    finished = false;\n    destroyed = false;\n    constructor(hash, key) {\n        ahash(hash);\n        abytes(key, undefined, 'key');\n        this.iHash = hash.create();\n        if (typeof this.iHash.update !== 'function')\n            throw new Error('Expected instance of class which extends utils.Hash');\n        this.blockLen = this.iHash.blockLen;\n        this.outputLen = this.iHash.outputLen;\n        const blockLen = this.blockLen;\n        const pad = new Uint8Array(blockLen);\n        // blockLen can be bigger than outputLen\n        pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n        for (let i = 0; i < pad.length; i++)\n            pad[i] ^= 0x36;\n        this.iHash.update(pad);\n        // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n        this.oHash = hash.create();\n        // Undo internal XOR && apply outer XOR\n        for (let i = 0; i < pad.length; i++)\n            pad[i] ^= 0x36 ^ 0x5c;\n        this.oHash.update(pad);\n        clean(pad);\n    }\n    update(buf) {\n        aexists(this);\n        this.iHash.update(buf);\n        return this;\n    }\n    digestInto(out) {\n        aexists(this);\n        abytes(out, this.outputLen, 'output');\n        this.finished = true;\n        this.iHash.digestInto(out);\n        this.oHash.update(out);\n        this.oHash.digestInto(out);\n        this.destroy();\n    }\n    digest() {\n        const out = new Uint8Array(this.oHash.outputLen);\n        this.digestInto(out);\n        return out;\n    }\n    _cloneInto(to) {\n        // Create new instance without calling constructor since key already in state and we don't know it.\n        to ||= Object.create(Object.getPrototypeOf(this), {});\n        const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;\n        to = to;\n        to.finished = finished;\n        to.destroyed = destroyed;\n        to.blockLen = blockLen;\n        to.outputLen = outputLen;\n        to.oHash = oHash._cloneInto(to.oHash);\n        to.iHash = iHash._cloneInto(to.iHash);\n        return to;\n    }\n    clone() {\n        return this._cloneInto();\n    }\n    destroy() {\n        this.destroyed = true;\n        this.oHash.destroy();\n        this.iHash.destroy();\n    }\n}\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n * @example\n * import { hmac } from '@noble/hashes/hmac';\n * import { sha256 } from '@noble/hashes/sha2';\n * const mac1 = hmac(sha256, 'key', 'message');\n */\nexport const hmac = (hash, key, message) => new _HMAC(hash, key).update(message).digest();\nhmac.create = (hash, key) => new _HMAC(hash, key);\n//# sourceMappingURL=hmac.js.map","/**\n * Short Weierstrass curve methods. The formula is: y = x + ax + b.\n *\n * ### Design rationale for types\n *\n * * Interaction between classes from different curves should fail:\n *   `k256.Point.BASE.add(p256.Point.BASE)`\n * * For this purpose we want to use `instanceof` operator, which is fast and works during runtime\n * * Different calls of `curve()` would return different classes -\n *   `curve(params) !== curve(params)`: if somebody decided to monkey-patch their curve,\n *   it won't affect others\n *\n * TypeScript can't infer types for classes created inside a function. Classes is one instance\n * of nominative types in TypeScript and interfaces only check for shape, so it's hard to create\n * unique type for every function call.\n *\n * We can use generic types via some param, like curve opts, but that would:\n *     1. Enable interaction between `curve(params)` and `curve(params)` (curves of same params)\n *     which is hard to debug.\n *     2. Params can be generic and we can't enforce them to be constant value:\n *     if somebody creates curve from non-constant params,\n *     it would be allowed to interact with other curves with non-constant params\n *\n * @todo https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html#unique-symbol\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { hmac as nobleHmac } from '@noble/hashes/hmac.js';\nimport { ahash } from '@noble/hashes/utils.js';\nimport { abool, abytes, aInRange, bitLen, bitMask, bytesToHex, bytesToNumberBE, concatBytes, createHmacDrbg, hexToBytes, isBytes, memoized, numberToHexUnpadded, validateObject, randomBytes as wcRandomBytes, } from \"../utils.js\";\nimport { createCurveFields, createKeygen, mulEndoUnsafe, negateCt, normalizeZ, wNAF, } from \"./curve.js\";\nimport { FpInvertBatch, getMinHashLength, mapHashToField, validateField, } from \"./modular.js\";\n// We construct basis in such way that den is always positive and equals n, but num sign depends on basis (not on secret value)\nconst divNearest = (num, den) => (num + (num >= 0 ? den : -den) / _2n) / den;\n/**\n * Splits scalar for GLV endomorphism.\n */\nexport function _splitEndoScalar(k, basis, n) {\n    // Split scalar into two such that part is ~half bits: `abs(part) < sqrt(N)`\n    // Since part can be negative, we need to do this on point.\n    // TODO: verifyScalar function which consumes lambda\n    const [[a1, b1], [a2, b2]] = basis;\n    const c1 = divNearest(b2 * k, n);\n    const c2 = divNearest(-b1 * k, n);\n    // |k1|/|k2| is < sqrt(N), but can be negative.\n    // If we do `k1 mod N`, we'll get big scalar (`> sqrt(N)`): so, we do cheaper negation instead.\n    let k1 = k - c1 * a1 - c2 * a2;\n    let k2 = -c1 * b1 - c2 * b2;\n    const k1neg = k1 < _0n;\n    const k2neg = k2 < _0n;\n    if (k1neg)\n        k1 = -k1;\n    if (k2neg)\n        k2 = -k2;\n    // Double check that resulting scalar less than half bits of N: otherwise wNAF will fail.\n    // This should only happen on wrong basises. Also, math inside is too complex and I don't trust it.\n    const MAX_NUM = bitMask(Math.ceil(bitLen(n) / 2)) + _1n; // Half bits of N\n    if (k1 < _0n || k1 >= MAX_NUM || k2 < _0n || k2 >= MAX_NUM) {\n        throw new Error('splitScalar (endomorphism): failed, k=' + k);\n    }\n    return { k1neg, k1, k2neg, k2 };\n}\nfunction validateSigFormat(format) {\n    if (!['compact', 'recovered', 'der'].includes(format))\n        throw new Error('Signature format must be \"compact\", \"recovered\", or \"der\"');\n    return format;\n}\nfunction validateSigOpts(opts, def) {\n    const optsn = {};\n    for (let optName of Object.keys(def)) {\n        // @ts-ignore\n        optsn[optName] = opts[optName] === undefined ? def[optName] : opts[optName];\n    }\n    abool(optsn.lowS, 'lowS');\n    abool(optsn.prehash, 'prehash');\n    if (optsn.format !== undefined)\n        validateSigFormat(optsn.format);\n    return optsn;\n}\nexport class DERErr extends Error {\n    constructor(m = '') {\n        super(m);\n    }\n}\n/**\n * ASN.1 DER encoding utilities. ASN is very complex & fragile. Format:\n *\n *     [0x30 (SEQUENCE), bytelength, 0x02 (INTEGER), intLength, R, 0x02 (INTEGER), intLength, S]\n *\n * Docs: https://letsencrypt.org/docs/a-warm-welcome-to-asn1-and-der/, https://luca.ntop.org/Teaching/Appunti/asn1.html\n */\nexport const DER = {\n    // asn.1 DER encoding utils\n    Err: DERErr,\n    // Basic building block is TLV (Tag-Length-Value)\n    _tlv: {\n        encode: (tag, data) => {\n            const { Err: E } = DER;\n            if (tag < 0 || tag > 256)\n                throw new E('tlv.encode: wrong tag');\n            if (data.length & 1)\n                throw new E('tlv.encode: unpadded data');\n            const dataLen = data.length / 2;\n            const len = numberToHexUnpadded(dataLen);\n            if ((len.length / 2) & 0b1000_0000)\n                throw new E('tlv.encode: long form length too big');\n            // length of length with long form flag\n            const lenLen = dataLen > 127 ? numberToHexUnpadded((len.length / 2) | 0b1000_0000) : '';\n            const t = numberToHexUnpadded(tag);\n            return t + lenLen + len + data;\n        },\n        // v - value, l - left bytes (unparsed)\n        decode(tag, data) {\n            const { Err: E } = DER;\n            let pos = 0;\n            if (tag < 0 || tag > 256)\n                throw new E('tlv.encode: wrong tag');\n            if (data.length < 2 || data[pos++] !== tag)\n                throw new E('tlv.decode: wrong tlv');\n            const first = data[pos++];\n            const isLong = !!(first & 0b1000_0000); // First bit of first length byte is flag for short/long form\n            let length = 0;\n            if (!isLong)\n                length = first;\n            else {\n                // Long form: [longFlag(1bit), lengthLength(7bit), length (BE)]\n                const lenLen = first & 0b0111_1111;\n                if (!lenLen)\n                    throw new E('tlv.decode(long): indefinite length not supported');\n                if (lenLen > 4)\n                    throw new E('tlv.decode(long): byte length is too big'); // this will overflow u32 in js\n                const lengthBytes = data.subarray(pos, pos + lenLen);\n                if (lengthBytes.length !== lenLen)\n                    throw new E('tlv.decode: length bytes not complete');\n                if (lengthBytes[0] === 0)\n                    throw new E('tlv.decode(long): zero leftmost byte');\n                for (const b of lengthBytes)\n                    length = (length << 8) | b;\n                pos += lenLen;\n                if (length < 128)\n                    throw new E('tlv.decode(long): not minimal encoding');\n            }\n            const v = data.subarray(pos, pos + length);\n            if (v.length !== length)\n                throw new E('tlv.decode: wrong value length');\n            return { v, l: data.subarray(pos + length) };\n        },\n    },\n    // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,\n    // since we always use positive integers here. It must always be empty:\n    // - add zero byte if exists\n    // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)\n    _int: {\n        encode(num) {\n            const { Err: E } = DER;\n            if (num < _0n)\n                throw new E('integer: negative integers are not allowed');\n            let hex = numberToHexUnpadded(num);\n            // Pad with zero byte if negative flag is present\n            if (Number.parseInt(hex[0], 16) & 0b1000)\n                hex = '00' + hex;\n            if (hex.length & 1)\n                throw new E('unexpected DER parsing assertion: unpadded hex');\n            return hex;\n        },\n        decode(data) {\n            const { Err: E } = DER;\n            if (data[0] & 0b1000_0000)\n                throw new E('invalid signature integer: negative');\n            if (data[0] === 0x00 && !(data[1] & 0b1000_0000))\n                throw new E('invalid signature integer: unnecessary leading zero');\n            return bytesToNumberBE(data);\n        },\n    },\n    toSig(bytes) {\n        // parse DER signature\n        const { Err: E, _int: int, _tlv: tlv } = DER;\n        const data = abytes(bytes, undefined, 'signature');\n        const { v: seqBytes, l: seqLeftBytes } = tlv.decode(0x30, data);\n        if (seqLeftBytes.length)\n            throw new E('invalid signature: left bytes after parsing');\n        const { v: rBytes, l: rLeftBytes } = tlv.decode(0x02, seqBytes);\n        const { v: sBytes, l: sLeftBytes } = tlv.decode(0x02, rLeftBytes);\n        if (sLeftBytes.length)\n            throw new E('invalid signature: left bytes after parsing');\n        return { r: int.decode(rBytes), s: int.decode(sBytes) };\n    },\n    hexFromSig(sig) {\n        const { _tlv: tlv, _int: int } = DER;\n        const rs = tlv.encode(0x02, int.encode(sig.r));\n        const ss = tlv.encode(0x02, int.encode(sig.s));\n        const seq = rs + ss;\n        return tlv.encode(0x30, seq);\n    },\n};\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3), _4n = BigInt(4);\n/**\n * Creates weierstrass Point constructor, based on specified curve options.\n *\n * See {@link WeierstrassOpts}.\n *\n * @example\n```js\nconst opts = {\n  p: 0xfffffffffffffffffffffffffffffffeffffac73n,\n  n: 0x100000000000000000001b8fa16dfab9aca16b6b3n,\n  h: 1n,\n  a: 0n,\n  b: 7n,\n  Gx: 0x3b4c382ce37aa192a4019e763036f4f5dd4d7ebbn,\n  Gy: 0x938cf935318fdced6bc28286531733c3f03c4feen,\n};\nconst secp160k1_Point = weierstrass(opts);\n```\n */\nexport function weierstrass(params, extraOpts = {}) {\n    const validated = createCurveFields('weierstrass', params, extraOpts);\n    const { Fp, Fn } = validated;\n    let CURVE = validated.CURVE;\n    const { h: cofactor, n: CURVE_ORDER } = CURVE;\n    validateObject(extraOpts, {}, {\n        allowInfinityPoint: 'boolean',\n        clearCofactor: 'function',\n        isTorsionFree: 'function',\n        fromBytes: 'function',\n        toBytes: 'function',\n        endo: 'object',\n    });\n    const { endo } = extraOpts;\n    if (endo) {\n        // validateObject(endo, { beta: 'bigint', splitScalar: 'function' });\n        if (!Fp.is0(CURVE.a) || typeof endo.beta !== 'bigint' || !Array.isArray(endo.basises)) {\n            throw new Error('invalid endo: expected \"beta\": bigint and \"basises\": array');\n        }\n    }\n    const lengths = getWLengths(Fp, Fn);\n    function assertCompressionIsSupported() {\n        if (!Fp.isOdd)\n            throw new Error('compression is not supported: Field does not have .isOdd()');\n    }\n    // Implements IEEE P1363 point encoding\n    function pointToBytes(_c, point, isCompressed) {\n        const { x, y } = point.toAffine();\n        const bx = Fp.toBytes(x);\n        abool(isCompressed, 'isCompressed');\n        if (isCompressed) {\n            assertCompressionIsSupported();\n            const hasEvenY = !Fp.isOdd(y);\n            return concatBytes(pprefix(hasEvenY), bx);\n        }\n        else {\n            return concatBytes(Uint8Array.of(0x04), bx, Fp.toBytes(y));\n        }\n    }\n    function pointFromBytes(bytes) {\n        abytes(bytes, undefined, 'Point');\n        const { publicKey: comp, publicKeyUncompressed: uncomp } = lengths; // e.g. for 32-byte: 33, 65\n        const length = bytes.length;\n        const head = bytes[0];\n        const tail = bytes.subarray(1);\n        // No actual validation is done here: use .assertValidity()\n        if (length === comp && (head === 0x02 || head === 0x03)) {\n            const x = Fp.fromBytes(tail);\n            if (!Fp.isValid(x))\n                throw new Error('bad point: is not on curve, wrong x');\n            const y2 = weierstrassEquation(x); // y = x + ax + b\n            let y;\n            try {\n                y = Fp.sqrt(y2); // y = y ^ (p+1)/4\n            }\n            catch (sqrtError) {\n                const err = sqrtError instanceof Error ? ': ' + sqrtError.message : '';\n                throw new Error('bad point: is not on curve, sqrt error' + err);\n            }\n            assertCompressionIsSupported();\n            const evenY = Fp.isOdd(y);\n            const evenH = (head & 1) === 1; // ECDSA-specific\n            if (evenH !== evenY)\n                y = Fp.neg(y);\n            return { x, y };\n        }\n        else if (length === uncomp && head === 0x04) {\n            // TODO: more checks\n            const L = Fp.BYTES;\n            const x = Fp.fromBytes(tail.subarray(0, L));\n            const y = Fp.fromBytes(tail.subarray(L, L * 2));\n            if (!isValidXY(x, y))\n                throw new Error('bad point: is not on curve');\n            return { x, y };\n        }\n        else {\n            throw new Error(`bad point: got length ${length}, expected compressed=${comp} or uncompressed=${uncomp}`);\n        }\n    }\n    const encodePoint = extraOpts.toBytes || pointToBytes;\n    const decodePoint = extraOpts.fromBytes || pointFromBytes;\n    function weierstrassEquation(x) {\n        const x2 = Fp.sqr(x); // x * x\n        const x3 = Fp.mul(x2, x); // x * x\n        return Fp.add(Fp.add(x3, Fp.mul(x, CURVE.a)), CURVE.b); // x + a * x + b\n    }\n    // TODO: move top-level\n    /** Checks whether equation holds for given x, y: y == x + ax + b */\n    function isValidXY(x, y) {\n        const left = Fp.sqr(y); // y\n        const right = weierstrassEquation(x); // x + ax + b\n        return Fp.eql(left, right);\n    }\n    // Validate whether the passed curve params are valid.\n    // Test 1: equation y = x + ax + b should work for generator point.\n    if (!isValidXY(CURVE.Gx, CURVE.Gy))\n        throw new Error('bad curve params: generator point');\n    // Test 2: discriminant  part should be non-zero: 4a + 27b != 0.\n    // Guarantees curve is genus-1, smooth (non-singular).\n    const _4a3 = Fp.mul(Fp.pow(CURVE.a, _3n), _4n);\n    const _27b2 = Fp.mul(Fp.sqr(CURVE.b), BigInt(27));\n    if (Fp.is0(Fp.add(_4a3, _27b2)))\n        throw new Error('bad curve params: a or b');\n    /** Asserts coordinate is valid: 0 <= n < Fp.ORDER. */\n    function acoord(title, n, banZero = false) {\n        if (!Fp.isValid(n) || (banZero && Fp.is0(n)))\n            throw new Error(`bad point coordinate ${title}`);\n        return n;\n    }\n    function aprjpoint(other) {\n        if (!(other instanceof Point))\n            throw new Error('Weierstrass Point expected');\n    }\n    function splitEndoScalarN(k) {\n        if (!endo || !endo.basises)\n            throw new Error('no endo');\n        return _splitEndoScalar(k, endo.basises, Fn.ORDER);\n    }\n    // Memoized toAffine / validity check. They are heavy. Points are immutable.\n    // Converts Projective point to affine (x, y) coordinates.\n    // Can accept precomputed Z^-1 - for example, from invertBatch.\n    // (X, Y, Z)  (x=X/Z, y=Y/Z)\n    const toAffineMemo = memoized((p, iz) => {\n        const { X, Y, Z } = p;\n        // Fast-path for normalized points\n        if (Fp.eql(Z, Fp.ONE))\n            return { x: X, y: Y };\n        const is0 = p.is0();\n        // If invZ was 0, we return zero point. However we still want to execute\n        // all operations, so we replace invZ with a random number, 1.\n        if (iz == null)\n            iz = is0 ? Fp.ONE : Fp.inv(Z);\n        const x = Fp.mul(X, iz);\n        const y = Fp.mul(Y, iz);\n        const zz = Fp.mul(Z, iz);\n        if (is0)\n            return { x: Fp.ZERO, y: Fp.ZERO };\n        if (!Fp.eql(zz, Fp.ONE))\n            throw new Error('invZ was invalid');\n        return { x, y };\n    });\n    // NOTE: on exception this will crash 'cached' and no value will be set.\n    // Otherwise true will be return\n    const assertValidMemo = memoized((p) => {\n        if (p.is0()) {\n            // (0, 1, 0) aka ZERO is invalid in most contexts.\n            // In BLS, ZERO can be serialized, so we allow it.\n            // (0, 0, 0) is invalid representation of ZERO.\n            if (extraOpts.allowInfinityPoint && !Fp.is0(p.Y))\n                return;\n            throw new Error('bad point: ZERO');\n        }\n        // Some 3rd-party test vectors require different wording between here & `fromCompressedHex`\n        const { x, y } = p.toAffine();\n        if (!Fp.isValid(x) || !Fp.isValid(y))\n            throw new Error('bad point: x or y not field elements');\n        if (!isValidXY(x, y))\n            throw new Error('bad point: equation left != right');\n        if (!p.isTorsionFree())\n            throw new Error('bad point: not in prime-order subgroup');\n        return true;\n    });\n    function finishEndo(endoBeta, k1p, k2p, k1neg, k2neg) {\n        k2p = new Point(Fp.mul(k2p.X, endoBeta), k2p.Y, k2p.Z);\n        k1p = negateCt(k1neg, k1p);\n        k2p = negateCt(k2neg, k2p);\n        return k1p.add(k2p);\n    }\n    /**\n     * Projective Point works in 3d / projective (homogeneous) coordinates:(X, Y, Z)  (x=X/Z, y=Y/Z).\n     * Default Point works in 2d / affine coordinates: (x, y).\n     * We're doing calculations in projective, because its operations don't require costly inversion.\n     */\n    class Point {\n        // base / generator point\n        static BASE = new Point(CURVE.Gx, CURVE.Gy, Fp.ONE);\n        // zero / infinity / identity point\n        static ZERO = new Point(Fp.ZERO, Fp.ONE, Fp.ZERO); // 0, 1, 0\n        // math field\n        static Fp = Fp;\n        // scalar field\n        static Fn = Fn;\n        X;\n        Y;\n        Z;\n        /** Does NOT validate if the point is valid. Use `.assertValidity()`. */\n        constructor(X, Y, Z) {\n            this.X = acoord('x', X);\n            this.Y = acoord('y', Y, true);\n            this.Z = acoord('z', Z);\n            Object.freeze(this);\n        }\n        static CURVE() {\n            return CURVE;\n        }\n        /** Does NOT validate if the point is valid. Use `.assertValidity()`. */\n        static fromAffine(p) {\n            const { x, y } = p || {};\n            if (!p || !Fp.isValid(x) || !Fp.isValid(y))\n                throw new Error('invalid affine point');\n            if (p instanceof Point)\n                throw new Error('projective point not allowed');\n            // (0, 0) would've produced (0, 0, 1) - instead, we need (0, 1, 0)\n            if (Fp.is0(x) && Fp.is0(y))\n                return Point.ZERO;\n            return new Point(x, y, Fp.ONE);\n        }\n        static fromBytes(bytes) {\n            const P = Point.fromAffine(decodePoint(abytes(bytes, undefined, 'point')));\n            P.assertValidity();\n            return P;\n        }\n        static fromHex(hex) {\n            return Point.fromBytes(hexToBytes(hex));\n        }\n        get x() {\n            return this.toAffine().x;\n        }\n        get y() {\n            return this.toAffine().y;\n        }\n        /**\n         *\n         * @param windowSize\n         * @param isLazy true will defer table computation until the first multiplication\n         * @returns\n         */\n        precompute(windowSize = 8, isLazy = true) {\n            wnaf.createCache(this, windowSize);\n            if (!isLazy)\n                this.multiply(_3n); // random number\n            return this;\n        }\n        // TODO: return `this`\n        /** A point on curve is valid if it conforms to equation. */\n        assertValidity() {\n            assertValidMemo(this);\n        }\n        hasEvenY() {\n            const { y } = this.toAffine();\n            if (!Fp.isOdd)\n                throw new Error(\"Field doesn't support isOdd\");\n            return !Fp.isOdd(y);\n        }\n        /** Compare one point to another. */\n        equals(other) {\n            aprjpoint(other);\n            const { X: X1, Y: Y1, Z: Z1 } = this;\n            const { X: X2, Y: Y2, Z: Z2 } = other;\n            const U1 = Fp.eql(Fp.mul(X1, Z2), Fp.mul(X2, Z1));\n            const U2 = Fp.eql(Fp.mul(Y1, Z2), Fp.mul(Y2, Z1));\n            return U1 && U2;\n        }\n        /** Flips point to one corresponding to (x, -y) in Affine coordinates. */\n        negate() {\n            return new Point(this.X, Fp.neg(this.Y), this.Z);\n        }\n        // Renes-Costello-Batina exception-free doubling formula.\n        // There is 30% faster Jacobian formula, but it is not complete.\n        // https://eprint.iacr.org/2015/1060, algorithm 3\n        // Cost: 8M + 3S + 3*a + 2*b3 + 15add.\n        double() {\n            const { a, b } = CURVE;\n            const b3 = Fp.mul(b, _3n);\n            const { X: X1, Y: Y1, Z: Z1 } = this;\n            let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n            let t0 = Fp.mul(X1, X1); // step 1\n            let t1 = Fp.mul(Y1, Y1);\n            let t2 = Fp.mul(Z1, Z1);\n            let t3 = Fp.mul(X1, Y1);\n            t3 = Fp.add(t3, t3); // step 5\n            Z3 = Fp.mul(X1, Z1);\n            Z3 = Fp.add(Z3, Z3);\n            X3 = Fp.mul(a, Z3);\n            Y3 = Fp.mul(b3, t2);\n            Y3 = Fp.add(X3, Y3); // step 10\n            X3 = Fp.sub(t1, Y3);\n            Y3 = Fp.add(t1, Y3);\n            Y3 = Fp.mul(X3, Y3);\n            X3 = Fp.mul(t3, X3);\n            Z3 = Fp.mul(b3, Z3); // step 15\n            t2 = Fp.mul(a, t2);\n            t3 = Fp.sub(t0, t2);\n            t3 = Fp.mul(a, t3);\n            t3 = Fp.add(t3, Z3);\n            Z3 = Fp.add(t0, t0); // step 20\n            t0 = Fp.add(Z3, t0);\n            t0 = Fp.add(t0, t2);\n            t0 = Fp.mul(t0, t3);\n            Y3 = Fp.add(Y3, t0);\n            t2 = Fp.mul(Y1, Z1); // step 25\n            t2 = Fp.add(t2, t2);\n            t0 = Fp.mul(t2, t3);\n            X3 = Fp.sub(X3, t0);\n            Z3 = Fp.mul(t2, t1);\n            Z3 = Fp.add(Z3, Z3); // step 30\n            Z3 = Fp.add(Z3, Z3);\n            return new Point(X3, Y3, Z3);\n        }\n        // Renes-Costello-Batina exception-free addition formula.\n        // There is 30% faster Jacobian formula, but it is not complete.\n        // https://eprint.iacr.org/2015/1060, algorithm 1\n        // Cost: 12M + 0S + 3*a + 3*b3 + 23add.\n        add(other) {\n            aprjpoint(other);\n            const { X: X1, Y: Y1, Z: Z1 } = this;\n            const { X: X2, Y: Y2, Z: Z2 } = other;\n            let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n            const a = CURVE.a;\n            const b3 = Fp.mul(CURVE.b, _3n);\n            let t0 = Fp.mul(X1, X2); // step 1\n            let t1 = Fp.mul(Y1, Y2);\n            let t2 = Fp.mul(Z1, Z2);\n            let t3 = Fp.add(X1, Y1);\n            let t4 = Fp.add(X2, Y2); // step 5\n            t3 = Fp.mul(t3, t4);\n            t4 = Fp.add(t0, t1);\n            t3 = Fp.sub(t3, t4);\n            t4 = Fp.add(X1, Z1);\n            let t5 = Fp.add(X2, Z2); // step 10\n            t4 = Fp.mul(t4, t5);\n            t5 = Fp.add(t0, t2);\n            t4 = Fp.sub(t4, t5);\n            t5 = Fp.add(Y1, Z1);\n            X3 = Fp.add(Y2, Z2); // step 15\n            t5 = Fp.mul(t5, X3);\n            X3 = Fp.add(t1, t2);\n            t5 = Fp.sub(t5, X3);\n            Z3 = Fp.mul(a, t4);\n            X3 = Fp.mul(b3, t2); // step 20\n            Z3 = Fp.add(X3, Z3);\n            X3 = Fp.sub(t1, Z3);\n            Z3 = Fp.add(t1, Z3);\n            Y3 = Fp.mul(X3, Z3);\n            t1 = Fp.add(t0, t0); // step 25\n            t1 = Fp.add(t1, t0);\n            t2 = Fp.mul(a, t2);\n            t4 = Fp.mul(b3, t4);\n            t1 = Fp.add(t1, t2);\n            t2 = Fp.sub(t0, t2); // step 30\n            t2 = Fp.mul(a, t2);\n            t4 = Fp.add(t4, t2);\n            t0 = Fp.mul(t1, t4);\n            Y3 = Fp.add(Y3, t0);\n            t0 = Fp.mul(t5, t4); // step 35\n            X3 = Fp.mul(t3, X3);\n            X3 = Fp.sub(X3, t0);\n            t0 = Fp.mul(t3, t1);\n            Z3 = Fp.mul(t5, Z3);\n            Z3 = Fp.add(Z3, t0); // step 40\n            return new Point(X3, Y3, Z3);\n        }\n        subtract(other) {\n            return this.add(other.negate());\n        }\n        is0() {\n            return this.equals(Point.ZERO);\n        }\n        /**\n         * Constant time multiplication.\n         * Uses wNAF method. Windowed method may be 10% faster,\n         * but takes 2x longer to generate and consumes 2x memory.\n         * Uses precomputes when available.\n         * Uses endomorphism for Koblitz curves.\n         * @param scalar by which the point would be multiplied\n         * @returns New point\n         */\n        multiply(scalar) {\n            const { endo } = extraOpts;\n            if (!Fn.isValidNot0(scalar))\n                throw new Error('invalid scalar: out of range'); // 0 is invalid\n            let point, fake; // Fake point is used to const-time mult\n            const mul = (n) => wnaf.cached(this, n, (p) => normalizeZ(Point, p));\n            /** See docs for {@link EndomorphismOpts} */\n            if (endo) {\n                const { k1neg, k1, k2neg, k2 } = splitEndoScalarN(scalar);\n                const { p: k1p, f: k1f } = mul(k1);\n                const { p: k2p, f: k2f } = mul(k2);\n                fake = k1f.add(k2f);\n                point = finishEndo(endo.beta, k1p, k2p, k1neg, k2neg);\n            }\n            else {\n                const { p, f } = mul(scalar);\n                point = p;\n                fake = f;\n            }\n            // Normalize `z` for both points, but return only real one\n            return normalizeZ(Point, [point, fake])[0];\n        }\n        /**\n         * Non-constant-time multiplication. Uses double-and-add algorithm.\n         * It's faster, but should only be used when you don't care about\n         * an exposed secret key e.g. sig verification, which works over *public* keys.\n         */\n        multiplyUnsafe(sc) {\n            const { endo } = extraOpts;\n            const p = this;\n            if (!Fn.isValid(sc))\n                throw new Error('invalid scalar: out of range'); // 0 is valid\n            if (sc === _0n || p.is0())\n                return Point.ZERO; // 0\n            if (sc === _1n)\n                return p; // 1\n            if (wnaf.hasCache(this))\n                return this.multiply(sc); // precomputes\n            // We don't have method for double scalar multiplication (aP + bQ):\n            // Even with using Strauss-Shamir trick, it's 35% slower than nave mul+add.\n            if (endo) {\n                const { k1neg, k1, k2neg, k2 } = splitEndoScalarN(sc);\n                const { p1, p2 } = mulEndoUnsafe(Point, p, k1, k2); // 30% faster vs wnaf.unsafe\n                return finishEndo(endo.beta, p1, p2, k1neg, k2neg);\n            }\n            else {\n                return wnaf.unsafe(p, sc);\n            }\n        }\n        /**\n         * Converts Projective point to affine (x, y) coordinates.\n         * @param invertedZ Z^-1 (inverted zero) - optional, precomputation is useful for invertBatch\n         */\n        toAffine(invertedZ) {\n            return toAffineMemo(this, invertedZ);\n        }\n        /**\n         * Checks whether Point is free of torsion elements (is in prime subgroup).\n         * Always torsion-free for cofactor=1 curves.\n         */\n        isTorsionFree() {\n            const { isTorsionFree } = extraOpts;\n            if (cofactor === _1n)\n                return true;\n            if (isTorsionFree)\n                return isTorsionFree(Point, this);\n            return wnaf.unsafe(this, CURVE_ORDER).is0();\n        }\n        clearCofactor() {\n            const { clearCofactor } = extraOpts;\n            if (cofactor === _1n)\n                return this; // Fast-path\n            if (clearCofactor)\n                return clearCofactor(Point, this);\n            return this.multiplyUnsafe(cofactor);\n        }\n        isSmallOrder() {\n            // can we use this.clearCofactor()?\n            return this.multiplyUnsafe(cofactor).is0();\n        }\n        toBytes(isCompressed = true) {\n            abool(isCompressed, 'isCompressed');\n            this.assertValidity();\n            return encodePoint(Point, this, isCompressed);\n        }\n        toHex(isCompressed = true) {\n            return bytesToHex(this.toBytes(isCompressed));\n        }\n        toString() {\n            return `<Point ${this.is0() ? 'ZERO' : this.toHex()}>`;\n        }\n    }\n    const bits = Fn.BITS;\n    const wnaf = new wNAF(Point, extraOpts.endo ? Math.ceil(bits / 2) : bits);\n    Point.BASE.precompute(8); // Enable precomputes. Slows down first publicKey computation by 20ms.\n    return Point;\n}\n// Points start with byte 0x02 when y is even; otherwise 0x03\nfunction pprefix(hasEvenY) {\n    return Uint8Array.of(hasEvenY ? 0x02 : 0x03);\n}\n/**\n * Implementation of the Shallue and van de Woestijne method for any weierstrass curve.\n * TODO: check if there is a way to merge this with uvRatio in Edwards; move to modular.\n * b = True and y = sqrt(u / v) if (u / v) is square in F, and\n * b = False and y = sqrt(Z * (u / v)) otherwise.\n * @param Fp\n * @param Z\n * @returns\n */\nexport function SWUFpSqrtRatio(Fp, Z) {\n    // Generic implementation\n    const q = Fp.ORDER;\n    let l = _0n;\n    for (let o = q - _1n; o % _2n === _0n; o /= _2n)\n        l += _1n;\n    const c1 = l; // 1. c1, the largest integer such that 2^c1 divides q - 1.\n    // We need 2n ** c1 and 2n ** (c1-1). We can't use **; but we can use <<.\n    // 2n ** c1 == 2n << (c1-1)\n    const _2n_pow_c1_1 = _2n << (c1 - _1n - _1n);\n    const _2n_pow_c1 = _2n_pow_c1_1 * _2n;\n    const c2 = (q - _1n) / _2n_pow_c1; // 2. c2 = (q - 1) / (2^c1)  # Integer arithmetic\n    const c3 = (c2 - _1n) / _2n; // 3. c3 = (c2 - 1) / 2            # Integer arithmetic\n    const c4 = _2n_pow_c1 - _1n; // 4. c4 = 2^c1 - 1                # Integer arithmetic\n    const c5 = _2n_pow_c1_1; // 5. c5 = 2^(c1 - 1)                  # Integer arithmetic\n    const c6 = Fp.pow(Z, c2); // 6. c6 = Z^c2\n    const c7 = Fp.pow(Z, (c2 + _1n) / _2n); // 7. c7 = Z^((c2 + 1) / 2)\n    let sqrtRatio = (u, v) => {\n        let tv1 = c6; // 1. tv1 = c6\n        let tv2 = Fp.pow(v, c4); // 2. tv2 = v^c4\n        let tv3 = Fp.sqr(tv2); // 3. tv3 = tv2^2\n        tv3 = Fp.mul(tv3, v); // 4. tv3 = tv3 * v\n        let tv5 = Fp.mul(u, tv3); // 5. tv5 = u * tv3\n        tv5 = Fp.pow(tv5, c3); // 6. tv5 = tv5^c3\n        tv5 = Fp.mul(tv5, tv2); // 7. tv5 = tv5 * tv2\n        tv2 = Fp.mul(tv5, v); // 8. tv2 = tv5 * v\n        tv3 = Fp.mul(tv5, u); // 9. tv3 = tv5 * u\n        let tv4 = Fp.mul(tv3, tv2); // 10. tv4 = tv3 * tv2\n        tv5 = Fp.pow(tv4, c5); // 11. tv5 = tv4^c5\n        let isQR = Fp.eql(tv5, Fp.ONE); // 12. isQR = tv5 == 1\n        tv2 = Fp.mul(tv3, c7); // 13. tv2 = tv3 * c7\n        tv5 = Fp.mul(tv4, tv1); // 14. tv5 = tv4 * tv1\n        tv3 = Fp.cmov(tv2, tv3, isQR); // 15. tv3 = CMOV(tv2, tv3, isQR)\n        tv4 = Fp.cmov(tv5, tv4, isQR); // 16. tv4 = CMOV(tv5, tv4, isQR)\n        // 17. for i in (c1, c1 - 1, ..., 2):\n        for (let i = c1; i > _1n; i--) {\n            let tv5 = i - _2n; // 18.    tv5 = i - 2\n            tv5 = _2n << (tv5 - _1n); // 19.    tv5 = 2^tv5\n            let tvv5 = Fp.pow(tv4, tv5); // 20.    tv5 = tv4^tv5\n            const e1 = Fp.eql(tvv5, Fp.ONE); // 21.    e1 = tv5 == 1\n            tv2 = Fp.mul(tv3, tv1); // 22.    tv2 = tv3 * tv1\n            tv1 = Fp.mul(tv1, tv1); // 23.    tv1 = tv1 * tv1\n            tvv5 = Fp.mul(tv4, tv1); // 24.    tv5 = tv4 * tv1\n            tv3 = Fp.cmov(tv2, tv3, e1); // 25.    tv3 = CMOV(tv2, tv3, e1)\n            tv4 = Fp.cmov(tvv5, tv4, e1); // 26.    tv4 = CMOV(tv5, tv4, e1)\n        }\n        return { isValid: isQR, value: tv3 };\n    };\n    if (Fp.ORDER % _4n === _3n) {\n        // sqrt_ratio_3mod4(u, v)\n        const c1 = (Fp.ORDER - _3n) / _4n; // 1. c1 = (q - 3) / 4     # Integer arithmetic\n        const c2 = Fp.sqrt(Fp.neg(Z)); // 2. c2 = sqrt(-Z)\n        sqrtRatio = (u, v) => {\n            let tv1 = Fp.sqr(v); // 1. tv1 = v^2\n            const tv2 = Fp.mul(u, v); // 2. tv2 = u * v\n            tv1 = Fp.mul(tv1, tv2); // 3. tv1 = tv1 * tv2\n            let y1 = Fp.pow(tv1, c1); // 4. y1 = tv1^c1\n            y1 = Fp.mul(y1, tv2); // 5. y1 = y1 * tv2\n            const y2 = Fp.mul(y1, c2); // 6. y2 = y1 * c2\n            const tv3 = Fp.mul(Fp.sqr(y1), v); // 7. tv3 = y1^2; 8. tv3 = tv3 * v\n            const isQR = Fp.eql(tv3, u); // 9. isQR = tv3 == u\n            let y = Fp.cmov(y2, y1, isQR); // 10. y = CMOV(y2, y1, isQR)\n            return { isValid: isQR, value: y }; // 11. return (isQR, y) isQR ? y : y*c2\n        };\n    }\n    // No curves uses that\n    // if (Fp.ORDER % _8n === _5n) // sqrt_ratio_5mod8\n    return sqrtRatio;\n}\n/**\n * Simplified Shallue-van de Woestijne-Ulas Method\n * https://www.rfc-editor.org/rfc/rfc9380#section-6.6.2\n */\nexport function mapToCurveSimpleSWU(Fp, opts) {\n    validateField(Fp);\n    const { A, B, Z } = opts;\n    if (!Fp.isValid(A) || !Fp.isValid(B) || !Fp.isValid(Z))\n        throw new Error('mapToCurveSimpleSWU: invalid opts');\n    const sqrtRatio = SWUFpSqrtRatio(Fp, Z);\n    if (!Fp.isOdd)\n        throw new Error('Field does not have .isOdd()');\n    // Input: u, an element of F.\n    // Output: (x, y), a point on E.\n    return (u) => {\n        // prettier-ignore\n        let tv1, tv2, tv3, tv4, tv5, tv6, x, y;\n        tv1 = Fp.sqr(u); // 1.  tv1 = u^2\n        tv1 = Fp.mul(tv1, Z); // 2.  tv1 = Z * tv1\n        tv2 = Fp.sqr(tv1); // 3.  tv2 = tv1^2\n        tv2 = Fp.add(tv2, tv1); // 4.  tv2 = tv2 + tv1\n        tv3 = Fp.add(tv2, Fp.ONE); // 5.  tv3 = tv2 + 1\n        tv3 = Fp.mul(tv3, B); // 6.  tv3 = B * tv3\n        tv4 = Fp.cmov(Z, Fp.neg(tv2), !Fp.eql(tv2, Fp.ZERO)); // 7.  tv4 = CMOV(Z, -tv2, tv2 != 0)\n        tv4 = Fp.mul(tv4, A); // 8.  tv4 = A * tv4\n        tv2 = Fp.sqr(tv3); // 9.  tv2 = tv3^2\n        tv6 = Fp.sqr(tv4); // 10. tv6 = tv4^2\n        tv5 = Fp.mul(tv6, A); // 11. tv5 = A * tv6\n        tv2 = Fp.add(tv2, tv5); // 12. tv2 = tv2 + tv5\n        tv2 = Fp.mul(tv2, tv3); // 13. tv2 = tv2 * tv3\n        tv6 = Fp.mul(tv6, tv4); // 14. tv6 = tv6 * tv4\n        tv5 = Fp.mul(tv6, B); // 15. tv5 = B * tv6\n        tv2 = Fp.add(tv2, tv5); // 16. tv2 = tv2 + tv5\n        x = Fp.mul(tv1, tv3); // 17.   x = tv1 * tv3\n        const { isValid, value } = sqrtRatio(tv2, tv6); // 18. (is_gx1_square, y1) = sqrt_ratio(tv2, tv6)\n        y = Fp.mul(tv1, u); // 19.   y = tv1 * u  -> Z * u^3 * y1\n        y = Fp.mul(y, value); // 20.   y = y * y1\n        x = Fp.cmov(x, tv3, isValid); // 21.   x = CMOV(x, tv3, is_gx1_square)\n        y = Fp.cmov(y, value, isValid); // 22.   y = CMOV(y, y1, is_gx1_square)\n        const e1 = Fp.isOdd(u) === Fp.isOdd(y); // 23.  e1 = sgn0(u) == sgn0(y)\n        y = Fp.cmov(Fp.neg(y), y, e1); // 24.   y = CMOV(-y, y, e1)\n        const tv4_inv = FpInvertBatch(Fp, [tv4], true)[0];\n        x = Fp.mul(x, tv4_inv); // 25.   x = x / tv4\n        return { x, y };\n    };\n}\nfunction getWLengths(Fp, Fn) {\n    return {\n        secretKey: Fn.BYTES,\n        publicKey: 1 + Fp.BYTES,\n        publicKeyUncompressed: 1 + 2 * Fp.BYTES,\n        publicKeyHasPrefix: true,\n        signature: 2 * Fn.BYTES,\n    };\n}\n/**\n * Sometimes users only need getPublicKey, getSharedSecret, and secret key handling.\n * This helper ensures no signature functionality is present. Less code, smaller bundle size.\n */\nexport function ecdh(Point, ecdhOpts = {}) {\n    const { Fn } = Point;\n    const randomBytes_ = ecdhOpts.randomBytes || wcRandomBytes;\n    const lengths = Object.assign(getWLengths(Point.Fp, Fn), { seed: getMinHashLength(Fn.ORDER) });\n    function isValidSecretKey(secretKey) {\n        try {\n            const num = Fn.fromBytes(secretKey);\n            return Fn.isValidNot0(num);\n        }\n        catch (error) {\n            return false;\n        }\n    }\n    function isValidPublicKey(publicKey, isCompressed) {\n        const { publicKey: comp, publicKeyUncompressed } = lengths;\n        try {\n            const l = publicKey.length;\n            if (isCompressed === true && l !== comp)\n                return false;\n            if (isCompressed === false && l !== publicKeyUncompressed)\n                return false;\n            return !!Point.fromBytes(publicKey);\n        }\n        catch (error) {\n            return false;\n        }\n    }\n    /**\n     * Produces cryptographically secure secret key from random of size\n     * (groupLen + ceil(groupLen / 2)) with modulo bias being negligible.\n     */\n    function randomSecretKey(seed = randomBytes_(lengths.seed)) {\n        return mapHashToField(abytes(seed, lengths.seed, 'seed'), Fn.ORDER);\n    }\n    /**\n     * Computes public key for a secret key. Checks for validity of the secret key.\n     * @param isCompressed whether to return compact (default), or full key\n     * @returns Public key, full when isCompressed=false; short when isCompressed=true\n     */\n    function getPublicKey(secretKey, isCompressed = true) {\n        return Point.BASE.multiply(Fn.fromBytes(secretKey)).toBytes(isCompressed);\n    }\n    /**\n     * Quick and dirty check for item being public key. Does not validate hex, or being on-curve.\n     */\n    function isProbPub(item) {\n        const { secretKey, publicKey, publicKeyUncompressed } = lengths;\n        if (!isBytes(item))\n            return undefined;\n        if (('_lengths' in Fn && Fn._lengths) || secretKey === publicKey)\n            return undefined;\n        const l = abytes(item, undefined, 'key').length;\n        return l === publicKey || l === publicKeyUncompressed;\n    }\n    /**\n     * ECDH (Elliptic Curve Diffie Hellman).\n     * Computes shared public key from secret key A and public key B.\n     * Checks: 1) secret key validity 2) shared key is on-curve.\n     * Does NOT hash the result.\n     * @param isCompressed whether to return compact (default), or full key\n     * @returns shared public key\n     */\n    function getSharedSecret(secretKeyA, publicKeyB, isCompressed = true) {\n        if (isProbPub(secretKeyA) === true)\n            throw new Error('first arg must be private key');\n        if (isProbPub(publicKeyB) === false)\n            throw new Error('second arg must be public key');\n        const s = Fn.fromBytes(secretKeyA);\n        const b = Point.fromBytes(publicKeyB); // checks for being on-curve\n        return b.multiply(s).toBytes(isCompressed);\n    }\n    const utils = {\n        isValidSecretKey,\n        isValidPublicKey,\n        randomSecretKey,\n    };\n    const keygen = createKeygen(randomSecretKey, getPublicKey);\n    return Object.freeze({ getPublicKey, getSharedSecret, keygen, Point, utils, lengths });\n}\n/**\n * Creates ECDSA signing interface for given elliptic curve `Point` and `hash` function.\n *\n * @param Point created using {@link weierstrass} function\n * @param hash used for 1) message prehash-ing 2) k generation in `sign`, using hmac_drbg(hash)\n * @param ecdsaOpts rarely needed, see {@link ECDSAOpts}\n *\n * @example\n * ```js\n * const p256_Point = weierstrass(...);\n * const p256_sha256 = ecdsa(p256_Point, sha256);\n * const p256_sha224 = ecdsa(p256_Point, sha224);\n * const p256_sha224_r = ecdsa(p256_Point, sha224, { randomBytes: (length) => { ... } });\n * ```\n */\nexport function ecdsa(Point, hash, ecdsaOpts = {}) {\n    ahash(hash);\n    validateObject(ecdsaOpts, {}, {\n        hmac: 'function',\n        lowS: 'boolean',\n        randomBytes: 'function',\n        bits2int: 'function',\n        bits2int_modN: 'function',\n    });\n    ecdsaOpts = Object.assign({}, ecdsaOpts);\n    const randomBytes = ecdsaOpts.randomBytes || wcRandomBytes;\n    const hmac = ecdsaOpts.hmac || ((key, msg) => nobleHmac(hash, key, msg));\n    const { Fp, Fn } = Point;\n    const { ORDER: CURVE_ORDER, BITS: fnBits } = Fn;\n    const { keygen, getPublicKey, getSharedSecret, utils, lengths } = ecdh(Point, ecdsaOpts);\n    const defaultSigOpts = {\n        prehash: true,\n        lowS: typeof ecdsaOpts.lowS === 'boolean' ? ecdsaOpts.lowS : true,\n        format: 'compact',\n        extraEntropy: false,\n    };\n    const hasLargeCofactor = CURVE_ORDER * _2n < Fp.ORDER; // Won't CURVE().h > 2n be more effective?\n    function isBiggerThanHalfOrder(number) {\n        const HALF = CURVE_ORDER >> _1n;\n        return number > HALF;\n    }\n    function validateRS(title, num) {\n        if (!Fn.isValidNot0(num))\n            throw new Error(`invalid signature ${title}: out of range 1..Point.Fn.ORDER`);\n        return num;\n    }\n    function assertSmallCofactor() {\n        // ECDSA recovery is hard for cofactor > 1 curves.\n        // In sign, `r = q.x mod n`, and here we recover q.x from r.\n        // While recovering q.x >= n, we need to add r+n for cofactor=1 curves.\n        // However, for cofactor>1, r+n may not get q.x:\n        // r+n*i would need to be done instead where i is unknown.\n        // To easily get i, we either need to:\n        // a. increase amount of valid recid values (4, 5...); OR\n        // b. prohibit non-prime-order signatures (recid > 1).\n        if (hasLargeCofactor)\n            throw new Error('\"recovered\" sig type is not supported for cofactor >2 curves');\n    }\n    function validateSigLength(bytes, format) {\n        validateSigFormat(format);\n        const size = lengths.signature;\n        const sizer = format === 'compact' ? size : format === 'recovered' ? size + 1 : undefined;\n        return abytes(bytes, sizer);\n    }\n    /**\n     * ECDSA signature with its (r, s) properties. Supports compact, recovered & DER representations.\n     */\n    class Signature {\n        r;\n        s;\n        recovery;\n        constructor(r, s, recovery) {\n            this.r = validateRS('r', r); // r in [1..N-1];\n            this.s = validateRS('s', s); // s in [1..N-1];\n            if (recovery != null) {\n                assertSmallCofactor();\n                if (![0, 1, 2, 3].includes(recovery))\n                    throw new Error('invalid recovery id');\n                this.recovery = recovery;\n            }\n            Object.freeze(this);\n        }\n        static fromBytes(bytes, format = defaultSigOpts.format) {\n            validateSigLength(bytes, format);\n            let recid;\n            if (format === 'der') {\n                const { r, s } = DER.toSig(abytes(bytes));\n                return new Signature(r, s);\n            }\n            if (format === 'recovered') {\n                recid = bytes[0];\n                format = 'compact';\n                bytes = bytes.subarray(1);\n            }\n            const L = lengths.signature / 2;\n            const r = bytes.subarray(0, L);\n            const s = bytes.subarray(L, L * 2);\n            return new Signature(Fn.fromBytes(r), Fn.fromBytes(s), recid);\n        }\n        static fromHex(hex, format) {\n            return this.fromBytes(hexToBytes(hex), format);\n        }\n        assertRecovery() {\n            const { recovery } = this;\n            if (recovery == null)\n                throw new Error('invalid recovery id: must be present');\n            return recovery;\n        }\n        addRecoveryBit(recovery) {\n            return new Signature(this.r, this.s, recovery);\n        }\n        recoverPublicKey(messageHash) {\n            const { r, s } = this;\n            const recovery = this.assertRecovery();\n            const radj = recovery === 2 || recovery === 3 ? r + CURVE_ORDER : r;\n            if (!Fp.isValid(radj))\n                throw new Error('invalid recovery id: sig.r+curve.n != R.x');\n            const x = Fp.toBytes(radj);\n            const R = Point.fromBytes(concatBytes(pprefix((recovery & 1) === 0), x));\n            const ir = Fn.inv(radj); // r^-1\n            const h = bits2int_modN(abytes(messageHash, undefined, 'msgHash')); // Truncate hash\n            const u1 = Fn.create(-h * ir); // -hr^-1\n            const u2 = Fn.create(s * ir); // sr^-1\n            // (sr^-1)R-(hr^-1)G = -(hr^-1)G + (sr^-1). unsafe is fine: there is no private data.\n            const Q = Point.BASE.multiplyUnsafe(u1).add(R.multiplyUnsafe(u2));\n            if (Q.is0())\n                throw new Error('invalid recovery: point at infinify');\n            Q.assertValidity();\n            return Q;\n        }\n        // Signatures should be low-s, to prevent malleability.\n        hasHighS() {\n            return isBiggerThanHalfOrder(this.s);\n        }\n        toBytes(format = defaultSigOpts.format) {\n            validateSigFormat(format);\n            if (format === 'der')\n                return hexToBytes(DER.hexFromSig(this));\n            const { r, s } = this;\n            const rb = Fn.toBytes(r);\n            const sb = Fn.toBytes(s);\n            if (format === 'recovered') {\n                assertSmallCofactor();\n                return concatBytes(Uint8Array.of(this.assertRecovery()), rb, sb);\n            }\n            return concatBytes(rb, sb);\n        }\n        toHex(format) {\n            return bytesToHex(this.toBytes(format));\n        }\n    }\n    // RFC6979: ensure ECDSA msg is X bytes and < N. RFC suggests optional truncating via bits2octets.\n    // FIPS 186-4 4.6 suggests the leftmost min(nBitLen, outLen) bits, which matches bits2int.\n    // bits2int can produce res>N, we can do mod(res, N) since the bitLen is the same.\n    // int2octets can't be used; pads small msgs with 0: unacceptatble for trunc as per RFC vectors\n    const bits2int = ecdsaOpts.bits2int ||\n        function bits2int_def(bytes) {\n            // Our custom check \"just in case\", for protection against DoS\n            if (bytes.length > 8192)\n                throw new Error('input is too large');\n            // For curves with nBitLength % 8 !== 0: bits2octets(bits2octets(m)) !== bits2octets(m)\n            // for some cases, since bytes.length * 8 is not actual bitLength.\n            const num = bytesToNumberBE(bytes); // check for == u8 done here\n            const delta = bytes.length * 8 - fnBits; // truncate to nBitLength leftmost bits\n            return delta > 0 ? num >> BigInt(delta) : num;\n        };\n    const bits2int_modN = ecdsaOpts.bits2int_modN ||\n        function bits2int_modN_def(bytes) {\n            return Fn.create(bits2int(bytes)); // can't use bytesToNumberBE here\n        };\n    // Pads output with zero as per spec\n    const ORDER_MASK = bitMask(fnBits);\n    /** Converts to bytes. Checks if num in `[0..ORDER_MASK-1]` e.g.: `[0..2^256-1]`. */\n    function int2octets(num) {\n        // IMPORTANT: the check ensures working for case `Fn.BYTES != Fn.BITS * 8`\n        aInRange('num < 2^' + fnBits, num, _0n, ORDER_MASK);\n        return Fn.toBytes(num);\n    }\n    function validateMsgAndHash(message, prehash) {\n        abytes(message, undefined, 'message');\n        return prehash ? abytes(hash(message), undefined, 'prehashed message') : message;\n    }\n    /**\n     * Steps A, D of RFC6979 3.2.\n     * Creates RFC6979 seed; converts msg/privKey to numbers.\n     * Used only in sign, not in verify.\n     *\n     * Warning: we cannot assume here that message has same amount of bytes as curve order,\n     * this will be invalid at least for P521. Also it can be bigger for P224 + SHA256.\n     */\n    function prepSig(message, secretKey, opts) {\n        const { lowS, prehash, extraEntropy } = validateSigOpts(opts, defaultSigOpts);\n        message = validateMsgAndHash(message, prehash); // RFC6979 3.2 A: h1 = H(m)\n        // We can't later call bits2octets, since nested bits2int is broken for curves\n        // with fnBits % 8 !== 0. Because of that, we unwrap it here as int2octets call.\n        // const bits2octets = (bits) => int2octets(bits2int_modN(bits))\n        const h1int = bits2int_modN(message);\n        const d = Fn.fromBytes(secretKey); // validate secret key, convert to bigint\n        if (!Fn.isValidNot0(d))\n            throw new Error('invalid private key');\n        const seedArgs = [int2octets(d), int2octets(h1int)];\n        // extraEntropy. RFC6979 3.6: additional k' (optional).\n        if (extraEntropy != null && extraEntropy !== false) {\n            // K = HMAC_K(V || 0x00 || int2octets(x) || bits2octets(h1) || k')\n            // gen random bytes OR pass as-is\n            const e = extraEntropy === true ? randomBytes(lengths.secretKey) : extraEntropy;\n            seedArgs.push(abytes(e, undefined, 'extraEntropy')); // check for being bytes\n        }\n        const seed = concatBytes(...seedArgs); // Step D of RFC6979 3.2\n        const m = h1int; // no need to call bits2int second time here, it is inside truncateHash!\n        // Converts signature params into point w r/s, checks result for validity.\n        // To transform k => Signature:\n        // q = kG\n        // r = q.x mod n\n        // s = k^-1(m + rd) mod n\n        // Can use scalar blinding b^-1(bm + bdr) where b  [1,q1] according to\n        // https://tches.iacr.org/index.php/TCHES/article/view/7337/6509. We've decided against it:\n        // a) dependency on CSPRNG b) 15% slowdown c) doesn't really help since bigints are not CT\n        function k2sig(kBytes) {\n            // RFC 6979 Section 3.2, step 3: k = bits2int(T)\n            // Important: all mod() calls here must be done over N\n            const k = bits2int(kBytes); // Cannot use fields methods, since it is group element\n            if (!Fn.isValidNot0(k))\n                return; // Valid scalars (including k) must be in 1..N-1\n            const ik = Fn.inv(k); // k^-1 mod n\n            const q = Point.BASE.multiply(k).toAffine(); // q = kG\n            const r = Fn.create(q.x); // r = q.x mod n\n            if (r === _0n)\n                return;\n            const s = Fn.create(ik * Fn.create(m + r * d)); // s = k^-1(m + rd) mod n\n            if (s === _0n)\n                return;\n            let recovery = (q.x === r ? 0 : 2) | Number(q.y & _1n); // recovery bit (2 or 3 when q.x>n)\n            let normS = s;\n            if (lowS && isBiggerThanHalfOrder(s)) {\n                normS = Fn.neg(s); // if lowS was passed, ensure s is always in the bottom half of N\n                recovery ^= 1;\n            }\n            return new Signature(r, normS, hasLargeCofactor ? undefined : recovery);\n        }\n        return { seed, k2sig };\n    }\n    /**\n     * Signs message hash with a secret key.\n     *\n     * ```\n     * sign(m, d) where\n     *   k = rfc6979_hmac_drbg(m, d)\n     *   (x, y) = G  k\n     *   r = x mod n\n     *   s = (m + dr) / k mod n\n     * ```\n     */\n    function sign(message, secretKey, opts = {}) {\n        const { seed, k2sig } = prepSig(message, secretKey, opts); // Steps A, D of RFC6979 3.2.\n        const drbg = createHmacDrbg(hash.outputLen, Fn.BYTES, hmac);\n        const sig = drbg(seed, k2sig); // Steps B, C, D, E, F, G\n        return sig.toBytes(opts.format);\n    }\n    /**\n     * Verifies a signature against message and public key.\n     * Rejects lowS signatures by default: see {@link ECDSAVerifyOpts}.\n     * Implements section 4.1.4 from https://www.secg.org/sec1-v2.pdf:\n     *\n     * ```\n     * verify(r, s, h, P) where\n     *   u1 = hs^-1 mod n\n     *   u2 = rs^-1 mod n\n     *   R = u1G + u2P\n     *   mod(R.x, n) == r\n     * ```\n     */\n    function verify(signature, message, publicKey, opts = {}) {\n        const { lowS, prehash, format } = validateSigOpts(opts, defaultSigOpts);\n        publicKey = abytes(publicKey, undefined, 'publicKey');\n        message = validateMsgAndHash(message, prehash);\n        if (!isBytes(signature)) {\n            const end = signature instanceof Signature ? ', use sig.toBytes()' : '';\n            throw new Error('verify expects Uint8Array signature' + end);\n        }\n        validateSigLength(signature, format); // execute this twice because we want loud error\n        try {\n            const sig = Signature.fromBytes(signature, format);\n            const P = Point.fromBytes(publicKey);\n            if (lowS && sig.hasHighS())\n                return false;\n            const { r, s } = sig;\n            const h = bits2int_modN(message); // mod n, not mod p\n            const is = Fn.inv(s); // s^-1 mod n\n            const u1 = Fn.create(h * is); // u1 = hs^-1 mod n\n            const u2 = Fn.create(r * is); // u2 = rs^-1 mod n\n            const R = Point.BASE.multiplyUnsafe(u1).add(P.multiplyUnsafe(u2)); // u1G + u2P\n            if (R.is0())\n                return false;\n            const v = Fn.create(R.x); // v = r.x mod n\n            return v === r;\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    function recoverPublicKey(signature, message, opts = {}) {\n        const { prehash } = validateSigOpts(opts, defaultSigOpts);\n        message = validateMsgAndHash(message, prehash);\n        return Signature.fromBytes(signature, 'recovered').recoverPublicKey(message).toBytes();\n    }\n    return Object.freeze({\n        keygen,\n        getPublicKey,\n        getSharedSecret,\n        utils,\n        lengths,\n        Point,\n        sign,\n        verify,\n        recoverPublicKey,\n        Signature,\n        hash,\n    });\n}\n//# sourceMappingURL=weierstrass.js.map","/**\n * SECG secp256k1. See [pdf](https://www.secg.org/sec2-v2.pdf).\n *\n * Belongs to Koblitz curves: it has efficiently-computable GLV endomorphism ,\n * check out {@link EndomorphismOpts}. Seems to be rigid (not backdoored).\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { sha256 } from '@noble/hashes/sha2.js';\nimport { randomBytes } from '@noble/hashes/utils.js';\nimport { createKeygen } from \"./abstract/curve.js\";\nimport { createHasher, isogenyMap } from \"./abstract/hash-to-curve.js\";\nimport { Field, mapHashToField, pow2 } from \"./abstract/modular.js\";\nimport { ecdsa, mapToCurveSimpleSWU, weierstrass, } from \"./abstract/weierstrass.js\";\nimport { abytes, asciiToBytes, bytesToNumberBE, concatBytes } from \"./utils.js\";\n// Seems like generator was produced from some seed:\n// `Pointk1.BASE.multiply(Pointk1.Fn.inv(2n, N)).toAffine().x`\n// // gives short x 0x3b78ce563f89a0ed9414f5aa28ad0d96d6795f9c63n\nconst secp256k1_CURVE = {\n    p: BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f'),\n    n: BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141'),\n    h: BigInt(1),\n    a: BigInt(0),\n    b: BigInt(7),\n    Gx: BigInt('0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798'),\n    Gy: BigInt('0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8'),\n};\nconst secp256k1_ENDO = {\n    beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n    basises: [\n        [BigInt('0x3086d221a7d46bcde86c90e49284eb15'), -BigInt('0xe4437ed6010e88286f547fa90abfe4c3')],\n        [BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8'), BigInt('0x3086d221a7d46bcde86c90e49284eb15')],\n    ],\n};\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _2n = /* @__PURE__ */ BigInt(2);\n/**\n * n = n^((p+1)/4) for fields p = 3 mod 4. We unwrap the loop and multiply bit-by-bit.\n * (P+1n/4n).toString(2) would produce bits [223x 1, 0, 22x 1, 4x 0, 11, 00]\n */\nfunction sqrtMod(y) {\n    const P = secp256k1_CURVE.p;\n    // prettier-ignore\n    const _3n = BigInt(3), _6n = BigInt(6), _11n = BigInt(11), _22n = BigInt(22);\n    // prettier-ignore\n    const _23n = BigInt(23), _44n = BigInt(44), _88n = BigInt(88);\n    const b2 = (y * y * y) % P; // x^3, 11\n    const b3 = (b2 * b2 * y) % P; // x^7\n    const b6 = (pow2(b3, _3n, P) * b3) % P;\n    const b9 = (pow2(b6, _3n, P) * b3) % P;\n    const b11 = (pow2(b9, _2n, P) * b2) % P;\n    const b22 = (pow2(b11, _11n, P) * b11) % P;\n    const b44 = (pow2(b22, _22n, P) * b22) % P;\n    const b88 = (pow2(b44, _44n, P) * b44) % P;\n    const b176 = (pow2(b88, _88n, P) * b88) % P;\n    const b220 = (pow2(b176, _44n, P) * b44) % P;\n    const b223 = (pow2(b220, _3n, P) * b3) % P;\n    const t1 = (pow2(b223, _23n, P) * b22) % P;\n    const t2 = (pow2(t1, _6n, P) * b2) % P;\n    const root = pow2(t2, _2n, P);\n    if (!Fpk1.eql(Fpk1.sqr(root), y))\n        throw new Error('Cannot find square root');\n    return root;\n}\nconst Fpk1 = Field(secp256k1_CURVE.p, { sqrt: sqrtMod });\nconst Pointk1 = /* @__PURE__ */ weierstrass(secp256k1_CURVE, {\n    Fp: Fpk1,\n    endo: secp256k1_ENDO,\n});\n/**\n * secp256k1 curve: ECDSA and ECDH methods.\n *\n * Uses sha256 to hash messages. To use a different hash,\n * pass `{ prehash: false }` to sign / verify.\n *\n * @example\n * ```js\n * import { secp256k1 } from '@noble/curves/secp256k1.js';\n * const { secretKey, publicKey } = secp256k1.keygen();\n * // const publicKey = secp256k1.getPublicKey(secretKey);\n * const msg = new TextEncoder().encode('hello noble');\n * const sig = secp256k1.sign(msg, secretKey);\n * const isValid = secp256k1.verify(sig, msg, publicKey);\n * // const sigKeccak = secp256k1.sign(keccak256(msg), secretKey, { prehash: false });\n * ```\n */\nexport const secp256k1 = /* @__PURE__ */ ecdsa(Pointk1, sha256);\n// Schnorr signatures are superior to ECDSA from above. Below is Schnorr-specific BIP0340 code.\n// https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\n/** An object mapping tags to their tagged hash prefix of [SHA256(tag) | SHA256(tag)] */\nconst TAGGED_HASH_PREFIXES = {};\nfunction taggedHash(tag, ...messages) {\n    let tagP = TAGGED_HASH_PREFIXES[tag];\n    if (tagP === undefined) {\n        const tagH = sha256(asciiToBytes(tag));\n        tagP = concatBytes(tagH, tagH);\n        TAGGED_HASH_PREFIXES[tag] = tagP;\n    }\n    return sha256(concatBytes(tagP, ...messages));\n}\n// ECDSA compact points are 33-byte. Schnorr is 32: we strip first byte 0x02 or 0x03\nconst pointToBytes = (point) => point.toBytes(true).slice(1);\nconst hasEven = (y) => y % _2n === _0n;\n// Calculate point, scalar and bytes\nfunction schnorrGetExtPubKey(priv) {\n    const { Fn, BASE } = Pointk1;\n    const d_ = Fn.fromBytes(priv);\n    const p = BASE.multiply(d_); // P = d'G; 0 < d' < n check is done inside\n    const scalar = hasEven(p.y) ? d_ : Fn.neg(d_);\n    return { scalar, bytes: pointToBytes(p) };\n}\n/**\n * lift_x from BIP340. Convert 32-byte x coordinate to elliptic curve point.\n * @returns valid point checked for being on-curve\n */\nfunction lift_x(x) {\n    const Fp = Fpk1;\n    if (!Fp.isValidNot0(x))\n        throw new Error('invalid x: Fail if x  p');\n    const xx = Fp.create(x * x);\n    const c = Fp.create(xx * x + BigInt(7)); // Let c = x + 7 mod p.\n    let y = Fp.sqrt(c); // Let y = c^(p+1)/4 mod p. Same as sqrt().\n    // Return the unique point P such that x(P) = x and\n    // y(P) = y if y mod 2 = 0 or y(P) = p-y otherwise.\n    if (!hasEven(y))\n        y = Fp.neg(y);\n    const p = Pointk1.fromAffine({ x, y });\n    p.assertValidity();\n    return p;\n}\nconst num = bytesToNumberBE;\n/**\n * Create tagged hash, convert it to bigint, reduce modulo-n.\n */\nfunction challenge(...args) {\n    return Pointk1.Fn.create(num(taggedHash('BIP0340/challenge', ...args)));\n}\n/**\n * Schnorr public key is just `x` coordinate of Point as per BIP340.\n */\nfunction schnorrGetPublicKey(secretKey) {\n    return schnorrGetExtPubKey(secretKey).bytes; // d'=int(sk). Fail if d'=0 or d'n. Ret bytes(d'G)\n}\n/**\n * Creates Schnorr signature as per BIP340. Verifies itself before returning anything.\n * auxRand is optional and is not the sole source of k generation: bad CSPRNG won't be dangerous.\n */\nfunction schnorrSign(message, secretKey, auxRand = randomBytes(32)) {\n    const { Fn } = Pointk1;\n    const m = abytes(message, undefined, 'message');\n    const { bytes: px, scalar: d } = schnorrGetExtPubKey(secretKey); // checks for isWithinCurveOrder\n    const a = abytes(auxRand, 32, 'auxRand'); // Auxiliary random data a: a 32-byte array\n    const t = Fn.toBytes(d ^ num(taggedHash('BIP0340/aux', a))); // Let t be the byte-wise xor of bytes(d) and hash/aux(a)\n    const rand = taggedHash('BIP0340/nonce', t, px, m); // Let rand = hash/nonce(t || bytes(P) || m)\n    // Let k' = int(rand) mod n. Fail if k' = 0. Let R = k'G\n    const { bytes: rx, scalar: k } = schnorrGetExtPubKey(rand);\n    const e = challenge(rx, px, m); // Let e = int(hash/challenge(bytes(R) || bytes(P) || m)) mod n.\n    const sig = new Uint8Array(64); // Let sig = bytes(R) || bytes((k + ed) mod n).\n    sig.set(rx, 0);\n    sig.set(Fn.toBytes(Fn.create(k + e * d)), 32);\n    // If Verify(bytes(P), m, sig) (see below) returns failure, abort\n    if (!schnorrVerify(sig, m, px))\n        throw new Error('sign: Invalid signature produced');\n    return sig;\n}\n/**\n * Verifies Schnorr signature.\n * Will swallow errors & return false except for initial type validation of arguments.\n */\nfunction schnorrVerify(signature, message, publicKey) {\n    const { Fp, Fn, BASE } = Pointk1;\n    const sig = abytes(signature, 64, 'signature');\n    const m = abytes(message, undefined, 'message');\n    const pub = abytes(publicKey, 32, 'publicKey');\n    try {\n        const P = lift_x(num(pub)); // P = lift_x(int(pk)); fail if that fails\n        const r = num(sig.subarray(0, 32)); // Let r = int(sig[0:32]); fail if r  p.\n        if (!Fp.isValidNot0(r))\n            return false;\n        const s = num(sig.subarray(32, 64)); // Let s = int(sig[32:64]); fail if s  n.\n        if (!Fn.isValidNot0(s))\n            return false;\n        const e = challenge(Fn.toBytes(r), pointToBytes(P), m); // int(challenge(bytes(r)||bytes(P)||m))%n\n        // R = sG - eP, where -eP == (n-e)P\n        const R = BASE.multiplyUnsafe(s).add(P.multiplyUnsafe(Fn.neg(e)));\n        const { x, y } = R.toAffine();\n        // Fail if is_infinite(R) / not has_even_y(R) / x(R)  r.\n        if (R.is0() || !hasEven(y) || x !== r)\n            return false;\n        return true;\n    }\n    catch (error) {\n        return false;\n    }\n}\n/**\n * Schnorr signatures over secp256k1.\n * https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\n * @example\n * ```js\n * import { schnorr } from '@noble/curves/secp256k1.js';\n * const { secretKey, publicKey } = schnorr.keygen();\n * // const publicKey = schnorr.getPublicKey(secretKey);\n * const msg = new TextEncoder().encode('hello');\n * const sig = schnorr.sign(msg, secretKey);\n * const isValid = schnorr.verify(sig, msg, publicKey);\n * ```\n */\nexport const schnorr = /* @__PURE__ */ (() => {\n    const size = 32;\n    const seedLength = 48;\n    const randomSecretKey = (seed = randomBytes(seedLength)) => {\n        return mapHashToField(seed, secp256k1_CURVE.n);\n    };\n    return {\n        keygen: createKeygen(randomSecretKey, schnorrGetPublicKey),\n        getPublicKey: schnorrGetPublicKey,\n        sign: schnorrSign,\n        verify: schnorrVerify,\n        Point: Pointk1,\n        utils: {\n            randomSecretKey,\n            taggedHash,\n            lift_x,\n            pointToBytes,\n        },\n        lengths: {\n            secretKey: size,\n            publicKey: size,\n            publicKeyHasPrefix: false,\n            signature: size * 2,\n            seed: seedLength,\n        },\n    };\n})();\nconst isoMap = /* @__PURE__ */ (() => isogenyMap(Fpk1, [\n    // xNum\n    [\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7',\n        '0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581',\n        '0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262',\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c',\n    ],\n    // xDen\n    [\n        '0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b',\n        '0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n    ],\n    // yNum\n    [\n        '0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c',\n        '0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3',\n        '0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931',\n        '0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84',\n    ],\n    // yDen\n    [\n        '0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b',\n        '0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573',\n        '0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n    ],\n].map((i) => i.map((j) => BigInt(j)))))();\nconst mapSWU = /* @__PURE__ */ (() => mapToCurveSimpleSWU(Fpk1, {\n    A: BigInt('0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533'),\n    B: BigInt('1771'),\n    Z: Fpk1.create(BigInt('-11')),\n}))();\n/** Hashing / encoding to secp256k1 points / field. RFC 9380 methods. */\nexport const secp256k1_hasher = /* @__PURE__ */ (() => createHasher(Pointk1, (scalars) => {\n    const { x, y } = mapSWU(Fpk1.create(scalars[0]));\n    return isoMap(x, y);\n}, {\n    DST: 'secp256k1_XMD:SHA-256_SSWU_RO_',\n    encodeDST: 'secp256k1_XMD:SHA-256_SSWU_NU_',\n    p: Fpk1.ORDER,\n    m: 1,\n    k: 128,\n    expand: 'xmd',\n    hash: sha256,\n}))();\n//# sourceMappingURL=secp256k1.js.map","/**\n * Constants for NEAR Protocol\n */\n// ==================== Network Endpoints ====================\nexport const NETWORK_PRESETS = {\n    mainnet: {\n        rpcUrl: \"https://free.rpc.fastnear.com\",\n        networkId: \"mainnet\",\n    },\n    testnet: {\n        rpcUrl: \"https://rpc.testnet.fastnear.com\",\n        networkId: \"testnet\",\n    },\n    localnet: {\n        rpcUrl: \"http://localhost:3030\",\n        networkId: \"localnet\",\n    },\n    betanet: {\n        rpcUrl: \"https://rpc.betanet.near.org\",\n        networkId: \"betanet\",\n    },\n};\n// ==================== Units ====================\nexport const YOCTO_PER_NEAR = BigInt(\"1000000000000000000000000\");\nexport const GAS_PER_TGAS = BigInt(\"1000000000000\");\n// ==================== Gas Defaults ====================\nexport const DEFAULT_FUNCTION_CALL_GAS = \"30000000000000\"; // 30 TGas\n// ==================== Account ID Validation ====================\nexport const ACCOUNT_ID_REGEX = /^(([a-z\\d]+[-_])*[a-z\\d]+\\.)*([a-z\\d]+[-_])*[a-z\\d]+$/;\nexport const MIN_ACCOUNT_ID_LENGTH = 2;\nexport const MAX_ACCOUNT_ID_LENGTH = 64;\n// ==================== Key Formats ====================\nexport const ED25519_KEY_PREFIX = \"ed25519:\";\nexport const SECP256K1_KEY_PREFIX = \"secp256k1:\";\n// ==================== RPC Methods ====================\nexport const RPC_METHODS = {\n    QUERY: \"query\",\n    BROADCAST_TX_COMMIT: \"broadcast_tx_commit\",\n    BROADCAST_TX_ASYNC: \"broadcast_tx_async\",\n    TX_STATUS: \"tx\",\n    BLOCK: \"block\",\n    CHUNK: \"chunk\",\n    VALIDATORS: \"validators\",\n    GAS_PRICE: \"gas_price\",\n    STATUS: \"status\",\n};\n//# sourceMappingURL=constants.js.map","/**\n * NEP-413: Message signing utilities\n *\n * NEP-413 enables off-chain message signing for authentication and ownership verification\n * without gas fees or blockchain transactions.\n *\n * @see https://github.com/near/NEPs/blob/master/neps/nep-0413.md\n */\nimport { ed25519 } from \"@noble/curves/ed25519.js\";\nimport { sha256 } from \"@noble/hashes/sha2.js\";\nimport { randomBytes } from \"@noble/hashes/utils.js\";\nimport { base58, base64 } from \"@scure/base\";\nimport { b } from \"@zorsh/zorsh\";\nimport { parsePublicKey } from \"./key.js\";\n/**\n * NEP-413 tag prefix: 2^31 + 413 = 2147484061\n *\n * This prefix ensures that signed messages cannot be confused with valid transactions.\n * The tag makes the message too long to be a valid signer account ID.\n */\nexport const NEP413_TAG = 2147484061;\n/**\n * NEP-413 message payload schema\n *\n * Fields are serialized in this order:\n * 1. message: string - The message to sign\n * 2. nonce: [u8; 32] - 32-byte nonce for replay protection\n * 3. recipient: string - Recipient identifier (e.g., \"alice.near\" or \"myapp.com\")\n * 4. callbackUrl: Option<string> - Optional callback URL for web wallets\n */\nexport const Nep413PayloadSchema = b.struct({\n    message: b.string(),\n    nonce: b.array(b.u8(), 32),\n    recipient: b.string(),\n    callbackUrl: b.option(b.string()),\n});\n/**\n * Serialize NEP-413 message parameters for signing\n *\n * Serialization steps:\n * 1. Serialize the tag (2147484061) as u32\n * 2. Serialize the payload (message, nonce, recipient, callbackUrl)\n * 3. Concatenate: tag_bytes + payload_bytes\n * 4. Hash with SHA256\n *\n * @param params - Message signing parameters\n * @returns Serialized and hashed message ready for signing\n *\n * @example\n * ```typescript\n * const nonce = generateNonce()\n * const hash = serializeNep413Message({\n *   message: \"Login to MyApp\",\n *   recipient: \"myapp.near\",\n *   nonce,\n * })\n * ```\n */\nexport function serializeNep413Message(params) {\n    if (params.nonce.length !== 32) {\n        throw new Error(\"Nonce must be exactly 32 bytes\");\n    }\n    // Serialize tag as u32\n    const tagBytes = b.u32().serialize(NEP413_TAG);\n    // Serialize payload\n    const payloadBytes = Nep413PayloadSchema.serialize({\n        message: params.message,\n        nonce: Array.from(params.nonce),\n        recipient: params.recipient,\n        callbackUrl: params.callbackUrl ?? null,\n    });\n    // Concatenate tag + payload\n    const combined = new Uint8Array(tagBytes.length + payloadBytes.length);\n    combined.set(tagBytes, 0);\n    combined.set(payloadBytes, tagBytes.length);\n    // Hash the combined bytes\n    return sha256(combined);\n}\n/**\n * Verify a NEP-413 signed message\n *\n * Automatically checks timestamp expiration (default: 5 minutes).\n * You must still track used nonces to prevent replay attacks.\n *\n * When `options.near` is provided, this function also verifies that the public key\n * in the signed message belongs to the claimed account ID by querying the NEAR\n * blockchain. This provides protection against attackers who might try\n * to claim ownership of an account using a different key.\n *\n * @param signedMessage - The signed message to verify\n * @param params - Original message parameters (must match what was signed)\n * @param options - Verification options including optional Near client for access key validation\n * @returns Promise resolving to true if signature is valid, not expired, and (if Near client provided) the key belongs to the account\n *\n * @example\n * ```typescript\n * // Basic signature verification (no blockchain verification)\n * const isValid = await verifyNep413Signature(signedMessage, {\n *   message: \"Login to MyApp\",\n *   recipient: \"myapp.com\",\n *   nonce: Buffer.from(req.body.nonce),\n * })\n *\n * // With blockchain verification to ensure key belongs to account\n * const near = new Near({ network: \"mainnet\" })\n * const isValid = await verifyNep413Signature(signedMessage, params, { near })\n * ```\n */\nexport async function verifyNep413Signature(signedMessage, params, options = {}) {\n    try {\n        const { maxAge = 5 * 60 * 1000, near } = options; // Default: 5 minutes\n        // Check timestamp expiration if maxAge is finite\n        if (maxAge !== Infinity && params.nonce.length === 32) {\n            // Extract timestamp from first 8 bytes (big-endian uint64)\n            const view = new DataView(params.nonce.buffer, params.nonce.byteOffset, params.nonce.byteLength);\n            const timestamp = Number(view.getBigUint64(0, false)); // false = big-endian\n            // Check if expired\n            const age = Date.now() - timestamp;\n            if (age > maxAge || age < 0) {\n                // age < 0 means timestamp is in the future (clock skew or tampering)\n                return false;\n            }\n        }\n        // Parse the public key\n        const publicKey = parsePublicKey(signedMessage.publicKey);\n        // Only Ed25519 is currently supported\n        if (publicKey.keyType !== 0) {\n            throw new Error(\"Only Ed25519 keys are supported for NEP-413\");\n        }\n        // If Near client is provided, verify that the public key belongs to the account ID\n        // and is a full access key (not a function call key)\n        if (near) {\n            const hasFullAccessKey = await near.fullAccessKeyExists(signedMessage.accountId, signedMessage.publicKey);\n            if (!hasFullAccessKey) {\n                // Key does not exist for this account or is not a full access key\n                return false;\n            }\n        }\n        // Reconstruct the hashed payload\n        const hash = serializeNep413Message(params);\n        const signatureBytes = decodeSignature(signedMessage.signature);\n        if (!signatureBytes)\n            return false;\n        // Verify the signature\n        return ed25519.verify(signatureBytes, hash, publicKey.data);\n    }\n    catch {\n        return false;\n    }\n}\nfunction decodeSignature(signature) {\n    // NEP-413 spec: signatures should be base64 encoded\n    // Try base64 first (standard format)\n    try {\n        return base64.decode(signature);\n    }\n    catch {\n        // fall through to legacy formats\n    }\n    // Backward compatibility: prefixed base58 (ed25519:... or secp256k1:...)\n    const prefixed = signature.match(/^(ed25519:|secp256k1:)(.+)$/);\n    if (prefixed?.[2]) {\n        try {\n            return base58.decode(prefixed[2]);\n        }\n        catch {\n            return null;\n        }\n    }\n    // Backward compatibility: unprefixed base58 strings\n    if (/^[1-9A-HJ-NP-Za-km-z]+$/.test(signature)) {\n        try {\n            return base58.decode(signature);\n        }\n        catch {\n            return null;\n        }\n    }\n    return null;\n}\n/**\n * Generate a nonce for NEP-413 message signing\n *\n * Embeds a timestamp for automatic expiration checking.\n *\n * @returns 32-byte nonce (8 bytes timestamp + 24 bytes random)\n *\n * @example\n * ```typescript\n * const nonce = generateNonce()\n * const signedMessage = await near.signMessage({\n *   message: \"Login to MyApp\",\n *   recipient: \"myapp.com\",\n *   nonce,\n * })\n * ```\n */\nexport function generateNonce() {\n    const nonce = new Uint8Array(32);\n    // First 8 bytes: timestamp (ms since epoch) as big-endian uint64\n    const timestamp = Date.now();\n    const view = new DataView(nonce.buffer);\n    view.setBigUint64(0, BigInt(timestamp), false); // false = big-endian\n    // Remaining 24 bytes: random data\n    const randomPart = randomBytes(24);\n    nonce.set(randomPart, 8);\n    return nonce;\n}\n//# sourceMappingURL=nep413.js.map","import { ed25519 } from \"@noble/curves/ed25519.js\";\nimport { secp256k1 } from \"@noble/curves/secp256k1.js\";\nimport { base58, base64 } from \"@scure/base\";\nimport { HDKey } from \"@scure/bip32\";\nimport * as bip39 from \"@scure/bip39\";\nimport { wordlist } from \"@scure/bip39/wordlists/english.js\";\nimport { ED25519_KEY_PREFIX, SECP256K1_KEY_PREFIX } from \"../core/constants.js\";\nimport { KeyType, } from \"../core/types.js\";\nimport { InvalidKeyError } from \"../errors/index.js\";\nimport { serializeNep413Message } from \"./nep413.js\";\n/**\n * Ed25519 key pair implementation.\n *\n * @remarks\n * Implements the {@link KeyPair} interface used throughout the library and\n * provides NEP-413 message signing via {@link Ed25519KeyPair.signNep413Message}.\n */\nexport class Ed25519KeyPair {\n    constructor(secretKey) {\n        // secretKey is 64 bytes: [32 bytes private key][32 bytes public key]\n        this.privateKey = secretKey.slice(0, 32);\n        const publicKeyData = secretKey.slice(32);\n        this.publicKey = {\n            keyType: KeyType.ED25519,\n            data: publicKeyData,\n            toString: () => ED25519_KEY_PREFIX + base58.encode(publicKeyData),\n        };\n        this.secretKey = ED25519_KEY_PREFIX + base58.encode(secretKey);\n    }\n    sign(message) {\n        const signature = ed25519.sign(message, this.privateKey);\n        return {\n            keyType: KeyType.ED25519,\n            data: signature,\n        };\n    }\n    /**\n     * Sign a message according to NEP-413 specification\n     *\n     * NEP-413 enables off-chain message signing for authentication and ownership verification.\n     * The message is signed with a full-access key but does not require gas or blockchain state.\n     *\n     * @param accountId - The NEAR account ID that owns this key\n     * @param params - Message signing parameters (message, recipient, nonce)\n     * @returns Signed message with account ID, public key, and base64-encoded signature\n     *\n     * @see https://github.com/near/NEPs/blob/master/neps/nep-0413.md\n     *\n     * @example\n     * ```typescript\n     * const nonce = crypto.getRandomValues(new Uint8Array(32))\n     * const signedMessage = keyPair.signNep413Message(\"alice.near\", {\n     *   message: \"Login to MyApp\",\n     *   recipient: \"myapp.near\",\n     *   nonce,\n     * })\n     * console.log(signedMessage.signature) // Base64-encoded signature\n     * ```\n     */\n    signNep413Message(accountId, params) {\n        // Serialize and hash the message according to NEP-413\n        const hash = serializeNep413Message(params);\n        // Sign the hash\n        const signature = ed25519.sign(hash, this.privateKey);\n        // Return signed message with base64-encoded signature per NEP-413 spec\n        return {\n            accountId,\n            publicKey: this.publicKey.toString(),\n            signature: base64.encode(signature),\n        };\n    }\n    static fromRandom() {\n        const privateKey = ed25519.utils.randomSecretKey();\n        const publicKey = ed25519.getPublicKey(privateKey);\n        // Combine into 64-byte format for compatibility\n        const secretKey = new Uint8Array(64);\n        secretKey.set(privateKey, 0);\n        secretKey.set(publicKey, 32);\n        return new Ed25519KeyPair(secretKey);\n    }\n    static fromString(keyString) {\n        const key = keyString.replace(ED25519_KEY_PREFIX, \"\");\n        const decoded = base58.decode(key);\n        return new Ed25519KeyPair(decoded);\n    }\n}\n/**\n * Secp256k1 key pair implementation.\n *\n * NEAR expects secp256k1 public keys to be 64 bytes (uncompressed without 0x04 header).\n * The secp256k1 library returns 65-byte uncompressed keys (with 0x04 header), so we\n * manually remove/add that byte as needed.\n *\n * Signatures are 65 bytes: 64-byte signature + 1-byte recovery ID.\n */\nexport class Secp256k1KeyPair {\n    constructor(secretKey) {\n        // secretKey is 96 bytes: [32 bytes private key][64 bytes public key]\n        this.privateKey = secretKey.slice(0, 32);\n        const publicKeyData = secretKey.slice(32); // 64 bytes without 0x04 header\n        this.publicKey = {\n            keyType: KeyType.SECP256K1,\n            data: publicKeyData,\n            toString: () => SECP256K1_KEY_PREFIX + base58.encode(publicKeyData),\n        };\n        this.secretKey = SECP256K1_KEY_PREFIX + base58.encode(secretKey);\n    }\n    sign(message) {\n        // Sign with format: 'recovered' to get 65 bytes (recovery ID + signature)\n        // This is what NEAR expects: [recovery][r][s]\n        const signatureBytes = secp256k1.sign(message, this.privateKey, {\n            format: \"recovered\",\n        });\n        return {\n            keyType: KeyType.SECP256K1,\n            data: signatureBytes, // 65 bytes\n        };\n    }\n    /**\n     * Sign a message according to NEP-413 specification\n     *\n     * NEP-413 enables off-chain message signing for authentication and ownership verification.\n     * The message is signed with a full-access key but does not require gas or blockchain state.\n     *\n     * @param accountId - The NEAR account ID that owns this key\n     * @param params - Message signing parameters (message, recipient, nonce)\n     * @returns Signed message with account ID, public key, and base64-encoded signature\n     *\n     * @see https://github.com/near/NEPs/blob/master/neps/nep-0413.md\n     *\n     * @example\n     * ```typescript\n     * const nonce = crypto.getRandomValues(new Uint8Array(32))\n     * const signedMessage = keyPair.signNep413Message(\"alice.near\", {\n     *   message: \"Login to MyApp\",\n     *   recipient: \"myapp.near\",\n     *   nonce,\n     * })\n     * console.log(signedMessage.signature) // Base64-encoded signature\n     * ```\n     */\n    signNep413Message(accountId, params) {\n        // Serialize and hash the message according to NEP-413\n        const hash = serializeNep413Message(params);\n        // Sign the hash with format: 'recovered' for secp256k1\n        const signature = secp256k1.sign(hash, this.privateKey, {\n            format: \"recovered\",\n        });\n        // Return signed message with base64-encoded signature per NEP-413 spec\n        return {\n            accountId,\n            publicKey: this.publicKey.toString(),\n            signature: base64.encode(signature),\n        };\n    }\n    static fromRandom() {\n        // Generate random 32-byte private key\n        const privateKey = new Uint8Array(32);\n        crypto.getRandomValues(privateKey);\n        // Get uncompressed public key (65 bytes with 0x04 header)\n        const publicKeyFull = secp256k1.getPublicKey(privateKey, false);\n        // Remove 0x04 header to get 64 bytes for NEAR\n        const publicKey = publicKeyFull.slice(1);\n        // Combine into 96-byte format: 32 bytes private + 64 bytes public\n        const secretKey = new Uint8Array(96);\n        secretKey.set(privateKey, 0);\n        secretKey.set(publicKey, 32);\n        return new Secp256k1KeyPair(secretKey);\n    }\n    static fromString(keyString) {\n        const key = keyString.replace(SECP256K1_KEY_PREFIX, \"\");\n        const decoded = base58.decode(key);\n        return new Secp256k1KeyPair(decoded);\n    }\n}\n/**\n * Generate a new random Ed25519 key pair.\n * @returns A new {@link KeyPair} instance.\n */\nexport function generateKey() {\n    return Ed25519KeyPair.fromRandom();\n}\n/**\n * Parse a key string to a {@link KeyPair}.\n *\n * @param keyString - Key string (e.g. `\"ed25519:...\"` or `\"secp256k1:...\"`).\n * @returns A concrete {@link Ed25519KeyPair} or {@link Secp256k1KeyPair}.\n */\nexport function parseKey(keyString) {\n    if (keyString.startsWith(ED25519_KEY_PREFIX)) {\n        return Ed25519KeyPair.fromString(keyString);\n    }\n    if (keyString.startsWith(SECP256K1_KEY_PREFIX)) {\n        return Secp256k1KeyPair.fromString(keyString);\n    }\n    throw new InvalidKeyError(`Unsupported key type: ${keyString}`);\n}\n/**\n * Parse a public key string to a {@link PublicKey} object.\n *\n * @param publicKeyString - Public key string (e.g. `\"ed25519:...\"` or `\"secp256k1:...\"`).\n * @returns {@link PublicKey} instance.\n */\nexport function parsePublicKey(publicKeyString) {\n    if (publicKeyString.startsWith(ED25519_KEY_PREFIX)) {\n        const key = publicKeyString.replace(ED25519_KEY_PREFIX, \"\");\n        const decoded = base58.decode(key);\n        return {\n            keyType: KeyType.ED25519,\n            data: decoded,\n            toString: () => publicKeyString,\n        };\n    }\n    if (publicKeyString.startsWith(SECP256K1_KEY_PREFIX)) {\n        const key = publicKeyString.replace(SECP256K1_KEY_PREFIX, \"\");\n        const decoded = base58.decode(key);\n        return {\n            keyType: KeyType.SECP256K1,\n            data: decoded,\n            toString: () => publicKeyString,\n        };\n    }\n    throw new InvalidKeyError(`Unsupported public key type: ${publicKeyString}`);\n}\n/**\n * Generate a BIP39 seed phrase (12 words by default)\n * Uses proper BIP39 implementation with cryptographically secure randomness\n * @param wordCount - Number of words (12, 15, 18, 21, or 24). Defaults to 12\n * @returns A BIP39 seed phrase string\n */\nexport function generateSeedPhrase(wordCount = 12) {\n    // Map word count to entropy bits (as per BIP39 spec)\n    const entropyBits = wordCount * 11 - wordCount / 3;\n    const entropyBytes = entropyBits / 8;\n    // Generate cryptographically secure random entropy\n    const entropy = new Uint8Array(entropyBytes);\n    crypto.getRandomValues(entropy);\n    // Generate mnemonic from entropy\n    return bip39.entropyToMnemonic(entropy, wordlist);\n}\n/**\n * Parse a BIP39 seed phrase to derive a key pair using proper BIP32/SLIP10 derivation\n * @param phrase - BIP39 seed phrase (12-24 words)\n * @param path - BIP32 derivation path (defaults to \"m/44'/397'/0'\" for NEAR)\n * @returns KeyPair instance\n */\nexport function parseSeedPhrase(phrase, path = \"m/44'/397'/0'\") {\n    // Validate the mnemonic\n    if (!bip39.validateMnemonic(phrase, wordlist)) {\n        throw new InvalidKeyError(\"Invalid BIP39 seed phrase\");\n    }\n    // Convert mnemonic to seed (64 bytes)\n    const seed = bip39.mnemonicToSeedSync(phrase);\n    // Derive HD key using BIP32 with ed25519 (SLIP10)\n    // Note: HDKey from @scure/bip32 supports ed25519 via SLIP10\n    const hdkey = HDKey.fromMasterSeed(seed);\n    const derived = hdkey.derive(path);\n    if (!derived.privateKey) {\n        throw new InvalidKeyError(\"Failed to derive private key from seed phrase\");\n    }\n    // Get the ed25519 public key from private key\n    const privateKey = derived.privateKey;\n    const publicKey = ed25519.getPublicKey(privateKey);\n    // Combine into 64-byte format for compatibility\n    const secretKey = new Uint8Array(64);\n    secretKey.set(privateKey, 0);\n    secretKey.set(publicKey, 32);\n    return new Ed25519KeyPair(secretKey);\n}\n//# sourceMappingURL=key.js.map","import { parseKey } from \"../utils/key.js\";\n/**\n * In-memory key store.\n *\n * Keys are stored in memory and lost when the process exits.\n * Useful for testing, development, and temporary key storage.\n *\n * @example\n * ```typescript\n * // Empty keystore\n * const keyStore = new InMemoryKeyStore()\n *\n * // Pre-populate with keys\n * const keyStore = new InMemoryKeyStore({\n *   \"alice.near\": \"ed25519:...\",\n *   \"bob.near\": \"ed25519:...\"\n * })\n * ```\n */\nexport class InMemoryKeyStore {\n    /**\n     * Create a new in-memory keystore.\n     *\n     * @param initialKeys - Optional initial keys to populate the store\n     *\n     * @example\n     * ```typescript\n     * const keyStore = new InMemoryKeyStore({\n     *   \"test.near\": \"ed25519:3D4c2v8K5x...\"\n     * })\n     * ```\n     */\n    constructor(initialKeys) {\n        this.keys = new Map();\n        if (initialKeys) {\n            for (const [accountId, keyString] of Object.entries(initialKeys)) {\n                const keyPair = parseKey(keyString);\n                this.keys.set(accountId, keyPair);\n            }\n        }\n    }\n    /**\n     * Add a key to the keystore\n     *\n     * @param accountId - NEAR account ID\n     * @param key - Key pair to store\n     */\n    async add(accountId, key) {\n        this.keys.set(accountId, key);\n    }\n    /**\n     * Get a key from the keystore\n     *\n     * @param accountId - NEAR account ID\n     * @returns Key pair if found, null otherwise\n     */\n    async get(accountId) {\n        return this.keys.get(accountId) ?? null;\n    }\n    /**\n     * Remove a key from the keystore\n     *\n     * @param accountId - NEAR account ID\n     */\n    async remove(accountId) {\n        this.keys.delete(accountId);\n    }\n    /**\n     * List all account IDs in the keystore\n     *\n     * @returns Array of account IDs\n     */\n    async list() {\n        return Array.from(this.keys.keys());\n    }\n    /**\n     * Clear all keys from the keystore\n     *\n     * Useful for testing cleanup.\n     */\n    clear() {\n        this.keys.clear();\n    }\n}\n//# sourceMappingURL=in-memory-keystore.js.map","/**\n * Amount utilities for NEAR tokens.\n *\n * All amounts must specify units explicitly:\n * - `Amount.NEAR(10)`  `\"10 NEAR\"`\n * - `Amount.yocto(1000n)`  `\"1000 yocto\"`\n * - `\"10 NEAR\"` (string literal)\n * - `\"1000 yocto\"` (string literal)\n * - `1000n` (bigint literal, treated as yoctoNEAR)\n *\n * No bare numbers are accepted in order to prevent accidental unit confusion.\n */\nimport { YOCTO_PER_NEAR } from \"../core/constants.js\";\n/**\n * Amount namespace - explicit constructors for NEAR values.\n *\n * @example\n * Amount.NEAR(10)           // \"10 NEAR\"\n * Amount.NEAR(10.5)         // \"10.5 NEAR\"\n * Amount.NEAR(\"10.5\")       // \"10.5 NEAR\"\n * Amount.yocto(1000000n)    // \"1000000 yocto\"\n * Amount.yocto(\"1000000\")   // \"1000000 yocto\"\n */\nexport const Amount = {\n    /**\n     * Create a NEAR amount.\n     * @param value - Amount in NEAR.\n     * @returns Formatted string `\"X NEAR\"`.\n     */\n    NEAR(value) {\n        return `${value} NEAR`;\n    },\n    /**\n     * Create a yoctoNEAR amount (10^-24 NEAR).\n     * @param value - Amount in yoctoNEAR.\n     * @returns Formatted string `\"X yocto\"`.\n     */\n    yocto(value) {\n        return `${value} yocto`;\n    },\n    /**\n     * Common amount constants.\n     */\n    ZERO: \"0 yocto\",\n    ONE_NEAR: \"1 NEAR\",\n    ONE_YOCTO: \"1 yocto\",\n};\n/**\n * Parse amount to yoctoNEAR.\n *\n * @param amount - Amount with unit (e.g., `\"10 NEAR\"`, `\"1000 yocto\"`) or bigint (treated as yoctoNEAR).\n * @returns Amount in yoctoNEAR as a string.\n * @throws Error If the format is invalid or ambiguous (e.g. bare numbers).\n */\nexport function parseAmount(amount) {\n    // Handle bigint directly (treated as yoctoNEAR)\n    if (typeof amount === \"bigint\") {\n        return amount.toString();\n    }\n    const trimmed = amount.trim();\n    // Parse \"X NEAR\" format (case insensitive)\n    const nearMatch = trimmed.match(/^([\\d.]+)\\s+NEAR$/i);\n    if (nearMatch) {\n        // Safe to use non-null assertion after match check\n        // biome-ignore lint/style/noNonNullAssertion: regex capture group guaranteed to exist when match succeeds\n        const value = nearMatch[1];\n        return parseNearToYocto(value);\n    }\n    // Parse \"X yocto\" format\n    const yoctoMatch = trimmed.match(/^(\\d+)\\s+yocto$/i);\n    if (yoctoMatch) {\n        // Safe to use non-null assertion after match check\n        // biome-ignore lint/style/noNonNullAssertion: regex capture group guaranteed to exist when match succeeds\n        return yoctoMatch[1];\n    }\n    // Common mistake: bare number\n    if (/^[\\d.]+$/.test(trimmed)) {\n        throw new Error(`Ambiguous amount: \"${amount}\". Did you mean \"${amount} NEAR\"?\\n` +\n            `  - Use Amount.NEAR(${amount}) for NEAR\\n` +\n            `  - Use Amount.yocto(${amount}n) for yoctoNEAR\\n` +\n            `  - Or write \"${amount} NEAR\" or \"${amount} yocto\"\\n` +\n            `  - Or pass ${amount}n as bigint for yoctoNEAR\\n` +\n            `\\n` +\n            ` TypeScript tip: Use 'as const' for variables:\\n` +\n            `   const amount = \"10 NEAR\" as const`);\n    }\n    // Invalid format\n    throw new Error(`Invalid amount format: \"${amount}\"\\n` +\n        `Expected formats:\\n` +\n        `  - \"10 NEAR\" or Amount.NEAR(10)\\n` +\n        `  - \"1000000 yocto\" or Amount.yocto(1000000n)\\n` +\n        `  - 1000000n (bigint, treated as yoctoNEAR)`);\n}\n/**\n * Format yoctoNEAR to human-readable NEAR\n * @param yocto - Amount in yoctoNEAR\n * @param options - Formatting options\n * @returns Formatted string (e.g., \"10.50 NEAR\")\n */\nexport function formatAmount(yocto, options) {\n    const { precision = 2, includeSuffix = true, trimZeros = false, } = options || {};\n    const amount = typeof yocto === \"string\" ? BigInt(yocto) : yocto;\n    const wholePart = amount / YOCTO_PER_NEAR;\n    const fracPart = amount % YOCTO_PER_NEAR;\n    let result;\n    if (fracPart === BigInt(0)) {\n        result = wholePart.toString();\n    }\n    else {\n        const fracStr = fracPart.toString().padStart(24, \"0\");\n        let decimals = fracStr.substring(0, precision);\n        if (trimZeros) {\n            decimals = decimals.replace(/0+$/, \"\");\n        }\n        result = decimals ? `${wholePart}.${decimals}` : wholePart.toString();\n    }\n    return includeSuffix ? `${result} NEAR` : result;\n}\n/**\n * Internal: Parse NEAR value to yoctoNEAR\n * Note: The caller (parseAmount) already validates the format with the same regex,\n * so the value is guaranteed to match [\\d.]+ pattern when it reaches this function.\n */\nfunction parseNearToYocto(value) {\n    // Split into whole and fractional parts\n    const parts = value.split(\".\");\n    const wholePart = parts[0] || \"0\";\n    const fracPart = (parts[1] || \"\").padEnd(24, \"0\").substring(0, 24);\n    // Check for negative values\n    if (wholePart.startsWith(\"-\")) {\n        throw new Error(\"NEAR amount must be non-negative\");\n    }\n    // Convert to yoctoNEAR\n    const yocto = BigInt(wholePart) * YOCTO_PER_NEAR + BigInt(fracPart);\n    return yocto.toString();\n}\n//# sourceMappingURL=amount.js.map","/**\n * Zod validation schemas and helpers for NEAR types.\n *\n * @remarks\n * These schemas power runtime validation for account IDs, public/private keys,\n * amounts, and gas while keeping the developer-facing API ergonomic via\n * helpers like {@link validateAccountId} and {@link normalizeAmount}.\n */\nimport { z } from \"zod\";\nimport { ACCOUNT_ID_REGEX, ED25519_KEY_PREFIX, MAX_ACCOUNT_ID_LENGTH, MIN_ACCOUNT_ID_LENGTH, SECP256K1_KEY_PREFIX, } from \"../core/constants.js\";\nimport { parseAmount } from \"./amount.js\";\nimport { parseGas } from \"./gas.js\";\n// ==================== Base58 Validation ====================\n/**\n * Check if a string is valid base58 encoding.\n * @internal\n */\nfunction isValidBase58(str) {\n    const base58Regex = /^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]+$/;\n    return base58Regex.test(str);\n}\n// ==================== Account ID Schema ====================\n/**\n * Schema for validating NEAR account IDs.\n *\n * Rules:\n * - Length: 2-64 characters\n * - Characters: lowercase alphanumeric, hyphens, underscores, and dots\n * - Pattern: subdomain-like structure (e.g., alice.near, contract.mainnet)\n */\nexport const AccountIdSchema = z\n    .string()\n    .min(MIN_ACCOUNT_ID_LENGTH, `Account ID must be at least ${MIN_ACCOUNT_ID_LENGTH} characters`)\n    .max(MAX_ACCOUNT_ID_LENGTH, `Account ID must be at most ${MAX_ACCOUNT_ID_LENGTH} characters`)\n    .regex(ACCOUNT_ID_REGEX, \"Account ID must contain only lowercase alphanumeric characters, hyphens, underscores, and dots\");\n// ==================== Public Key Schema ====================\n/**\n * Schema for validating NEAR public keys.\n *\n * Supports:\n * - Ed25519: \"ed25519:...\" (base58 encoded)\n * - Secp256k1: \"secp256k1:...\" (base58 encoded)\n */\nexport const PublicKeySchema = z\n    .string()\n    .refine((key) => key.startsWith(ED25519_KEY_PREFIX) ||\n    key.startsWith(SECP256K1_KEY_PREFIX), \"Public key must start with 'ed25519:' or 'secp256k1:'\")\n    .refine((key) => {\n    const keyData = key.startsWith(ED25519_KEY_PREFIX)\n        ? key.slice(ED25519_KEY_PREFIX.length)\n        : key.slice(SECP256K1_KEY_PREFIX.length);\n    return isValidBase58(keyData);\n}, \"Public key must be valid base58 encoding\");\n/**\n * Schema for validating NEAR private keys.\n *\n * Supports:\n * - Ed25519: \"ed25519:...\" (base58 encoded, 64 bytes)\n * - Secp256k1: \"secp256k1:...\" (base58 encoded, 96 bytes)\n */\nexport const PrivateKeySchema = z\n    .string()\n    .refine((key) => key.startsWith(ED25519_KEY_PREFIX) ||\n    key.startsWith(SECP256K1_KEY_PREFIX), \"Private key must start with 'ed25519:' or 'secp256k1:'\")\n    .refine((key) => {\n    const keyData = key.startsWith(ED25519_KEY_PREFIX)\n        ? key.slice(ED25519_KEY_PREFIX.length)\n        : key.slice(SECP256K1_KEY_PREFIX.length);\n    return keyData.length > 0 && isValidBase58(keyData);\n}, \"Private key must be valid base58 encoding\");\n// ==================== Amount Schema ====================\n/**\n * Schema for NEAR amounts with explicit units.\n *\n * Accepts:\n * - String with unit: \"10 NEAR\", \"1000000 yocto\"\n * - Created via Amount.NEAR(10) or Amount.yocto(1000000n)\n * - Raw bigint: 1000000n (treated as yoctoNEAR)\n *\n * Rejects bare numbers to prevent unit confusion.\n * Normalizes to yoctoNEAR string.\n */\nexport const AmountSchema = z\n    .union([z.string(), z.bigint()])\n    .transform((amount) => {\n    return parseAmount(amount);\n});\n// ==================== Gas Schema ====================\n/**\n * Schema for gas amounts.\n *\n * Accepts:\n * - String with unit: \"30 Tgas\", Gas.Tgas(30)\n * - Raw gas number strings for advanced use\n *\n * Normalizes to raw gas string.\n */\nexport const GasSchema = z.string().transform((gas) => {\n    return parseGas(gas);\n});\n// ==================== Helper Functions ====================\n/**\n * Validate account ID (throws on invalid).\n */\nexport function validateAccountId(accountId) {\n    return AccountIdSchema.parse(accountId);\n}\n/**\n * Check if account ID is valid (boolean).\n */\nexport function isValidAccountId(accountId) {\n    return AccountIdSchema.safeParse(accountId).success;\n}\n/**\n * Validate public key (throws on invalid).\n */\nexport function validatePublicKey(key) {\n    return PublicKeySchema.parse(key);\n}\n/**\n * Check if public key is valid (boolean).\n */\nexport function isValidPublicKey(key) {\n    return PublicKeySchema.safeParse(key).success;\n}\n/**\n * Validate private key (throws on invalid).\n */\nexport function validatePrivateKey(key) {\n    return PrivateKeySchema.parse(key);\n}\n/**\n * Check if private key is valid (boolean).\n */\nexport function isPrivateKey(key) {\n    return PrivateKeySchema.safeParse(key).success;\n}\n/**\n * Normalize amount to yoctoNEAR string.\n */\nexport function normalizeAmount(amount) {\n    return AmountSchema.parse(amount);\n}\n/**\n * Normalize gas to gas string.\n */\nexport function normalizeGas(gas) {\n    return GasSchema.parse(gas);\n}\n//# sourceMappingURL=validation.js.map","/**\n * Gas utilities for NEAR transactions.\n *\n * Gas amounts should specify units explicitly:\n * - `Gas.Tgas(30)`  `\"30 Tgas\"`\n * - `\"30 Tgas\"` (string literal)\n *\n * Raw gas units (e.g. `\"30000000000000\"`) are also supported for advanced use cases.\n */\nimport { GAS_PER_TGAS } from \"../core/constants.js\";\n/**\n * Gas namespace - explicit constructors.\n *\n * @example\n * Gas.Tgas(30)        // \"30 Tgas\"\n * Gas.Tgas(300)       // \"300 Tgas\"\n */\nexport const Gas = {\n    /**\n     * Create gas amount in TGas (teragas).\n     * @param value - Amount in TGas.\n     */\n    Tgas(value) {\n        return `${value} Tgas`;\n    },\n    /**\n     * Common gas amounts.\n     */\n    DEFAULT: \"30 Tgas\",\n    MAX: \"300 Tgas\",\n};\n/**\n * Parse gas string to raw gas units.\n *\n * @param gas - Gas with unit (e.g., `\"30 Tgas\"`) or raw gas number.\n * @returns Gas in raw units as a string.\n */\nexport function parseGas(gas) {\n    const gasStr = typeof gas === \"number\" ? gas.toString() : gas;\n    const trimmed = gasStr.trim();\n    // Parse \"X Tgas\" format (case insensitive)\n    const tgasMatch = trimmed.match(/^([\\d.]+)\\s+Tgas$/i);\n    if (tgasMatch) {\n        // Safe to use non-null assertion after match check\n        // biome-ignore lint/style/noNonNullAssertion: regex capture group guaranteed to exist when match succeeds\n        const tgas = parseFloat(tgasMatch[1]);\n        if (Number.isNaN(tgas) || tgas < 0) {\n            // biome-ignore lint/style/noNonNullAssertion: same capture group as above\n            throw new Error(`Invalid Tgas value: ${tgasMatch[1]}`);\n        }\n        return BigInt(Math.floor(tgas * 1e12)).toString();\n    }\n    // Raw number (no unit) - assume it's already in gas units\n    // This allows power users to specify exact gas amounts\n    if (/^\\d+$/.test(trimmed)) {\n        return trimmed;\n    }\n    // Invalid format\n    throw new Error(`Invalid gas format: \"${gas}\"\\n` +\n        `Expected: \"30 Tgas\" or Gas.Tgas(30)\\n` +\n        `Or provide raw gas units as a number string`);\n}\n/**\n * Format gas to TGas.\n *\n * @param gas - Gas in raw units.\n * @param precision - Decimal places (default: 2).\n * @returns Formatted gas with `' Tgas'` suffix.\n */\nexport function formatGas(gas, precision = 2) {\n    const amount = typeof gas === \"string\" ? BigInt(gas) : gas;\n    const tgas = Number(amount) / Number(GAS_PER_TGAS);\n    return `${tgas.toFixed(precision)} Tgas`;\n}\n/**\n * Convert TGas to raw gas units.\n * @param tgas - Amount in TGas.\n * @returns Gas amount as string.\n */\nexport function toGas(tgas) {\n    return (BigInt(Math.floor(tgas * 1e12)) * BigInt(1)).toString();\n}\n/**\n * Convert raw gas to TGas.\n * @param gas - Gas amount in raw units.\n * @returns Amount in TGas.\n */\nexport function toTGas(gas) {\n    const amount = typeof gas === \"string\" ? BigInt(gas) : gas;\n    return Number(amount) / Number(GAS_PER_TGAS);\n}\n//# sourceMappingURL=gas.js.map","/**\n * Zod schemas for NEAR client configuration.\n *\n * @remarks\n * These schemas validate network, call options, and {@link NearConfig} input.\n * Most applications should use the higher-level {@link Near} API and treat\n * these schemas as an implementation detail.\n */\nimport { z } from \"zod\";\nimport { PrivateKeySchema, } from \"../utils/validation.js\";\nimport { NETWORK_PRESETS } from \"./constants.js\";\n// ==================== Network Config Schema ====================\n/**\n * Schema for network presets (mainnet, testnet, localnet)\n */\nexport const NetworkPresetSchema = z.enum([\n    \"mainnet\",\n    \"testnet\",\n    \"localnet\",\n    \"betanet\",\n]);\n/**\n * Schema for custom network configuration\n */\nexport const CustomNetworkConfigSchema = z.object({\n    rpcUrl: z.string().url(\"RPC URL must be a valid URL\"),\n    networkId: z.string().min(1, \"Network ID is required\"),\n});\n/**\n * Schema for network configuration (preset or custom)\n */\nexport const NetworkConfigSchema = z.union([\n    NetworkPresetSchema,\n    CustomNetworkConfigSchema,\n]);\n// ==================== Transaction Execution Status Schema ====================\n/**\n * Schema for transaction execution status\n */\nexport const TxExecutionStatusSchema = z.enum([\n    \"NONE\",\n    \"INCLUDED\",\n    \"EXECUTED_OPTIMISTIC\",\n    \"INCLUDED_FINAL\",\n    \"EXECUTED\",\n    \"FINAL\",\n]);\n// ==================== Call Options Schema ====================\n/**\n * Schema for function call options\n */\nexport const CallOptionsSchema = z.object({\n    // Runtime validation: keep loose string/bigint types so config\n    // parsing fails fast on obviously invalid shapes.\n    gas: z.string().optional(),\n    attachedDeposit: z.union([z.string(), z.bigint()]).optional(),\n    signerId: z.string().optional(),\n    waitUntil: TxExecutionStatusSchema.optional(),\n});\n// ==================== Block Reference Schema ====================\n/**\n * Block reference for RPC queries\n *\n * Specify either `finality` OR `blockId` (not both).\n * If both are provided, `blockId` takes precedence.\n *\n * @example\n * ```typescript\n * // Query at final block (default)\n * await near.view('contract.near', 'get_value')\n *\n * // Query at optimistic for latest state\n * await near.view('contract.near', 'get_value', {}, {\n *   finality: 'optimistic'\n * })\n *\n * // Query at specific block height\n * await near.view('contract.near', 'get_value', {}, {\n *   blockId: 27912554\n * })\n *\n * // Query at specific block hash\n * await near.view('contract.near', 'get_value', {}, {\n *   blockId: '3Xz2wM9rigMXzA2c5vgCP8wTgFBaePucgUmVYPkMqhRL'\n * })\n * ```\n */\nexport const BlockReferenceSchema = z.object({\n    /**\n     * Finality level for the query\n     *\n     * - `optimistic`: Block that might be skipped (~1s after submission). Use for latest state.\n     * - `near-final`: Irreversible unless a validator is slashed (~2s after submission)\n     * - `final`: Fully finalized and irreversible (~3s after submission). DEFAULT for view calls.\n     *\n     * @default \"final\" for view calls, \"optimistic\" for account/key queries\n     * @see https://docs.near.org/api/rpc/setup#using-finality-param\n     */\n    finality: z.enum([\"optimistic\", \"near-final\", \"final\"]).optional(),\n    /**\n     * Block ID to query at - can be block number or block hash\n     *\n     * Use block number (e.g., `27912554`) or block hash\n     * (e.g., `'3Xz2wM9rigMXzA2c5vgCP8wTgFBaePucgUmVYPkMqhRL'`) to query\n     * historical state.\n     *\n     * Mutually exclusive with `finality`. If both are provided, `blockId` takes precedence.\n     */\n    blockId: z.union([z.number(), z.string()]).optional(),\n});\n// ==================== Near Config Schema ====================\n/**\n * Schema for key store configuration\n */\nexport const KeyStoreConfigSchema = z.union([\n    z.string(), // File path\n    z.record(z.string(), z.string()), // { accountId: privateKey }\n    z.any(), // KeyStore interface - too complex for Zod validation\n]);\n/**\n * Schema for signer function\n */\nexport const SignerSchema = z.any(); // Function schema validation - simplified\n/**\n * Schema for RPC retry configuration\n */\nexport const RpcRetryConfigSchema = z\n    .object({\n    maxRetries: z.number().int().min(0),\n    initialDelayMs: z.number().int().min(0),\n})\n    .partial();\n/**\n * Schema for NEAR client configuration\n */\nexport const NearConfigSchema = z.object({\n    network: NetworkConfigSchema.optional(),\n    rpcUrl: z.string().url(\"RPC URL must be a valid URL\").optional(),\n    headers: z.record(z.string(), z.string()).optional(),\n    keyStore: KeyStoreConfigSchema.optional(),\n    signer: SignerSchema.optional(),\n    privateKey: z.union([PrivateKeySchema, z.instanceof(Uint8Array)]).optional(),\n    wallet: z.any().optional(), // WalletConnection interface\n    defaultSignerId: z.string().optional(),\n    defaultWaitUntil: TxExecutionStatusSchema.optional(),\n    retryConfig: RpcRetryConfigSchema.optional(),\n});\n// ==================== Helper Functions ====================\n/**\n * Resolve network configuration with validation\n */\nexport function resolveNetworkConfig(network) {\n    // Default to mainnet\n    if (!network) {\n        const envNetwork = typeof process !== \"undefined\" ? process.env[\"NEAR_NETWORK\"] : undefined;\n        if (envNetwork &&\n            (envNetwork === \"mainnet\" ||\n                envNetwork === \"testnet\" ||\n                envNetwork === \"localnet\" ||\n                envNetwork === \"betanet\")) {\n            return NETWORK_PRESETS[envNetwork];\n        }\n        return NETWORK_PRESETS.mainnet;\n    }\n    // Validate and parse network config\n    const validated = NetworkConfigSchema.parse(network);\n    // Network preset\n    if (typeof validated === \"string\") {\n        return NETWORK_PRESETS[validated];\n    }\n    // Custom network config (already validated)\n    return validated;\n}\n//# sourceMappingURL=config-schemas.js.map","/**\n * Zod schemas for NEAR RPC responses\n * Provides runtime validation and type inference\n */\nimport { z } from \"zod\";\n// ==================== Permissions ====================\n/**\n * Function call permission details schema\n */\nexport const FunctionCallPermissionDetailsSchema = z.object({\n    receiver_id: z.string(),\n    method_names: z.array(z.string()),\n    allowance: z.string().nullable().optional(),\n});\n/**\n * Access key permission schema\n * Either \"FullAccess\" string or object with FunctionCall details\n */\nexport const AccessKeyPermissionSchema = z.union([\n    z.literal(\"FullAccess\"),\n    z.object({\n        FunctionCall: FunctionCallPermissionDetailsSchema,\n    }),\n]);\n// ==================== RPC Response Schemas ====================\n/**\n * View function call result schema\n */\nexport const ViewFunctionCallResultSchema = z.object({\n    result: z.array(z.number()),\n    logs: z.array(z.string()),\n    block_height: z.number(),\n    block_hash: z.string(),\n});\n/**\n * Account view schema\n */\nexport const AccountViewSchema = z.object({\n    amount: z.string(),\n    locked: z.string(),\n    code_hash: z.string(),\n    storage_usage: z.number(),\n    storage_paid_at: z.number(),\n    block_height: z.number(),\n    block_hash: z.string(),\n});\n/**\n * Access key view schema\n */\nexport const AccessKeyViewSchema = z.object({\n    nonce: z.number(),\n    permission: AccessKeyPermissionSchema,\n    block_height: z.number(),\n    block_hash: z.string(),\n});\n/**\n * Access key info view schema\n */\nexport const AccessKeyInfoViewSchema = z.object({\n    public_key: z.string(),\n    access_key: AccessKeyViewSchema,\n});\n/**\n * Status response schema\n */\nexport const StatusResponseSchema = z.object({\n    version: z.object({\n        version: z.string(),\n        build: z.string(),\n        commit: z.string().optional(),\n        rustc_version: z.string().optional(),\n    }),\n    chain_id: z.string(),\n    genesis_hash: z.string(),\n    protocol_version: z.number(),\n    latest_protocol_version: z.number(),\n    rpc_addr: z.string(),\n    node_public_key: z.string(),\n    node_key: z.string().nullable(),\n    validator_account_id: z.string().nullable(),\n    validator_public_key: z.string().nullable(),\n    validators: z.array(z.object({\n        account_id: z.string(),\n    })),\n    sync_info: z.object({\n        latest_block_hash: z.string(),\n        latest_block_height: z.number(),\n        latest_state_root: z.string(),\n        latest_block_time: z.string(),\n        syncing: z.boolean(),\n        earliest_block_hash: z.string().optional(),\n        earliest_block_height: z.number().optional(),\n        earliest_block_time: z.string().optional(),\n        epoch_id: z.string().optional(),\n        epoch_start_height: z.number().optional(),\n    }),\n    uptime_sec: z.number().optional(),\n});\n/**\n * Gas price response schema\n */\nexport const GasPriceResponseSchema = z.object({\n    gas_price: z.string(),\n});\n/**\n * Access key list response schema\n */\nexport const AccessKeyListResponseSchema = z.object({\n    block_hash: z.string(),\n    block_height: z.number(),\n    keys: z.array(z.object({\n        public_key: z.string(),\n        access_key: z.object({\n            nonce: z.number(),\n            permission: AccessKeyPermissionSchema,\n        }),\n    })),\n});\n/**\n * RPC error response schema\n * Follows the NEAR RPC error structure with name, cause, code, message, and data\n */\nexport const RpcErrorResponseSchema = z.object({\n    name: z.string(), // ERROR_TYPE (e.g., \"HANDLER_ERROR\", \"REQUEST_VALIDATION_ERROR\", \"INTERNAL_ERROR\")\n    code: z.number(), // Legacy field (e.g., -32000)\n    message: z.string(), // Error message\n    data: z.any().optional(), // Optional additional data (can be string or object with error details)\n    cause: z\n        .object({\n        name: z.string(), // ERROR_CAUSE (e.g., \"UNKNOWN_ACCOUNT\", \"TIMEOUT_ERROR\")\n        info: z\n            .object({\n            // Common fields\n            requested_account_id: z.string().optional(),\n            contract_id: z.string().optional(),\n            method_name: z.string().optional(),\n            // Transaction-specific fields\n            ShardCongested: z.boolean().optional(),\n            ShardStuck: z.boolean().optional(),\n        })\n            .catchall(z.any()) // Allow any other fields\n            .optional(),\n    })\n        .optional(),\n});\n// ==================== Transaction Schemas ====================\n/**\n * Transaction execution status enum\n */\nexport const TxExecutionStatusSchema = z.enum([\n    \"NONE\",\n    \"INCLUDED\",\n    \"EXECUTED_OPTIMISTIC\",\n    \"INCLUDED_FINAL\",\n    \"EXECUTED\",\n    \"FINAL\",\n]);\n/**\n * Execution status - can be success with value/receipt or failure\n *\n * Variants returned depend on waitUntil level:\n * - NONE/INCLUDED: Unknown or Pending (execution not started/incomplete)\n * - EXECUTED_OPTIMISTIC/EXECUTED/FINAL: SuccessValue, SuccessReceiptId, or Failure\n */\nexport const ExecutionStatusSchema = z.union([\n    z.literal(\"Unknown\"),\n    z.literal(\"Pending\"),\n    z.object({ SuccessValue: z.string() }),\n    z.object({ SuccessReceiptId: z.string() }),\n    z.object({\n        Failure: z\n            .object({\n            error_message: z.string().optional(),\n            error_type: z.string().optional(),\n        })\n            .catchall(z.any()),\n    }),\n]);\n/**\n * Gas profile entry (for metadata)\n */\nexport const GasProfileEntrySchema = z\n    .object({\n    cost: z.string().optional(),\n    cost_category: z.string().optional(),\n    gas_used: z.string().optional(),\n})\n    .catchall(z.any());\n/**\n * Execution metadata\n */\nexport const ExecutionMetadataSchema = z.object({\n    version: z.number(),\n    gas_profile: z.array(GasProfileEntrySchema).nullable().optional(),\n});\n/**\n * Execution outcome\n */\nexport const ExecutionOutcomeSchema = z.object({\n    logs: z.array(z.string()),\n    receipt_ids: z.array(z.string()),\n    gas_burnt: z.number(),\n    tokens_burnt: z.string(),\n    executor_id: z.string(),\n    status: ExecutionStatusSchema,\n    metadata: ExecutionMetadataSchema.optional(),\n});\n/**\n * Merkle path item for cryptographic proofs\n */\nexport const MerklePathItemSchema = z.object({\n    hash: z.string(),\n    direction: z.enum([\"Left\", \"Right\"]),\n});\n/**\n * Execution outcome with ID (used in transaction results)\n */\nexport const ExecutionOutcomeWithIdSchema = z.object({\n    id: z.string(),\n    outcome: ExecutionOutcomeSchema,\n    block_hash: z.string(),\n    proof: z.array(MerklePathItemSchema),\n});\n/**\n * Action schemas - matches RPC response format\n * Note: RPC returns actions with no parameters as strings (e.g., \"CreateAccount\")\n * instead of objects (e.g., { \"CreateAccount\": {} })\n */\nexport const ActionSchema = z.union([\n    // CreateAccount can be either a string or an object (when no params, RPC returns string)\n    z.literal(\"CreateAccount\"),\n    z.object({ CreateAccount: z.object({}) }),\n    z.object({ Transfer: z.object({ deposit: z.string() }) }),\n    z.object({\n        FunctionCall: z.object({\n            method_name: z.string(),\n            args: z.string(),\n            gas: z.number(),\n            deposit: z.string(),\n        }),\n    }),\n    z.object({\n        DeployContract: z.object({\n            code: z.string(), // base64 encoded\n        }),\n    }),\n    z.object({\n        DeployGlobalContractByAccountId: z.object({\n            code: z.string(), // base64 encoded contract code\n        }),\n    }),\n    z.object({\n        DeployGlobalContractByCodeHash: z.object({\n            code: z.string(), // base64 encoded contract code\n        }),\n    }),\n    z.object({\n        Stake: z.object({\n            stake: z.string(),\n            public_key: z.string(),\n        }),\n    }),\n    z.object({\n        AddKey: z.object({\n            public_key: z.string(),\n            access_key: z.object({\n                nonce: z.number(),\n                permission: AccessKeyPermissionSchema,\n            }),\n        }),\n    }),\n    z.object({\n        DeleteKey: z.object({\n            public_key: z.string(),\n        }),\n    }),\n    z.object({\n        DeleteAccount: z.object({\n            beneficiary_id: z.string(),\n        }),\n    }),\n    z.object({\n        UseGlobalContractByAccountId: z.object({\n            account_id: z.string(),\n        }),\n    }),\n    z.object({\n        UseGlobalContractByCodeHash: z.object({\n            code_hash: z.string(),\n        }),\n    }),\n    z.object({\n        Delegate: z.object({\n            delegate_action: z.object({\n                sender_id: z.string(),\n                receiver_id: z.string(),\n                actions: z.array(z.any()),\n                nonce: z.number(),\n                max_block_height: z.number(),\n                public_key: z.string(),\n            }),\n            signature: z.string(),\n        }),\n    }),\n    z.object({\n        DeterministicStateInit: z.object({\n            // Note: The RPC only returns deposit, not state_init data\n            // StateInit is only needed during transaction construction\n            deposit: z.string(), // yoctoNEAR as string\n        }),\n    }),\n]);\n/**\n * Transaction schema (as returned by RPC)\n */\nexport const TransactionSchema = z.object({\n    signer_id: z.string(),\n    public_key: z.string(),\n    nonce: z.number(),\n    receiver_id: z.string(),\n    actions: z.array(ActionSchema),\n    signature: z.string(),\n    hash: z.string(),\n    priority_fee: z.number().optional(),\n});\n/**\n * Minimal transaction schema for NONE/INCLUDED/INCLUDED_FINAL responses.\n *\n * This contains just enough information for transaction tracking:\n * - hash: Transaction hash for lookups\n * - signer_id: Account that signed the transaction\n * - receiver_id: Account receiving the transaction\n * - nonce: Transaction nonce for debugging\n *\n * Note: The client library injects this object for NONE/INCLUDED/INCLUDED_FINAL\n * responses to ensure transaction.hash is always available.\n */\nexport const MinimalTransactionSchema = z.object({\n    hash: z.string(),\n    signer_id: z.string(),\n    receiver_id: z.string(),\n    nonce: z.number(),\n});\n/**\n * Final execution outcome schema - the response from send_tx\n *\n * Uses discriminated union based on final_execution_status for type safety:\n * - NONE: Transaction submitted but not executed yet (minimal response with transaction hash)\n * - INCLUDED: Transaction included in block (minimal response with transaction hash)\n * - EXECUTED_OPTIMISTIC/EXECUTED/FINAL: Transaction executed (full response)\n *\n * Note: For NONE/INCLUDED/INCLUDED_FINAL, the RPC doesn't return transaction details,\n * but the client library injects a minimal transaction object to ensure hash tracking.\n */\nexport const FinalExecutionOutcomeSchema = z.discriminatedUnion(\"final_execution_status\", [\n    // NONE: Transaction submitted, no execution yet (transaction is injected client-side)\n    z.object({\n        final_execution_status: z.literal(\"NONE\"),\n        transaction: MinimalTransactionSchema.optional(),\n    }),\n    // INCLUDED: Transaction in block (transaction is injected client-side)\n    z.object({\n        final_execution_status: z.literal(\"INCLUDED\"),\n        transaction: MinimalTransactionSchema.optional(),\n    }),\n    // INCLUDED_FINAL: Alternative name for INCLUDED with finality (transaction is injected client-side)\n    z.object({\n        final_execution_status: z.literal(\"INCLUDED_FINAL\"),\n        transaction: MinimalTransactionSchema.optional(),\n    }),\n    // EXECUTED_OPTIMISTIC: Executed but not finalized\n    z.object({\n        final_execution_status: z.literal(\"EXECUTED_OPTIMISTIC\"),\n        status: ExecutionStatusSchema,\n        transaction: TransactionSchema,\n        transaction_outcome: ExecutionOutcomeWithIdSchema,\n        receipts_outcome: z.array(ExecutionOutcomeWithIdSchema),\n    }),\n    // EXECUTED: Executed (legacy)\n    z.object({\n        final_execution_status: z.literal(\"EXECUTED\"),\n        status: ExecutionStatusSchema,\n        transaction: TransactionSchema,\n        transaction_outcome: ExecutionOutcomeWithIdSchema,\n        receipts_outcome: z.array(ExecutionOutcomeWithIdSchema),\n    }),\n    // FINAL: Fully finalized\n    z.object({\n        final_execution_status: z.literal(\"FINAL\"),\n        status: ExecutionStatusSchema,\n        transaction: TransactionSchema,\n        transaction_outcome: ExecutionOutcomeWithIdSchema,\n        receipts_outcome: z.array(ExecutionOutcomeWithIdSchema),\n    }),\n]);\n/**\n * Receipt schema (for EXPERIMENTAL_tx_status)\n */\nexport const ReceiptSchema = z.object({\n    predecessor_id: z.string(),\n    receiver_id: z.string(),\n    receipt_id: z.string(),\n    receipt: z.union([\n        z.object({\n            Action: z.object({\n                signer_id: z.string(),\n                signer_public_key: z.string(),\n                gas_price: z.string(),\n                output_data_receivers: z.array(z.any()),\n                input_data_ids: z.array(z.string()),\n                actions: z.array(ActionSchema),\n                is_promise_yield: z.boolean().optional(),\n            }),\n        }),\n        z.object({\n            Data: z.object({\n                data_id: z.string(),\n                data: z.string().nullable().optional(),\n            }),\n        }),\n    ]),\n    priority: z.number().optional(),\n});\n/**\n * Final execution outcome with receipts (EXPERIMENTAL_tx_status response)\n * Uses intersection since we can't extend discriminated unions\n */\nexport const FinalExecutionOutcomeWithReceiptsSchema = z.intersection(FinalExecutionOutcomeSchema, z.object({\n    receipts: z.array(ReceiptSchema),\n}));\n//# sourceMappingURL=rpc-schemas.js.map","/**\n * RPC error handling utilities\n * Parses NEAR RPC errors and throws appropriate typed exceptions\n */\nimport { AccessKeyDoesNotExistError, AccountDoesNotExistError, ContractExecutionError, ContractNotDeployedError, ContractStateTooLargeError, FunctionCallError, InternalServerError, InvalidAccountError, InvalidNonceError, InvalidShardIdError, InvalidTransactionError, NearError, NetworkError, NodeNotSyncedError, ParseError, ShardUnavailableError, TimeoutError, UnknownBlockError, UnknownChunkError, UnknownEpochError, UnknownReceiptError, } from \"../../errors/index.js\";\nimport { RpcErrorResponseSchema } from \"./rpc-schemas.js\";\n// ==================== Helper Functions ====================\n/**\n * Check if a failure object represents a FunctionCallError\n */\nfunction isFunctionCallError(failure) {\n    return (failure.ActionError?.kind?.FunctionCallError !==\n        undefined ||\n        failure.FunctionCallError !== undefined);\n}\n/**\n * Extract panic message from FunctionCallError\n */\nfunction extractPanicMessage(failure) {\n    const functionCallError = failure.ActionError?.kind?.FunctionCallError ||\n        failure.FunctionCallError;\n    if (!functionCallError)\n        return undefined;\n    if (typeof functionCallError.ExecutionError === \"string\") {\n        return functionCallError.ExecutionError;\n    }\n    if (typeof functionCallError.HostError === \"string\") {\n        return functionCallError.HostError;\n    }\n    return JSON.stringify(functionCallError);\n}\n/**\n * Extract method name from transaction actions\n */\nfunction extractMethodName(transaction) {\n    if (!transaction)\n        return undefined;\n    const functionCallAction = transaction.actions.find((action) => typeof action === \"object\" && \"FunctionCall\" in action);\n    if (functionCallAction &&\n        typeof functionCallAction === \"object\" &&\n        \"FunctionCall\" in functionCallAction) {\n        return functionCallAction.FunctionCall.method_name;\n    }\n    return undefined;\n}\n/**\n * Extract error message from an ActionError failure object.\n *\n * @internal\n */\nexport function extractErrorMessage(failure) {\n    // Handle ActionError structure\n    if (\"ActionError\" in failure &&\n        typeof failure[\"ActionError\"] === \"object\" &&\n        failure[\"ActionError\"] !== null) {\n        const actionError = failure[\"ActionError\"];\n        if (\"kind\" in actionError &&\n            typeof actionError[\"kind\"] === \"object\" &&\n            actionError[\"kind\"] !== null) {\n            const kind = actionError[\"kind\"];\n            // Get the error type (first key in kind object)\n            const errorType = Object.keys(kind)[0];\n            if (!errorType) {\n                return JSON.stringify(failure);\n            }\n            const errorData = kind[errorType];\n            // Format error message with data if available\n            if (errorData && typeof errorData === \"object\" && errorData !== null) {\n                const dataObj = errorData;\n                const dataStr = Object.entries(dataObj)\n                    .map(([key, value]) => `${key}: ${value}`)\n                    .join(\", \");\n                return `${errorType} (${dataStr})`;\n            }\n            return errorType;\n        }\n    }\n    // Fallback to JSON stringified representation\n    return JSON.stringify(failure);\n}\n/**\n * Check outcome for FunctionCallError and throw if found.\n *\n * @internal\n */\nexport function checkOutcomeForFunctionCallError(outcome, transaction) {\n    if (typeof outcome.outcome.status === \"object\" &&\n        \"Failure\" in outcome.outcome.status) {\n        const failure = outcome.outcome.status.Failure;\n        if (isFunctionCallError(failure)) {\n            const contractId = outcome.outcome.executor_id;\n            const logs = outcome.outcome.logs;\n            const methodName = extractMethodName(transaction);\n            const panicMessage = extractPanicMessage(failure);\n            throw new FunctionCallError(contractId, methodName, panicMessage, logs);\n        }\n    }\n}\n/**\n * Determine if an HTTP status code indicates a retryable error.\n *\n * @internal\n */\nexport function isRetryableStatus(statusCode) {\n    // 408 Request Timeout - retryable\n    // 429 Too Many Requests - retryable (rate limiting)\n    // 503 Service Unavailable - retryable\n    // 5xx Server Errors - retryable\n    return (statusCode === 408 ||\n        statusCode === 429 ||\n        statusCode === 503 ||\n        (statusCode >= 500 && statusCode < 600));\n}\n/**\n * Parse query result errors (from `result.error` field).\n *\n * Query methods (e.g. `view_access_key`, `call_function`) return errors in\n * `result.error` instead of the top-level error field.\n *\n * @internal\n */\nexport function parseQueryError(result, context = {}) {\n    if (!result || typeof result !== \"object\" || !(\"error\" in result)) {\n        return;\n    }\n    const errorMsg = result.error;\n    // Function call errors (method not found, execution failures, etc.)\n    // Check this FIRST to avoid misinterpreting \"Method X does not exist\" as access key error\n    if (context.contractId) {\n        throw new FunctionCallError(context.contractId, context.methodName, errorMsg);\n    }\n    // Access key not found\n    // Only check this for access key queries (when accountId/publicKey are in context)\n    if ((context.accountId || context.publicKey) &&\n        errorMsg.includes(\"does not exist\")) {\n        const accountId = context.accountId || \"unknown\";\n        const publicKey = context.publicKey || \"unknown\";\n        throw new AccessKeyDoesNotExistError(accountId, publicKey);\n    }\n    // Generic query error\n    throw new NetworkError(`Query error: ${errorMsg}`);\n}\n/**\n * Parse RPC error and throw appropriate typed error.\n * Follows NEAR RPC error documentation.\n *\n * @internal\n */\nexport function parseRpcError(error, statusCode) {\n    if (!error) {\n        throw new NetworkError(\"Unknown RPC error\");\n    }\n    // Try to parse the error using the schema\n    try {\n        const parsedError = RpcErrorResponseSchema.parse(error);\n        const causeName = parsedError.cause?.name;\n        const causeInfo = parsedError.cause?.info || {};\n        // Handle errors based on ERROR_CAUSE (as per documentation)\n        // This is more reliable than string matching on error messages\n        // === General Errors (HANDLER_ERROR) ===\n        if (causeName === \"UNKNOWN_BLOCK\") {\n            // block_reference can be a string or an object like { block_id: 999999999 }\n            let blockRef;\n            const blockReference = causeInfo[\"block_reference\"];\n            if (typeof blockReference === \"string\") {\n                blockRef = blockReference;\n            }\n            else if (blockReference && typeof blockReference === \"object\") {\n                const blockId = blockReference[\"block_id\"] ||\n                    blockReference[\"BlockId\"];\n                blockRef = blockId\n                    ? String(blockId)\n                    : parsedError.data || parsedError.message;\n            }\n            else {\n                blockRef = parsedError.data || parsedError.message;\n            }\n            throw new UnknownBlockError(blockRef);\n        }\n        if (causeName === \"INVALID_ACCOUNT\") {\n            const accountId = causeInfo.requested_account_id || \"unknown\";\n            throw new InvalidAccountError(accountId);\n        }\n        if (causeName === \"UNKNOWN_ACCOUNT\") {\n            const accountId = causeInfo.requested_account_id || \"unknown\";\n            throw new AccountDoesNotExistError(accountId);\n        }\n        if (causeName === \"UNAVAILABLE_SHARD\") {\n            throw new ShardUnavailableError(parsedError.message);\n        }\n        if (causeName === \"NO_SYNCED_BLOCKS\" || causeName === \"NOT_SYNCED_YET\") {\n            throw new NodeNotSyncedError(parsedError.message);\n        }\n        // === Contract Errors ===\n        if (causeName === \"NO_CONTRACT_CODE\") {\n            const accountId = causeInfo[\"contract_account_id\"] ||\n                causeInfo[\"account_id\"] ||\n                causeInfo[\"contract_id\"] ||\n                \"unknown\";\n            throw new ContractNotDeployedError(accountId);\n        }\n        if (causeName === \"TOO_LARGE_CONTRACT_STATE\") {\n            const accountId = causeInfo[\"account_id\"] ||\n                causeInfo[\"contract_id\"] ||\n                \"unknown\";\n            throw new ContractStateTooLargeError(accountId);\n        }\n        if (causeName === \"CONTRACT_EXECUTION_ERROR\") {\n            const contractId = causeInfo[\"contract_id\"] || \"unknown\";\n            const methodName = causeInfo.method_name;\n            throw new ContractExecutionError(contractId, methodName, causeInfo);\n        }\n        // ActionError is for function call panics during transaction execution\n        if (causeName === \"ActionError\") {\n            const contractId = causeInfo[\"contract_id\"] || \"unknown\";\n            const methodName = causeInfo.method_name || \"unknown\";\n            const panic = parsedError.message || undefined;\n            throw new FunctionCallError(contractId, methodName, panic);\n        }\n        // === Block / Chunk Errors ===\n        if (causeName === \"UNKNOWN_CHUNK\") {\n            // chunk_reference might be an object structure, or there may be a chunk_hash field\n            let chunkRef;\n            const chunkHash = causeInfo[\"chunk_hash\"];\n            const chunkReference = causeInfo[\"chunk_reference\"];\n            if (typeof chunkHash === \"string\") {\n                chunkRef = chunkHash;\n            }\n            else if (typeof chunkReference === \"string\") {\n                chunkRef = chunkReference;\n            }\n            else if (chunkReference && typeof chunkReference === \"object\") {\n                // Extract chunk_id or similar field, fallback to data/message\n                const chunkId = chunkReference[\"chunk_id\"];\n                chunkRef = chunkId\n                    ? String(chunkId)\n                    : parsedError.data || parsedError.message;\n            }\n            else {\n                chunkRef = parsedError.data || parsedError.message;\n            }\n            throw new UnknownChunkError(chunkRef);\n        }\n        if (causeName === \"INVALID_SHARD_ID\") {\n            const shardId = causeInfo[\"shard_id\"] || \"unknown\";\n            throw new InvalidShardIdError(shardId);\n        }\n        // === Network Errors ===\n        if (causeName === \"UNKNOWN_EPOCH\") {\n            // block_reference can be a string or an object like { block_id: 999999999 }\n            let blockRef;\n            const blockReference = causeInfo[\"block_reference\"];\n            if (typeof blockReference === \"string\") {\n                blockRef = blockReference;\n            }\n            else if (blockReference && typeof blockReference === \"object\") {\n                const blockId = blockReference[\"block_id\"] ||\n                    blockReference[\"BlockId\"];\n                blockRef = blockId\n                    ? String(blockId)\n                    : parsedError.data || parsedError.message;\n            }\n            else {\n                blockRef = parsedError.data || parsedError.message;\n            }\n            throw new UnknownEpochError(blockRef);\n        }\n        // === Transaction Errors ===\n        if (causeName === \"INVALID_TRANSACTION\") {\n            // Check for InvalidNonce error in data field\n            if (parsedError.data && typeof parsedError.data === \"object\") {\n                // Navigate nested error structure: TxExecutionError.InvalidTxError.InvalidNonce\n                const txExecError = parsedError.data.TxExecutionError;\n                const invalidTxError = txExecError?.InvalidTxError || parsedError.data.InvalidTxError;\n                const invalidNonce = invalidTxError?.InvalidNonce;\n                if (invalidNonce &&\n                    \"ak_nonce\" in invalidNonce &&\n                    \"tx_nonce\" in invalidNonce) {\n                    throw new InvalidNonceError(invalidNonce.tx_nonce, invalidNonce.ak_nonce);\n                }\n            }\n            // Extract detailed error info from data field if available\n            let errorDetails = causeInfo;\n            if (parsedError.data && typeof parsedError.data === \"object\") {\n                const txError = parsedError.data.TxExecutionError || parsedError.data.InvalidTxError;\n                if (txError) {\n                    errorDetails = { ...causeInfo, ...txError };\n                }\n            }\n            throw new InvalidTransactionError(parsedError.message, errorDetails);\n        }\n        if (causeName === \"UNKNOWN_RECEIPT\") {\n            const receiptId = causeInfo[\"receipt_id\"] || \"unknown\";\n            throw new UnknownReceiptError(receiptId);\n        }\n        if (causeName === \"TIMEOUT_ERROR\") {\n            const txHash = causeInfo[\"transaction_hash\"];\n            throw new TimeoutError(parsedError.message, txHash);\n        }\n        // === Request Validation Errors (400) ===\n        if (causeName === \"PARSE_ERROR\" ||\n            parsedError.name === \"REQUEST_VALIDATION_ERROR\") {\n            throw new ParseError(parsedError.message, causeInfo);\n        }\n        // === Internal Errors (500) ===\n        if (causeName === \"INTERNAL_ERROR\" ||\n            parsedError.name === \"INTERNAL_ERROR\") {\n            throw new InternalServerError(parsedError.message, causeInfo);\n        }\n        // === Fallback for unknown error types ===\n        // Determine if error is retryable based on HTTP status code\n        const retryable = statusCode ? isRetryableStatus(statusCode) : false;\n        throw new NetworkError(`RPC error [${causeName || parsedError.name}]: ${parsedError.message}`, parsedError.code, retryable);\n    }\n    catch (parseError) {\n        // If parsing fails or we already threw a specific error, re-throw it\n        if (parseError instanceof NearError) {\n            throw parseError;\n        }\n        // Parsing failed, fall back to generic error\n        throw new NetworkError(`RPC error: ${error.message}`, error.code, false);\n    }\n}\n//# sourceMappingURL=rpc-error-handler.js.map","import { base64 } from \"@scure/base\";\nimport { InvalidTransactionError, NearError, NetworkError, } from \"../../errors/index.js\";\nimport { checkOutcomeForFunctionCallError, extractErrorMessage, isRetryableStatus, parseQueryError, parseRpcError, } from \"./rpc-error-handler.js\";\nimport { AccessKeyViewSchema, AccountViewSchema, FinalExecutionOutcomeSchema, FinalExecutionOutcomeWithReceiptsSchema, GasPriceResponseSchema, StatusResponseSchema, ViewFunctionCallResultSchema, } from \"./rpc-schemas.js\";\nconst DEFAULT_RETRY_CONFIG = {\n    maxRetries: 4,\n    initialDelayMs: 1000, // 1 second\n};\n/**\n * Low-level JSON-RPC client for NEAR Protocol.\n *\n * @remarks\n * Most applications should use {@link Near} instead of interacting with this\n * class directly. `RpcClient` is exposed for advanced use cases that need full\n * control over RPC calls or access to methods not wrapped by `Near`.\n */\nexport class RpcClient {\n    constructor(url, headers, retryConfig) {\n        this.url = url;\n        this.headers = headers || {};\n        this.requestId = 0;\n        this.retryConfig = {\n            maxRetries: retryConfig?.maxRetries ?? DEFAULT_RETRY_CONFIG.maxRetries,\n            initialDelayMs: retryConfig?.initialDelayMs ?? DEFAULT_RETRY_CONFIG.initialDelayMs,\n        };\n    }\n    /**\n     * Sleep for the specified number of milliseconds.\n     * @internal\n     */\n    async sleep(ms) {\n        return new Promise((resolve) => setTimeout(resolve, ms));\n    }\n    /**\n     * Perform a raw JSON-RPC call with automatic retries and error mapping.\n     *\n     * @param method - RPC method name (e.g. `\"query\"`, `\"status\"`).\n     * @param params - RPC params object or array.\n     *\n     * @returns Parsed JSON result typed as `T`.\n     *\n     * @throws {NetworkError} On HTTP failures, network issues, or malformed responses.\n     * @throws {InvalidTransactionError} For transaction failures detected by {@link parseRpcError}.\n     * @throws {NearError} For other RPC-level errors.\n     */\n    async call(method, params) {\n        const request = {\n            jsonrpc: \"2.0\",\n            id: ++this.requestId,\n            method,\n            params,\n        };\n        let lastError = null;\n        // Retry loop with exponential backoff\n        // Total attempts = 1 (initial) + maxRetries\n        const totalAttempts = 1 + this.retryConfig.maxRetries;\n        for (let attempt = 0; attempt < totalAttempts; attempt++) {\n            try {\n                // Debug logging for RPC requests\n                if (typeof process !== \"undefined\" &&\n                    process.env[\"NEAR_RPC_DEBUG\"] === \"true\") {\n                    console.log(\"[RPC Request]\", JSON.stringify(request, null, 2));\n                }\n                const response = await fetch(this.url, {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        ...this.headers,\n                    },\n                    body: JSON.stringify(request),\n                });\n                if (!response.ok) {\n                    // Use isRetryableStatus to determine if this HTTP error is retryable\n                    throw new NetworkError(`HTTP ${response.status}: ${response.statusText}`, response.status, isRetryableStatus(response.status));\n                }\n                const data = await response.json();\n                // Debug logging for RPC responses\n                if (typeof process !== \"undefined\" &&\n                    process.env[\"NEAR_RPC_DEBUG\"] === \"true\") {\n                    console.log(\"[RPC Response]\", JSON.stringify(data, null, 2));\n                }\n                if (data.error) {\n                    // Pass status code to parseRpcError for better retryable detection\n                    parseRpcError(data.error, response.status);\n                }\n                if (data.result === undefined) {\n                    throw new NetworkError(\"RPC response missing result field\");\n                }\n                return data.result;\n            }\n            catch (error) {\n                // Re-throw non-NearError instances as NetworkError\n                let nearError;\n                if (!(error instanceof NearError)) {\n                    // Network failure (fetch threw an error)\n                    nearError = new NetworkError(`Network request failed: ${error.message}`, undefined, true);\n                }\n                else {\n                    nearError = error;\n                }\n                lastError = nearError;\n                // Check if we should retry\n                const isRetryable = \"retryable\" in lastError && lastError.retryable;\n                const hasRetriesLeft = attempt + 1 < totalAttempts;\n                if (!isRetryable || !hasRetriesLeft) {\n                    // Not retryable or out of retries - throw the error\n                    throw lastError;\n                }\n                // Calculate exponential backoff delay: initialDelay * 2^attempt\n                const delayMs = this.retryConfig.initialDelayMs * 2 ** attempt;\n                // Wait before retrying\n                await this.sleep(delayMs);\n            }\n        }\n        // This should never be reached, but TypeScript needs it\n        throw lastError || new NetworkError(\"Unknown error during RPC call\");\n    }\n    /**\n     * Perform a generic `query` RPC call.\n     *\n     * @param path - `request_type` (e.g. `\"view_account\"`, `\"view_access_key\"`).\n     * @param data - Raw args as base64 string or bytes.\n     */\n    async query(path, data) {\n        return this.call(\"query\", {\n            request_type: path,\n            finality: \"final\",\n            args_base64: typeof data === \"string\" ? data : base64.encode(data),\n        });\n    }\n    /**\n     * Call a contract view function via RPC.\n     *\n     * @param contractId - Account ID of the target contract.\n     * @param methodName - Name of the view method.\n     * @param args - Arguments object or raw bytes; defaults to `{}`.\n     * @param options - Optional {@link BlockReference} to control finality or block.\n     */\n    async viewFunction(contractId, methodName, args = {}, options) {\n        const argsBytes = args instanceof Uint8Array\n            ? args\n            : new TextEncoder().encode(JSON.stringify(args));\n        const argsBase64 = base64.encode(argsBytes);\n        const result = await this.call(\"query\", {\n            request_type: \"call_function\",\n            ...(options?.blockId\n                ? { block_id: options.blockId }\n                : { finality: options?.finality || \"final\" }),\n            account_id: contractId,\n            method_name: methodName,\n            args_base64: argsBase64,\n        });\n        // Check for errors in result (NEAR returns view function errors this way)\n        parseQueryError(result, { contractId, methodName });\n        return ViewFunctionCallResultSchema.parse(result);\n    }\n    /**\n     * Get basic account information via `view_account`.\n     *\n     * @param accountId - Account ID to query.\n     * @param options - Optional {@link BlockReference} to control finality or block.\n     */\n    async getAccount(accountId, options) {\n        const result = await this.call(\"query\", {\n            request_type: \"view_account\",\n            ...(options?.blockId\n                ? { block_id: options.blockId }\n                : { finality: options?.finality || \"optimistic\" }),\n            account_id: accountId,\n        });\n        return AccountViewSchema.parse(result);\n    }\n    /**\n     * Get an access key via `view_access_key`.\n     *\n     * @param accountId - Account ID that owns the key.\n     * @param publicKey - Public key string (e.g. `\"ed25519:...\"`).\n     * @param options - Optional {@link BlockReference} to control finality or block.\n     */\n    async getAccessKey(accountId, publicKey, options) {\n        const result = await this.call(\"query\", {\n            request_type: \"view_access_key\",\n            ...(options?.blockId\n                ? { block_id: options.blockId }\n                : { finality: options?.finality || \"optimistic\" }),\n            account_id: accountId,\n            public_key: publicKey,\n        });\n        // Check for errors in result (NEAR returns access key errors this way)\n        parseQueryError(result, { accountId, publicKey });\n        return AccessKeyViewSchema.parse(result);\n    }\n    /**\n     * Send a signed transaction via `send_tx`.\n     *\n     * @param signedTransaction - Borsh-serialized signed transaction bytes.\n     * @param waitUntil - Execution status level to wait for (see {@link TxExecutionStatus}).\n     */\n    async sendTransaction(signedTransaction, waitUntil) {\n        const actualWaitUntil = (waitUntil ?? \"EXECUTED_OPTIMISTIC\");\n        const base64Encoded = base64.encode(signedTransaction);\n        // Use send_tx with wait_until parameter instead of deprecated broadcast_tx_commit\n        const result = await this.call(\"send_tx\", {\n            signed_tx_base64: base64Encoded,\n            wait_until: actualWaitUntil,\n        });\n        const parsed = FinalExecutionOutcomeSchema.parse(result);\n        // Check for execution failures (only in modes that return execution status)\n        // NONE, INCLUDED, and INCLUDED_FINAL don't have status/transaction/outcome fields\n        if (parsed.final_execution_status !== \"NONE\" &&\n            parsed.final_execution_status !== \"INCLUDED\" &&\n            parsed.final_execution_status !== \"INCLUDED_FINAL\") {\n            // TypeScript now knows parsed has status, transaction, transaction_outcome, receipts_outcome\n            if (parsed.status &&\n                typeof parsed.status === \"object\" &&\n                \"Failure\" in parsed.status) {\n                // Check transaction_outcome for direct failures\n                if (parsed.transaction_outcome) {\n                    checkOutcomeForFunctionCallError(parsed.transaction_outcome, parsed.transaction);\n                }\n                // Check receipts_outcome for cross-contract failures\n                const failedReceipt = parsed.receipts_outcome?.find((receipt) => typeof receipt.outcome.status === \"object\" &&\n                    \"Failure\" in receipt.outcome.status);\n                if (failedReceipt) {\n                    checkOutcomeForFunctionCallError(failedReceipt, parsed.transaction);\n                }\n                // Generic transaction failure (non-function-call errors)\n                // Extract error message from the actual failure in transaction_outcome or receipts\n                let errorMessage = \"Transaction execution failed\";\n                let failureDetails = parsed.status.Failure;\n                if (parsed.transaction_outcome &&\n                    typeof parsed.transaction_outcome.outcome.status === \"object\" &&\n                    \"Failure\" in parsed.transaction_outcome.outcome.status) {\n                    failureDetails = parsed.transaction_outcome.outcome.status.Failure;\n                    errorMessage = extractErrorMessage(failureDetails);\n                }\n                else if (failedReceipt &&\n                    typeof failedReceipt.outcome.status === \"object\" &&\n                    \"Failure\" in failedReceipt.outcome.status) {\n                    failureDetails = failedReceipt.outcome.status.Failure;\n                    errorMessage = extractErrorMessage(failureDetails);\n                }\n                throw new InvalidTransactionError(errorMessage, failureDetails);\n            }\n        }\n        // Safe cast: TypeScript guarantees W is a valid key, Zod validates the structure,\n        // and waitUntil determines which variant we get from the RPC\n        return parsed;\n    }\n    /**\n     * Query transaction status with receipts via `EXPERIMENTAL_tx_status`.\n     *\n     * @param txHash - Transaction hash.\n     * @param senderAccountId - Account ID that sent the transaction.\n     * @param waitUntil - Execution status level to wait for.\n     */\n    async getTransactionStatus(txHash, senderAccountId, waitUntil) {\n        const actualWaitUntil = (waitUntil ?? \"EXECUTED_OPTIMISTIC\");\n        // Call EXPERIMENTAL_tx_status with wait_until parameter\n        const result = await this.call(\"EXPERIMENTAL_tx_status\", {\n            tx_hash: txHash,\n            sender_account_id: senderAccountId,\n            wait_until: actualWaitUntil,\n        });\n        const parsed = FinalExecutionOutcomeWithReceiptsSchema.parse(result);\n        // Check for execution failures (only in modes that return execution status)\n        // NONE, INCLUDED, and INCLUDED_FINAL don't have status/transaction/outcome fields\n        if (parsed.final_execution_status !== \"NONE\" &&\n            parsed.final_execution_status !== \"INCLUDED\" &&\n            parsed.final_execution_status !== \"INCLUDED_FINAL\") {\n            // TypeScript now knows parsed has status, transaction, transaction_outcome, receipts_outcome\n            if (parsed.status &&\n                typeof parsed.status === \"object\" &&\n                \"Failure\" in parsed.status) {\n                // Check transaction_outcome for direct failures\n                if (parsed.transaction_outcome) {\n                    checkOutcomeForFunctionCallError(parsed.transaction_outcome, parsed.transaction);\n                }\n                // Check receipts_outcome for cross-contract failures\n                const failedReceipt = parsed.receipts_outcome?.find((receipt) => typeof receipt.outcome.status === \"object\" &&\n                    \"Failure\" in receipt.outcome.status);\n                if (failedReceipt) {\n                    checkOutcomeForFunctionCallError(failedReceipt, parsed.transaction);\n                }\n                // Generic transaction failure (non-function-call errors)\n                // Extract error message from the actual failure in transaction_outcome or receipts\n                let errorMessage = \"Transaction execution failed\";\n                let failureDetails = parsed.status.Failure;\n                if (parsed.transaction_outcome &&\n                    typeof parsed.transaction_outcome.outcome.status === \"object\" &&\n                    \"Failure\" in parsed.transaction_outcome.outcome.status) {\n                    failureDetails = parsed.transaction_outcome.outcome.status.Failure;\n                    errorMessage = extractErrorMessage(failureDetails);\n                }\n                else if (failedReceipt &&\n                    typeof failedReceipt.outcome.status === \"object\" &&\n                    \"Failure\" in failedReceipt.outcome.status) {\n                    failureDetails = failedReceipt.outcome.status.Failure;\n                    errorMessage = extractErrorMessage(failureDetails);\n                }\n                throw new InvalidTransactionError(errorMessage, failureDetails);\n            }\n        }\n        // Safe cast: TypeScript guarantees W is a valid key, Zod validates the structure,\n        // and waitUntil determines which variant we get from the RPC\n        return parsed;\n    }\n    /**\n     * Get node status via `status`.\n     */\n    async getStatus() {\n        const result = await this.call(\"status\", []);\n        return StatusResponseSchema.parse(result);\n    }\n    /**\n     * Get gas price via `gas_price`.\n     *\n     * @param blockId - Optional block hash or height; `null` for latest.\n     */\n    async getGasPrice(blockId = null) {\n        const result = await this.call(\"gas_price\", [blockId]);\n        return GasPriceResponseSchema.parse(result);\n    }\n}\n//# sourceMappingURL=rpc.js.map","/**\n * Fluent API for building and sending NEAR transactions.\n *\n * Allows chaining multiple actions (transfers, function calls, account creation, etc.)\n * into a single atomic transaction. All actions either succeed together or fail together.\n *\n * The builder is created via {@link Near.transaction} with a signer account ID. This\n * account must have signing credentials available (via keyStore, privateKey, custom\n * signer, or wallet connection).\n *\n * @example\n * ```typescript\n * // Single action\n * await near.transaction('alice.near')\n *   .transfer('bob.near', '10 NEAR')\n *   .send()\n *\n * // Multiple actions (atomic)\n * await near.transaction('alice.near')\n *   .createAccount('sub.alice.near')\n *   .transfer('sub.alice.near', '5 NEAR')\n *   .addKey(newKey, { type: 'fullAccess' })\n *   .send()\n * ```\n *\n * @remarks\n * - The `signerId` (set via `Near.transaction()`) is the account that signs and pays for gas\n * - All actions execute in the order they are added\n * - Transaction is only sent when `.send()` is called\n * - Use `.build()` to get unsigned transaction\n */\nimport { sha256 } from \"@noble/hashes/sha2.js\";\nimport { base58 } from \"@scure/base\";\nimport { InvalidKeyError, InvalidNonceError, NearError, } from \"../errors/index.js\";\nimport { parseKey, parsePublicKey } from \"../utils/key.js\";\nimport { deriveAccountId } from \"../utils/state-init.js\";\nimport { normalizeAmount, normalizeGas, } from \"../utils/validation.js\";\nimport * as actions from \"./actions.js\";\nimport { DEFAULT_FUNCTION_CALL_GAS } from \"./constants.js\";\nimport { NonceManager } from \"./nonce-manager.js\";\nimport { encodeSignedDelegateAction, serializeDelegateAction, serializeSignedTransaction, serializeTransaction, } from \"./schema.js\";\n/**\n * Compare two public keys for byte-level equality.\n * @internal\n */\nfunction publicKeysEqual(a, b) {\n    if (a.keyType !== b.keyType || a.data.length !== b.data.length) {\n        return false;\n    }\n    for (let i = 0; i < a.data.length; i += 1) {\n        if (a.data[i] !== b.data[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Convert user-friendly permission format to Borsh format.\n * @internal\n */\nfunction toAccessKeyPermissionBorsh(permission) {\n    if (permission.type === \"fullAccess\") {\n        return { fullAccess: {} };\n    }\n    else {\n        return {\n            functionCall: {\n                receiverId: permission.receiverId,\n                methodNames: permission.methodNames || [],\n                allowance: permission.allowance\n                    ? BigInt(normalizeAmount(permission.allowance))\n                    : null,\n            },\n        };\n    }\n}\n/**\n * Fluent builder for constructing and sending NEAR transactions.\n *\n * Created via {@link Near.transaction}. Supports chaining multiple actions\n * (transfers, function calls, key management, staking, delegate actions) into\n * a single atomic transaction.\n */\nexport class TransactionBuilder {\n    constructor(signerId, rpc, keyStore, signer, defaultWaitUntil = \"EXECUTED_OPTIMISTIC\", wallet, ensureKeyStoreReady) {\n        this.signerId = signerId;\n        this.actions = [];\n        this.rpc = rpc;\n        this.keyStore = keyStore;\n        if (ensureKeyStoreReady !== undefined) {\n            this.ensureKeyStoreReady = ensureKeyStoreReady;\n        }\n        if (signer !== undefined) {\n            this.signer = signer;\n        }\n        this.defaultWaitUntil = defaultWaitUntil;\n        if (wallet !== undefined) {\n            this.wallet = wallet;\n        }\n    }\n    /**\n     * Invalidate cached signed transaction when builder state changes\n     */\n    invalidateCache() {\n        delete this.cachedSignedTx;\n        return this;\n    }\n    /**\n     * Resolve the key pair for the current signer from either `signWith()` or keyStore.\n     */\n    async resolveKeyPair() {\n        if (this.keyPair) {\n            return this.keyPair;\n        }\n        if (this.ensureKeyStoreReady) {\n            await this.ensureKeyStoreReady();\n        }\n        const keyPair = await this.keyStore.get(this.signerId);\n        if (!keyPair) {\n            throw new InvalidKeyError(`No key found for account: ${this.signerId}`);\n        }\n        // Cache the resolved key pair to ensure keyStore.get() is only called once\n        // per TransactionBuilder instance. This is critical for RotatingKeyStore\n        // which returns a different key on each get() call.\n        this.keyPair = keyPair;\n        return keyPair;\n    }\n    /**\n     * Add a token transfer action.\n     *\n     * @param receiverId - Account ID that will receive the tokens.\n     * @param amount - Amount to transfer, expressed as {@link Amount} (e.g. `\"10 NEAR\"`).\n     *\n     * @returns This builder instance for chaining.\n     *\n     * @remarks\n     * If no receiver has been set yet, this also sets the transaction `receiverId`\n     * to `receiverId`.\n     */\n    transfer(receiverId, amount) {\n        const amountYocto = normalizeAmount(amount);\n        this.actions.push(actions.transfer(BigInt(amountYocto)));\n        if (!this.receiverId) {\n            this.receiverId = receiverId;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Add a function call action.\n     *\n     * @param contractId - Account ID of the target contract.\n     * @param methodName - Name of the change method to call.\n     * @param args - Arguments object or raw bytes; defaults to `{}`.\n     * @param options - Optional gas and attached deposit settings.\n     *\n     * @returns This builder instance for chaining.\n     *\n     * @remarks\n     * - `options.gas` accepts human-readable values such as `\"30 Tgas\"` or {@link Gas.Tgas}.\n     * - `options.attachedDeposit` uses {@link Amount} semantics (e.g. `\"1 yocto\"`).\n     * - If no receiver has been set yet, this also sets the transaction `receiverId`\n     *   to `contractId`.\n     */\n    functionCall(contractId, methodName, args = {}, options = {}) {\n        const argsBytes = args instanceof Uint8Array\n            ? args\n            : new TextEncoder().encode(JSON.stringify(args));\n        const gas = options.gas\n            ? normalizeGas(options.gas)\n            : DEFAULT_FUNCTION_CALL_GAS;\n        const deposit = options.attachedDeposit\n            ? normalizeAmount(options.attachedDeposit)\n            : \"0\";\n        this.actions.push(actions.functionCall(methodName, argsBytes, BigInt(gas), BigInt(deposit)));\n        if (!this.receiverId) {\n            this.receiverId = contractId;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Add a create account action\n     */\n    createAccount(accountId) {\n        this.actions.push(actions.createAccount());\n        if (!this.receiverId) {\n            this.receiverId = accountId;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Add a delete account action.\n     *\n     * Deletes the account that is the **receiver of this transaction** (typically set\n     * by a prior action or explicitly via the first action in the chain). The remaining\n     * balance is transferred to the specified beneficiary.\n     *\n     * @param options - Delete account options.\n     * @param options.beneficiary - Account ID that will receive the remaining NEAR balance\n     *                              after the account is deleted.\n     *\n     * @returns This builder instance for chaining.\n     *\n     * @example\n     * ```typescript\n     * // Delete \"old-account.alice.near\" and send remaining funds to \"alice.near\"\n     * await near.transaction('old-account.alice.near')\n     *   .deleteAccount({ beneficiary: 'alice.near' })\n     *   .send()\n     * ```\n     *\n     * @remarks\n     * - The account being deleted is the transaction receiver (set via `.transaction()` or\n     *   the first action).\n     * - Only the account itself can delete itself (the signer must have full access to the\n     *   account being deleted).\n     */\n    deleteAccount(options) {\n        this.actions.push(actions.deleteAccount(options.beneficiary));\n        // The account being deleted is the receiver of the transaction\n        if (!this.receiverId) {\n            this.receiverId = this.signerId;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Add a deploy contract action\n     */\n    deployContract(accountId, code) {\n        this.actions.push(actions.deployContract(code));\n        if (!this.receiverId) {\n            this.receiverId = accountId;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Publish a global contract that can be reused by multiple accounts.\n     *\n     * Global contracts are deployed once and referenced by multiple accounts,\n     * saving storage costs. Two modes are available:\n     *\n     * - **\"account\" (default)** - Contract is identified by the signer's account ID. The signer\n     *   can update the contract later, and all accounts using it will automatically\n     *   use the updated version. Use this when you need to push updates to users.\n     *\n     * - **\"hash\"** - Contract is identified by its code hash. This creates\n     *   an immutable contract that cannot be updated. Other accounts reference it by\n     *   the hash. Use this when you want guaranteed immutability.\n     *\n     * @param code - The compiled contract code bytes (WASM)\n     * @param options - Optional configuration\n     * @param options.identifiedBy - How the contract is identified and referenced:\n     *   - `\"account\"` (default): Updatable by signer, identified by signer's account ID\n     *   - `\"hash\"`: Immutable, identified by code hash\n     *\n     * @example\n     * ```typescript\n     * // Publish updatable contract (identified by your account) - default\n     * await near.transaction(accountId)\n     *   .publishContract(contractCode)\n     *   .send()\n     *\n     * // Publish immutable contract (identified by its hash)\n     * await near.transaction(accountId)\n     *   .publishContract(contractCode, { identifiedBy: \"hash\" })\n     *   .send()\n     * ```\n     */\n    publishContract(code, options) {\n        this.actions.push(actions.publishContract(code, options));\n        if (!this.receiverId) {\n            this.receiverId = this.signerId;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Deploy a contract to this account from previously published code in the global registry\n     *\n     * @param reference - Reference to the published contract, either:\n     *                    - { codeHash: Uint8Array | string } - Reference by code hash (Uint8Array or base58 string)\n     *                    - { accountId: string } - Reference by the account that published it\n     *\n     * @example\n     * ```typescript\n     * // Deploy from code hash (Uint8Array)\n     * await near.transaction(accountId)\n     *   .deployFromPublished({ codeHash: hashBytes })\n     *   .send()\n     *\n     * // Deploy from code hash (base58 string)\n     * await near.transaction(accountId)\n     *   .deployFromPublished({ codeHash: \"5FzD8...\" })\n     *   .send()\n     *\n     * // Deploy from account ID\n     * await near.transaction(accountId)\n     *   .deployFromPublished({ accountId: \"contract-publisher.near\" })\n     *   .send()\n     * ```\n     */\n    deployFromPublished(reference) {\n        this.actions.push(actions.deployFromPublished(reference));\n        if (!this.receiverId) {\n            this.receiverId = this.signerId;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Add a StateInit action for deploying a contract with a deterministically derived account ID.\n     *\n     * This enables NEP-616 deterministic AccountIds where the account ID is derived from:\n     * `\"0s\" + hex(keccak256(borsh(state_init))[12..32])`\n     *\n     * The transaction's receiverId will be automatically set to the derived account ID.\n     *\n     * @param options - StateInit configuration\n     * @param options.code - Reference to the contract code (codeHash or accountId)\n     * @param options.data - Optional initial storage key-value pairs\n     * @param options.deposit - Amount to attach for storage costs\n     *\n     * @example\n     * ```typescript\n     * // Deploy from a published global contract by account ID\n     * await near.transaction(signerAccount)\n     *   .stateInit({\n     *     code: { accountId: \"publisher.near\" },\n     *     deposit: \"1 NEAR\",\n     *   })\n     *   .send()\n     *\n     * // Deploy from a code hash with initial storage data\n     * await near.transaction(signerAccount)\n     *   .stateInit({\n     *     code: { codeHash: hashBytes },\n     *     data: new Map([[key1, value1]]),\n     *     deposit: \"2 NEAR\",\n     *   })\n     *   .send()\n     * ```\n     */\n    stateInit(options) {\n        const depositYocto = normalizeAmount(options.deposit);\n        const stateInitOptions = {\n            code: options.code,\n            deposit: BigInt(depositYocto),\n        };\n        if (options.data !== undefined) {\n            stateInitOptions.data = options.data;\n        }\n        this.actions.push(actions.stateInit(stateInitOptions));\n        // Set receiverId to the deterministically derived account ID\n        if (!this.receiverId) {\n            const deriveOptions = {\n                code: options.code,\n            };\n            if (options.data !== undefined) {\n                deriveOptions.data = options.data;\n            }\n            this.receiverId = deriveAccountId(deriveOptions);\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Add a stake action\n     */\n    stake(publicKey, amount) {\n        const amountYocto = normalizeAmount(amount);\n        const pk = parsePublicKey(publicKey);\n        this.actions.push(actions.stake(BigInt(amountYocto), pk));\n        // The account being staked is the receiver of the transaction\n        if (!this.receiverId) {\n            this.receiverId = this.signerId;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Add an add key action\n     *\n     * The key is added to the receiverId of the transaction.\n     * If receiverId is not set, it defaults to signerId.\n     */\n    addKey(publicKey, permission) {\n        const pk = parsePublicKey(publicKey);\n        const borshPermission = toAccessKeyPermissionBorsh(permission);\n        this.actions.push(actions.addKey(pk, borshPermission));\n        // Set receiverId if not already set\n        if (!this.receiverId) {\n            this.receiverId = this.signerId;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Add a delete key action\n     */\n    deleteKey(accountId, publicKey) {\n        const pk = parsePublicKey(publicKey);\n        this.actions.push(actions.deleteKey(pk));\n        if (!this.receiverId) {\n            this.receiverId = accountId;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Build and sign a delegate action from the queued actions.\n     *\n     * @param options - Optional overrides for receiver, nonce, and expiration\n     */\n    /**\n     * Add a signed delegate action to this transaction (for relayers).\n     */\n    signedDelegateAction(signedDelegate) {\n        this.actions.push(signedDelegate);\n        this.receiverId = signedDelegate.signedDelegate.delegateAction.senderId;\n        return this.invalidateCache();\n    }\n    /**\n     * Build and sign a delegate action from the queued actions.\n     *\n     * @returns Structured delegate action plus an encoded payload (`base64` by default)\n     */\n    async delegate(options) {\n        const opts = options ?? {};\n        if (this.actions.length === 0) {\n            throw new NearError(\"Delegate action requires at least one action to perform\", \"INVALID_TRANSACTION\");\n        }\n        if (this.actions.some((action) => \"signedDelegate\" in action)) {\n            throw new NearError(\"Delegate actions cannot contain nested signed delegate actions\", \"INVALID_TRANSACTION\");\n        }\n        const receiverId = opts.receiverId ?? this.receiverId;\n        if (!receiverId) {\n            throw new NearError(\"Delegate action requires a receiver. Set receiverId via the first action or provide it explicitly.\", \"INVALID_TRANSACTION\");\n        }\n        const keyPair = await this.resolveKeyPair();\n        let delegatePublicKey;\n        if (opts.publicKey === undefined) {\n            delegatePublicKey = keyPair.publicKey;\n        }\n        else if (typeof opts.publicKey === \"string\") {\n            delegatePublicKey = parsePublicKey(opts.publicKey);\n        }\n        else {\n            delegatePublicKey = opts.publicKey;\n        }\n        if (!publicKeysEqual(delegatePublicKey, keyPair.publicKey)) {\n            throw new InvalidKeyError(\"Delegate action public key must match the signer key. Use signWith() when you need a different key.\");\n        }\n        let nonce;\n        if (opts.nonce !== undefined) {\n            nonce = opts.nonce;\n        }\n        else {\n            const accessKey = await this.rpc.getAccessKey(this.signerId, delegatePublicKey.toString());\n            nonce = BigInt(accessKey.nonce) + 1n;\n        }\n        let maxBlockHeight;\n        if (opts.maxBlockHeight !== undefined) {\n            maxBlockHeight = opts.maxBlockHeight;\n        }\n        else {\n            const status = await this.rpc.getStatus();\n            const offset = BigInt(opts.blockHeightOffset ?? 200);\n            maxBlockHeight = BigInt(status.sync_info.latest_block_height) + offset;\n        }\n        const delegateActions = this.actions.map((action) => action);\n        const delegateAction = new actions.DelegateAction(this.signerId, receiverId, delegateActions, nonce, maxBlockHeight, delegatePublicKey);\n        const hash = sha256(serializeDelegateAction(delegateAction));\n        const signature = keyPair.sign(hash);\n        const signedDelegateAction = actions.signedDelegate(delegateAction, signature);\n        const format = (opts.payloadFormat ?? \"base64\");\n        const payload = encodeSignedDelegateAction(signedDelegateAction, format);\n        return {\n            signedDelegateAction,\n            payload,\n            format,\n        };\n    }\n    /**\n     * Override the signing function for this specific transaction.\n     *\n     * Use this to sign with a different signer than the one configured in the\n     * Near client, while keeping the same signerId. Useful for:\n     *\n     * - Using a hardware wallet for a specific transaction\n     * - Testing with mock signers\n     * - Signing with a specific private key for the same account\n     * - One-off custom signing logic\n     *\n     * **Important:** This overrides HOW the transaction is signed, not WHO signs it.\n     * The signerId (set via `.transaction()`) remains the same. To sign as a different\n     * account, use `.transaction(otherAccountId)` instead.\n     *\n     * @param key - Either a custom signer function or a private key string\n     *              (e.g., 'ed25519:...' or 'secp256k1:...')\n     *              Type-safe: TypeScript will enforce the correct format at compile time\n     * @returns This builder instance for chaining\n     *\n     * @example\n     * ```typescript\n     * // Override with different hardware wallet\n     * await near.transaction('alice.near')\n     *   .signWith(aliceHardwareWallet)\n     *   .transfer('bob.near', '5 NEAR')\n     *   .send()\n     *\n     * // Sign with specific ed25519 private key (type-safe)\n     * await near.transaction('alice.near')\n     *   .signWith('ed25519:...')  //  TypeScript ensures correct format\n     *   .transfer('bob.near', '1 NEAR')\n     *   .send()\n     *\n     * // Sign with specific secp256k1 private key\n     * await near.transaction('alice.near')\n     *   .signWith('secp256k1:...')  //  TypeScript ensures correct format\n     *   .transfer('bob.near', '1 NEAR')\n     *   .send()\n     *\n     * // TypeScript will catch mistakes at compile time:\n     * await near.transaction('alice.near')\n     *   .signWith('alice.near')  //  Type error: not a PrivateKey\n     *\n     * // Mock signer for testing\n     * const mockSigner: Signer = async (msg) => ({\n     *   keyType: KeyType.ED25519,\n     *   data: new Uint8Array(64)\n     * })\n     *\n     * await near.transaction('test.near')\n     *   .signWith(mockSigner)\n     *   .transfer('receiver.near', '1')\n     *   .send()\n     * ```\n     *\n     * @remarks\n     * Supports both ed25519 and secp256k1 keys.\n     */\n    signWith(key) {\n        if (typeof key === \"string\") {\n            // Parse key and create signer\n            // TypeScript ensures key is PrivateKey format, but we still validate at runtime\n            const keyPair = parseKey(key);\n            this.keyPair = keyPair; // Store for build() to use\n            this.signer = async (message) => keyPair.sign(message);\n        }\n        else {\n            // Clear cached keyPair when using custom signer to prevent stale public key\n            delete this.keyPair;\n            this.signer = key;\n        }\n        return this.invalidateCache();\n    }\n    /**\n     * Build the unsigned transaction\n     */\n    async build() {\n        if (!this.receiverId) {\n            throw new NearError(\"No receiver ID set for transaction\", \"INVALID_TRANSACTION\");\n        }\n        // Resolve signer key pair (used for public key + nonce lookup)\n        const keyPair = await this.resolveKeyPair();\n        const publicKey = keyPair.publicKey;\n        // Use NonceManager to get next nonce (handles concurrent transactions)\n        const nonce = await TransactionBuilder.nonceManager.getNextNonce(this.signerId, publicKey.toString(), async () => {\n            const accessKey = await this.rpc.getAccessKey(this.signerId, publicKey.toString());\n            return BigInt(accessKey.nonce);\n        });\n        const status = await this.rpc.getStatus();\n        const blockHash = base58.decode(status.sync_info.latest_block_hash);\n        const transaction = {\n            signerId: this.signerId,\n            publicKey,\n            nonce,\n            receiverId: this.receiverId,\n            actions: this.actions,\n            blockHash,\n        };\n        return transaction;\n    }\n    /**\n     * Sign the transaction without sending it.\n     *\n     * This creates a signed transaction that can be:\n     * - Inspected via `getHash()`\n     * - Serialized via `serialize()`\n     * - Sent later via `send()`\n     *\n     * The signed transaction is cached internally. If you modify the transaction\n     * (add actions, change signer, etc.), the cache is automatically invalidated.\n     *\n     * @returns This builder instance (now in a signed state)\n     *\n     * @example\n     * ```typescript\n     * // Sign and inspect hash\n     * const tx = await near.transaction('alice.near')\n     *   .transfer('bob.near', '1 NEAR')\n     *   .sign()\n     *\n     * console.log('Transaction hash:', tx.getHash())\n     *\n     * // Serialize for offline use\n     * const bytes = tx.serialize()\n     *\n     * // Send when ready\n     * const result = await tx.send({ waitUntil: 'FINAL' })\n     * ```\n     */\n    async sign() {\n        if (this.cachedSignedTx) {\n            // Already signed, return this\n            return this;\n        }\n        if (!this.receiverId) {\n            throw new NearError(\"No receiver ID set for transaction\", \"INVALID_TRANSACTION\");\n        }\n        // Build the transaction\n        const transaction = await this.build();\n        // Serialize transaction using Borsh\n        const serialized = serializeTransaction(transaction);\n        // NEAR protocol requires signing the SHA256 hash of the serialized transaction\n        const messageHash = (await crypto.subtle.digest(\"SHA-256\", serialized));\n        const messageHashArray = new Uint8Array(messageHash);\n        // Compute transaction hash (base58 of SHA256)\n        const txHash = base58.encode(messageHashArray);\n        // Use custom signer if provided, otherwise fall back to keyStore\n        const signature = this.signer\n            ? await this.signer(messageHashArray)\n            : (await this.resolveKeyPair()).sign(messageHashArray);\n        // Cache the signed transaction\n        this.cachedSignedTx = {\n            signedTx: {\n                transaction,\n                signature,\n            },\n            hash: txHash,\n        };\n        return this;\n    }\n    /**\n     * Get the transaction hash (only available after signing).\n     *\n     * @returns The base58-encoded transaction hash, or null if not yet signed\n     *\n     * @example\n     * ```typescript\n     * const tx = await near.transaction('alice.near')\n     *   .transfer('bob.near', '1 NEAR')\n     *   .sign()\n     *\n     * console.log(tx.getHash()) // \"8ZQ7...\"\n     * ```\n     */\n    getHash() {\n        return this.cachedSignedTx?.hash ?? null;\n    }\n    /**\n     * Serialize the signed transaction to bytes.\n     *\n     * This is useful for:\n     * - Storing signed transactions for later broadcast\n     * - Sending transactions through external tools\n     * - Multi-sig workflows\n     *\n     * @returns Borsh-serialized signed transaction bytes\n     * @throws {NearError} If transaction has not been signed yet\n     *\n     * @example\n     * ```typescript\n     * const tx = await near.transaction('alice.near')\n     *   .transfer('bob.near', '1 NEAR')\n     *   .sign()\n     *\n     * const bytes = tx.serialize()\n     * fs.writeFileSync('transaction.bin', bytes)\n     * ```\n     */\n    serialize() {\n        if (!this.cachedSignedTx) {\n            throw new NearError(\"Transaction must be signed before serializing. Call .sign() first.\", \"INVALID_STATE\");\n        }\n        return serializeSignedTransaction(this.cachedSignedTx.signedTx);\n    }\n    async send(options) {\n        if (!this.receiverId) {\n            throw new NearError(\"No receiver ID set for transaction\", \"INVALID_TRANSACTION\");\n        }\n        // Use wallet if available\n        if (this.wallet) {\n            const result = await this.wallet.signAndSendTransaction({\n                signerId: this.signerId,\n                receiverId: this.receiverId,\n                actions: this.actions,\n            });\n            // Wallet doesn't support waitUntil parameter, always returns executed result\n            // Cast to the expected type (this is safe because wallet always waits for execution)\n            return result;\n        }\n        // Determine waitUntil - use option if provided, otherwise use default\n        const waitUntil = (options?.waitUntil ?? this.defaultWaitUntil);\n        // Retry loop for InvalidNonceError\n        const MAX_NONCE_RETRIES = 3;\n        let lastError = null;\n        for (let attempt = 0; attempt < MAX_NONCE_RETRIES; attempt++) {\n            try {\n                // Sign if not already signed (or re-sign on retry for fresh nonce)\n                if (!this.cachedSignedTx || attempt > 0) {\n                    // Clear cache on retry to get fresh nonce\n                    delete this.cachedSignedTx;\n                    await this.sign();\n                }\n                if (!this.cachedSignedTx) {\n                    throw new NearError(\"Failed to sign transaction\", \"TRANSACTION_SIGNING_FAILED\");\n                }\n                const { signedTx, hash } = this.cachedSignedTx;\n                // Serialize signed transaction using Borsh\n                const signedSerialized = serializeSignedTransaction(signedTx);\n                // Send to network\n                const result = await this.rpc.sendTransaction(signedSerialized, waitUntil);\n                // Inject minimal transaction fields if not present (for NONE/INCLUDED/INCLUDED_FINAL)\n                // This ensures transaction.hash is always available\n                if (!(\"transaction\" in result) || !result.transaction) {\n                    ;\n                    result[\"transaction\"] = {\n                        hash,\n                        signer_id: signedTx.transaction.signerId,\n                        receiver_id: this.receiverId,\n                        nonce: Number(signedTx.transaction.nonce),\n                    };\n                }\n                return result;\n            }\n            catch (error) {\n                lastError = error;\n                // Check if it's an InvalidNonceError\n                if (error instanceof InvalidNonceError) {\n                    // Invalidate cached nonce to force fresh fetch on retry\n                    if (this.cachedSignedTx) {\n                        TransactionBuilder.nonceManager.invalidate(this.signerId, this.cachedSignedTx.signedTx.transaction.publicKey.toString());\n                    }\n                    // If we have retries left, continue the loop to rebuild with fresh nonce\n                    if (attempt < MAX_NONCE_RETRIES - 1) {\n                        continue;\n                    }\n                }\n                // Not an InvalidNonceError or out of retries - throw the error\n                throw error;\n            }\n        }\n        // This should never be reached, but TypeScript needs it\n        throw (lastError ||\n            new NearError(\"Unknown error during transaction send\", \"UNKNOWN_TRANSACTION_ERROR\"));\n    }\n}\n// Shared nonce manager across all TransactionBuilder instances\nTransactionBuilder.nonceManager = new NonceManager();\n//# sourceMappingURL=transaction.js.map","/**\n * Manages nonces for concurrent transactions.\n *\n * Prevents nonce collisions when sending multiple transactions in parallel\n * by caching nonces in memory and incrementing them locally.\n *\n * @internal Used by {@link TransactionBuilder}; not typically needed directly.\n */\nexport class NonceManager {\n    constructor() {\n        this.nonces = new Map();\n        this.fetching = new Map();\n    }\n    /**\n     * Get the next nonce for an account and public key\n     *\n     * Fetches from blockchain on first call, then increments locally.\n     * Handles concurrent calls gracefully by deduplicating fetches.\n     *\n     * @param accountId - Account ID to get nonce for\n     * @param publicKey - Public key to get nonce for\n     * @param fetchFromBlockchain - Callback to fetch current nonce from blockchain\n     * @returns Next nonce to use for transaction\n     */\n    async getNextNonce(accountId, publicKey, fetchFromBlockchain) {\n        const key = `${accountId}:${publicKey}`;\n        // Wait if another call is already fetching for this key\n        const pendingFetch = this.fetching.get(key);\n        if (pendingFetch) {\n            await pendingFetch;\n        }\n        // Fetch from blockchain if not cached\n        if (!this.nonces.has(key)) {\n            const fetchPromise = fetchFromBlockchain()\n                .then((blockchainNonce) => {\n                this.nonces.set(key, blockchainNonce + 1n);\n                this.fetching.delete(key);\n            })\n                .catch((error) => {\n                this.fetching.delete(key);\n                throw error;\n            });\n            this.fetching.set(key, fetchPromise);\n            await fetchPromise;\n        }\n        // Return current nonce and increment for next call\n        const nonce = this.nonces.get(key);\n        if (nonce === undefined) {\n            throw new Error(`Nonce not found for ${key} after fetch`);\n        }\n        this.nonces.set(key, nonce + 1n);\n        return nonce;\n    }\n    /**\n     * Invalidate cached nonce for an account and public key\n     *\n     * Call this when an InvalidNonceError occurs to force a fresh fetch\n     * from the blockchain on the next transaction.\n     *\n     * @param accountId - Account ID to invalidate\n     * @param publicKey - Public key to invalidate\n     */\n    invalidate(accountId, publicKey) {\n        this.nonces.delete(`${accountId}:${publicKey}`);\n    }\n    /**\n     * Clear all cached nonces\n     */\n    clear() {\n        this.nonces.clear();\n    }\n}\n//# sourceMappingURL=nonce-manager.js.map","/**\n * Main NEAR client class\n */\nimport { createContract } from \"../contracts/contract.js\";\nimport { NearError } from \"../errors/index.js\";\nimport { InMemoryKeyStore } from \"../keys/index.js\";\nimport { parseKey } from \"../utils/key.js\";\nimport { generateNonce } from \"../utils/nep413.js\";\nimport { normalizeAmount, normalizeGas } from \"../utils/validation.js\";\nimport * as actions from \"./actions.js\";\nimport { NearConfigSchema, resolveNetworkConfig, } from \"./config-schemas.js\";\nimport { DEFAULT_FUNCTION_CALL_GAS } from \"./constants.js\";\nimport { RpcClient } from \"./rpc/rpc.js\";\nimport { TransactionBuilder } from \"./transaction.js\";\n/**\n * Main client for interacting with the NEAR blockchain.\n *\n * Wraps RPC access, key management, wallet integrations, and the fluent\n * transaction builder. Most applications create one `Near` instance per\n * network and reuse it for all operations.\n *\n * @remarks\n * Configure the client with {@link NearConfig} to choose networks, key stores,\n * wallets, and retry behavior. For a guided overview see\n * `docs/01-getting-started.md` and `docs/02-core-concepts.md`.\n */\nexport class Near {\n    constructor(config = {}) {\n        const validatedConfig = NearConfigSchema.parse(config);\n        this._initializeRpc(validatedConfig);\n        this._resolveKeyStore(validatedConfig);\n        this._resolveSigner(validatedConfig, config);\n        if (validatedConfig.defaultSignerId) {\n            this.defaultSignerId = validatedConfig.defaultSignerId;\n        }\n        this.defaultWaitUntil =\n            validatedConfig.defaultWaitUntil || \"EXECUTED_OPTIMISTIC\";\n        this.wallet = validatedConfig.wallet;\n    }\n    /**\n     * Initialize RPC client from configuration\n     * @internal\n     */\n    _initializeRpc(validatedConfig) {\n        const networkConfig = resolveNetworkConfig(validatedConfig.network);\n        const rpcUrl = validatedConfig.rpcUrl || networkConfig.rpcUrl;\n        this.rpc = new RpcClient(rpcUrl, validatedConfig.headers, validatedConfig.retryConfig);\n    }\n    /**\n     * Resolve and initialize keystore from configuration\n     * @internal\n     */\n    _resolveKeyStore(validatedConfig) {\n        this.keyStore = this.resolveKeyStore(validatedConfig.keyStore);\n    }\n    /**\n     * Resolve and initialize signer from configuration\n     * Handles privateKey, custom signer, and sandbox root key auto-detection\n     * @internal\n     */\n    _resolveSigner(validatedConfig, originalConfig) {\n        const signer = validatedConfig.signer;\n        const privateKey = validatedConfig.privateKey;\n        if (signer) {\n            // Custom signer function (e.g., hardware wallet)\n            this.signer = signer;\n        }\n        else if (privateKey) {\n            // When privateKey is provided, add it to keyStore instead of creating a signer wrapper\n            // This ensures consistent behavior - all key-based operations go through keyStore\n            const keyPair = typeof privateKey === \"string\"\n                ? parseKey(privateKey)\n                : parseKey(privateKey.toString());\n            // Determine which account ID to use for storing the key\n            let accountId;\n            // If network is a Sandbox-like object with rootAccount, use that\n            const network = originalConfig.network;\n            if (network && typeof network === \"object\" && \"rootAccount\" in network) {\n                const rootAccount = network\n                    .rootAccount;\n                accountId = rootAccount.id;\n            }\n            // If defaultSignerId is provided, use that (takes precedence)\n            if (validatedConfig.defaultSignerId) {\n                accountId = validatedConfig.defaultSignerId;\n            }\n            // Add the key to keyStore if we have an account ID\n            // Store the promise to ensure async keystores complete initialization\n            if (accountId) {\n                this.pendingKeyStoreInit = this.keyStore.add(accountId, keyPair);\n            }\n        }\n        // Auto-add sandbox root key to keyStore if available and no explicit signer/privateKey\n        // This enables simple usage like: new Near({ network: sandbox })\n        // while still allowing multi-account scenarios via keyStore\n        if (!signer && !privateKey) {\n            const network = originalConfig.network;\n            if (network && typeof network === \"object\" && \"rootAccount\" in network) {\n                const rootAccount = network;\n                // Guard: only auto-add if both id and secretKey are non-empty strings\n                if (rootAccount.rootAccount?.id &&\n                    rootAccount.rootAccount?.secretKey &&\n                    typeof rootAccount.rootAccount.secretKey === \"string\") {\n                    const keyPair = parseKey(rootAccount.rootAccount.secretKey);\n                    // Store the promise to ensure async keystores complete initialization\n                    this.pendingKeyStoreInit = this.keyStore.add(rootAccount.rootAccount.id, keyPair);\n                }\n            }\n        }\n    }\n    /**\n     * Ensure any pending keystore initialization is complete\n     * @internal\n     */\n    async ensureKeyStoreReady() {\n        if (this.pendingKeyStoreInit) {\n            await this.pendingKeyStoreInit;\n            delete this.pendingKeyStoreInit;\n        }\n    }\n    /**\n     * Resolve key store from config input\n     * @internal\n     */\n    resolveKeyStore(keyStoreConfig) {\n        if (!keyStoreConfig) {\n            return new InMemoryKeyStore();\n        }\n        if (typeof keyStoreConfig === \"string\") {\n            // Import FileKeyStore dynamically to avoid bundling in browser\n            // For now, return in-memory\n            return new InMemoryKeyStore();\n        }\n        if (\"add\" in keyStoreConfig && \"get\" in keyStoreConfig) {\n            return keyStoreConfig;\n        }\n        // Record of account -> key mappings\n        return new InMemoryKeyStore(keyStoreConfig);\n    }\n    /**\n     * Get signer ID from options, default, or wallet\n     * @internal\n     */\n    async getSignerId(signerId) {\n        if (signerId)\n            return signerId;\n        if (this.defaultSignerId)\n            return this.defaultSignerId;\n        // Get from wallet if available\n        if (this.wallet) {\n            const accounts = await this.wallet.getAccounts();\n            if (accounts.length === 0) {\n                throw new NearError(\"No accounts connected to wallet\", \"NO_WALLET_ACCOUNTS\");\n            }\n            // Safe to use non-null assertion after length check\n            // biome-ignore lint/style/noNonNullAssertion: verified accounts[0] exists above\n            return accounts[0].accountId;\n        }\n        throw new NearError(\"No signer ID provided. Set signerId in options or config.\", \"MISSING_SIGNER\");\n    }\n    /**\n     * Call a view function on a contract (read-only, no gas).\n     *\n     * @param contractId - Target contract account ID.\n     * @param methodName - Name of the view method to call.\n     * @param args - Arguments object or raw bytes; defaults to `{}`.\n     * @param options - Optional {@link BlockReference} to specify finality or block.\n     *\n     * @returns Parsed JSON result when the contract returns JSON, otherwise the\n     * raw string value typed as `T`. Returns `undefined` when the contract returns\n     * an empty response.\n     *\n     * @remarks\n     * - View calls are free and do not require a signer or gas.\n     * - Errors thrown by the contract surface as {@link ContractExecutionError}.\n     * - The generic type `T` is a type assertion for convenience; no runtime\n     *   validation is performed against `T`.\n     *\n     * @see NearConfig.defaultWaitUntil\n     */\n    async view(contractId, methodName, args = {}, options) {\n        const result = await this.rpc.viewFunction(contractId, methodName, args, options);\n        // Decode result\n        const resultBuffer = new Uint8Array(result.result);\n        const resultString = new TextDecoder().decode(resultBuffer);\n        if (!resultString) {\n            return undefined;\n        }\n        try {\n            return JSON.parse(resultString);\n        }\n        catch {\n            return resultString;\n        }\n    }\n    /**\n     * Call a change function on a contract (requires signature and gas).\n     *\n     * Uses the connected wallet when available, otherwise falls back to the\n     * configured signer / private key / key store.\n     *\n     * @param contractId - Target contract account ID.\n     * @param methodName - Name of the change method to call.\n     * @param args - Arguments object or raw bytes; defaults to `{}`.\n     * @param options - Call options such as gas, attached deposit, signerId and wait level.\n     *\n     * @returns The decoded contract return value typed as `T`.\n     *\n     * @throws {NearError} If no signer can be resolved.\n     * @throws {FunctionCallError} If the contract panics or returns an error.\n     * @throws {InvalidTransactionError} If the transaction itself is invalid.\n     * @throws {NetworkError} If the RPC request fails after retries.\n     *\n     * @example\n     * ```typescript\n     * await near.call(\n     *   \"contract.near\",\n     *   \"increment\",\n     *   { by: 1 },\n     *   { attachedDeposit: \"1 yocto\", gas: \"30 Tgas\" },\n     * )\n     * ```\n     */\n    async call(contractId, methodName, args = {}, options = {}) {\n        const signerId = await this.getSignerId(options.signerId);\n        // Use wallet if available\n        if (this.wallet) {\n            const argsBytes = args instanceof Uint8Array\n                ? args\n                : new TextEncoder().encode(JSON.stringify(args));\n            const gas = options.gas\n                ? normalizeGas(options.gas)\n                : DEFAULT_FUNCTION_CALL_GAS;\n            const deposit = options.attachedDeposit\n                ? normalizeAmount(options.attachedDeposit)\n                : \"0\";\n            const result = await this.wallet.signAndSendTransaction({\n                signerId,\n                receiverId: contractId,\n                actions: [\n                    actions.functionCall(methodName, argsBytes, BigInt(gas), BigInt(deposit)),\n                ],\n            });\n            return result;\n        }\n        // Use private key/signer approach\n        const functionCallOptions = {};\n        if (options.gas !== undefined) {\n            functionCallOptions.gas = options.gas;\n        }\n        if (options.attachedDeposit !== undefined) {\n            functionCallOptions.attachedDeposit = options.attachedDeposit;\n        }\n        const sendOptions = options.waitUntil\n            ? { waitUntil: options.waitUntil }\n            : {};\n        const result = await this.transaction(signerId)\n            .functionCall(contractId, methodName, args, functionCallOptions)\n            .send(sendOptions);\n        return result;\n    }\n    /**\n     * Send NEAR tokens to an account.\n     *\n     * @param receiverId - Account ID that will receive the tokens.\n     * @param amount - Amount to send, expressed as {@link Amount} (e.g. `\"10 NEAR\"` or `\"1 yocto\"`).\n     *\n     * @returns The final transaction outcome from the wallet or RPC.\n     *\n     * @throws {NearError} If no signer can be resolved.\n     * @throws {InvalidTransactionError} If the transfer transaction is invalid.\n     * @throws {NetworkError} If the RPC request fails after retries.\n     *\n     * @remarks\n     * This is a convenience wrapper over {@link Near.transaction} with a single\n     * `transfer` action.\n     */\n    async send(receiverId, amount) {\n        const signerId = await this.getSignerId();\n        // Use wallet if available\n        if (this.wallet) {\n            const amountYocto = normalizeAmount(amount);\n            return await this.wallet.signAndSendTransaction({\n                signerId,\n                receiverId,\n                actions: [actions.transfer(BigInt(amountYocto))],\n            });\n        }\n        // Use private key/signer approach\n        return await this.transaction(signerId).transfer(receiverId, amount).send();\n    }\n    /**\n     * Sign a message using NEP-413 standard.\n     *\n     * NEP-413 enables off-chain message signing for authentication and ownership verification\n     * without gas fees or blockchain transactions. Useful for:\n     * - Login/authentication flows\n     * - Proving account ownership\n     * - Signing intents for meta-transactions\n     * - Off-chain authorization\n     *\n     * @param params - Message signing parameters\n     * @param options - Optional signer ID (defaults to first account)\n     * @returns Signed message with account ID, public key, and signature\n     *\n     * @throws {NearError} If no wallet or keystore is configured\n     * @throws {NearError} If the key doesn't support NEP-413 signing\n     *\n     * @see https://github.com/near/NEPs/blob/master/neps/nep-0413.md\n     *\n     * @example\n     * ```typescript\n     * // Sign a message for authentication\n     * const signedMessage = await near.signMessage({\n     *   message: \"Login to MyApp\",\n     *   recipient: \"myapp.near\",\n     *   nonce: crypto.getRandomValues(new Uint8Array(32)),\n     * })\n     *\n     * // Send to backend for verification\n     * await fetch(\"/api/auth\", {\n     *   method: \"POST\",\n     *   body: JSON.stringify(signedMessage),\n     * })\n     * ```\n     */\n    async signMessage(params, options) {\n        const signerId = await this.getSignerId(options?.signerId);\n        // Add nonce if not provided\n        const fullParams = {\n            ...params,\n            nonce: \"nonce\" in params ? params.nonce : generateNonce(),\n        };\n        // Try wallet first if available\n        if (this.wallet?.signMessage) {\n            try {\n                return await this.wallet.signMessage(fullParams);\n            }\n            catch (error) {\n                // Fall through to keystore if wallet doesn't support it\n                console.warn(\"Wallet signMessage failed, trying keystore:\", error);\n            }\n        }\n        // Use keystore approach\n        // Ensure any pending keystore initialization is complete\n        await this.ensureKeyStoreReady();\n        const keyPair = await this.keyStore.get(signerId);\n        if (!keyPair) {\n            throw new NearError(`No key found for account ${signerId}. Add a key using keyStore.add() or configure a wallet.`, \"NO_KEY_FOUND\");\n        }\n        if (!keyPair.signNep413Message) {\n            throw new NearError(\"Key pair does not support NEP-413 message signing\", \"UNSUPPORTED_OPERATION\");\n        }\n        return keyPair.signNep413Message(signerId, fullParams);\n    }\n    /**\n     * Get account balance in NEAR.\n     *\n     * @param accountId - Account ID to query.\n     * @param options - Optional {@link BlockReference} to control finality or block.\n     *\n     * @returns Balance formatted as `\"X.YY NEAR\"`.\n     *\n     * @throws {AccountDoesNotExistError} If the account does not exist.\n     * @throws {NetworkError} If the RPC request fails.\n     *\n     * @remarks\n     * This is a convenience helper over {@link RpcClient.getAccount}. For more\n     * detailed information (storage, locked balance, etc.) call `rpc.getAccount`\n     * directly.\n     */\n    async getBalance(accountId, options) {\n        // RPC client now throws AccountDoesNotExistError directly\n        const account = await this.rpc.getAccount(accountId, options);\n        // Convert yoctoNEAR to NEAR\n        const balanceYocto = BigInt(account.amount);\n        const balanceNear = Number(balanceYocto) / 1e24;\n        return balanceNear.toFixed(2);\n    }\n    /**\n     * Check if an account exists.\n     *\n     * @param accountId - Account ID to check.\n     * @param options - Optional {@link BlockReference} to control finality or block.\n     *\n     * @returns `true` if the account exists, `false` otherwise.\n     *\n     * @remarks\n     * This method swallows all errors and returns `false` on failure. Use\n     * {@link RpcClient.getAccount} if you need to distinguish error causes.\n     */\n    async accountExists(accountId, options) {\n        try {\n            await this.rpc.getAccount(accountId, options);\n            return true;\n        }\n        catch {\n            return false;\n        }\n    }\n    /**\n     * Check if a full access key exists for an account.\n     *\n     * @param accountId - Account ID to check.\n     * @param publicKey - Public key string (e.g., \"ed25519:...\").\n     * @param options - Optional {@link BlockReference} to control finality or block.\n     *\n     * @returns `true` if the full access key exists for the account, `false` otherwise.\n     *\n     * @remarks\n     * This method verifies that a public key belongs to an account AND has full access\n     * permission (not a function call key). This is important for validating NEP-413\n     * signed messages, which should only be signed by full access keys.\n     *\n     * @example\n     * ```typescript\n     * const hasFullAccessKey = await near.fullAccessKeyExists(\"alice.near\", \"ed25519:...\")\n     * if (!hasFullAccessKey) {\n     *   console.log(\"Key does not exist or is not a full access key\")\n     * }\n     * ```\n     */\n    async fullAccessKeyExists(accountId, publicKey, options) {\n        try {\n            const accessKey = await this.rpc.getAccessKey(accountId, publicKey, options);\n            // Check if it's a full access key (permission === \"FullAccess\")\n            return accessKey.permission === \"FullAccess\";\n        }\n        catch {\n            return false;\n        }\n    }\n    /**\n     * Get transaction status with detailed receipt information\n     *\n     * Queries the status of a transaction by hash using the EXPERIMENTAL_tx_status RPC method,\n     * returning the final transaction result with detailed receipt information.\n     *\n     * @param txHash - Transaction hash to query\n     * @param senderAccountId - Account ID that sent the transaction (used to determine shard)\n     * @param waitUntil - Optional execution level to wait for (default: \"EXECUTED_OPTIMISTIC\")\n     *\n     * @returns Transaction status with receipts, typed based on waitUntil parameter\n     *\n     * @throws {InvalidTransactionError} If transaction execution failed\n     * @throws {NetworkError} If network request failed\n     *\n     * @example\n     * ```typescript\n     * // Get transaction status with default wait level\n     * const status = await near.getTransactionStatus(\n     *   '7AfonAhbK4ZbdBU9VPcQdrTZVZBXE25HmZAMEABs9To1',\n     *   'alice.near'\n     * )\n     *\n     * // Wait for full finality\n     * const finalStatus = await near.getTransactionStatus(\n     *   '7AfonAhbK4ZbdBU9VPcQdrTZVZBXE25HmZAMEABs9To1',\n     *   'alice.near',\n     *   'FINAL'\n     * )\n     *\n     * // Access receipt details\n     * console.log('Receipts:', finalStatus.receipts)\n     * ```\n     *\n     * @see {@link https://docs.near.org/api/rpc/transactions#transaction-status-with-receipts NEAR RPC Documentation}\n     */\n    async getTransactionStatus(txHash, senderAccountId, waitUntil) {\n        return this.rpc.getTransactionStatus(txHash, senderAccountId, waitUntil);\n    }\n    /**\n     * Get basic network status information.\n     *\n     * @returns An object containing `chainId`, `latestBlockHeight`, and `syncing` flag.\n     */\n    async getStatus() {\n        const status = await this.rpc.getStatus();\n        return {\n            chainId: status.chain_id,\n            latestBlockHeight: status.sync_info.latest_block_height,\n            syncing: status.sync_info.syncing,\n        };\n    }\n    /**\n     * Batch multiple read operations.\n     *\n     * @param promises - Promises to execute in parallel.\n     *\n     * @returns A tuple of resolved values preserving the input order.\n     *\n     * @remarks\n     * This is a thin wrapper over `Promise.all` with a tuple-friendly signature.\n     * It does not perform any RPC-level batching.\n     */\n    async batch(...promises) {\n        return Promise.all(promises);\n    }\n    /**\n     * Create a transaction builder for the specified signer account.\n     *\n     * The `signerId` determines which account will sign and send this transaction.\n     * This account must have keys available in the configured keyStore, privateKey,\n     * custom signer, or be connected via wallet.\n     *\n     * @param signerId - The account ID that will sign and pay for this transaction\n     *\n     * @returns A transaction builder for chaining actions\n     *\n     * @example\n     * ```typescript\n     * // Alice sends NEAR to Bob\n     * await near.transaction('alice.near')\n     *   .transfer('bob.near', '10 NEAR')\n     *   .send()\n     *\n     * // Alice calls a contract and creates a new account\n     * await near.transaction('alice.near')\n     *   .functionCall('market.near', 'buy', { id: 123 })\n     *   .createAccount('sub.alice.near')\n     *   .transfer('sub.alice.near', '5 NEAR')\n     *   .send()\n     * ```\n     *\n     * @see {@link TransactionBuilder} for available actions\n     */\n    transaction(signerId) {\n        return new TransactionBuilder(signerId, this.rpc, this.keyStore, this.signer, this.defaultWaitUntil, this.wallet, this.pendingKeyStoreInit ? () => this.ensureKeyStoreReady() : undefined);\n    }\n    /**\n     * Create a type-safe contract interface.\n     *\n     * @param contractId - Account ID of the target contract.\n     *\n     * @returns A proxy implementing your {@link ContractMethods} interface.\n     *\n     * @example\n     * ```typescript\n     * type Counter = Contract<{\n     *   view: { get_count: () => Promise<number> }\n     *   call: { increment: () => Promise<void> }\n     * }>\n     *\n     * const counter = near.contract<Counter>(\"counter.near\")\n     * ```\n     */\n    contract(contractId) {\n        return createContract(this, contractId);\n    }\n}\n//# sourceMappingURL=near.js.map","/**\n * Create a type-safe contract proxy for a NEAR contract.\n *\n * @param near - The {@link Near} client instance to use for calls.\n * @param contractId - Account ID of the target contract.\n *\n * @returns A proxy implementing the given {@link ContractMethods} interface.\n *\n * @remarks\n * Prefer using {@link Near.contract} instead of calling this function directly.\n */\nexport function createContract(near, contractId) {\n    const proxy = {\n        view: new Proxy({}, {\n            get: (_target, methodName) => {\n                return async (args, options) => {\n                    return await near.view(contractId, methodName, args || {}, options);\n                };\n            },\n        }),\n        call: new Proxy({}, {\n            get: (_target, methodName) => {\n                return async (args, options) => {\n                    return await near.call(contractId, methodName, args || {}, options || {});\n                };\n            },\n        }),\n    };\n    return proxy;\n}\n/**\n * Helper to extend {@link Near} prototype with a `contract` method.\n *\n * @internal This is used to keep the core {@link Near} implementation focused;\n * library users should call {@link Near.contract} instead of using this helper.\n */\nexport function addContractMethod(nearPrototype) {\n    nearPrototype.contract = function (contractId) {\n        return createContract(this, contractId);\n    };\n}\n//# sourceMappingURL=contract.js.map","// src/errors.ts\nvar ErrorCode = /* @__PURE__ */ ((ErrorCode2) => {\n  ErrorCode2[ErrorCode2[\"InvalidAccountIdError\"] = 2e3] = \"InvalidAccountIdError\";\n  ErrorCode2[ErrorCode2[\"AccountNotFoundError\"] = 2001] = \"AccountNotFoundError\";\n  ErrorCode2[ErrorCode2[\"KeyNotAllowedError\"] = 3e3] = \"KeyNotAllowedError\";\n  ErrorCode2[ErrorCode2[\"UnknownNetworkError\"] = 4e3] = \"UnknownNetworkError\";\n  return ErrorCode2;\n})(ErrorCode || {});\nvar SocialError = class extends Error {\n  code;\n  name;\n  constructor(code, message, name) {\n    super(message.toLowerCase());\n    this.code = code;\n    this.name = name;\n  }\n};\nvar AccountNotFoundError = class extends SocialError {\n  accountId;\n  constructor(accountId, message) {\n    super(\n      2001 /* AccountNotFoundError */,\n      message || `account \"${accountId}\" not found`,\n      \"AccountNotFoundError\"\n    );\n    this.accountId = accountId;\n  }\n};\nvar InvalidAccountIdError = class extends SocialError {\n  accountId;\n  constructor(accountId, message) {\n    super(\n      2e3 /* InvalidAccountIdError */,\n      message || `account id \"${accountId}\" not a valid account`,\n      \"InvalidAccountIdError\"\n    );\n    this.accountId = accountId;\n  }\n};\nvar KeyNotAllowedError = class extends SocialError {\n  key;\n  constructor(key, message) {\n    super(\n      3e3 /* KeyNotAllowedError */,\n      message || `key \"${key}\" not valid`,\n      \"KeyNotAllowedError\"\n    );\n    this.key = key;\n  }\n};\nvar UnknownNetworkError = class extends SocialError {\n  networkId;\n  constructor(networkId, message) {\n    super(\n      4e3 /* UnknownNetworkError */,\n      message || `network ID \"${networkId}\" not known`,\n      \"UnknownNetworkError\"\n    );\n    this.networkId = networkId;\n  }\n};\n\nexport {\n  ErrorCode,\n  SocialError,\n  AccountNotFoundError,\n  InvalidAccountIdError,\n  KeyNotAllowedError,\n  UnknownNetworkError\n};\n//# sourceMappingURL=chunk-35XQS2E7.mjs.map","// src/constants.ts\nvar DEFAULT_CONTRACT_ID = \"social.near\";\nvar DEFAULT_API_SERVER = \"https://api.near.social\";\nvar GAS_FEE_IN_ATOMIC_UNITS = \"100000000000000\";\nvar MINIMUM_STORAGE_IN_BYTES = \"2000\";\nvar ONE_YOCTO = \"1\";\nvar STORAGE_COST_PER_BYTES_IN_ATOMIC_UNITS = \"10000000000000000000\";\nvar EXTRA_STORAGE_BALANCE = \"500\";\nvar NEAR_NOMINATION_EXP = 24;\nvar ESTIMATED_KEY_VALUE_SIZE = 140;\nvar ESTIMATED_NODE_SIZE = 98;\n\nexport {\n  DEFAULT_CONTRACT_ID,\n  DEFAULT_API_SERVER,\n  GAS_FEE_IN_ATOMIC_UNITS,\n  MINIMUM_STORAGE_IN_BYTES,\n  ONE_YOCTO,\n  STORAGE_COST_PER_BYTES_IN_ATOMIC_UNITS,\n  EXTRA_STORAGE_BALANCE,\n  NEAR_NOMINATION_EXP,\n  ESTIMATED_KEY_VALUE_SIZE,\n  ESTIMATED_NODE_SIZE\n};\n//# sourceMappingURL=chunk-G2Z3ZTTP.mjs.map","/*\r\n *      bignumber.js v9.3.1\r\n *      A JavaScript library for arbitrary-precision arithmetic.\r\n *      https://github.com/MikeMcl/bignumber.js\r\n *      Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>\r\n *      MIT Licensed.\r\n *\r\n *      BigNumber.prototype methods     |  BigNumber methods\r\n *                                      |\r\n *      absoluteValue            abs    |  clone\r\n *      comparedTo                      |  config               set\r\n *      decimalPlaces            dp     |      DECIMAL_PLACES\r\n *      dividedBy                div    |      ROUNDING_MODE\r\n *      dividedToIntegerBy       idiv   |      EXPONENTIAL_AT\r\n *      exponentiatedBy          pow    |      RANGE\r\n *      integerValue                    |      CRYPTO\r\n *      isEqualTo                eq     |      MODULO_MODE\r\n *      isFinite                        |      POW_PRECISION\r\n *      isGreaterThan            gt     |      FORMAT\r\n *      isGreaterThanOrEqualTo   gte    |      ALPHABET\r\n *      isInteger                       |  isBigNumber\r\n *      isLessThan               lt     |  maximum              max\r\n *      isLessThanOrEqualTo      lte    |  minimum              min\r\n *      isNaN                           |  random\r\n *      isNegative                      |  sum\r\n *      isPositive                      |\r\n *      isZero                          |\r\n *      minus                           |\r\n *      modulo                   mod    |\r\n *      multipliedBy             times  |\r\n *      negated                         |\r\n *      plus                            |\r\n *      precision                sd     |\r\n *      shiftedBy                       |\r\n *      squareRoot               sqrt   |\r\n *      toExponential                   |\r\n *      toFixed                         |\r\n *      toFormat                        |\r\n *      toFraction                      |\r\n *      toJSON                          |\r\n *      toNumber                        |\r\n *      toPrecision                     |\r\n *      toString                        |\r\n *      valueOf                         |\r\n *\r\n */\r\n\r\n\r\nvar\r\n  isNumeric = /^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,\r\n  mathceil = Math.ceil,\r\n  mathfloor = Math.floor,\r\n\r\n  bignumberError = '[BigNumber Error] ',\r\n  tooManyDigits = bignumberError + 'Number primitive has more than 15 significant digits: ',\r\n\r\n  BASE = 1e14,\r\n  LOG_BASE = 14,\r\n  MAX_SAFE_INTEGER = 0x1fffffffffffff,         // 2^53 - 1\r\n  // MAX_INT32 = 0x7fffffff,                   // 2^31 - 1\r\n  POWS_TEN = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13],\r\n  SQRT_BASE = 1e7,\r\n\r\n  // EDITABLE\r\n  // The limit on the value of DECIMAL_PLACES, TO_EXP_NEG, TO_EXP_POS, MIN_EXP, MAX_EXP, and\r\n  // the arguments to toExponential, toFixed, toFormat, and toPrecision.\r\n  MAX = 1E9;                                   // 0 to MAX_INT32\r\n\r\n\r\n/*\r\n * Create and return a BigNumber constructor.\r\n */\r\nfunction clone(configObject) {\r\n  var div, convertBase, parseNumeric,\r\n    P = BigNumber.prototype = { constructor: BigNumber, toString: null, valueOf: null },\r\n    ONE = new BigNumber(1),\r\n\r\n\r\n    //----------------------------- EDITABLE CONFIG DEFAULTS -------------------------------\r\n\r\n\r\n    // The default values below must be integers within the inclusive ranges stated.\r\n    // The values can also be changed at run-time using BigNumber.set.\r\n\r\n    // The maximum number of decimal places for operations involving division.\r\n    DECIMAL_PLACES = 20,                     // 0 to MAX\r\n\r\n    // The rounding mode used when rounding to the above decimal places, and when using\r\n    // toExponential, toFixed, toFormat and toPrecision, and round (default value).\r\n    // UP         0 Away from zero.\r\n    // DOWN       1 Towards zero.\r\n    // CEIL       2 Towards +Infinity.\r\n    // FLOOR      3 Towards -Infinity.\r\n    // HALF_UP    4 Towards nearest neighbour. If equidistant, up.\r\n    // HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.\r\n    // HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.\r\n    // HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.\r\n    // HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.\r\n    ROUNDING_MODE = 4,                       // 0 to 8\r\n\r\n    // EXPONENTIAL_AT : [TO_EXP_NEG , TO_EXP_POS]\r\n\r\n    // The exponent value at and beneath which toString returns exponential notation.\r\n    // Number type: -7\r\n    TO_EXP_NEG = -7,                         // 0 to -MAX\r\n\r\n    // The exponent value at and above which toString returns exponential notation.\r\n    // Number type: 21\r\n    TO_EXP_POS = 21,                         // 0 to MAX\r\n\r\n    // RANGE : [MIN_EXP, MAX_EXP]\r\n\r\n    // The minimum exponent value, beneath which underflow to zero occurs.\r\n    // Number type: -324  (5e-324)\r\n    MIN_EXP = -1e7,                          // -1 to -MAX\r\n\r\n    // The maximum exponent value, above which overflow to Infinity occurs.\r\n    // Number type:  308  (1.7976931348623157e+308)\r\n    // For MAX_EXP > 1e7, e.g. new BigNumber('1e100000000').plus(1) may be slow.\r\n    MAX_EXP = 1e7,                           // 1 to MAX\r\n\r\n    // Whether to use cryptographically-secure random number generation, if available.\r\n    CRYPTO = false,                          // true or false\r\n\r\n    // The modulo mode used when calculating the modulus: a mod n.\r\n    // The quotient (q = a / n) is calculated according to the corresponding rounding mode.\r\n    // The remainder (r) is calculated as: r = a - n * q.\r\n    //\r\n    // UP        0 The remainder is positive if the dividend is negative, else is negative.\r\n    // DOWN      1 The remainder has the same sign as the dividend.\r\n    //             This modulo mode is commonly known as 'truncated division' and is\r\n    //             equivalent to (a % n) in JavaScript.\r\n    // FLOOR     3 The remainder has the same sign as the divisor (Python %).\r\n    // HALF_EVEN 6 This modulo mode implements the IEEE 754 remainder function.\r\n    // EUCLID    9 Euclidian division. q = sign(n) * floor(a / abs(n)).\r\n    //             The remainder is always positive.\r\n    //\r\n    // The truncated division, floored division, Euclidian division and IEEE 754 remainder\r\n    // modes are commonly used for the modulus operation.\r\n    // Although the other rounding modes can also be used, they may not give useful results.\r\n    MODULO_MODE = 1,                         // 0 to 9\r\n\r\n    // The maximum number of significant digits of the result of the exponentiatedBy operation.\r\n    // If POW_PRECISION is 0, there will be unlimited significant digits.\r\n    POW_PRECISION = 0,                       // 0 to MAX\r\n\r\n    // The format specification used by the BigNumber.prototype.toFormat method.\r\n    FORMAT = {\r\n      prefix: '',\r\n      groupSize: 3,\r\n      secondaryGroupSize: 0,\r\n      groupSeparator: ',',\r\n      decimalSeparator: '.',\r\n      fractionGroupSize: 0,\r\n      fractionGroupSeparator: '\\xA0',        // non-breaking space\r\n      suffix: ''\r\n    },\r\n\r\n    // The alphabet used for base conversion. It must be at least 2 characters long, with no '+',\r\n    // '-', '.', whitespace, or repeated character.\r\n    // '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_'\r\n    ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyz',\r\n    alphabetHasNormalDecimalDigits = true;\r\n\r\n\r\n  //------------------------------------------------------------------------------------------\r\n\r\n\r\n  // CONSTRUCTOR\r\n\r\n\r\n  /*\r\n   * The BigNumber constructor and exported function.\r\n   * Create and return a new instance of a BigNumber object.\r\n   *\r\n   * v {number|string|BigNumber} A numeric value.\r\n   * [b] {number} The base of v. Integer, 2 to ALPHABET.length inclusive.\r\n   */\r\n  function BigNumber(v, b) {\r\n    var alphabet, c, caseChanged, e, i, isNum, len, str,\r\n      x = this;\r\n\r\n    // Enable constructor call without `new`.\r\n    if (!(x instanceof BigNumber)) return new BigNumber(v, b);\r\n\r\n    if (b == null) {\r\n\r\n      if (v && v._isBigNumber === true) {\r\n        x.s = v.s;\r\n\r\n        if (!v.c || v.e > MAX_EXP) {\r\n          x.c = x.e = null;\r\n        } else if (v.e < MIN_EXP) {\r\n          x.c = [x.e = 0];\r\n        } else {\r\n          x.e = v.e;\r\n          x.c = v.c.slice();\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      if ((isNum = typeof v == 'number') && v * 0 == 0) {\r\n\r\n        // Use `1 / n` to handle minus zero also.\r\n        x.s = 1 / v < 0 ? (v = -v, -1) : 1;\r\n\r\n        // Fast path for integers, where n < 2147483648 (2**31).\r\n        if (v === ~~v) {\r\n          for (e = 0, i = v; i >= 10; i /= 10, e++);\r\n\r\n          if (e > MAX_EXP) {\r\n            x.c = x.e = null;\r\n          } else {\r\n            x.e = e;\r\n            x.c = [v];\r\n          }\r\n\r\n          return;\r\n        }\r\n\r\n        str = String(v);\r\n      } else {\r\n\r\n        if (!isNumeric.test(str = String(v))) return parseNumeric(x, str, isNum);\r\n\r\n        x.s = str.charCodeAt(0) == 45 ? (str = str.slice(1), -1) : 1;\r\n      }\r\n\r\n      // Decimal point?\r\n      if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n\r\n      // Exponential form?\r\n      if ((i = str.search(/e/i)) > 0) {\r\n\r\n        // Determine exponent.\r\n        if (e < 0) e = i;\r\n        e += +str.slice(i + 1);\r\n        str = str.substring(0, i);\r\n      } else if (e < 0) {\r\n\r\n        // Integer.\r\n        e = str.length;\r\n      }\r\n\r\n    } else {\r\n\r\n      // '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n      intCheck(b, 2, ALPHABET.length, 'Base');\r\n\r\n      // Allow exponential notation to be used with base 10 argument, while\r\n      // also rounding to DECIMAL_PLACES as with other bases.\r\n      if (b == 10 && alphabetHasNormalDecimalDigits) {\r\n        x = new BigNumber(v);\r\n        return round(x, DECIMAL_PLACES + x.e + 1, ROUNDING_MODE);\r\n      }\r\n\r\n      str = String(v);\r\n\r\n      if (isNum = typeof v == 'number') {\r\n\r\n        // Avoid potential interpretation of Infinity and NaN as base 44+ values.\r\n        if (v * 0 != 0) return parseNumeric(x, str, isNum, b);\r\n\r\n        x.s = 1 / v < 0 ? (str = str.slice(1), -1) : 1;\r\n\r\n        // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n        if (BigNumber.DEBUG && str.replace(/^0\\.0*|\\./, '').length > 15) {\r\n          throw Error\r\n           (tooManyDigits + v);\r\n        }\r\n      } else {\r\n        x.s = str.charCodeAt(0) === 45 ? (str = str.slice(1), -1) : 1;\r\n      }\r\n\r\n      alphabet = ALPHABET.slice(0, b);\r\n      e = i = 0;\r\n\r\n      // Check that str is a valid base b number.\r\n      // Don't use RegExp, so alphabet can contain special characters.\r\n      for (len = str.length; i < len; i++) {\r\n        if (alphabet.indexOf(c = str.charAt(i)) < 0) {\r\n          if (c == '.') {\r\n\r\n            // If '.' is not the first character and it has not be found before.\r\n            if (i > e) {\r\n              e = len;\r\n              continue;\r\n            }\r\n          } else if (!caseChanged) {\r\n\r\n            // Allow e.g. hexadecimal 'FF' as well as 'ff'.\r\n            if (str == str.toUpperCase() && (str = str.toLowerCase()) ||\r\n                str == str.toLowerCase() && (str = str.toUpperCase())) {\r\n              caseChanged = true;\r\n              i = -1;\r\n              e = 0;\r\n              continue;\r\n            }\r\n          }\r\n\r\n          return parseNumeric(x, String(v), isNum, b);\r\n        }\r\n      }\r\n\r\n      // Prevent later check for length on converted number.\r\n      isNum = false;\r\n      str = convertBase(str, b, 10, x.s);\r\n\r\n      // Decimal point?\r\n      if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n      else e = str.length;\r\n    }\r\n\r\n    // Determine leading zeros.\r\n    for (i = 0; str.charCodeAt(i) === 48; i++);\r\n\r\n    // Determine trailing zeros.\r\n    for (len = str.length; str.charCodeAt(--len) === 48;);\r\n\r\n    if (str = str.slice(i, ++len)) {\r\n      len -= i;\r\n\r\n      // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n      if (isNum && BigNumber.DEBUG &&\r\n        len > 15 && (v > MAX_SAFE_INTEGER || v !== mathfloor(v))) {\r\n          throw Error\r\n           (tooManyDigits + (x.s * v));\r\n      }\r\n\r\n       // Overflow?\r\n      if ((e = e - i - 1) > MAX_EXP) {\r\n\r\n        // Infinity.\r\n        x.c = x.e = null;\r\n\r\n      // Underflow?\r\n      } else if (e < MIN_EXP) {\r\n\r\n        // Zero.\r\n        x.c = [x.e = 0];\r\n      } else {\r\n        x.e = e;\r\n        x.c = [];\r\n\r\n        // Transform base\r\n\r\n        // e is the base 10 exponent.\r\n        // i is where to slice str to get the first element of the coefficient array.\r\n        i = (e + 1) % LOG_BASE;\r\n        if (e < 0) i += LOG_BASE;  // i < 1\r\n\r\n        if (i < len) {\r\n          if (i) x.c.push(+str.slice(0, i));\r\n\r\n          for (len -= LOG_BASE; i < len;) {\r\n            x.c.push(+str.slice(i, i += LOG_BASE));\r\n          }\r\n\r\n          i = LOG_BASE - (str = str.slice(i)).length;\r\n        } else {\r\n          i -= len;\r\n        }\r\n\r\n        for (; i--; str += '0');\r\n        x.c.push(+str);\r\n      }\r\n    } else {\r\n\r\n      // Zero.\r\n      x.c = [x.e = 0];\r\n    }\r\n  }\r\n\r\n\r\n  // CONSTRUCTOR PROPERTIES\r\n\r\n\r\n  BigNumber.clone = clone;\r\n\r\n  BigNumber.ROUND_UP = 0;\r\n  BigNumber.ROUND_DOWN = 1;\r\n  BigNumber.ROUND_CEIL = 2;\r\n  BigNumber.ROUND_FLOOR = 3;\r\n  BigNumber.ROUND_HALF_UP = 4;\r\n  BigNumber.ROUND_HALF_DOWN = 5;\r\n  BigNumber.ROUND_HALF_EVEN = 6;\r\n  BigNumber.ROUND_HALF_CEIL = 7;\r\n  BigNumber.ROUND_HALF_FLOOR = 8;\r\n  BigNumber.EUCLID = 9;\r\n\r\n\r\n  /*\r\n   * Configure infrequently-changing library-wide settings.\r\n   *\r\n   * Accept an object with the following optional properties (if the value of a property is\r\n   * a number, it must be an integer within the inclusive range stated):\r\n   *\r\n   *   DECIMAL_PLACES   {number}           0 to MAX\r\n   *   ROUNDING_MODE    {number}           0 to 8\r\n   *   EXPONENTIAL_AT   {number|number[]}  -MAX to MAX  or  [-MAX to 0, 0 to MAX]\r\n   *   RANGE            {number|number[]}  -MAX to MAX (not zero)  or  [-MAX to -1, 1 to MAX]\r\n   *   CRYPTO           {boolean}          true or false\r\n   *   MODULO_MODE      {number}           0 to 9\r\n   *   POW_PRECISION       {number}           0 to MAX\r\n   *   ALPHABET         {string}           A string of two or more unique characters which does\r\n   *                                       not contain '.'.\r\n   *   FORMAT           {object}           An object with some of the following properties:\r\n   *     prefix                 {string}\r\n   *     groupSize              {number}\r\n   *     secondaryGroupSize     {number}\r\n   *     groupSeparator         {string}\r\n   *     decimalSeparator       {string}\r\n   *     fractionGroupSize      {number}\r\n   *     fractionGroupSeparator {string}\r\n   *     suffix                 {string}\r\n   *\r\n   * (The values assigned to the above FORMAT object properties are not checked for validity.)\r\n   *\r\n   * E.g.\r\n   * BigNumber.config({ DECIMAL_PLACES : 20, ROUNDING_MODE : 4 })\r\n   *\r\n   * Ignore properties/parameters set to null or undefined, except for ALPHABET.\r\n   *\r\n   * Return an object with the properties current values.\r\n   */\r\n  BigNumber.config = BigNumber.set = function (obj) {\r\n    var p, v;\r\n\r\n    if (obj != null) {\r\n\r\n      if (typeof obj == 'object') {\r\n\r\n        // DECIMAL_PLACES {number} Integer, 0 to MAX inclusive.\r\n        // '[BigNumber Error] DECIMAL_PLACES {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'DECIMAL_PLACES')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, MAX, p);\r\n          DECIMAL_PLACES = v;\r\n        }\r\n\r\n        // ROUNDING_MODE {number} Integer, 0 to 8 inclusive.\r\n        // '[BigNumber Error] ROUNDING_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'ROUNDING_MODE')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, 8, p);\r\n          ROUNDING_MODE = v;\r\n        }\r\n\r\n        // EXPONENTIAL_AT {number|number[]}\r\n        // Integer, -MAX to MAX inclusive or\r\n        // [integer -MAX to 0 inclusive, 0 to MAX inclusive].\r\n        // '[BigNumber Error] EXPONENTIAL_AT {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'EXPONENTIAL_AT')) {\r\n          v = obj[p];\r\n          if (v && v.pop) {\r\n            intCheck(v[0], -MAX, 0, p);\r\n            intCheck(v[1], 0, MAX, p);\r\n            TO_EXP_NEG = v[0];\r\n            TO_EXP_POS = v[1];\r\n          } else {\r\n            intCheck(v, -MAX, MAX, p);\r\n            TO_EXP_NEG = -(TO_EXP_POS = v < 0 ? -v : v);\r\n          }\r\n        }\r\n\r\n        // RANGE {number|number[]} Non-zero integer, -MAX to MAX inclusive or\r\n        // [integer -MAX to -1 inclusive, integer 1 to MAX inclusive].\r\n        // '[BigNumber Error] RANGE {not a primitive number|not an integer|out of range|cannot be zero}: {v}'\r\n        if (obj.hasOwnProperty(p = 'RANGE')) {\r\n          v = obj[p];\r\n          if (v && v.pop) {\r\n            intCheck(v[0], -MAX, -1, p);\r\n            intCheck(v[1], 1, MAX, p);\r\n            MIN_EXP = v[0];\r\n            MAX_EXP = v[1];\r\n          } else {\r\n            intCheck(v, -MAX, MAX, p);\r\n            if (v) {\r\n              MIN_EXP = -(MAX_EXP = v < 0 ? -v : v);\r\n            } else {\r\n              throw Error\r\n               (bignumberError + p + ' cannot be zero: ' + v);\r\n            }\r\n          }\r\n        }\r\n\r\n        // CRYPTO {boolean} true or false.\r\n        // '[BigNumber Error] CRYPTO not true or false: {v}'\r\n        // '[BigNumber Error] crypto unavailable'\r\n        if (obj.hasOwnProperty(p = 'CRYPTO')) {\r\n          v = obj[p];\r\n          if (v === !!v) {\r\n            if (v) {\r\n              if (typeof crypto != 'undefined' && crypto &&\r\n               (crypto.getRandomValues || crypto.randomBytes)) {\r\n                CRYPTO = v;\r\n              } else {\r\n                CRYPTO = !v;\r\n                throw Error\r\n                 (bignumberError + 'crypto unavailable');\r\n              }\r\n            } else {\r\n              CRYPTO = v;\r\n            }\r\n          } else {\r\n            throw Error\r\n             (bignumberError + p + ' not true or false: ' + v);\r\n          }\r\n        }\r\n\r\n        // MODULO_MODE {number} Integer, 0 to 9 inclusive.\r\n        // '[BigNumber Error] MODULO_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'MODULO_MODE')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, 9, p);\r\n          MODULO_MODE = v;\r\n        }\r\n\r\n        // POW_PRECISION {number} Integer, 0 to MAX inclusive.\r\n        // '[BigNumber Error] POW_PRECISION {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'POW_PRECISION')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, MAX, p);\r\n          POW_PRECISION = v;\r\n        }\r\n\r\n        // FORMAT {object}\r\n        // '[BigNumber Error] FORMAT not an object: {v}'\r\n        if (obj.hasOwnProperty(p = 'FORMAT')) {\r\n          v = obj[p];\r\n          if (typeof v == 'object') FORMAT = v;\r\n          else throw Error\r\n           (bignumberError + p + ' not an object: ' + v);\r\n        }\r\n\r\n        // ALPHABET {string}\r\n        // '[BigNumber Error] ALPHABET invalid: {v}'\r\n        if (obj.hasOwnProperty(p = 'ALPHABET')) {\r\n          v = obj[p];\r\n\r\n          // Disallow if less than two characters,\r\n          // or if it contains '+', '-', '.', whitespace, or a repeated character.\r\n          if (typeof v == 'string' && !/^.?$|[+\\-.\\s]|(.).*\\1/.test(v)) {\r\n            alphabetHasNormalDecimalDigits = v.slice(0, 10) == '0123456789';\r\n            ALPHABET = v;\r\n          } else {\r\n            throw Error\r\n             (bignumberError + p + ' invalid: ' + v);\r\n          }\r\n        }\r\n\r\n      } else {\r\n\r\n        // '[BigNumber Error] Object expected: {v}'\r\n        throw Error\r\n         (bignumberError + 'Object expected: ' + obj);\r\n      }\r\n    }\r\n\r\n    return {\r\n      DECIMAL_PLACES: DECIMAL_PLACES,\r\n      ROUNDING_MODE: ROUNDING_MODE,\r\n      EXPONENTIAL_AT: [TO_EXP_NEG, TO_EXP_POS],\r\n      RANGE: [MIN_EXP, MAX_EXP],\r\n      CRYPTO: CRYPTO,\r\n      MODULO_MODE: MODULO_MODE,\r\n      POW_PRECISION: POW_PRECISION,\r\n      FORMAT: FORMAT,\r\n      ALPHABET: ALPHABET\r\n    };\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if v is a BigNumber instance, otherwise return false.\r\n   *\r\n   * If BigNumber.DEBUG is true, throw if a BigNumber instance is not well-formed.\r\n   *\r\n   * v {any}\r\n   *\r\n   * '[BigNumber Error] Invalid BigNumber: {v}'\r\n   */\r\n  BigNumber.isBigNumber = function (v) {\r\n    if (!v || v._isBigNumber !== true) return false;\r\n    if (!BigNumber.DEBUG) return true;\r\n\r\n    var i, n,\r\n      c = v.c,\r\n      e = v.e,\r\n      s = v.s;\r\n\r\n    out: if ({}.toString.call(c) == '[object Array]') {\r\n\r\n      if ((s === 1 || s === -1) && e >= -MAX && e <= MAX && e === mathfloor(e)) {\r\n\r\n        // If the first element is zero, the BigNumber value must be zero.\r\n        if (c[0] === 0) {\r\n          if (e === 0 && c.length === 1) return true;\r\n          break out;\r\n        }\r\n\r\n        // Calculate number of digits that c[0] should have, based on the exponent.\r\n        i = (e + 1) % LOG_BASE;\r\n        if (i < 1) i += LOG_BASE;\r\n\r\n        // Calculate number of digits of c[0].\r\n        //if (Math.ceil(Math.log(c[0] + 1) / Math.LN10) == i) {\r\n        if (String(c[0]).length == i) {\r\n\r\n          for (i = 0; i < c.length; i++) {\r\n            n = c[i];\r\n            if (n < 0 || n >= BASE || n !== mathfloor(n)) break out;\r\n          }\r\n\r\n          // Last element cannot be zero, unless it is the only element.\r\n          if (n !== 0) return true;\r\n        }\r\n      }\r\n\r\n    // Infinity/NaN\r\n    } else if (c === null && e === null && (s === null || s === 1 || s === -1)) {\r\n      return true;\r\n    }\r\n\r\n    throw Error\r\n      (bignumberError + 'Invalid BigNumber: ' + v);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the maximum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.maximum = BigNumber.max = function () {\r\n    return maxOrMin(arguments, -1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the minimum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.minimum = BigNumber.min = function () {\r\n    return maxOrMin(arguments, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber with a random value equal to or greater than 0 and less than 1,\r\n   * and with dp, or DECIMAL_PLACES if dp is omitted, decimal places (or less if trailing\r\n   * zeros are produced).\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp}'\r\n   * '[BigNumber Error] crypto unavailable'\r\n   */\r\n  BigNumber.random = (function () {\r\n    var pow2_53 = 0x20000000000000;\r\n\r\n    // Return a 53 bit integer n, where 0 <= n < 9007199254740992.\r\n    // Check if Math.random() produces more than 32 bits of randomness.\r\n    // If it does, assume at least 53 bits are produced, otherwise assume at least 30 bits.\r\n    // 0x40000000 is 2^30, 0x800000 is 2^23, 0x1fffff is 2^21 - 1.\r\n    var random53bitInt = (Math.random() * pow2_53) & 0x1fffff\r\n     ? function () { return mathfloor(Math.random() * pow2_53); }\r\n     : function () { return ((Math.random() * 0x40000000 | 0) * 0x800000) +\r\n       (Math.random() * 0x800000 | 0); };\r\n\r\n    return function (dp) {\r\n      var a, b, e, k, v,\r\n        i = 0,\r\n        c = [],\r\n        rand = new BigNumber(ONE);\r\n\r\n      if (dp == null) dp = DECIMAL_PLACES;\r\n      else intCheck(dp, 0, MAX);\r\n\r\n      k = mathceil(dp / LOG_BASE);\r\n\r\n      if (CRYPTO) {\r\n\r\n        // Browsers supporting crypto.getRandomValues.\r\n        if (crypto.getRandomValues) {\r\n\r\n          a = crypto.getRandomValues(new Uint32Array(k *= 2));\r\n\r\n          for (; i < k;) {\r\n\r\n            // 53 bits:\r\n            // ((Math.pow(2, 32) - 1) * Math.pow(2, 21)).toString(2)\r\n            // 11111 11111111 11111111 11111111 11100000 00000000 00000000\r\n            // ((Math.pow(2, 32) - 1) >>> 11).toString(2)\r\n            //                                     11111 11111111 11111111\r\n            // 0x20000 is 2^21.\r\n            v = a[i] * 0x20000 + (a[i + 1] >>> 11);\r\n\r\n            // Rejection sampling:\r\n            // 0 <= v < 9007199254740992\r\n            // Probability that v >= 9e15, is\r\n            // 7199254740992 / 9007199254740992 ~= 0.0008, i.e. 1 in 1251\r\n            if (v >= 9e15) {\r\n              b = crypto.getRandomValues(new Uint32Array(2));\r\n              a[i] = b[0];\r\n              a[i + 1] = b[1];\r\n            } else {\r\n\r\n              // 0 <= v <= 8999999999999999\r\n              // 0 <= (v % 1e14) <= 99999999999999\r\n              c.push(v % 1e14);\r\n              i += 2;\r\n            }\r\n          }\r\n          i = k / 2;\r\n\r\n        // Node.js supporting crypto.randomBytes.\r\n        } else if (crypto.randomBytes) {\r\n\r\n          // buffer\r\n          a = crypto.randomBytes(k *= 7);\r\n\r\n          for (; i < k;) {\r\n\r\n            // 0x1000000000000 is 2^48, 0x10000000000 is 2^40\r\n            // 0x100000000 is 2^32, 0x1000000 is 2^24\r\n            // 11111 11111111 11111111 11111111 11111111 11111111 11111111\r\n            // 0 <= v < 9007199254740992\r\n            v = ((a[i] & 31) * 0x1000000000000) + (a[i + 1] * 0x10000000000) +\r\n               (a[i + 2] * 0x100000000) + (a[i + 3] * 0x1000000) +\r\n               (a[i + 4] << 16) + (a[i + 5] << 8) + a[i + 6];\r\n\r\n            if (v >= 9e15) {\r\n              crypto.randomBytes(7).copy(a, i);\r\n            } else {\r\n\r\n              // 0 <= (v % 1e14) <= 99999999999999\r\n              c.push(v % 1e14);\r\n              i += 7;\r\n            }\r\n          }\r\n          i = k / 7;\r\n        } else {\r\n          CRYPTO = false;\r\n          throw Error\r\n           (bignumberError + 'crypto unavailable');\r\n        }\r\n      }\r\n\r\n      // Use Math.random.\r\n      if (!CRYPTO) {\r\n\r\n        for (; i < k;) {\r\n          v = random53bitInt();\r\n          if (v < 9e15) c[i++] = v % 1e14;\r\n        }\r\n      }\r\n\r\n      k = c[--i];\r\n      dp %= LOG_BASE;\r\n\r\n      // Convert trailing digits to zeros according to dp.\r\n      if (k && dp) {\r\n        v = POWS_TEN[LOG_BASE - dp];\r\n        c[i] = mathfloor(k / v) * v;\r\n      }\r\n\r\n      // Remove trailing elements which are zero.\r\n      for (; c[i] === 0; c.pop(), i--);\r\n\r\n      // Zero?\r\n      if (i < 0) {\r\n        c = [e = 0];\r\n      } else {\r\n\r\n        // Remove leading elements which are zero and adjust exponent accordingly.\r\n        for (e = -1 ; c[0] === 0; c.splice(0, 1), e -= LOG_BASE);\r\n\r\n        // Count the digits of the first element of c to determine leading zeros, and...\r\n        for (i = 1, v = c[0]; v >= 10; v /= 10, i++);\r\n\r\n        // adjust the exponent accordingly.\r\n        if (i < LOG_BASE) e -= LOG_BASE - i;\r\n      }\r\n\r\n      rand.e = e;\r\n      rand.c = c;\r\n      return rand;\r\n    };\r\n  })();\r\n\r\n\r\n   /*\r\n   * Return a BigNumber whose value is the sum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.sum = function () {\r\n    var i = 1,\r\n      args = arguments,\r\n      sum = new BigNumber(args[0]);\r\n    for (; i < args.length;) sum = sum.plus(args[i++]);\r\n    return sum;\r\n  };\r\n\r\n\r\n  // PRIVATE FUNCTIONS\r\n\r\n\r\n  // Called by BigNumber and BigNumber.prototype.toString.\r\n  convertBase = (function () {\r\n    var decimal = '0123456789';\r\n\r\n    /*\r\n     * Convert string of baseIn to an array of numbers of baseOut.\r\n     * Eg. toBaseOut('255', 10, 16) returns [15, 15].\r\n     * Eg. toBaseOut('ff', 16, 10) returns [2, 5, 5].\r\n     */\r\n    function toBaseOut(str, baseIn, baseOut, alphabet) {\r\n      var j,\r\n        arr = [0],\r\n        arrL,\r\n        i = 0,\r\n        len = str.length;\r\n\r\n      for (; i < len;) {\r\n        for (arrL = arr.length; arrL--; arr[arrL] *= baseIn);\r\n\r\n        arr[0] += alphabet.indexOf(str.charAt(i++));\r\n\r\n        for (j = 0; j < arr.length; j++) {\r\n\r\n          if (arr[j] > baseOut - 1) {\r\n            if (arr[j + 1] == null) arr[j + 1] = 0;\r\n            arr[j + 1] += arr[j] / baseOut | 0;\r\n            arr[j] %= baseOut;\r\n          }\r\n        }\r\n      }\r\n\r\n      return arr.reverse();\r\n    }\r\n\r\n    // Convert a numeric string of baseIn to a numeric string of baseOut.\r\n    // If the caller is toString, we are converting from base 10 to baseOut.\r\n    // If the caller is BigNumber, we are converting from baseIn to base 10.\r\n    return function (str, baseIn, baseOut, sign, callerIsToString) {\r\n      var alphabet, d, e, k, r, x, xc, y,\r\n        i = str.indexOf('.'),\r\n        dp = DECIMAL_PLACES,\r\n        rm = ROUNDING_MODE;\r\n\r\n      // Non-integer.\r\n      if (i >= 0) {\r\n        k = POW_PRECISION;\r\n\r\n        // Unlimited precision.\r\n        POW_PRECISION = 0;\r\n        str = str.replace('.', '');\r\n        y = new BigNumber(baseIn);\r\n        x = y.pow(str.length - i);\r\n        POW_PRECISION = k;\r\n\r\n        // Convert str as if an integer, then restore the fraction part by dividing the\r\n        // result by its base raised to a power.\r\n\r\n        y.c = toBaseOut(toFixedPoint(coeffToString(x.c), x.e, '0'),\r\n         10, baseOut, decimal);\r\n        y.e = y.c.length;\r\n      }\r\n\r\n      // Convert the number as integer.\r\n\r\n      xc = toBaseOut(str, baseIn, baseOut, callerIsToString\r\n       ? (alphabet = ALPHABET, decimal)\r\n       : (alphabet = decimal, ALPHABET));\r\n\r\n      // xc now represents str as an integer and converted to baseOut. e is the exponent.\r\n      e = k = xc.length;\r\n\r\n      // Remove trailing zeros.\r\n      for (; xc[--k] == 0; xc.pop());\r\n\r\n      // Zero?\r\n      if (!xc[0]) return alphabet.charAt(0);\r\n\r\n      // Does str represent an integer? If so, no need for the division.\r\n      if (i < 0) {\r\n        --e;\r\n      } else {\r\n        x.c = xc;\r\n        x.e = e;\r\n\r\n        // The sign is needed for correct rounding.\r\n        x.s = sign;\r\n        x = div(x, y, dp, rm, baseOut);\r\n        xc = x.c;\r\n        r = x.r;\r\n        e = x.e;\r\n      }\r\n\r\n      // xc now represents str converted to baseOut.\r\n\r\n      // The index of the rounding digit.\r\n      d = e + dp + 1;\r\n\r\n      // The rounding digit: the digit to the right of the digit that may be rounded up.\r\n      i = xc[d];\r\n\r\n      // Look at the rounding digits and mode to determine whether to round up.\r\n\r\n      k = baseOut / 2;\r\n      r = r || d < 0 || xc[d + 1] != null;\r\n\r\n      r = rm < 4 ? (i != null || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n            : i > k || i == k &&(rm == 4 || r || rm == 6 && xc[d - 1] & 1 ||\r\n             rm == (x.s < 0 ? 8 : 7));\r\n\r\n      // If the index of the rounding digit is not greater than zero, or xc represents\r\n      // zero, then the result of the base conversion is zero or, if rounding up, a value\r\n      // such as 0.00001.\r\n      if (d < 1 || !xc[0]) {\r\n\r\n        // 1^-dp or 0\r\n        str = r ? toFixedPoint(alphabet.charAt(1), -dp, alphabet.charAt(0)) : alphabet.charAt(0);\r\n      } else {\r\n\r\n        // Truncate xc to the required number of decimal places.\r\n        xc.length = d;\r\n\r\n        // Round up?\r\n        if (r) {\r\n\r\n          // Rounding up may mean the previous digit has to be rounded up and so on.\r\n          for (--baseOut; ++xc[--d] > baseOut;) {\r\n            xc[d] = 0;\r\n\r\n            if (!d) {\r\n              ++e;\r\n              xc = [1].concat(xc);\r\n            }\r\n          }\r\n        }\r\n\r\n        // Determine trailing zeros.\r\n        for (k = xc.length; !xc[--k];);\r\n\r\n        // E.g. [4, 11, 15] becomes 4bf.\r\n        for (i = 0, str = ''; i <= k; str += alphabet.charAt(xc[i++]));\r\n\r\n        // Add leading zeros, decimal point and trailing zeros as required.\r\n        str = toFixedPoint(str, e, alphabet.charAt(0));\r\n      }\r\n\r\n      // The caller will add the sign.\r\n      return str;\r\n    };\r\n  })();\r\n\r\n\r\n  // Perform division in the specified base. Called by div and convertBase.\r\n  div = (function () {\r\n\r\n    // Assume non-zero x and k.\r\n    function multiply(x, k, base) {\r\n      var m, temp, xlo, xhi,\r\n        carry = 0,\r\n        i = x.length,\r\n        klo = k % SQRT_BASE,\r\n        khi = k / SQRT_BASE | 0;\r\n\r\n      for (x = x.slice(); i--;) {\r\n        xlo = x[i] % SQRT_BASE;\r\n        xhi = x[i] / SQRT_BASE | 0;\r\n        m = khi * xlo + xhi * klo;\r\n        temp = klo * xlo + ((m % SQRT_BASE) * SQRT_BASE) + carry;\r\n        carry = (temp / base | 0) + (m / SQRT_BASE | 0) + khi * xhi;\r\n        x[i] = temp % base;\r\n      }\r\n\r\n      if (carry) x = [carry].concat(x);\r\n\r\n      return x;\r\n    }\r\n\r\n    function compare(a, b, aL, bL) {\r\n      var i, cmp;\r\n\r\n      if (aL != bL) {\r\n        cmp = aL > bL ? 1 : -1;\r\n      } else {\r\n\r\n        for (i = cmp = 0; i < aL; i++) {\r\n\r\n          if (a[i] != b[i]) {\r\n            cmp = a[i] > b[i] ? 1 : -1;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      return cmp;\r\n    }\r\n\r\n    function subtract(a, b, aL, base) {\r\n      var i = 0;\r\n\r\n      // Subtract b from a.\r\n      for (; aL--;) {\r\n        a[aL] -= i;\r\n        i = a[aL] < b[aL] ? 1 : 0;\r\n        a[aL] = i * base + a[aL] - b[aL];\r\n      }\r\n\r\n      // Remove leading zeros.\r\n      for (; !a[0] && a.length > 1; a.splice(0, 1));\r\n    }\r\n\r\n    // x: dividend, y: divisor.\r\n    return function (x, y, dp, rm, base) {\r\n      var cmp, e, i, more, n, prod, prodL, q, qc, rem, remL, rem0, xi, xL, yc0,\r\n        yL, yz,\r\n        s = x.s == y.s ? 1 : -1,\r\n        xc = x.c,\r\n        yc = y.c;\r\n\r\n      // Either NaN, Infinity or 0?\r\n      if (!xc || !xc[0] || !yc || !yc[0]) {\r\n\r\n        return new BigNumber(\r\n\r\n         // Return NaN if either NaN, or both Infinity or 0.\r\n         !x.s || !y.s || (xc ? yc && xc[0] == yc[0] : !yc) ? NaN :\r\n\r\n          // Return 0 if x is 0 or y is Infinity, or return Infinity as y is 0.\r\n          xc && xc[0] == 0 || !yc ? s * 0 : s / 0\r\n       );\r\n      }\r\n\r\n      q = new BigNumber(s);\r\n      qc = q.c = [];\r\n      e = x.e - y.e;\r\n      s = dp + e + 1;\r\n\r\n      if (!base) {\r\n        base = BASE;\r\n        e = bitFloor(x.e / LOG_BASE) - bitFloor(y.e / LOG_BASE);\r\n        s = s / LOG_BASE | 0;\r\n      }\r\n\r\n      // Result exponent may be one less then the current value of e.\r\n      // The coefficients of the BigNumbers from convertBase may have trailing zeros.\r\n      for (i = 0; yc[i] == (xc[i] || 0); i++);\r\n\r\n      if (yc[i] > (xc[i] || 0)) e--;\r\n\r\n      if (s < 0) {\r\n        qc.push(1);\r\n        more = true;\r\n      } else {\r\n        xL = xc.length;\r\n        yL = yc.length;\r\n        i = 0;\r\n        s += 2;\r\n\r\n        // Normalise xc and yc so highest order digit of yc is >= base / 2.\r\n\r\n        n = mathfloor(base / (yc[0] + 1));\r\n\r\n        // Not necessary, but to handle odd bases where yc[0] == (base / 2) - 1.\r\n        // if (n > 1 || n++ == 1 && yc[0] < base / 2) {\r\n        if (n > 1) {\r\n          yc = multiply(yc, n, base);\r\n          xc = multiply(xc, n, base);\r\n          yL = yc.length;\r\n          xL = xc.length;\r\n        }\r\n\r\n        xi = yL;\r\n        rem = xc.slice(0, yL);\r\n        remL = rem.length;\r\n\r\n        // Add zeros to make remainder as long as divisor.\r\n        for (; remL < yL; rem[remL++] = 0);\r\n        yz = yc.slice();\r\n        yz = [0].concat(yz);\r\n        yc0 = yc[0];\r\n        if (yc[1] >= base / 2) yc0++;\r\n        // Not necessary, but to prevent trial digit n > base, when using base 3.\r\n        // else if (base == 3 && yc0 == 1) yc0 = 1 + 1e-15;\r\n\r\n        do {\r\n          n = 0;\r\n\r\n          // Compare divisor and remainder.\r\n          cmp = compare(yc, rem, yL, remL);\r\n\r\n          // If divisor < remainder.\r\n          if (cmp < 0) {\r\n\r\n            // Calculate trial digit, n.\r\n\r\n            rem0 = rem[0];\r\n            if (yL != remL) rem0 = rem0 * base + (rem[1] || 0);\r\n\r\n            // n is how many times the divisor goes into the current remainder.\r\n            n = mathfloor(rem0 / yc0);\r\n\r\n            //  Algorithm:\r\n            //  product = divisor multiplied by trial digit (n).\r\n            //  Compare product and remainder.\r\n            //  If product is greater than remainder:\r\n            //    Subtract divisor from product, decrement trial digit.\r\n            //  Subtract product from remainder.\r\n            //  If product was less than remainder at the last compare:\r\n            //    Compare new remainder and divisor.\r\n            //    If remainder is greater than divisor:\r\n            //      Subtract divisor from remainder, increment trial digit.\r\n\r\n            if (n > 1) {\r\n\r\n              // n may be > base only when base is 3.\r\n              if (n >= base) n = base - 1;\r\n\r\n              // product = divisor * trial digit.\r\n              prod = multiply(yc, n, base);\r\n              prodL = prod.length;\r\n              remL = rem.length;\r\n\r\n              // Compare product and remainder.\r\n              // If product > remainder then trial digit n too high.\r\n              // n is 1 too high about 5% of the time, and is not known to have\r\n              // ever been more than 1 too high.\r\n              while (compare(prod, rem, prodL, remL) == 1) {\r\n                n--;\r\n\r\n                // Subtract divisor from product.\r\n                subtract(prod, yL < prodL ? yz : yc, prodL, base);\r\n                prodL = prod.length;\r\n                cmp = 1;\r\n              }\r\n            } else {\r\n\r\n              // n is 0 or 1, cmp is -1.\r\n              // If n is 0, there is no need to compare yc and rem again below,\r\n              // so change cmp to 1 to avoid it.\r\n              // If n is 1, leave cmp as -1, so yc and rem are compared again.\r\n              if (n == 0) {\r\n\r\n                // divisor < remainder, so n must be at least 1.\r\n                cmp = n = 1;\r\n              }\r\n\r\n              // product = divisor\r\n              prod = yc.slice();\r\n              prodL = prod.length;\r\n            }\r\n\r\n            if (prodL < remL) prod = [0].concat(prod);\r\n\r\n            // Subtract product from remainder.\r\n            subtract(rem, prod, remL, base);\r\n            remL = rem.length;\r\n\r\n             // If product was < remainder.\r\n            if (cmp == -1) {\r\n\r\n              // Compare divisor and new remainder.\r\n              // If divisor < new remainder, subtract divisor from remainder.\r\n              // Trial digit n too low.\r\n              // n is 1 too low about 5% of the time, and very rarely 2 too low.\r\n              while (compare(yc, rem, yL, remL) < 1) {\r\n                n++;\r\n\r\n                // Subtract divisor from remainder.\r\n                subtract(rem, yL < remL ? yz : yc, remL, base);\r\n                remL = rem.length;\r\n              }\r\n            }\r\n          } else if (cmp === 0) {\r\n            n++;\r\n            rem = [0];\r\n          } // else cmp === 1 and n will be 0\r\n\r\n          // Add the next digit, n, to the result array.\r\n          qc[i++] = n;\r\n\r\n          // Update the remainder.\r\n          if (rem[0]) {\r\n            rem[remL++] = xc[xi] || 0;\r\n          } else {\r\n            rem = [xc[xi]];\r\n            remL = 1;\r\n          }\r\n        } while ((xi++ < xL || rem[0] != null) && s--);\r\n\r\n        more = rem[0] != null;\r\n\r\n        // Leading zero?\r\n        if (!qc[0]) qc.splice(0, 1);\r\n      }\r\n\r\n      if (base == BASE) {\r\n\r\n        // To calculate q.e, first get the number of digits of qc[0].\r\n        for (i = 1, s = qc[0]; s >= 10; s /= 10, i++);\r\n\r\n        round(q, dp + (q.e = i + e * LOG_BASE - 1) + 1, rm, more);\r\n\r\n      // Caller is convertBase.\r\n      } else {\r\n        q.e = e;\r\n        q.r = +more;\r\n      }\r\n\r\n      return q;\r\n    };\r\n  })();\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of BigNumber n in fixed-point or exponential\r\n   * notation rounded to the specified decimal places or significant digits.\r\n   *\r\n   * n: a BigNumber.\r\n   * i: the index of the last digit required (i.e. the digit that may be rounded up).\r\n   * rm: the rounding mode.\r\n   * id: 1 (toExponential) or 2 (toPrecision).\r\n   */\r\n  function format(n, i, rm, id) {\r\n    var c0, e, ne, len, str;\r\n\r\n    if (rm == null) rm = ROUNDING_MODE;\r\n    else intCheck(rm, 0, 8);\r\n\r\n    if (!n.c) return n.toString();\r\n\r\n    c0 = n.c[0];\r\n    ne = n.e;\r\n\r\n    if (i == null) {\r\n      str = coeffToString(n.c);\r\n      str = id == 1 || id == 2 && (ne <= TO_EXP_NEG || ne >= TO_EXP_POS)\r\n       ? toExponential(str, ne)\r\n       : toFixedPoint(str, ne, '0');\r\n    } else {\r\n      n = round(new BigNumber(n), i, rm);\r\n\r\n      // n.e may have changed if the value was rounded up.\r\n      e = n.e;\r\n\r\n      str = coeffToString(n.c);\r\n      len = str.length;\r\n\r\n      // toPrecision returns exponential notation if the number of significant digits\r\n      // specified is less than the number of digits necessary to represent the integer\r\n      // part of the value in fixed-point notation.\r\n\r\n      // Exponential notation.\r\n      if (id == 1 || id == 2 && (i <= e || e <= TO_EXP_NEG)) {\r\n\r\n        // Append zeros?\r\n        for (; len < i; str += '0', len++);\r\n        str = toExponential(str, e);\r\n\r\n      // Fixed-point notation.\r\n      } else {\r\n        i -= ne + (id === 2 && e > ne);\r\n        str = toFixedPoint(str, e, '0');\r\n\r\n        // Append zeros?\r\n        if (e + 1 > len) {\r\n          if (--i > 0) for (str += '.'; i--; str += '0');\r\n        } else {\r\n          i += e - len;\r\n          if (i > 0) {\r\n            if (e + 1 == len) str += '.';\r\n            for (; i--; str += '0');\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return n.s < 0 && c0 ? '-' + str : str;\r\n  }\r\n\r\n\r\n  // Handle BigNumber.max and BigNumber.min.\r\n  // If any number is NaN, return NaN.\r\n  function maxOrMin(args, n) {\r\n    var k, y,\r\n      i = 1,\r\n      x = new BigNumber(args[0]);\r\n\r\n    for (; i < args.length; i++) {\r\n      y = new BigNumber(args[i]);\r\n      if (!y.s || (k = compare(x, y)) === n || k === 0 && x.s === n) {\r\n        x = y;\r\n      }\r\n    }\r\n\r\n    return x;\r\n  }\r\n\r\n\r\n  /*\r\n   * Strip trailing zeros, calculate base 10 exponent and check against MIN_EXP and MAX_EXP.\r\n   * Called by minus, plus and times.\r\n   */\r\n  function normalise(n, c, e) {\r\n    var i = 1,\r\n      j = c.length;\r\n\r\n     // Remove trailing zeros.\r\n    for (; !c[--j]; c.pop());\r\n\r\n    // Calculate the base 10 exponent. First get the number of digits of c[0].\r\n    for (j = c[0]; j >= 10; j /= 10, i++);\r\n\r\n    // Overflow?\r\n    if ((e = i + e * LOG_BASE - 1) > MAX_EXP) {\r\n\r\n      // Infinity.\r\n      n.c = n.e = null;\r\n\r\n    // Underflow?\r\n    } else if (e < MIN_EXP) {\r\n\r\n      // Zero.\r\n      n.c = [n.e = 0];\r\n    } else {\r\n      n.e = e;\r\n      n.c = c;\r\n    }\r\n\r\n    return n;\r\n  }\r\n\r\n\r\n  // Handle values that fail the validity test in BigNumber.\r\n  parseNumeric = (function () {\r\n    var basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i,\r\n      dotAfter = /^([^.]+)\\.$/,\r\n      dotBefore = /^\\.([^.]+)$/,\r\n      isInfinityOrNaN = /^-?(Infinity|NaN)$/,\r\n      whitespaceOrPlus = /^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g;\r\n\r\n    return function (x, str, isNum, b) {\r\n      var base,\r\n        s = isNum ? str : str.replace(whitespaceOrPlus, '');\r\n\r\n      // No exception on Infinity or NaN.\r\n      if (isInfinityOrNaN.test(s)) {\r\n        x.s = isNaN(s) ? null : s < 0 ? -1 : 1;\r\n      } else {\r\n        if (!isNum) {\r\n\r\n          // basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i\r\n          s = s.replace(basePrefix, function (m, p1, p2) {\r\n            base = (p2 = p2.toLowerCase()) == 'x' ? 16 : p2 == 'b' ? 2 : 8;\r\n            return !b || b == base ? p1 : m;\r\n          });\r\n\r\n          if (b) {\r\n            base = b;\r\n\r\n            // E.g. '1.' to '1', '.1' to '0.1'\r\n            s = s.replace(dotAfter, '$1').replace(dotBefore, '0.$1');\r\n          }\r\n\r\n          if (str != s) return new BigNumber(s, base);\r\n        }\r\n\r\n        // '[BigNumber Error] Not a number: {n}'\r\n        // '[BigNumber Error] Not a base {b} number: {n}'\r\n        if (BigNumber.DEBUG) {\r\n          throw Error\r\n            (bignumberError + 'Not a' + (b ? ' base ' + b : '') + ' number: ' + str);\r\n        }\r\n\r\n        // NaN\r\n        x.s = null;\r\n      }\r\n\r\n      x.c = x.e = null;\r\n    }\r\n  })();\r\n\r\n\r\n  /*\r\n   * Round x to sd significant digits using rounding mode rm. Check for over/under-flow.\r\n   * If r is truthy, it is known that there are more digits after the rounding digit.\r\n   */\r\n  function round(x, sd, rm, r) {\r\n    var d, i, j, k, n, ni, rd,\r\n      xc = x.c,\r\n      pows10 = POWS_TEN;\r\n\r\n    // if x is not Infinity or NaN...\r\n    if (xc) {\r\n\r\n      // rd is the rounding digit, i.e. the digit after the digit that may be rounded up.\r\n      // n is a base 1e14 number, the value of the element of array x.c containing rd.\r\n      // ni is the index of n within x.c.\r\n      // d is the number of digits of n.\r\n      // i is the index of rd within n including leading zeros.\r\n      // j is the actual index of rd within n (if < 0, rd is a leading zero).\r\n      out: {\r\n\r\n        // Get the number of digits of the first element of xc.\r\n        for (d = 1, k = xc[0]; k >= 10; k /= 10, d++);\r\n        i = sd - d;\r\n\r\n        // If the rounding digit is in the first element of xc...\r\n        if (i < 0) {\r\n          i += LOG_BASE;\r\n          j = sd;\r\n          n = xc[ni = 0];\r\n\r\n          // Get the rounding digit at index j of n.\r\n          rd = mathfloor(n / pows10[d - j - 1] % 10);\r\n        } else {\r\n          ni = mathceil((i + 1) / LOG_BASE);\r\n\r\n          if (ni >= xc.length) {\r\n\r\n            if (r) {\r\n\r\n              // Needed by sqrt.\r\n              for (; xc.length <= ni; xc.push(0));\r\n              n = rd = 0;\r\n              d = 1;\r\n              i %= LOG_BASE;\r\n              j = i - LOG_BASE + 1;\r\n            } else {\r\n              break out;\r\n            }\r\n          } else {\r\n            n = k = xc[ni];\r\n\r\n            // Get the number of digits of n.\r\n            for (d = 1; k >= 10; k /= 10, d++);\r\n\r\n            // Get the index of rd within n.\r\n            i %= LOG_BASE;\r\n\r\n            // Get the index of rd within n, adjusted for leading zeros.\r\n            // The number of leading zeros of n is given by LOG_BASE - d.\r\n            j = i - LOG_BASE + d;\r\n\r\n            // Get the rounding digit at index j of n.\r\n            rd = j < 0 ? 0 : mathfloor(n / pows10[d - j - 1] % 10);\r\n          }\r\n        }\r\n\r\n        r = r || sd < 0 ||\r\n\r\n        // Are there any non-zero digits after the rounding digit?\r\n        // The expression  n % pows10[d - j - 1]  returns all digits of n to the right\r\n        // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.\r\n         xc[ni + 1] != null || (j < 0 ? n : n % pows10[d - j - 1]);\r\n\r\n        r = rm < 4\r\n         ? (rd || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n         : rd > 5 || rd == 5 && (rm == 4 || r || rm == 6 &&\r\n\r\n          // Check whether the digit to the left of the rounding digit is odd.\r\n          ((i > 0 ? j > 0 ? n / pows10[d - j] : 0 : xc[ni - 1]) % 10) & 1 ||\r\n           rm == (x.s < 0 ? 8 : 7));\r\n\r\n        if (sd < 1 || !xc[0]) {\r\n          xc.length = 0;\r\n\r\n          if (r) {\r\n\r\n            // Convert sd to decimal places.\r\n            sd -= x.e + 1;\r\n\r\n            // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n            xc[0] = pows10[(LOG_BASE - sd % LOG_BASE) % LOG_BASE];\r\n            x.e = -sd || 0;\r\n          } else {\r\n\r\n            // Zero.\r\n            xc[0] = x.e = 0;\r\n          }\r\n\r\n          return x;\r\n        }\r\n\r\n        // Remove excess digits.\r\n        if (i == 0) {\r\n          xc.length = ni;\r\n          k = 1;\r\n          ni--;\r\n        } else {\r\n          xc.length = ni + 1;\r\n          k = pows10[LOG_BASE - i];\r\n\r\n          // E.g. 56700 becomes 56000 if 7 is the rounding digit.\r\n          // j > 0 means i > number of leading zeros of n.\r\n          xc[ni] = j > 0 ? mathfloor(n / pows10[d - j] % pows10[j]) * k : 0;\r\n        }\r\n\r\n        // Round up?\r\n        if (r) {\r\n\r\n          for (; ;) {\r\n\r\n            // If the digit to be rounded up is in the first element of xc...\r\n            if (ni == 0) {\r\n\r\n              // i will be the length of xc[0] before k is added.\r\n              for (i = 1, j = xc[0]; j >= 10; j /= 10, i++);\r\n              j = xc[0] += k;\r\n              for (k = 1; j >= 10; j /= 10, k++);\r\n\r\n              // if i != k the length has increased.\r\n              if (i != k) {\r\n                x.e++;\r\n                if (xc[0] == BASE) xc[0] = 1;\r\n              }\r\n\r\n              break;\r\n            } else {\r\n              xc[ni] += k;\r\n              if (xc[ni] != BASE) break;\r\n              xc[ni--] = 0;\r\n              k = 1;\r\n            }\r\n          }\r\n        }\r\n\r\n        // Remove trailing zeros.\r\n        for (i = xc.length; xc[--i] === 0; xc.pop());\r\n      }\r\n\r\n      // Overflow? Infinity.\r\n      if (x.e > MAX_EXP) {\r\n        x.c = x.e = null;\r\n\r\n      // Underflow? Zero.\r\n      } else if (x.e < MIN_EXP) {\r\n        x.c = [x.e = 0];\r\n      }\r\n    }\r\n\r\n    return x;\r\n  }\r\n\r\n\r\n  function valueOf(n) {\r\n    var str,\r\n      e = n.e;\r\n\r\n    if (e === null) return n.toString();\r\n\r\n    str = coeffToString(n.c);\r\n\r\n    str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n      ? toExponential(str, e)\r\n      : toFixedPoint(str, e, '0');\r\n\r\n    return n.s < 0 ? '-' + str : str;\r\n  }\r\n\r\n\r\n  // PROTOTYPE/INSTANCE METHODS\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the absolute value of this BigNumber.\r\n   */\r\n  P.absoluteValue = P.abs = function () {\r\n    var x = new BigNumber(this);\r\n    if (x.s < 0) x.s = 1;\r\n    return x;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return\r\n   *   1 if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n   *   -1 if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n   *   0 if they have the same value,\r\n   *   or null if the value of either is NaN.\r\n   */\r\n  P.comparedTo = function (y, b) {\r\n    return compare(this, new BigNumber(y, b));\r\n  };\r\n\r\n\r\n  /*\r\n   * If dp is undefined or null or true or false, return the number of decimal places of the\r\n   * value of this BigNumber, or null if the value of this BigNumber is Infinity or NaN.\r\n   *\r\n   * Otherwise, if dp is a number, return a new BigNumber whose value is the value of this\r\n   * BigNumber rounded to a maximum of dp decimal places using rounding mode rm, or\r\n   * ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * [dp] {number} Decimal places: integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.decimalPlaces = P.dp = function (dp, rm) {\r\n    var c, n, v,\r\n      x = this;\r\n\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      return round(new BigNumber(x), dp + x.e + 1, rm);\r\n    }\r\n\r\n    if (!(c = x.c)) return null;\r\n    n = ((v = c.length - 1) - bitFloor(this.e / LOG_BASE)) * LOG_BASE;\r\n\r\n    // Subtract the number of trailing zeros of the last number.\r\n    if (v = c[v]) for (; v % 10 == 0; v /= 10, n--);\r\n    if (n < 0) n = 0;\r\n\r\n    return n;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n / 0 = I\r\n   *  n / N = N\r\n   *  n / I = 0\r\n   *  0 / n = 0\r\n   *  0 / 0 = N\r\n   *  0 / N = N\r\n   *  0 / I = 0\r\n   *  N / n = N\r\n   *  N / 0 = N\r\n   *  N / N = N\r\n   *  N / I = N\r\n   *  I / n = I\r\n   *  I / 0 = I\r\n   *  I / N = N\r\n   *  I / I = N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber divided by the value of\r\n   * BigNumber(y, b), rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   */\r\n  P.dividedBy = P.div = function (y, b) {\r\n    return div(this, new BigNumber(y, b), DECIMAL_PLACES, ROUNDING_MODE);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the integer part of dividing the value of this\r\n   * BigNumber by the value of BigNumber(y, b).\r\n   */\r\n  P.dividedToIntegerBy = P.idiv = function (y, b) {\r\n    return div(this, new BigNumber(y, b), 0, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a BigNumber whose value is the value of this BigNumber exponentiated by n.\r\n   *\r\n   * If m is present, return the result modulo m.\r\n   * If n is negative round according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   * If POW_PRECISION is non-zero and m is not present, round to POW_PRECISION using ROUNDING_MODE.\r\n   *\r\n   * The modular power operation works efficiently when x, n, and m are integers, otherwise it\r\n   * is equivalent to calculating x.exponentiatedBy(n).modulo(m) with a POW_PRECISION of 0.\r\n   *\r\n   * n {number|string|BigNumber} The exponent. An integer.\r\n   * [m] {number|string|BigNumber} The modulus.\r\n   *\r\n   * '[BigNumber Error] Exponent not an integer: {n}'\r\n   */\r\n  P.exponentiatedBy = P.pow = function (n, m) {\r\n    var half, isModExp, i, k, more, nIsBig, nIsNeg, nIsOdd, y,\r\n      x = this;\r\n\r\n    n = new BigNumber(n);\r\n\r\n    // Allow NaN and Infinity, but not other non-integers.\r\n    if (n.c && !n.isInteger()) {\r\n      throw Error\r\n        (bignumberError + 'Exponent not an integer: ' + valueOf(n));\r\n    }\r\n\r\n    if (m != null) m = new BigNumber(m);\r\n\r\n    // Exponent of MAX_SAFE_INTEGER is 15.\r\n    nIsBig = n.e > 14;\r\n\r\n    // If x is NaN, Infinity, 0 or 1, or n is Infinity, NaN or 0.\r\n    if (!x.c || !x.c[0] || x.c[0] == 1 && !x.e && x.c.length == 1 || !n.c || !n.c[0]) {\r\n\r\n      // The sign of the result of pow when x is negative depends on the evenness of n.\r\n      // If +n overflows to Infinity, the evenness of n would be not be known.\r\n      y = new BigNumber(Math.pow(+valueOf(x), nIsBig ? n.s * (2 - isOdd(n)) : +valueOf(n)));\r\n      return m ? y.mod(m) : y;\r\n    }\r\n\r\n    nIsNeg = n.s < 0;\r\n\r\n    if (m) {\r\n\r\n      // x % m returns NaN if abs(m) is zero, or m is NaN.\r\n      if (m.c ? !m.c[0] : !m.s) return new BigNumber(NaN);\r\n\r\n      isModExp = !nIsNeg && x.isInteger() && m.isInteger();\r\n\r\n      if (isModExp) x = x.mod(m);\r\n\r\n    // Overflow to Infinity: >=2**1e10 or >=1.0000024**1e15.\r\n    // Underflow to 0: <=0.79**1e10 or <=0.9999975**1e15.\r\n    } else if (n.e > 9 && (x.e > 0 || x.e < -1 || (x.e == 0\r\n      // [1, 240000000]\r\n      ? x.c[0] > 1 || nIsBig && x.c[1] >= 24e7\r\n      // [80000000000000]  [99999750000000]\r\n      : x.c[0] < 8e13 || nIsBig && x.c[0] <= 9999975e7))) {\r\n\r\n      // If x is negative and n is odd, k = -0, else k = 0.\r\n      k = x.s < 0 && isOdd(n) ? -0 : 0;\r\n\r\n      // If x >= 1, k = Infinity.\r\n      if (x.e > -1) k = 1 / k;\r\n\r\n      // If n is negative return 0, else return Infinity.\r\n      return new BigNumber(nIsNeg ? 1 / k : k);\r\n\r\n    } else if (POW_PRECISION) {\r\n\r\n      // Truncating each coefficient array to a length of k after each multiplication\r\n      // equates to truncating significant digits to POW_PRECISION + [28, 41],\r\n      // i.e. there will be a minimum of 28 guard digits retained.\r\n      k = mathceil(POW_PRECISION / LOG_BASE + 2);\r\n    }\r\n\r\n    if (nIsBig) {\r\n      half = new BigNumber(0.5);\r\n      if (nIsNeg) n.s = 1;\r\n      nIsOdd = isOdd(n);\r\n    } else {\r\n      i = Math.abs(+valueOf(n));\r\n      nIsOdd = i % 2;\r\n    }\r\n\r\n    y = new BigNumber(ONE);\r\n\r\n    // Performs 54 loop iterations for n of 9007199254740991.\r\n    for (; ;) {\r\n\r\n      if (nIsOdd) {\r\n        y = y.times(x);\r\n        if (!y.c) break;\r\n\r\n        if (k) {\r\n          if (y.c.length > k) y.c.length = k;\r\n        } else if (isModExp) {\r\n          y = y.mod(m);    //y = y.minus(div(y, m, 0, MODULO_MODE).times(m));\r\n        }\r\n      }\r\n\r\n      if (i) {\r\n        i = mathfloor(i / 2);\r\n        if (i === 0) break;\r\n        nIsOdd = i % 2;\r\n      } else {\r\n        n = n.times(half);\r\n        round(n, n.e + 1, 1);\r\n\r\n        if (n.e > 14) {\r\n          nIsOdd = isOdd(n);\r\n        } else {\r\n          i = +valueOf(n);\r\n          if (i === 0) break;\r\n          nIsOdd = i % 2;\r\n        }\r\n      }\r\n\r\n      x = x.times(x);\r\n\r\n      if (k) {\r\n        if (x.c && x.c.length > k) x.c.length = k;\r\n      } else if (isModExp) {\r\n        x = x.mod(m);    //x = x.minus(div(x, m, 0, MODULO_MODE).times(m));\r\n      }\r\n    }\r\n\r\n    if (isModExp) return y;\r\n    if (nIsNeg) y = ONE.div(y);\r\n\r\n    return m ? y.mod(m) : k ? round(y, POW_PRECISION, ROUNDING_MODE, more) : y;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber rounded to an integer\r\n   * using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {rm}'\r\n   */\r\n  P.integerValue = function (rm) {\r\n    var n = new BigNumber(this);\r\n    if (rm == null) rm = ROUNDING_MODE;\r\n    else intCheck(rm, 0, 8);\r\n    return round(n, n.e + 1, rm);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is equal to the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isEqualTo = P.eq = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) === 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is a finite number, otherwise return false.\r\n   */\r\n  P.isFinite = function () {\r\n    return !!this.c;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isGreaterThan = P.gt = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) > 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is greater than or equal to the value of\r\n   * BigNumber(y, b), otherwise return false.\r\n   */\r\n  P.isGreaterThanOrEqualTo = P.gte = function (y, b) {\r\n    return (b = compare(this, new BigNumber(y, b))) === 1 || b === 0;\r\n\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is an integer, otherwise return false.\r\n   */\r\n  P.isInteger = function () {\r\n    return !!this.c && bitFloor(this.e / LOG_BASE) > this.c.length - 2;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isLessThan = P.lt = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) < 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is less than or equal to the value of\r\n   * BigNumber(y, b), otherwise return false.\r\n   */\r\n  P.isLessThanOrEqualTo = P.lte = function (y, b) {\r\n    return (b = compare(this, new BigNumber(y, b))) === -1 || b === 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is NaN, otherwise return false.\r\n   */\r\n  P.isNaN = function () {\r\n    return !this.s;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is negative, otherwise return false.\r\n   */\r\n  P.isNegative = function () {\r\n    return this.s < 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is positive, otherwise return false.\r\n   */\r\n  P.isPositive = function () {\r\n    return this.s > 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is 0 or -0, otherwise return false.\r\n   */\r\n  P.isZero = function () {\r\n    return !!this.c && this.c[0] == 0;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n - 0 = n\r\n   *  n - N = N\r\n   *  n - I = -I\r\n   *  0 - n = -n\r\n   *  0 - 0 = 0\r\n   *  0 - N = N\r\n   *  0 - I = -I\r\n   *  N - n = N\r\n   *  N - 0 = N\r\n   *  N - N = N\r\n   *  N - I = N\r\n   *  I - n = I\r\n   *  I - 0 = I\r\n   *  I - N = N\r\n   *  I - I = N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber minus the value of\r\n   * BigNumber(y, b).\r\n   */\r\n  P.minus = function (y, b) {\r\n    var i, j, t, xLTy,\r\n      x = this,\r\n      a = x.s;\r\n\r\n    y = new BigNumber(y, b);\r\n    b = y.s;\r\n\r\n    // Either NaN?\r\n    if (!a || !b) return new BigNumber(NaN);\r\n\r\n    // Signs differ?\r\n    if (a != b) {\r\n      y.s = -b;\r\n      return x.plus(y);\r\n    }\r\n\r\n    var xe = x.e / LOG_BASE,\r\n      ye = y.e / LOG_BASE,\r\n      xc = x.c,\r\n      yc = y.c;\r\n\r\n    if (!xe || !ye) {\r\n\r\n      // Either Infinity?\r\n      if (!xc || !yc) return xc ? (y.s = -b, y) : new BigNumber(yc ? x : NaN);\r\n\r\n      // Either zero?\r\n      if (!xc[0] || !yc[0]) {\r\n\r\n        // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n        return yc[0] ? (y.s = -b, y) : new BigNumber(xc[0] ? x :\r\n\r\n         // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity\r\n         ROUNDING_MODE == 3 ? -0 : 0);\r\n      }\r\n    }\r\n\r\n    xe = bitFloor(xe);\r\n    ye = bitFloor(ye);\r\n    xc = xc.slice();\r\n\r\n    // Determine which is the bigger number.\r\n    if (a = xe - ye) {\r\n\r\n      if (xLTy = a < 0) {\r\n        a = -a;\r\n        t = xc;\r\n      } else {\r\n        ye = xe;\r\n        t = yc;\r\n      }\r\n\r\n      t.reverse();\r\n\r\n      // Prepend zeros to equalise exponents.\r\n      for (b = a; b--; t.push(0));\r\n      t.reverse();\r\n    } else {\r\n\r\n      // Exponents equal. Check digit by digit.\r\n      j = (xLTy = (a = xc.length) < (b = yc.length)) ? a : b;\r\n\r\n      for (a = b = 0; b < j; b++) {\r\n\r\n        if (xc[b] != yc[b]) {\r\n          xLTy = xc[b] < yc[b];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // x < y? Point xc to the array of the bigger number.\r\n    if (xLTy) {\r\n      t = xc;\r\n      xc = yc;\r\n      yc = t;\r\n      y.s = -y.s;\r\n    }\r\n\r\n    b = (j = yc.length) - (i = xc.length);\r\n\r\n    // Append zeros to xc if shorter.\r\n    // No need to add zeros to yc if shorter as subtract only needs to start at yc.length.\r\n    if (b > 0) for (; b--; xc[i++] = 0);\r\n    b = BASE - 1;\r\n\r\n    // Subtract yc from xc.\r\n    for (; j > a;) {\r\n\r\n      if (xc[--j] < yc[j]) {\r\n        for (i = j; i && !xc[--i]; xc[i] = b);\r\n        --xc[i];\r\n        xc[j] += BASE;\r\n      }\r\n\r\n      xc[j] -= yc[j];\r\n    }\r\n\r\n    // Remove leading zeros and adjust exponent accordingly.\r\n    for (; xc[0] == 0; xc.splice(0, 1), --ye);\r\n\r\n    // Zero?\r\n    if (!xc[0]) {\r\n\r\n      // Following IEEE 754 (2008) 6.3,\r\n      // n - n = +0  but  n - n = -0  when rounding towards -Infinity.\r\n      y.s = ROUNDING_MODE == 3 ? -1 : 1;\r\n      y.c = [y.e = 0];\r\n      return y;\r\n    }\r\n\r\n    // No need to check for Infinity as +x - +y != Infinity && -x - -y != Infinity\r\n    // for finite x and y.\r\n    return normalise(y, xc, ye);\r\n  };\r\n\r\n\r\n  /*\r\n   *   n % 0 =  N\r\n   *   n % N =  N\r\n   *   n % I =  n\r\n   *   0 % n =  0\r\n   *  -0 % n = -0\r\n   *   0 % 0 =  N\r\n   *   0 % N =  N\r\n   *   0 % I =  0\r\n   *   N % n =  N\r\n   *   N % 0 =  N\r\n   *   N % N =  N\r\n   *   N % I =  N\r\n   *   I % n =  N\r\n   *   I % 0 =  N\r\n   *   I % N =  N\r\n   *   I % I =  N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber modulo the value of\r\n   * BigNumber(y, b). The result depends on the value of MODULO_MODE.\r\n   */\r\n  P.modulo = P.mod = function (y, b) {\r\n    var q, s,\r\n      x = this;\r\n\r\n    y = new BigNumber(y, b);\r\n\r\n    // Return NaN if x is Infinity or NaN, or y is NaN or zero.\r\n    if (!x.c || !y.s || y.c && !y.c[0]) {\r\n      return new BigNumber(NaN);\r\n\r\n    // Return x if y is Infinity or x is zero.\r\n    } else if (!y.c || x.c && !x.c[0]) {\r\n      return new BigNumber(x);\r\n    }\r\n\r\n    if (MODULO_MODE == 9) {\r\n\r\n      // Euclidian division: q = sign(y) * floor(x / abs(y))\r\n      // r = x - qy    where  0 <= r < abs(y)\r\n      s = y.s;\r\n      y.s = 1;\r\n      q = div(x, y, 0, 3);\r\n      y.s = s;\r\n      q.s *= s;\r\n    } else {\r\n      q = div(x, y, 0, MODULO_MODE);\r\n    }\r\n\r\n    y = x.minus(q.times(y));\r\n\r\n    // To match JavaScript %, ensure sign of zero is sign of dividend.\r\n    if (!y.c[0] && MODULO_MODE == 1) y.s = x.s;\r\n\r\n    return y;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n * 0 = 0\r\n   *  n * N = N\r\n   *  n * I = I\r\n   *  0 * n = 0\r\n   *  0 * 0 = 0\r\n   *  0 * N = N\r\n   *  0 * I = N\r\n   *  N * n = N\r\n   *  N * 0 = N\r\n   *  N * N = N\r\n   *  N * I = N\r\n   *  I * n = I\r\n   *  I * 0 = N\r\n   *  I * N = N\r\n   *  I * I = I\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber multiplied by the value\r\n   * of BigNumber(y, b).\r\n   */\r\n  P.multipliedBy = P.times = function (y, b) {\r\n    var c, e, i, j, k, m, xcL, xlo, xhi, ycL, ylo, yhi, zc,\r\n      base, sqrtBase,\r\n      x = this,\r\n      xc = x.c,\r\n      yc = (y = new BigNumber(y, b)).c;\r\n\r\n    // Either NaN, Infinity or 0?\r\n    if (!xc || !yc || !xc[0] || !yc[0]) {\r\n\r\n      // Return NaN if either is NaN, or one is 0 and the other is Infinity.\r\n      if (!x.s || !y.s || xc && !xc[0] && !yc || yc && !yc[0] && !xc) {\r\n        y.c = y.e = y.s = null;\r\n      } else {\r\n        y.s *= x.s;\r\n\r\n        // Return Infinity if either is Infinity.\r\n        if (!xc || !yc) {\r\n          y.c = y.e = null;\r\n\r\n        // Return 0 if either is 0.\r\n        } else {\r\n          y.c = [0];\r\n          y.e = 0;\r\n        }\r\n      }\r\n\r\n      return y;\r\n    }\r\n\r\n    e = bitFloor(x.e / LOG_BASE) + bitFloor(y.e / LOG_BASE);\r\n    y.s *= x.s;\r\n    xcL = xc.length;\r\n    ycL = yc.length;\r\n\r\n    // Ensure xc points to longer array and xcL to its length.\r\n    if (xcL < ycL) {\r\n      zc = xc;\r\n      xc = yc;\r\n      yc = zc;\r\n      i = xcL;\r\n      xcL = ycL;\r\n      ycL = i;\r\n    }\r\n\r\n    // Initialise the result array with zeros.\r\n    for (i = xcL + ycL, zc = []; i--; zc.push(0));\r\n\r\n    base = BASE;\r\n    sqrtBase = SQRT_BASE;\r\n\r\n    for (i = ycL; --i >= 0;) {\r\n      c = 0;\r\n      ylo = yc[i] % sqrtBase;\r\n      yhi = yc[i] / sqrtBase | 0;\r\n\r\n      for (k = xcL, j = i + k; j > i;) {\r\n        xlo = xc[--k] % sqrtBase;\r\n        xhi = xc[k] / sqrtBase | 0;\r\n        m = yhi * xlo + xhi * ylo;\r\n        xlo = ylo * xlo + ((m % sqrtBase) * sqrtBase) + zc[j] + c;\r\n        c = (xlo / base | 0) + (m / sqrtBase | 0) + yhi * xhi;\r\n        zc[j--] = xlo % base;\r\n      }\r\n\r\n      zc[j] = c;\r\n    }\r\n\r\n    if (c) {\r\n      ++e;\r\n    } else {\r\n      zc.splice(0, 1);\r\n    }\r\n\r\n    return normalise(y, zc, e);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber negated,\r\n   * i.e. multiplied by -1.\r\n   */\r\n  P.negated = function () {\r\n    var x = new BigNumber(this);\r\n    x.s = -x.s || null;\r\n    return x;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n + 0 = n\r\n   *  n + N = N\r\n   *  n + I = I\r\n   *  0 + n = n\r\n   *  0 + 0 = 0\r\n   *  0 + N = N\r\n   *  0 + I = I\r\n   *  N + n = N\r\n   *  N + 0 = N\r\n   *  N + N = N\r\n   *  N + I = N\r\n   *  I + n = I\r\n   *  I + 0 = I\r\n   *  I + N = N\r\n   *  I + I = I\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber plus the value of\r\n   * BigNumber(y, b).\r\n   */\r\n  P.plus = function (y, b) {\r\n    var t,\r\n      x = this,\r\n      a = x.s;\r\n\r\n    y = new BigNumber(y, b);\r\n    b = y.s;\r\n\r\n    // Either NaN?\r\n    if (!a || !b) return new BigNumber(NaN);\r\n\r\n    // Signs differ?\r\n     if (a != b) {\r\n      y.s = -b;\r\n      return x.minus(y);\r\n    }\r\n\r\n    var xe = x.e / LOG_BASE,\r\n      ye = y.e / LOG_BASE,\r\n      xc = x.c,\r\n      yc = y.c;\r\n\r\n    if (!xe || !ye) {\r\n\r\n      // Return Infinity if either Infinity.\r\n      if (!xc || !yc) return new BigNumber(a / 0);\r\n\r\n      // Either zero?\r\n      // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n      if (!xc[0] || !yc[0]) return yc[0] ? y : new BigNumber(xc[0] ? x : a * 0);\r\n    }\r\n\r\n    xe = bitFloor(xe);\r\n    ye = bitFloor(ye);\r\n    xc = xc.slice();\r\n\r\n    // Prepend zeros to equalise exponents. Faster to use reverse then do unshifts.\r\n    if (a = xe - ye) {\r\n      if (a > 0) {\r\n        ye = xe;\r\n        t = yc;\r\n      } else {\r\n        a = -a;\r\n        t = xc;\r\n      }\r\n\r\n      t.reverse();\r\n      for (; a--; t.push(0));\r\n      t.reverse();\r\n    }\r\n\r\n    a = xc.length;\r\n    b = yc.length;\r\n\r\n    // Point xc to the longer array, and b to the shorter length.\r\n    if (a - b < 0) {\r\n      t = yc;\r\n      yc = xc;\r\n      xc = t;\r\n      b = a;\r\n    }\r\n\r\n    // Only start adding at yc.length - 1 as the further digits of xc can be ignored.\r\n    for (a = 0; b;) {\r\n      a = (xc[--b] = xc[b] + yc[b] + a) / BASE | 0;\r\n      xc[b] = BASE === xc[b] ? 0 : xc[b] % BASE;\r\n    }\r\n\r\n    if (a) {\r\n      xc = [a].concat(xc);\r\n      ++ye;\r\n    }\r\n\r\n    // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n    // ye = MAX_EXP + 1 possible\r\n    return normalise(y, xc, ye);\r\n  };\r\n\r\n\r\n  /*\r\n   * If sd is undefined or null or true or false, return the number of significant digits of\r\n   * the value of this BigNumber, or null if the value of this BigNumber is Infinity or NaN.\r\n   * If sd is true include integer-part trailing zeros in the count.\r\n   *\r\n   * Otherwise, if sd is a number, return a new BigNumber whose value is the value of this\r\n   * BigNumber rounded to a maximum of sd significant digits using rounding mode rm, or\r\n   * ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * sd {number|boolean} number: significant digits: integer, 1 to MAX inclusive.\r\n   *                     boolean: whether to count integer-part trailing zeros: true or false.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n   */\r\n  P.precision = P.sd = function (sd, rm) {\r\n    var c, n, v,\r\n      x = this;\r\n\r\n    if (sd != null && sd !== !!sd) {\r\n      intCheck(sd, 1, MAX);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      return round(new BigNumber(x), sd, rm);\r\n    }\r\n\r\n    if (!(c = x.c)) return null;\r\n    v = c.length - 1;\r\n    n = v * LOG_BASE + 1;\r\n\r\n    if (v = c[v]) {\r\n\r\n      // Subtract the number of trailing zeros of the last element.\r\n      for (; v % 10 == 0; v /= 10, n--);\r\n\r\n      // Add the number of digits of the first element.\r\n      for (v = c[0]; v >= 10; v /= 10, n++);\r\n    }\r\n\r\n    if (sd && x.e + 1 > n) n = x.e + 1;\r\n\r\n    return n;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber shifted by k places\r\n   * (powers of 10). Shift to the right if n > 0, and to the left if n < 0.\r\n   *\r\n   * k {number} Integer, -MAX_SAFE_INTEGER to MAX_SAFE_INTEGER inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {k}'\r\n   */\r\n  P.shiftedBy = function (k) {\r\n    intCheck(k, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER);\r\n    return this.times('1e' + k);\r\n  };\r\n\r\n\r\n  /*\r\n   *  sqrt(-n) =  N\r\n   *  sqrt(N) =  N\r\n   *  sqrt(-I) =  N\r\n   *  sqrt(I) =  I\r\n   *  sqrt(0) =  0\r\n   *  sqrt(-0) = -0\r\n   *\r\n   * Return a new BigNumber whose value is the square root of the value of this BigNumber,\r\n   * rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   */\r\n  P.squareRoot = P.sqrt = function () {\r\n    var m, n, r, rep, t,\r\n      x = this,\r\n      c = x.c,\r\n      s = x.s,\r\n      e = x.e,\r\n      dp = DECIMAL_PLACES + 4,\r\n      half = new BigNumber('0.5');\r\n\r\n    // Negative/NaN/Infinity/zero?\r\n    if (s !== 1 || !c || !c[0]) {\r\n      return new BigNumber(!s || s < 0 && (!c || c[0]) ? NaN : c ? x : 1 / 0);\r\n    }\r\n\r\n    // Initial estimate.\r\n    s = Math.sqrt(+valueOf(x));\r\n\r\n    // Math.sqrt underflow/overflow?\r\n    // Pass x to Math.sqrt as integer, then adjust the exponent of the result.\r\n    if (s == 0 || s == 1 / 0) {\r\n      n = coeffToString(c);\r\n      if ((n.length + e) % 2 == 0) n += '0';\r\n      s = Math.sqrt(+n);\r\n      e = bitFloor((e + 1) / 2) - (e < 0 || e % 2);\r\n\r\n      if (s == 1 / 0) {\r\n        n = '5e' + e;\r\n      } else {\r\n        n = s.toExponential();\r\n        n = n.slice(0, n.indexOf('e') + 1) + e;\r\n      }\r\n\r\n      r = new BigNumber(n);\r\n    } else {\r\n      r = new BigNumber(s + '');\r\n    }\r\n\r\n    // Check for zero.\r\n    // r could be zero if MIN_EXP is changed after the this value was created.\r\n    // This would cause a division by zero (x/t) and hence Infinity below, which would cause\r\n    // coeffToString to throw.\r\n    if (r.c[0]) {\r\n      e = r.e;\r\n      s = e + dp;\r\n      if (s < 3) s = 0;\r\n\r\n      // Newton-Raphson iteration.\r\n      for (; ;) {\r\n        t = r;\r\n        r = half.times(t.plus(div(x, t, dp, 1)));\r\n\r\n        if (coeffToString(t.c).slice(0, s) === (n = coeffToString(r.c)).slice(0, s)) {\r\n\r\n          // The exponent of r may here be one less than the final result exponent,\r\n          // e.g 0.0009999 (e-4) --> 0.001 (e-3), so adjust s so the rounding digits\r\n          // are indexed correctly.\r\n          if (r.e < e) --s;\r\n          n = n.slice(s - 3, s + 1);\r\n\r\n          // The 4th rounding digit may be in error by -1 so if the 4 rounding digits\r\n          // are 9999 or 4999 (i.e. approaching a rounding boundary) continue the\r\n          // iteration.\r\n          if (n == '9999' || !rep && n == '4999') {\r\n\r\n            // On the first iteration only, check to see if rounding up gives the\r\n            // exact result as the nines may infinitely repeat.\r\n            if (!rep) {\r\n              round(t, t.e + DECIMAL_PLACES + 2, 0);\r\n\r\n              if (t.times(t).eq(x)) {\r\n                r = t;\r\n                break;\r\n              }\r\n            }\r\n\r\n            dp += 4;\r\n            s += 4;\r\n            rep = 1;\r\n          } else {\r\n\r\n            // If rounding digits are null, 0{0,4} or 50{0,3}, check for exact\r\n            // result. If not, then there are further digits and m will be truthy.\r\n            if (!+n || !+n.slice(1) && n.charAt(0) == '5') {\r\n\r\n              // Truncate to the first rounding digit.\r\n              round(r, r.e + DECIMAL_PLACES + 2, 1);\r\n              m = !r.times(r).eq(x);\r\n            }\r\n\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return round(r, r.e + DECIMAL_PLACES + 1, ROUNDING_MODE, m);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in exponential notation and\r\n   * rounded using ROUNDING_MODE to dp fixed decimal places.\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.toExponential = function (dp, rm) {\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      dp++;\r\n    }\r\n    return format(this, dp, rm, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in fixed-point notation rounding\r\n   * to dp fixed decimal places using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * Note: as with JavaScript's number type, (-0).toFixed(0) is '0',\r\n   * but e.g. (-0.00001).toFixed(0) is '-0'.\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.toFixed = function (dp, rm) {\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      dp = dp + this.e + 1;\r\n    }\r\n    return format(this, dp, rm);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in fixed-point notation rounded\r\n   * using rm or ROUNDING_MODE to dp decimal places, and formatted according to the properties\r\n   * of the format or FORMAT object (see BigNumber.set).\r\n   *\r\n   * The formatting object may contain some or all of the properties shown below.\r\n   *\r\n   * FORMAT = {\r\n   *   prefix: '',\r\n   *   groupSize: 3,\r\n   *   secondaryGroupSize: 0,\r\n   *   groupSeparator: ',',\r\n   *   decimalSeparator: '.',\r\n   *   fractionGroupSize: 0,\r\n   *   fractionGroupSeparator: '\\xA0',      // non-breaking space\r\n   *   suffix: ''\r\n   * };\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   * [format] {object} Formatting options. See FORMAT pbject above.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   * '[BigNumber Error] Argument not an object: {format}'\r\n   */\r\n  P.toFormat = function (dp, rm, format) {\r\n    var str,\r\n      x = this;\r\n\r\n    if (format == null) {\r\n      if (dp != null && rm && typeof rm == 'object') {\r\n        format = rm;\r\n        rm = null;\r\n      } else if (dp && typeof dp == 'object') {\r\n        format = dp;\r\n        dp = rm = null;\r\n      } else {\r\n        format = FORMAT;\r\n      }\r\n    } else if (typeof format != 'object') {\r\n      throw Error\r\n        (bignumberError + 'Argument not an object: ' + format);\r\n    }\r\n\r\n    str = x.toFixed(dp, rm);\r\n\r\n    if (x.c) {\r\n      var i,\r\n        arr = str.split('.'),\r\n        g1 = +format.groupSize,\r\n        g2 = +format.secondaryGroupSize,\r\n        groupSeparator = format.groupSeparator || '',\r\n        intPart = arr[0],\r\n        fractionPart = arr[1],\r\n        isNeg = x.s < 0,\r\n        intDigits = isNeg ? intPart.slice(1) : intPart,\r\n        len = intDigits.length;\r\n\r\n      if (g2) {\r\n        i = g1;\r\n        g1 = g2;\r\n        g2 = i;\r\n        len -= i;\r\n      }\r\n\r\n      if (g1 > 0 && len > 0) {\r\n        i = len % g1 || g1;\r\n        intPart = intDigits.substr(0, i);\r\n        for (; i < len; i += g1) intPart += groupSeparator + intDigits.substr(i, g1);\r\n        if (g2 > 0) intPart += groupSeparator + intDigits.slice(i);\r\n        if (isNeg) intPart = '-' + intPart;\r\n      }\r\n\r\n      str = fractionPart\r\n       ? intPart + (format.decimalSeparator || '') + ((g2 = +format.fractionGroupSize)\r\n        ? fractionPart.replace(new RegExp('\\\\d{' + g2 + '}\\\\B', 'g'),\r\n         '$&' + (format.fractionGroupSeparator || ''))\r\n        : fractionPart)\r\n       : intPart;\r\n    }\r\n\r\n    return (format.prefix || '') + str + (format.suffix || '');\r\n  };\r\n\r\n\r\n  /*\r\n   * Return an array of two BigNumbers representing the value of this BigNumber as a simple\r\n   * fraction with an integer numerator and an integer denominator.\r\n   * The denominator will be a positive non-zero value less than or equal to the specified\r\n   * maximum denominator. If a maximum denominator is not specified, the denominator will be\r\n   * the lowest value necessary to represent the number exactly.\r\n   *\r\n   * [md] {number|string|BigNumber} Integer >= 1, or Infinity. The maximum denominator.\r\n   *\r\n   * '[BigNumber Error] Argument {not an integer|out of range} : {md}'\r\n   */\r\n  P.toFraction = function (md) {\r\n    var d, d0, d1, d2, e, exp, n, n0, n1, q, r, s,\r\n      x = this,\r\n      xc = x.c;\r\n\r\n    if (md != null) {\r\n      n = new BigNumber(md);\r\n\r\n      // Throw if md is less than one or is not an integer, unless it is Infinity.\r\n      if (!n.isInteger() && (n.c || n.s !== 1) || n.lt(ONE)) {\r\n        throw Error\r\n          (bignumberError + 'Argument ' +\r\n            (n.isInteger() ? 'out of range: ' : 'not an integer: ') + valueOf(n));\r\n      }\r\n    }\r\n\r\n    if (!xc) return new BigNumber(x);\r\n\r\n    d = new BigNumber(ONE);\r\n    n1 = d0 = new BigNumber(ONE);\r\n    d1 = n0 = new BigNumber(ONE);\r\n    s = coeffToString(xc);\r\n\r\n    // Determine initial denominator.\r\n    // d is a power of 10 and the minimum max denominator that specifies the value exactly.\r\n    e = d.e = s.length - x.e - 1;\r\n    d.c[0] = POWS_TEN[(exp = e % LOG_BASE) < 0 ? LOG_BASE + exp : exp];\r\n    md = !md || n.comparedTo(d) > 0 ? (e > 0 ? d : n1) : n;\r\n\r\n    exp = MAX_EXP;\r\n    MAX_EXP = 1 / 0;\r\n    n = new BigNumber(s);\r\n\r\n    // n0 = d1 = 0\r\n    n0.c[0] = 0;\r\n\r\n    for (; ;)  {\r\n      q = div(n, d, 0, 1);\r\n      d2 = d0.plus(q.times(d1));\r\n      if (d2.comparedTo(md) == 1) break;\r\n      d0 = d1;\r\n      d1 = d2;\r\n      n1 = n0.plus(q.times(d2 = n1));\r\n      n0 = d2;\r\n      d = n.minus(q.times(d2 = d));\r\n      n = d2;\r\n    }\r\n\r\n    d2 = div(md.minus(d0), d1, 0, 1);\r\n    n0 = n0.plus(d2.times(n1));\r\n    d0 = d0.plus(d2.times(d1));\r\n    n0.s = n1.s = x.s;\r\n    e = e * 2;\r\n\r\n    // Determine which fraction is closer to x, n0/d0 or n1/d1\r\n    r = div(n1, d1, e, ROUNDING_MODE).minus(x).abs().comparedTo(\r\n        div(n0, d0, e, ROUNDING_MODE).minus(x).abs()) < 1 ? [n1, d1] : [n0, d0];\r\n\r\n    MAX_EXP = exp;\r\n\r\n    return r;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return the value of this BigNumber converted to a number primitive.\r\n   */\r\n  P.toNumber = function () {\r\n    return +valueOf(this);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber rounded to sd significant digits\r\n   * using rounding mode rm or ROUNDING_MODE. If sd is less than the number of digits\r\n   * necessary to represent the integer part of the value in fixed-point notation, then use\r\n   * exponential notation.\r\n   *\r\n   * [sd] {number} Significant digits. Integer, 1 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n   */\r\n  P.toPrecision = function (sd, rm) {\r\n    if (sd != null) intCheck(sd, 1, MAX);\r\n    return format(this, sd, rm, 2);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in base b, or base 10 if b is\r\n   * omitted. If a base is specified, including base 10, round according to DECIMAL_PLACES and\r\n   * ROUNDING_MODE. If a base is not specified, and this BigNumber has a positive exponent\r\n   * that is equal to or greater than TO_EXP_POS, or a negative exponent equal to or less than\r\n   * TO_EXP_NEG, return exponential notation.\r\n   *\r\n   * [b] {number} Integer, 2 to ALPHABET.length inclusive.\r\n   *\r\n   * '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n   */\r\n  P.toString = function (b) {\r\n    var str,\r\n      n = this,\r\n      s = n.s,\r\n      e = n.e;\r\n\r\n    // Infinity or NaN?\r\n    if (e === null) {\r\n      if (s) {\r\n        str = 'Infinity';\r\n        if (s < 0) str = '-' + str;\r\n      } else {\r\n        str = 'NaN';\r\n      }\r\n    } else {\r\n      if (b == null) {\r\n        str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n         ? toExponential(coeffToString(n.c), e)\r\n         : toFixedPoint(coeffToString(n.c), e, '0');\r\n      } else if (b === 10 && alphabetHasNormalDecimalDigits) {\r\n        n = round(new BigNumber(n), DECIMAL_PLACES + e + 1, ROUNDING_MODE);\r\n        str = toFixedPoint(coeffToString(n.c), n.e, '0');\r\n      } else {\r\n        intCheck(b, 2, ALPHABET.length, 'Base');\r\n        str = convertBase(toFixedPoint(coeffToString(n.c), e, '0'), 10, b, s, true);\r\n      }\r\n\r\n      if (s < 0 && n.c[0]) str = '-' + str;\r\n    }\r\n\r\n    return str;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return as toString, but do not accept a base argument, and include the minus sign for\r\n   * negative zero.\r\n   */\r\n  P.valueOf = P.toJSON = function () {\r\n    return valueOf(this);\r\n  };\r\n\r\n\r\n  P._isBigNumber = true;\r\n\r\n  P[Symbol.toStringTag] = 'BigNumber';\r\n\r\n  // Node.js v10.12.0+\r\n  P[Symbol.for('nodejs.util.inspect.custom')] = P.valueOf;\r\n\r\n  if (configObject != null) BigNumber.set(configObject);\r\n\r\n  return BigNumber;\r\n}\r\n\r\n\r\n// PRIVATE HELPER FUNCTIONS\r\n\r\n// These functions don't need access to variables,\r\n// e.g. DECIMAL_PLACES, in the scope of the `clone` function above.\r\n\r\n\r\nfunction bitFloor(n) {\r\n  var i = n | 0;\r\n  return n > 0 || n === i ? i : i - 1;\r\n}\r\n\r\n\r\n// Return a coefficient array as a string of base 10 digits.\r\nfunction coeffToString(a) {\r\n  var s, z,\r\n    i = 1,\r\n    j = a.length,\r\n    r = a[0] + '';\r\n\r\n  for (; i < j;) {\r\n    s = a[i++] + '';\r\n    z = LOG_BASE - s.length;\r\n    for (; z--; s = '0' + s);\r\n    r += s;\r\n  }\r\n\r\n  // Determine trailing zeros.\r\n  for (j = r.length; r.charCodeAt(--j) === 48;);\r\n\r\n  return r.slice(0, j + 1 || 1);\r\n}\r\n\r\n\r\n// Compare the value of BigNumbers x and y.\r\nfunction compare(x, y) {\r\n  var a, b,\r\n    xc = x.c,\r\n    yc = y.c,\r\n    i = x.s,\r\n    j = y.s,\r\n    k = x.e,\r\n    l = y.e;\r\n\r\n  // Either NaN?\r\n  if (!i || !j) return null;\r\n\r\n  a = xc && !xc[0];\r\n  b = yc && !yc[0];\r\n\r\n  // Either zero?\r\n  if (a || b) return a ? b ? 0 : -j : i;\r\n\r\n  // Signs differ?\r\n  if (i != j) return i;\r\n\r\n  a = i < 0;\r\n  b = k == l;\r\n\r\n  // Either Infinity?\r\n  if (!xc || !yc) return b ? 0 : !xc ^ a ? 1 : -1;\r\n\r\n  // Compare exponents.\r\n  if (!b) return k > l ^ a ? 1 : -1;\r\n\r\n  j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n  // Compare digit by digit.\r\n  for (i = 0; i < j; i++) if (xc[i] != yc[i]) return xc[i] > yc[i] ^ a ? 1 : -1;\r\n\r\n  // Compare lengths.\r\n  return k == l ? 0 : k > l ^ a ? 1 : -1;\r\n}\r\n\r\n\r\n/*\r\n * Check that n is a primitive number, an integer, and in range, otherwise throw.\r\n */\r\nfunction intCheck(n, min, max, name) {\r\n  if (n < min || n > max || n !== mathfloor(n)) {\r\n    throw Error\r\n     (bignumberError + (name || 'Argument') + (typeof n == 'number'\r\n       ? n < min || n > max ? ' out of range: ' : ' not an integer: '\r\n       : ' not a primitive number: ') + String(n));\r\n  }\r\n}\r\n\r\n\r\n// Assumes finite n.\r\nfunction isOdd(n) {\r\n  var k = n.c.length - 1;\r\n  return bitFloor(n.e / LOG_BASE) == k && n.c[k] % 2 != 0;\r\n}\r\n\r\n\r\nfunction toExponential(str, e) {\r\n  return (str.length > 1 ? str.charAt(0) + '.' + str.slice(1) : str) +\r\n   (e < 0 ? 'e' : 'e+') + e;\r\n}\r\n\r\n\r\nfunction toFixedPoint(str, e, z) {\r\n  var len, zs;\r\n\r\n  // Negative exponent?\r\n  if (e < 0) {\r\n\r\n    // Prepend zeros.\r\n    for (zs = z + '.'; ++e; zs += z);\r\n    str = zs + str;\r\n\r\n  // Positive exponent\r\n  } else {\r\n    len = str.length;\r\n\r\n    // Append zeros.\r\n    if (++e > len) {\r\n      for (zs = z, e -= len; --e; zs += z);\r\n      str += zs;\r\n    } else if (e < len) {\r\n      str = str.slice(0, e) + '.' + str.slice(e);\r\n    }\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\n\r\n// EXPORT\r\n\r\n\r\nexport var BigNumber = clone();\r\n\r\nexport default BigNumber;\r\n","import {\n  ESTIMATED_KEY_VALUE_SIZE,\n  ESTIMATED_NODE_SIZE,\n  EXTRA_STORAGE_BALANCE,\n  MINIMUM_STORAGE_IN_BYTES,\n  STORAGE_COST_PER_BYTES_IN_ATOMIC_UNITS\n} from \"./chunk-G2Z3ZTTP.mjs\";\n\n// src/utils.ts\nimport BigNumber from \"bignumber.js\";\nfunction validateAccountId(accountId) {\n  return accountId.length >= 2 && accountId.length <= 64 && /^(([a-z\\d]+[-_])*[a-z\\d]+\\.)*([a-z\\d]+[-_])*[a-z\\d]+$/.test(accountId);\n}\nfunction isObject(value) {\n  return value === Object(value) && !Array.isArray(value) && typeof value !== \"function\";\n}\nfunction parseKeysFromData(data) {\n  const parse = (keys, value) => {\n    if (value === null || typeof value !== \"object\") {\n      return keys.join(\"/\");\n    }\n    return Object.entries(value).flatMap(\n      ([key, val]) => parse([...keys, key], val)\n    );\n  };\n  return parse([], data);\n}\nfunction calculateSizeOfData(data) {\n  const calculate = (_data, previousData) => {\n    if (isObject(_data)) {\n      return Object.entries(_data).reduce(\n        (acc, [key, value]) => {\n          if (previousData && isObject(previousData)) {\n            const prev = previousData[key];\n            return acc + calculate(value, prev);\n          }\n          return acc + BigInt(key.length * 2) + calculate(value) + BigInt(ESTIMATED_KEY_VALUE_SIZE);\n        },\n        BigInt(isObject(previousData) ? 0 : ESTIMATED_NODE_SIZE)\n      );\n    }\n    return BigInt(\n      (typeof _data === \"string\" ? _data.length : 8) - (previousData && typeof previousData === \"string\" ? previousData.length : 0)\n    );\n  };\n  return calculate(data);\n}\nfunction calculateRequiredDeposit({\n  data,\n  storageBalance\n}) {\n  const minimumStorageCost = new BigNumber(\n    MINIMUM_STORAGE_IN_BYTES\n  ).multipliedBy(new BigNumber(STORAGE_COST_PER_BYTES_IN_ATOMIC_UNITS));\n  const storageCostOfData = new BigNumber(String(calculateSizeOfData(data))).plus(EXTRA_STORAGE_BALANCE).multipliedBy(STORAGE_COST_PER_BYTES_IN_ATOMIC_UNITS);\n  if (!storageBalance) {\n    return storageCostOfData.lt(minimumStorageCost) ? minimumStorageCost : storageCostOfData;\n  }\n  const storageDepositAvailable = new BigNumber(\n    storageBalance.available.toString()\n  );\n  return storageDepositAvailable.lt(storageCostOfData) ? storageCostOfData.minus(storageDepositAvailable) : new BigNumber(\"0\");\n}\nfunction uniqueAccountIdsFromKeys(keys) {\n  return keys.reduce((acc, currentValue) => {\n    const accountId = currentValue.split(\"/\")[0] || \"\";\n    return acc.find((value) => value === accountId) ? acc : [...acc, accountId];\n  }, []);\n}\n\nexport {\n  validateAccountId,\n  isObject,\n  parseKeysFromData,\n  calculateSizeOfData,\n  calculateRequiredDeposit,\n  uniqueAccountIdsFromKeys\n};\n//# sourceMappingURL=chunk-H7IJBNMA.mjs.map","import {\n  InvalidAccountIdError,\n  KeyNotAllowedError\n} from \"./chunk-35XQS2E7.mjs\";\nimport {\n  calculateRequiredDeposit,\n  parseKeysFromData,\n  uniqueAccountIdsFromKeys,\n  validateAccountId\n} from \"./chunk-H7IJBNMA.mjs\";\nimport {\n  DEFAULT_API_SERVER,\n  DEFAULT_CONTRACT_ID\n} from \"./chunk-G2Z3ZTTP.mjs\";\n\n// src/graph.ts\nimport { Amount, Near } from \"near-kit\";\nvar Graph = class {\n  near;\n  contractId;\n  apiServer;\n  defaultUseApiServer;\n  constructor(options) {\n    this.contractId = options?.contractId ?? DEFAULT_CONTRACT_ID;\n    this.apiServer = options?.apiServer ?? DEFAULT_API_SERVER;\n    this.defaultUseApiServer = options?.useApiServer ?? true;\n    if (options?.near) {\n      this.near = options.near;\n    } else {\n      this.near = new Near({\n        network: options?.network ?? \"mainnet\"\n      });\n    }\n  }\n  async fetchFromApi(endpoint, body) {\n    const response = await fetch(this.apiServer + endpoint, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(body)\n    });\n    return response.json();\n  }\n  async get({\n    keys,\n    blockHeight,\n    returnDeleted,\n    withBlockHeight,\n    withNodeId,\n    withTimestamp,\n    useApiServer\n  }) {\n    const shouldUseApi = useApiServer ?? this.defaultUseApiServer;\n    if (shouldUseApi) {\n      return this.fetchFromApi(\"/get\", {\n        keys,\n        blockHeight,\n        ...(returnDeleted || withBlockHeight || withTimestamp) && {\n          options: {\n            with_block_height: withBlockHeight,\n            return_deleted: returnDeleted,\n            with_timestamp: withTimestamp\n          }\n        }\n      });\n    }\n    const result = await this.near.view(\n      this.contractId,\n      \"get\",\n      {\n        keys,\n        ...(returnDeleted || withBlockHeight || withNodeId) && {\n          options: {\n            with_block_height: withBlockHeight,\n            with_node_id: withNodeId,\n            return_deleted: returnDeleted\n          }\n        }\n      }\n    );\n    return result ?? null;\n  }\n  async keys({\n    keys,\n    blockHeight,\n    returnDeleted,\n    returnType,\n    valuesOnly,\n    useApiServer\n  }) {\n    const shouldUseApi = useApiServer ?? this.defaultUseApiServer;\n    if (shouldUseApi) {\n      return this.fetchFromApi(\"/keys\", {\n        keys,\n        blockHeight,\n        ...(returnDeleted || returnType || valuesOnly) && {\n          options: {\n            return_deleted: returnDeleted,\n            return_type: returnType,\n            values_only: valuesOnly\n          }\n        }\n      });\n    }\n    const result = await this.near.view(this.contractId, \"keys\", {\n      keys,\n      ...(returnDeleted || returnType || valuesOnly) && {\n        options: {\n          return_deleted: returnDeleted,\n          return_type: returnType,\n          values_only: valuesOnly\n        }\n      }\n    });\n    return result ?? null;\n  }\n  async index({\n    action,\n    key,\n    accountId,\n    order,\n    limit,\n    from\n  }) {\n    return this.fetchFromApi(\"/index\", {\n      action,\n      key,\n      ...(accountId || order || limit || from) && {\n        options: { accountId, order, limit, from }\n      }\n    });\n  }\n  async getVersion() {\n    const version = await this.near.view(\n      this.contractId,\n      \"get_version\",\n      {}\n    );\n    if (typeof version !== \"string\") {\n      throw new Error(\n        `Unexpected response format from get_version: ${JSON.stringify(version)}`\n      );\n    }\n    return version;\n  }\n  async getAccount({\n    accountId\n  }) {\n    const result = await this.near.view(this.contractId, \"get_account\", {\n      account_id: accountId\n    });\n    return result ?? null;\n  }\n  async getAccounts({\n    fromIndex,\n    limit\n  } = {}) {\n    const result = await this.near.view(this.contractId, \"get_accounts\", {\n      ...fromIndex !== void 0 && { from_index: fromIndex },\n      ...limit !== void 0 && { limit }\n    });\n    return result ?? null;\n  }\n  async getAccountCount() {\n    const count = await this.near.view(\n      this.contractId,\n      \"get_account_count\",\n      {}\n    );\n    if (typeof count !== \"number\") {\n      throw new Error(\n        `Unexpected response format from get_account_count: ${JSON.stringify(count)}`\n      );\n    }\n    return count;\n  }\n  async getNode({\n    nodeId,\n    fromIndex,\n    limit\n  }) {\n    const result = await this.near.view(this.contractId, \"get_node\", {\n      node_id: nodeId,\n      ...fromIndex !== void 0 && { from_index: fromIndex },\n      ...limit !== void 0 && { limit }\n    });\n    return result ?? null;\n  }\n  async getNodes({ fromIndex, limit } = {}) {\n    const result = await this.near.view(this.contractId, \"get_nodes\", {\n      ...fromIndex !== void 0 && { from_index: fromIndex },\n      ...limit !== void 0 && { limit }\n    });\n    return result ?? null;\n  }\n  async getNodeCount() {\n    const count = await this.near.view(\n      this.contractId,\n      \"get_node_count\",\n      {}\n    );\n    if (typeof count !== \"number\") {\n      throw new Error(\n        `Unexpected response format from get_node_count: ${JSON.stringify(count)}`\n      );\n    }\n    return count;\n  }\n  async isWritePermissionGranted({\n    key,\n    granteeAccountId,\n    granteePublicKey\n  }) {\n    if (granteeAccountId) {\n      if (!validateAccountId(granteeAccountId)) {\n        throw new InvalidAccountIdError(\n          granteeAccountId,\n          \"the grantee account id is not valid\"\n        );\n      }\n      if (granteeAccountId === (key.split(\"/\")[0] || \"\")) {\n        return true;\n      }\n    }\n    const result = await this.near.view(\n      this.contractId,\n      \"is_write_permission_granted\",\n      {\n        key,\n        ...granteeAccountId && { predecessor_id: granteeAccountId },\n        ...granteePublicKey && { public_key: granteePublicKey }\n      }\n    );\n    if (typeof result !== \"boolean\") {\n      throw new Error(\n        `Unexpected response format from is_write_permission_granted: ${JSON.stringify(result)}`\n      );\n    }\n    return result;\n  }\n  async storageBalanceOf(accountId) {\n    const result = await this.near.view(\n      this.contractId,\n      \"storage_balance_of\",\n      { account_id: accountId }\n    );\n    if (!result) return null;\n    return {\n      available: String(result.available),\n      total: String(result.total)\n    };\n  }\n  async set({ signerId, data, deposit, refundUnusedDeposit }) {\n    const keys = parseKeysFromData(data);\n    for (const key of keys) {\n      const keyAccountId = key.split(\"/\")[0] || \"\";\n      if (keyAccountId !== signerId) {\n        const hasPermission = await this.isWritePermissionGranted({\n          key,\n          granteeAccountId: signerId\n        });\n        if (!hasPermission) {\n          throw new KeyNotAllowedError(\n            key,\n            `the signer has not been granted write permission for \"${key}\"`\n          );\n        }\n      }\n    }\n    let depositAmount;\n    if (deposit) {\n      depositAmount = BigInt(deposit);\n    } else {\n      const accountIds = uniqueAccountIdsFromKeys(keys);\n      if (accountIds.includes(signerId)) {\n        const storageBalance = await this.near.view(\n          this.contractId,\n          \"storage_balance_of\",\n          { account_id: signerId }\n        ) ?? null;\n        const calculatedDeposit = calculateRequiredDeposit({\n          data,\n          storageBalance\n        });\n        depositAmount = BigInt(calculatedDeposit.toFixed());\n      } else {\n        depositAmount = 1n;\n      }\n    }\n    return this.near.transaction(signerId).functionCall(\n      this.contractId,\n      \"set\",\n      {\n        data,\n        ...refundUnusedDeposit && {\n          options: { refund_unused_deposit: refundUnusedDeposit }\n        }\n      },\n      { gas: \"100 Tgas\", attachedDeposit: depositAmount }\n    );\n  }\n  async grantWritePermission({\n    signerId,\n    keys,\n    granteeAccountId,\n    granteePublicKey\n  }) {\n    if (granteeAccountId && !validateAccountId(granteeAccountId)) {\n      throw new InvalidAccountIdError(\n        granteeAccountId,\n        \"the grantee account id is not valid\"\n      );\n    }\n    for (const key of keys) {\n      const keyAccountId = key.split(\"/\")[0] || \"\";\n      if (!validateAccountId(keyAccountId)) {\n        throw new InvalidAccountIdError(keyAccountId);\n      }\n      if (keyAccountId !== signerId) {\n        throw new KeyNotAllowedError(\n          key,\n          `key \"${key}\" does not belong to granter \"${signerId}\"`\n        );\n      }\n    }\n    return this.near.transaction(signerId).functionCall(\n      this.contractId,\n      \"grant_write_permission\",\n      {\n        keys,\n        ...granteeAccountId && { predecessor_id: granteeAccountId },\n        ...granteePublicKey && { public_key: granteePublicKey }\n      },\n      { gas: \"30 Tgas\", attachedDeposit: Amount.ONE_YOCTO }\n    );\n  }\n  async storageDeposit({\n    signerId,\n    accountId,\n    deposit,\n    registrationOnly\n  }) {\n    const depositAmount = BigInt(deposit);\n    return this.near.transaction(signerId).functionCall(\n      this.contractId,\n      \"storage_deposit\",\n      {\n        ...accountId && { account_id: accountId },\n        ...registrationOnly && { registration_only: registrationOnly }\n      },\n      { gas: \"30 Tgas\", attachedDeposit: depositAmount }\n    );\n  }\n  async storageWithdraw({ signerId, amount }) {\n    return this.near.transaction(signerId).functionCall(\n      this.contractId,\n      \"storage_withdraw\",\n      { ...amount && { amount } },\n      { gas: \"30 Tgas\", attachedDeposit: Amount.ONE_YOCTO }\n    );\n  }\n  async storageUnregister({ signerId, force }) {\n    return this.near.transaction(signerId).functionCall(\n      this.contractId,\n      \"storage_unregister\",\n      { ...force !== void 0 && { force } },\n      { gas: \"30 Tgas\", attachedDeposit: Amount.ONE_YOCTO }\n    );\n  }\n  createDelegateKey(signerId, publicKey, allowance) {\n    return this.near.transaction(signerId).addKey(publicKey, {\n      type: \"functionCall\",\n      receiverId: this.contractId,\n      methodNames: [],\n      allowance: allowance ?? \"0.25 NEAR\"\n    });\n  }\n  getContractId() {\n    return this.contractId;\n  }\n};\n\nexport {\n  Graph\n};\n//# sourceMappingURL=chunk-4C2DNQLY.mjs.map","import * as qs from 'qs';\nconst OPTIONS_KEYS = [\n    'apiKey',\n    'idempotencyKey',\n    'stripeAccount',\n    'apiVersion',\n    'maxNetworkRetries',\n    'timeout',\n    'host',\n    'authenticator',\n    'stripeContext',\n    'additionalHeaders',\n    'streaming',\n];\nexport function isOptionsHash(o) {\n    return (o &&\n        typeof o === 'object' &&\n        OPTIONS_KEYS.some((prop) => Object.prototype.hasOwnProperty.call(o, prop)));\n}\n/**\n * Stringifies an Object, accommodating nested objects\n * (forming the conventional key 'parent[child]=value')\n */\nexport function queryStringifyRequestData(data, apiMode) {\n    return (qs\n        .stringify(data, {\n        serializeDate: (d) => Math.floor(d.getTime() / 1000).toString(),\n        // Always use indexed format for arrays\n        arrayFormat: 'indices',\n    })\n        // Don't use strict form encoding by changing the square bracket control\n        // characters back to their literals. This is fine by the server, and\n        // makes these parameter strings easier to read.\n        .replace(/%5B/g, '[')\n        .replace(/%5D/g, ']'));\n}\n/**\n * Outputs a new function with interpolated object property values.\n * Use like so:\n *   const fn = makeURLInterpolator('some/url/{param1}/{param2}');\n *   fn({ param1: 123, param2: 456 }); // => 'some/url/123/456'\n */\nexport const makeURLInterpolator = (() => {\n    const rc = {\n        '\\n': '\\\\n',\n        '\"': '\\\\\"',\n        '\\u2028': '\\\\u2028',\n        '\\u2029': '\\\\u2029',\n    };\n    return (str) => {\n        const cleanString = str.replace(/[\"\\n\\r\\u2028\\u2029]/g, ($0) => rc[$0]);\n        return (outputs) => {\n            return cleanString.replace(/\\{([\\s\\S]+?)\\}/g, ($0, $1) => {\n                const output = outputs[$1];\n                if (isValidEncodeUriComponentType(output))\n                    return encodeURIComponent(output);\n                return '';\n            });\n        };\n    };\n})();\nfunction isValidEncodeUriComponentType(value) {\n    return ['number', 'string', 'boolean'].includes(typeof value);\n}\nexport function extractUrlParams(path) {\n    const params = path.match(/\\{\\w+\\}/g);\n    if (!params) {\n        return [];\n    }\n    return params.map((param) => param.replace(/[{}]/g, ''));\n}\n/**\n * Return the data argument from a list of arguments\n *\n * @param {object[]} args\n * @returns {object}\n */\nexport function getDataFromArgs(args) {\n    if (!Array.isArray(args) || !args[0] || typeof args[0] !== 'object') {\n        return {};\n    }\n    if (!isOptionsHash(args[0])) {\n        return args.shift();\n    }\n    const argKeys = Object.keys(args[0]);\n    const optionKeysInArgs = argKeys.filter((key) => OPTIONS_KEYS.includes(key));\n    // In some cases options may be the provided as the first argument.\n    // Here we're detecting a case where there are two distinct arguments\n    // (the first being args and the second options) and with known\n    // option keys in the first so that we can warn the user about it.\n    if (optionKeysInArgs.length > 0 &&\n        optionKeysInArgs.length !== argKeys.length) {\n        emitWarning(`Options found in arguments (${optionKeysInArgs.join(', ')}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`);\n    }\n    return {};\n}\n/**\n * Return the options hash from a list of arguments\n */\nexport function getOptionsFromArgs(args) {\n    const opts = {\n        host: null,\n        headers: {},\n        settings: {},\n        streaming: false,\n    };\n    if (args.length > 0) {\n        const arg = args[args.length - 1];\n        if (typeof arg === 'string') {\n            opts.authenticator = createApiKeyAuthenticator(args.pop());\n        }\n        else if (isOptionsHash(arg)) {\n            const params = Object.assign({}, args.pop());\n            const extraKeys = Object.keys(params).filter((key) => !OPTIONS_KEYS.includes(key));\n            if (extraKeys.length) {\n                emitWarning(`Invalid options found (${extraKeys.join(', ')}); ignoring.`);\n            }\n            if (params.apiKey) {\n                opts.authenticator = createApiKeyAuthenticator(params.apiKey);\n            }\n            if (params.idempotencyKey) {\n                opts.headers['Idempotency-Key'] = params.idempotencyKey;\n            }\n            if (params.stripeAccount) {\n                opts.headers['Stripe-Account'] = params.stripeAccount;\n            }\n            if (params.stripeContext) {\n                if (opts.headers['Stripe-Account']) {\n                    throw new Error(\"Can't specify both stripeAccount and stripeContext.\");\n                }\n                opts.headers['Stripe-Context'] = params.stripeContext;\n            }\n            if (params.apiVersion) {\n                opts.headers['Stripe-Version'] = params.apiVersion;\n            }\n            if (Number.isInteger(params.maxNetworkRetries)) {\n                opts.settings.maxNetworkRetries = params.maxNetworkRetries;\n            }\n            if (Number.isInteger(params.timeout)) {\n                opts.settings.timeout = params.timeout;\n            }\n            if (params.host) {\n                opts.host = params.host;\n            }\n            if (params.authenticator) {\n                if (params.apiKey) {\n                    throw new Error(\"Can't specify both apiKey and authenticator.\");\n                }\n                if (typeof params.authenticator !== 'function') {\n                    throw new Error('The authenticator must be a function ' +\n                        'receiving a request as the first parameter.');\n                }\n                opts.authenticator = params.authenticator;\n            }\n            if (params.additionalHeaders) {\n                opts.headers = params.additionalHeaders;\n            }\n            if (params.streaming) {\n                opts.streaming = true;\n            }\n        }\n    }\n    return opts;\n}\n/**\n * Provide simple \"Class\" extension mechanism.\n * <!-- Public API accessible via Stripe.StripeResource.extend -->\n */\nexport function protoExtend(sub) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const Super = this;\n    const Constructor = Object.prototype.hasOwnProperty.call(sub, 'constructor')\n        ? sub.constructor\n        : function (...args) {\n            Super.apply(this, args);\n        };\n    // This initialization logic is somewhat sensitive to be compatible with\n    // divergent JS implementations like the one found in Qt. See here for more\n    // context:\n    //\n    // https://github.com/stripe/stripe-node/pull/334\n    Object.assign(Constructor, Super);\n    Constructor.prototype = Object.create(Super.prototype);\n    Object.assign(Constructor.prototype, sub);\n    return Constructor;\n}\n/**\n * Remove empty values from an object\n */\nexport function removeNullish(obj) {\n    if (typeof obj !== 'object') {\n        throw new Error('Argument must be an object');\n    }\n    return Object.keys(obj).reduce((result, key) => {\n        if (obj[key] != null) {\n            result[key] = obj[key];\n        }\n        return result;\n    }, {});\n}\n/**\n * Normalize standard HTTP Headers:\n * {'foo-bar': 'hi'}\n * becomes\n * {'Foo-Bar': 'hi'}\n */\nexport function normalizeHeaders(obj) {\n    if (!(obj && typeof obj === 'object')) {\n        return obj;\n    }\n    return Object.keys(obj).reduce((result, header) => {\n        result[normalizeHeader(header)] = obj[header];\n        return result;\n    }, {});\n}\n/**\n * Stolen from https://github.com/marten-de-vries/header-case-normalizer/blob/master/index.js#L36-L41\n * without the exceptions which are irrelevant to us.\n */\nexport function normalizeHeader(header) {\n    return header\n        .split('-')\n        .map((text) => text.charAt(0).toUpperCase() + text.substr(1).toLowerCase())\n        .join('-');\n}\nexport function callbackifyPromiseWithTimeout(promise, callback) {\n    if (callback) {\n        // Ensure callback is called outside of promise stack.\n        return promise.then((res) => {\n            setTimeout(() => {\n                callback(null, res);\n            }, 0);\n        }, (err) => {\n            setTimeout(() => {\n                callback(err, null);\n            }, 0);\n        });\n    }\n    return promise;\n}\n/**\n * Allow for special capitalization cases (such as OAuth)\n */\nexport function pascalToCamelCase(name) {\n    if (name === 'OAuth') {\n        return 'oauth';\n    }\n    else {\n        return name[0].toLowerCase() + name.substring(1);\n    }\n}\nexport function emitWarning(warning) {\n    if (typeof process.emitWarning !== 'function') {\n        return console.warn(`Stripe: ${warning}`); /* eslint-disable-line no-console */\n    }\n    return process.emitWarning(warning, 'Stripe');\n}\nexport function isObject(obj) {\n    const type = typeof obj;\n    return (type === 'function' || type === 'object') && !!obj;\n}\n// For use in multipart requests\nexport function flattenAndStringify(data) {\n    const result = {};\n    const step = (obj, prevKey) => {\n        Object.entries(obj).forEach(([key, value]) => {\n            const newKey = prevKey ? `${prevKey}[${key}]` : key;\n            if (isObject(value)) {\n                if (!(value instanceof Uint8Array) &&\n                    !Object.prototype.hasOwnProperty.call(value, 'data')) {\n                    // Non-buffer non-file Objects are recursively flattened\n                    return step(value, newKey);\n                }\n                else {\n                    // Buffers and file objects are stored without modification\n                    result[newKey] = value;\n                }\n            }\n            else {\n                // Primitives are converted to strings\n                result[newKey] = String(value);\n            }\n        });\n    };\n    step(data, null);\n    return result;\n}\nexport function validateInteger(name, n, defaultVal) {\n    if (!Number.isInteger(n)) {\n        if (defaultVal !== undefined) {\n            return defaultVal;\n        }\n        else {\n            throw new Error(`${name} must be an integer`);\n        }\n    }\n    return n;\n}\nexport function determineProcessUserAgentProperties() {\n    return typeof process === 'undefined'\n        ? {}\n        : {\n            lang_version: process.version,\n            platform: process.platform,\n        };\n}\nexport function createApiKeyAuthenticator(apiKey) {\n    const authenticator = (request) => {\n        request.headers.Authorization = 'Bearer ' + apiKey;\n        return Promise.resolve();\n    };\n    // For testing\n    authenticator._apiKey = apiKey;\n    return authenticator;\n}\n/**\n * Joins an array of Uint8Arrays into a single Uint8Array\n */\nexport function concat(arrays) {\n    const totalLength = arrays.reduce((len, array) => len + array.length, 0);\n    const merged = new Uint8Array(totalLength);\n    let offset = 0;\n    arrays.forEach((array) => {\n        merged.set(array, offset);\n        offset += array.length;\n    });\n    return merged;\n}\n/**\n * Replaces Date objects with Unix timestamps\n */\nfunction dateTimeReplacer(key, value) {\n    if (this[key] instanceof Date) {\n        return Math.floor(this[key].getTime() / 1000).toString();\n    }\n    return value;\n}\n/**\n * JSON stringifies an Object, replacing Date objects with Unix timestamps\n */\nexport function jsonStringifyRequestData(data) {\n    return JSON.stringify(data, dateTimeReplacer);\n}\n/**\n * Inspects the given path to determine if the endpoint is for v1 or v2 API\n */\nexport function getAPIMode(path) {\n    if (!path) {\n        return 'v1';\n    }\n    return path.startsWith('/v2') ? 'v2' : 'v1';\n}\nexport function parseHttpHeaderAsString(header) {\n    if (Array.isArray(header)) {\n        return header.join(', ');\n    }\n    return String(header);\n}\nexport function parseHttpHeaderAsNumber(header) {\n    const number = Array.isArray(header) ? header[0] : header;\n    return Number(number);\n}\nexport function parseHeadersForFetch(headers) {\n    return Object.entries(headers).map(([key, value]) => {\n        return [key, parseHttpHeaderAsString(value)];\n    });\n}\n","/**\n * Interface encapsulating the various crypto computations used by the library,\n * allowing pluggable underlying crypto implementations.\n */\nexport class CryptoProvider {\n    /**\n     * Computes a SHA-256 HMAC given a secret and a payload (encoded in UTF-8).\n     * The output HMAC should be encoded in hexadecimal.\n     *\n     * Sample values for implementations:\n     * - computeHMACSignature('', 'test_secret') => 'f7f9bd47fb987337b5796fdc1fdb9ba221d0d5396814bfcaf9521f43fd8927fd'\n     * - computeHMACSignature('\\ud83d\\ude00', 'test_secret') => '837da296d05c4fe31f61d5d7ead035099d9585a5bcde87de952012a78f0b0c43\n     */\n    computeHMACSignature(payload, secret) {\n        throw new Error('computeHMACSignature not implemented.');\n    }\n    /**\n     * Asynchronous version of `computeHMACSignature`. Some implementations may\n     * only allow support async signature computation.\n     *\n     * Computes a SHA-256 HMAC given a secret and a payload (encoded in UTF-8).\n     * The output HMAC should be encoded in hexadecimal.\n     *\n     * Sample values for implementations:\n     * - computeHMACSignature('', 'test_secret') => 'f7f9bd47fb987337b5796fdc1fdb9ba221d0d5396814bfcaf9521f43fd8927fd'\n     * - computeHMACSignature('\\ud83d\\ude00', 'test_secret') => '837da296d05c4fe31f61d5d7ead035099d9585a5bcde87de952012a78f0b0c43\n     */\n    computeHMACSignatureAsync(payload, secret) {\n        throw new Error('computeHMACSignatureAsync not implemented.');\n    }\n    /**\n     * Computes a SHA-256 hash of the data.\n     */\n    computeSHA256Async(data) {\n        throw new Error('computeSHA256 not implemented.');\n    }\n}\n/**\n * If the crypto provider only supports asynchronous operations,\n * throw CryptoProviderOnlySupportsAsyncError instead of\n * a generic error so that the caller can choose to provide\n * a more helpful error message to direct the user to use\n * an asynchronous pathway.\n */\nexport class CryptoProviderOnlySupportsAsyncError extends Error {\n}\n","import * as crypto from 'crypto';\nimport { CryptoProvider } from './CryptoProvider.js';\n/**\n * `CryptoProvider which uses the Node `crypto` package for its computations.\n */\nexport class NodeCryptoProvider extends CryptoProvider {\n    /** @override */\n    computeHMACSignature(payload, secret) {\n        return crypto\n            .createHmac('sha256', secret)\n            .update(payload, 'utf8')\n            .digest('hex');\n    }\n    /** @override */\n    async computeHMACSignatureAsync(payload, secret) {\n        const signature = await this.computeHMACSignature(payload, secret);\n        return signature;\n    }\n    /** @override */\n    async computeSHA256Async(data) {\n        return new Uint8Array(await crypto\n            .createHash('sha256')\n            .update(data)\n            .digest());\n    }\n}\n","/**\n * Encapsulates the logic for issuing a request to the Stripe API.\n *\n * A custom HTTP client should should implement:\n * 1. A response class which extends HttpClientResponse and wraps around their\n *    own internal representation of a response.\n * 2. A client class which extends HttpClient and implements all methods,\n *    returning their own response class when making requests.\n */\nexport class HttpClient {\n    /** The client name used for diagnostics. */\n    getClientName() {\n        throw new Error('getClientName not implemented.');\n    }\n    makeRequest(host, port, path, method, headers, requestData, protocol, timeout) {\n        throw new Error('makeRequest not implemented.');\n    }\n    /** Helper to make a consistent timeout error across implementations. */\n    static makeTimeoutError() {\n        const timeoutErr = new TypeError(HttpClient.TIMEOUT_ERROR_CODE);\n        timeoutErr.code = HttpClient.TIMEOUT_ERROR_CODE;\n        return timeoutErr;\n    }\n}\n// Public API accessible via Stripe.HttpClient\nHttpClient.CONNECTION_CLOSED_ERROR_CODES = ['ECONNRESET', 'EPIPE'];\nHttpClient.TIMEOUT_ERROR_CODE = 'ETIMEDOUT';\nexport class HttpClientResponse {\n    constructor(statusCode, headers) {\n        this._statusCode = statusCode;\n        this._headers = headers;\n    }\n    getStatusCode() {\n        return this._statusCode;\n    }\n    getHeaders() {\n        return this._headers;\n    }\n    getRawResponse() {\n        throw new Error('getRawResponse not implemented.');\n    }\n    toStream(streamCompleteCallback) {\n        throw new Error('toStream not implemented.');\n    }\n    toJSON() {\n        throw new Error('toJSON not implemented.');\n    }\n}\n","import * as http_ from 'http';\nimport * as https_ from 'https';\nimport { HttpClient, HttpClientResponse, } from './HttpClient.js';\n// `import * as http_ from 'http'` creates a \"Module Namespace Exotic Object\"\n// which is immune to monkey-patching, whereas http_.default (in an ES Module context)\n// will resolve to the same thing as require('http'), which is\n// monkey-patchable. We care about this because users in their test\n// suites might be using a library like \"nock\" which relies on the ability\n// to monkey-patch and intercept calls to http.request.\nconst http = http_.default || http_;\nconst https = https_.default || https_;\nconst defaultHttpAgent = new http.Agent({ keepAlive: true });\nconst defaultHttpsAgent = new https.Agent({ keepAlive: true });\n/**\n * HTTP client which uses the Node `http` and `https` packages to issue\n * requests.`\n */\nexport class NodeHttpClient extends HttpClient {\n    constructor(agent) {\n        super();\n        this._agent = agent;\n    }\n    /** @override. */\n    getClientName() {\n        return 'node';\n    }\n    makeRequest(host, port, path, method, headers, requestData, protocol, timeout) {\n        const isInsecureConnection = protocol === 'http';\n        let agent = this._agent;\n        if (!agent) {\n            agent = isInsecureConnection ? defaultHttpAgent : defaultHttpsAgent;\n        }\n        const requestPromise = new Promise((resolve, reject) => {\n            const req = (isInsecureConnection ? http : https).request({\n                host: host,\n                port: port,\n                path,\n                method,\n                agent,\n                headers,\n                ciphers: 'DEFAULT:!aNULL:!eNULL:!LOW:!EXPORT:!SSLv2:!MD5',\n            });\n            req.setTimeout(timeout, () => {\n                req.destroy(HttpClient.makeTimeoutError());\n            });\n            req.on('response', (res) => {\n                resolve(new NodeHttpClientResponse(res));\n            });\n            req.on('error', (error) => {\n                reject(error);\n            });\n            req.once('socket', (socket) => {\n                if (socket.connecting) {\n                    socket.once(isInsecureConnection ? 'connect' : 'secureConnect', () => {\n                        // Send payload; we're safe:\n                        req.write(requestData);\n                        req.end();\n                    });\n                }\n                else {\n                    // we're already connected\n                    req.write(requestData);\n                    req.end();\n                }\n            });\n        });\n        return requestPromise;\n    }\n}\nexport class NodeHttpClientResponse extends HttpClientResponse {\n    constructor(res) {\n        // @ts-ignore\n        super(res.statusCode, res.headers || {});\n        this._res = res;\n    }\n    getRawResponse() {\n        return this._res;\n    }\n    toStream(streamCompleteCallback) {\n        // The raw response is itself the stream, so we just return that. To be\n        // backwards compatible, we should invoke the streamCompleteCallback only\n        // once the stream has been fully consumed.\n        this._res.once('end', () => streamCompleteCallback());\n        return this._res;\n    }\n    toJSON() {\n        return new Promise((resolve, reject) => {\n            let response = '';\n            this._res.setEncoding('utf8');\n            this._res.on('data', (chunk) => {\n                response += chunk;\n            });\n            this._res.once('end', () => {\n                try {\n                    resolve(JSON.parse(response));\n                }\n                catch (e) {\n                    reject(e);\n                }\n            });\n        });\n    }\n}\n","import { parseHeadersForFetch } from '../utils.js';\nimport { HttpClient, HttpClientResponse, } from './HttpClient.js';\n/**\n * HTTP client which uses a `fetch` function to issue requests.\n *\n * By default relies on the global `fetch` function, but an optional function\n * can be passed in. If passing in a function, it is expected to match the Web\n * Fetch API. As an example, this could be the function provided by the\n * node-fetch package (https://github.com/node-fetch/node-fetch).\n */\nexport class FetchHttpClient extends HttpClient {\n    constructor(fetchFn) {\n        super();\n        // Default to global fetch if available\n        if (!fetchFn) {\n            if (!globalThis.fetch) {\n                throw new Error('fetch() function not provided and is not defined in the global scope. ' +\n                    'You must provide a fetch implementation.');\n            }\n            fetchFn = globalThis.fetch;\n        }\n        // Both timeout behaviors differs from Node:\n        // - Fetch uses a single timeout for the entire length of the request.\n        // - Node is more fine-grained and resets the timeout after each stage of the request.\n        if (globalThis.AbortController) {\n            // Utilise native AbortController if available\n            // AbortController was added in Node v15.0.0, v14.17.0\n            this._fetchFn = FetchHttpClient.makeFetchWithAbortTimeout(fetchFn);\n        }\n        else {\n            // Fall back to racing against a timeout promise if not available in the runtime\n            // This does not actually cancel the underlying fetch operation or resources\n            this._fetchFn = FetchHttpClient.makeFetchWithRaceTimeout(fetchFn);\n        }\n    }\n    static makeFetchWithRaceTimeout(fetchFn) {\n        return (url, init, timeout) => {\n            let pendingTimeoutId;\n            const timeoutPromise = new Promise((_, reject) => {\n                pendingTimeoutId = setTimeout(() => {\n                    pendingTimeoutId = null;\n                    reject(HttpClient.makeTimeoutError());\n                }, timeout);\n            });\n            const fetchPromise = fetchFn(url, init);\n            return Promise.race([fetchPromise, timeoutPromise]).finally(() => {\n                if (pendingTimeoutId) {\n                    clearTimeout(pendingTimeoutId);\n                }\n            });\n        };\n    }\n    static makeFetchWithAbortTimeout(fetchFn) {\n        return async (url, init, timeout) => {\n            // Use AbortController because AbortSignal.timeout() was added later in Node v17.3.0, v16.14.0\n            const abort = new AbortController();\n            let timeoutId = setTimeout(() => {\n                timeoutId = null;\n                abort.abort(HttpClient.makeTimeoutError());\n            }, timeout);\n            try {\n                return await fetchFn(url, Object.assign(Object.assign({}, init), { signal: abort.signal }));\n            }\n            catch (err) {\n                // Some implementations, like node-fetch, do not respect the reason passed to AbortController.abort()\n                // and instead it always throws an AbortError\n                // We catch this case to normalise all timeout errors\n                if (err.name === 'AbortError') {\n                    throw HttpClient.makeTimeoutError();\n                }\n                else {\n                    throw err;\n                }\n            }\n            finally {\n                if (timeoutId) {\n                    clearTimeout(timeoutId);\n                }\n            }\n        };\n    }\n    /** @override. */\n    getClientName() {\n        return 'fetch';\n    }\n    async makeRequest(host, port, path, method, headers, requestData, protocol, timeout) {\n        const isInsecureConnection = protocol === 'http';\n        const url = new URL(path, `${isInsecureConnection ? 'http' : 'https'}://${host}`);\n        url.port = port;\n        // For methods which expect payloads, we should always pass a body value\n        // even when it is empty. Without this, some JS runtimes (eg. Deno) will\n        // inject a second Content-Length header. See https://github.com/stripe/stripe-node/issues/1519\n        // for more details.\n        const methodHasPayload = method == 'POST' || method == 'PUT' || method == 'PATCH';\n        const body = requestData || (methodHasPayload ? '' : undefined);\n        const res = await this._fetchFn(url.toString(), {\n            method,\n            headers: parseHeadersForFetch(headers),\n            body: body,\n        }, timeout);\n        return new FetchHttpClientResponse(res);\n    }\n}\nexport class FetchHttpClientResponse extends HttpClientResponse {\n    constructor(res) {\n        super(res.status, FetchHttpClientResponse._transformHeadersToObject(res.headers));\n        this._res = res;\n    }\n    getRawResponse() {\n        return this._res;\n    }\n    toStream(streamCompleteCallback) {\n        // Unfortunately `fetch` does not have event handlers for when the stream is\n        // completely read. We therefore invoke the streamCompleteCallback right\n        // away. This callback emits a response event with metadata and completes\n        // metrics, so it's ok to do this without waiting for the stream to be\n        // completely read.\n        streamCompleteCallback();\n        // Fetch's `body` property is expected to be a readable stream of the body.\n        return this._res.body;\n    }\n    toJSON() {\n        return this._res.json();\n    }\n    static _transformHeadersToObject(headers) {\n        // Fetch uses a Headers instance so this must be converted to a barebones\n        // JS object to meet the HttpClient interface.\n        const headersObj = {};\n        for (const entry of headers) {\n            if (!Array.isArray(entry) || entry.length != 2) {\n                throw new Error('Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.');\n            }\n            headersObj[entry[0]] = entry[1];\n        }\n        return headersObj;\n    }\n}\n","import { CryptoProvider, CryptoProviderOnlySupportsAsyncError, } from './CryptoProvider.js';\n/**\n * `CryptoProvider which uses the SubtleCrypto interface of the Web Crypto API.\n *\n * This only supports asynchronous operations.\n */\nexport class SubtleCryptoProvider extends CryptoProvider {\n    constructor(subtleCrypto) {\n        super();\n        // If no subtle crypto is interface, default to the global namespace. This\n        // is to allow custom interfaces (eg. using the Node webcrypto interface in\n        // tests).\n        this.subtleCrypto = subtleCrypto || crypto.subtle;\n    }\n    /** @override */\n    computeHMACSignature(payload, secret) {\n        throw new CryptoProviderOnlySupportsAsyncError('SubtleCryptoProvider cannot be used in a synchronous context.');\n    }\n    /** @override */\n    async computeHMACSignatureAsync(payload, secret) {\n        const encoder = new TextEncoder();\n        const key = await this.subtleCrypto.importKey('raw', encoder.encode(secret), {\n            name: 'HMAC',\n            hash: { name: 'SHA-256' },\n        }, false, ['sign']);\n        const signatureBuffer = await this.subtleCrypto.sign('hmac', key, encoder.encode(payload));\n        // crypto.subtle returns the signature in base64 format. This must be\n        // encoded in hex to match the CryptoProvider contract. We map each byte in\n        // the buffer to its corresponding hex octet and then combine into a string.\n        const signatureBytes = new Uint8Array(signatureBuffer);\n        const signatureHexCodes = new Array(signatureBytes.length);\n        for (let i = 0; i < signatureBytes.length; i++) {\n            signatureHexCodes[i] = byteHexMapping[signatureBytes[i]];\n        }\n        return signatureHexCodes.join('');\n    }\n    /** @override */\n    async computeSHA256Async(data) {\n        return new Uint8Array(await this.subtleCrypto.digest('SHA-256', data));\n    }\n}\n// Cached mapping of byte to hex representation. We do this once to avoid re-\n// computing every time we need to convert the result of a signature to hex.\nconst byteHexMapping = new Array(256);\nfor (let i = 0; i < byteHexMapping.length; i++) {\n    byteHexMapping[i] = i.toString(16).padStart(2, '0');\n}\n","import { FetchHttpClient } from '../net/FetchHttpClient.js';\nimport { SubtleCryptoProvider } from '../crypto/SubtleCryptoProvider.js';\n/**\n * Interface encapsulating various utility functions whose\n * implementations depend on the platform / JS runtime.\n */\nexport class PlatformFunctions {\n    constructor() {\n        this._fetchFn = null;\n        this._agent = null;\n    }\n    /**\n     * Gets uname with Node's built-in `exec` function, if available.\n     */\n    getUname() {\n        throw new Error('getUname not implemented.');\n    }\n    /**\n     * Generates a v4 UUID. See https://stackoverflow.com/a/2117523\n     */\n    uuid4() {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n            const r = (Math.random() * 16) | 0;\n            const v = c === 'x' ? r : (r & 0x3) | 0x8;\n            return v.toString(16);\n        });\n    }\n    /**\n     * Compares strings in constant time.\n     */\n    secureCompare(a, b) {\n        // return early here if buffer lengths are not equal\n        if (a.length !== b.length) {\n            return false;\n        }\n        const len = a.length;\n        let result = 0;\n        for (let i = 0; i < len; ++i) {\n            result |= a.charCodeAt(i) ^ b.charCodeAt(i);\n        }\n        return result === 0;\n    }\n    /**\n     * Creates an event emitter.\n     */\n    createEmitter() {\n        throw new Error('createEmitter not implemented.');\n    }\n    /**\n     * Checks if the request data is a stream. If so, read the entire stream\n     * to a buffer and return the buffer.\n     */\n    tryBufferData(data) {\n        throw new Error('tryBufferData not implemented.');\n    }\n    /**\n     * Creates an HTTP client which uses the Node `http` and `https` packages\n     * to issue requests.\n     */\n    createNodeHttpClient(agent) {\n        throw new Error('createNodeHttpClient not implemented.');\n    }\n    /**\n     * Creates an HTTP client for issuing Stripe API requests which uses the Web\n     * Fetch API.\n     *\n     * A fetch function can optionally be passed in as a parameter. If none is\n     * passed, will default to the default `fetch` function in the global scope.\n     */\n    createFetchHttpClient(fetchFn) {\n        return new FetchHttpClient(fetchFn);\n    }\n    /**\n     * Creates an HTTP client using runtime-specific APIs.\n     */\n    createDefaultHttpClient() {\n        throw new Error('createDefaultHttpClient not implemented.');\n    }\n    /**\n     * Creates a CryptoProvider which uses the Node `crypto` package for its computations.\n     */\n    createNodeCryptoProvider() {\n        throw new Error('createNodeCryptoProvider not implemented.');\n    }\n    /**\n     * Creates a CryptoProvider which uses the SubtleCrypto interface of the Web Crypto API.\n     */\n    createSubtleCryptoProvider(subtleCrypto) {\n        return new SubtleCryptoProvider(subtleCrypto);\n    }\n    createDefaultCryptoProvider() {\n        throw new Error('createDefaultCryptoProvider not implemented.');\n    }\n}\n","/* eslint-disable camelcase */\n/* eslint-disable no-warning-comments */\nexport const generateV1Error = (rawStripeError) => {\n    switch (rawStripeError.type) {\n        case 'card_error':\n            return new StripeCardError(rawStripeError);\n        case 'invalid_request_error':\n            return new StripeInvalidRequestError(rawStripeError);\n        case 'api_error':\n            return new StripeAPIError(rawStripeError);\n        case 'authentication_error':\n            return new StripeAuthenticationError(rawStripeError);\n        case 'rate_limit_error':\n            return new StripeRateLimitError(rawStripeError);\n        case 'idempotency_error':\n            return new StripeIdempotencyError(rawStripeError);\n        case 'invalid_grant':\n            return new StripeInvalidGrantError(rawStripeError);\n        default:\n            return new StripeUnknownError(rawStripeError);\n    }\n};\n// eslint-disable-next-line complexity\nexport const generateV2Error = (rawStripeError) => {\n    switch (rawStripeError.type) {\n        // switchCases: The beginning of the section generated from our OpenAPI spec\n        case 'temporary_session_expired':\n            return new TemporarySessionExpiredError(rawStripeError);\n        // switchCases: The end of the section generated from our OpenAPI spec\n    }\n    // Special handling for requests with missing required fields in V2 APIs.\n    // invalid_field response in V2 APIs returns the field 'code' instead of 'type'.\n    switch (rawStripeError.code) {\n        case 'invalid_fields':\n            return new StripeInvalidRequestError(rawStripeError);\n    }\n    return generateV1Error(rawStripeError);\n};\n/**\n * StripeError is the base error from which all other more specific Stripe errors derive.\n * Specifically for errors returned from Stripe's REST API.\n */\nexport class StripeError extends Error {\n    constructor(raw = {}, type = null) {\n        var _a;\n        super(raw.message);\n        this.type = type || this.constructor.name;\n        this.raw = raw;\n        this.rawType = raw.type;\n        this.code = raw.code;\n        this.doc_url = raw.doc_url;\n        this.param = raw.param;\n        this.detail = raw.detail;\n        this.headers = raw.headers;\n        this.requestId = raw.requestId;\n        this.statusCode = raw.statusCode;\n        this.message = (_a = raw.message) !== null && _a !== void 0 ? _a : '';\n        this.userMessage = raw.user_message;\n        this.charge = raw.charge;\n        this.decline_code = raw.decline_code;\n        this.payment_intent = raw.payment_intent;\n        this.payment_method = raw.payment_method;\n        this.payment_method_type = raw.payment_method_type;\n        this.setup_intent = raw.setup_intent;\n        this.source = raw.source;\n    }\n}\n/**\n * Helper factory which takes raw stripe errors and outputs wrapping instances\n */\nStripeError.generate = generateV1Error;\n// Specific Stripe Error types:\n/**\n * CardError is raised when a user enters a card that can't be charged for\n * some reason.\n */\nexport class StripeCardError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeCardError');\n    }\n}\n/**\n * InvalidRequestError is raised when a request is initiated with invalid\n * parameters.\n */\nexport class StripeInvalidRequestError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeInvalidRequestError');\n    }\n}\n/**\n * APIError is a generic error that may be raised in cases where none of the\n * other named errors cover the problem. It could also be raised in the case\n * that a new error has been introduced in the API, but this version of the\n * Node.JS SDK doesn't know how to handle it.\n */\nexport class StripeAPIError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeAPIError');\n    }\n}\n/**\n * AuthenticationError is raised when invalid credentials are used to connect\n * to Stripe's servers.\n */\nexport class StripeAuthenticationError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeAuthenticationError');\n    }\n}\n/**\n * PermissionError is raised in cases where access was attempted on a resource\n * that wasn't allowed.\n */\nexport class StripePermissionError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripePermissionError');\n    }\n}\n/**\n * RateLimitError is raised in cases where an account is putting too much load\n * on Stripe's API servers (usually by performing too many requests). Please\n * back off on request rate.\n */\nexport class StripeRateLimitError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeRateLimitError');\n    }\n}\n/**\n * StripeConnectionError is raised in the event that the SDK can't connect to\n * Stripe's servers. That can be for a variety of different reasons from a\n * downed network to a bad TLS certificate.\n */\nexport class StripeConnectionError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeConnectionError');\n    }\n}\n/**\n * SignatureVerificationError is raised when the signature verification for a\n * webhook fails\n */\nexport class StripeSignatureVerificationError extends StripeError {\n    constructor(header, payload, raw = {}) {\n        super(raw, 'StripeSignatureVerificationError');\n        this.header = header;\n        this.payload = payload;\n    }\n}\n/**\n * IdempotencyError is raised in cases where an idempotency key was used\n * improperly.\n */\nexport class StripeIdempotencyError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeIdempotencyError');\n    }\n}\n/**\n * InvalidGrantError is raised when a specified code doesn't exist, is\n * expired, has been used, or doesn't belong to you; a refresh token doesn't\n * exist, or doesn't belong to you; or if an API key's mode (live or test)\n * doesn't match the mode of a code or refresh token.\n */\nexport class StripeInvalidGrantError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeInvalidGrantError');\n    }\n}\n/**\n * Any other error from Stripe not specifically captured above\n */\nexport class StripeUnknownError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeUnknownError');\n    }\n}\n// classDefinitions: The beginning of the section generated from our OpenAPI spec\nexport class TemporarySessionExpiredError extends StripeError {\n    constructor(rawStripeError = {}) {\n        super(rawStripeError, 'TemporarySessionExpiredError');\n    }\n}\n// classDefinitions: The end of the section generated from our OpenAPI spec\n","import * as crypto from 'crypto';\nimport { EventEmitter } from 'events';\nimport { NodeCryptoProvider } from '../crypto/NodeCryptoProvider.js';\nimport { NodeHttpClient } from '../net/NodeHttpClient.js';\nimport { PlatformFunctions } from './PlatformFunctions.js';\nimport { StripeError } from '../Error.js';\nimport { concat } from '../utils.js';\nimport { exec } from 'child_process';\nclass StreamProcessingError extends StripeError {\n}\n/**\n * Specializes WebPlatformFunctions using APIs available in Node.js.\n */\nexport class NodePlatformFunctions extends PlatformFunctions {\n    constructor() {\n        super();\n        this._exec = exec;\n        this._UNAME_CACHE = null;\n    }\n    /** @override */\n    uuid4() {\n        // available in: v14.17.x+\n        if (crypto.randomUUID) {\n            return crypto.randomUUID();\n        }\n        return super.uuid4();\n    }\n    /**\n     * @override\n     * Node's built in `exec` function sometimes throws outright,\n     * and sometimes has a callback with an error,\n     * depending on the type of error.\n     *\n     * This unifies that interface by resolving with a null uname\n     * if an error is encountered.\n     */\n    getUname() {\n        if (!this._UNAME_CACHE) {\n            this._UNAME_CACHE = new Promise((resolve, reject) => {\n                try {\n                    this._exec('uname -a', (err, uname) => {\n                        if (err) {\n                            return resolve(null);\n                        }\n                        resolve(uname);\n                    });\n                }\n                catch (e) {\n                    resolve(null);\n                }\n            });\n        }\n        return this._UNAME_CACHE;\n    }\n    /**\n     * @override\n     * Secure compare, from https://github.com/freewil/scmp\n     */\n    secureCompare(a, b) {\n        if (!a || !b) {\n            throw new Error('secureCompare must receive two arguments');\n        }\n        // return early here if buffer lengths are not equal since timingSafeEqual\n        // will throw if buffer lengths are not equal\n        if (a.length !== b.length) {\n            return false;\n        }\n        // use crypto.timingSafeEqual if available (since Node.js v6.6.0),\n        // otherwise use our own scmp-internal function.\n        if (crypto.timingSafeEqual) {\n            const textEncoder = new TextEncoder();\n            const aEncoded = textEncoder.encode(a);\n            const bEncoded = textEncoder.encode(b);\n            return crypto.timingSafeEqual(aEncoded, bEncoded);\n        }\n        return super.secureCompare(a, b);\n    }\n    createEmitter() {\n        return new EventEmitter();\n    }\n    /** @override */\n    tryBufferData(data) {\n        if (!(data.file.data instanceof EventEmitter)) {\n            return Promise.resolve(data);\n        }\n        const bufferArray = [];\n        return new Promise((resolve, reject) => {\n            data.file.data\n                .on('data', (line) => {\n                bufferArray.push(line);\n            })\n                .once('end', () => {\n                // @ts-ignore\n                const bufferData = Object.assign({}, data);\n                bufferData.file.data = concat(bufferArray);\n                resolve(bufferData);\n            })\n                .on('error', (err) => {\n                reject(new StreamProcessingError({\n                    message: 'An error occurred while attempting to process the file for upload.',\n                    detail: err,\n                }));\n            });\n        });\n    }\n    /** @override */\n    createNodeHttpClient(agent) {\n        return new NodeHttpClient(agent);\n    }\n    /** @override */\n    createDefaultHttpClient() {\n        return new NodeHttpClient();\n    }\n    /** @override */\n    createNodeCryptoProvider() {\n        return new NodeCryptoProvider();\n    }\n    /** @override */\n    createDefaultCryptoProvider() {\n        return this.createNodeCryptoProvider();\n    }\n}\n","import { StripeAPIError, StripeAuthenticationError, StripeConnectionError, StripeError, StripePermissionError, StripeRateLimitError, generateV1Error, generateV2Error, } from './Error.js';\nimport { HttpClient } from './net/HttpClient.js';\nimport { emitWarning, jsonStringifyRequestData, normalizeHeaders, queryStringifyRequestData, removeNullish, getAPIMode, getOptionsFromArgs, getDataFromArgs, parseHttpHeaderAsString, parseHttpHeaderAsNumber, } from './utils.js';\nconst MAX_RETRY_AFTER_WAIT = 60;\nexport class RequestSender {\n    constructor(stripe, maxBufferedRequestMetric) {\n        this._stripe = stripe;\n        this._maxBufferedRequestMetric = maxBufferedRequestMetric;\n    }\n    _normalizeStripeContext(optsContext, clientContext) {\n        if (optsContext) {\n            return optsContext.toString() || null; // return null for empty strings\n        }\n        return (clientContext === null || clientContext === void 0 ? void 0 : clientContext.toString()) || null; // return null for empty strings\n    }\n    _addHeadersDirectlyToObject(obj, headers) {\n        // For convenience, make some headers easily accessible on\n        // lastResponse.\n        // NOTE: Stripe responds with lowercase header names/keys.\n        obj.requestId = headers['request-id'];\n        obj.stripeAccount = obj.stripeAccount || headers['stripe-account'];\n        obj.apiVersion = obj.apiVersion || headers['stripe-version'];\n        obj.idempotencyKey = obj.idempotencyKey || headers['idempotency-key'];\n    }\n    _makeResponseEvent(requestEvent, statusCode, headers) {\n        const requestEndTime = Date.now();\n        const requestDurationMs = requestEndTime - requestEvent.request_start_time;\n        return removeNullish({\n            api_version: headers['stripe-version'],\n            account: headers['stripe-account'],\n            idempotency_key: headers['idempotency-key'],\n            method: requestEvent.method,\n            path: requestEvent.path,\n            status: statusCode,\n            request_id: this._getRequestId(headers),\n            elapsed: requestDurationMs,\n            request_start_time: requestEvent.request_start_time,\n            request_end_time: requestEndTime,\n        });\n    }\n    _getRequestId(headers) {\n        return headers['request-id'];\n    }\n    /**\n     * Used by methods with spec.streaming === true. For these methods, we do not\n     * buffer successful responses into memory or do parse them into stripe\n     * objects, we delegate that all of that to the user and pass back the raw\n     * http.Response object to the callback.\n     *\n     * (Unsuccessful responses shouldn't make it here, they should\n     * still be buffered/parsed and handled by _jsonResponseHandler -- see\n     * makeRequest)\n     */\n    _streamingResponseHandler(requestEvent, usage, callback) {\n        return (res) => {\n            const headers = res.getHeaders();\n            const streamCompleteCallback = () => {\n                const responseEvent = this._makeResponseEvent(requestEvent, res.getStatusCode(), headers);\n                this._stripe._emitter.emit('response', responseEvent);\n                this._recordRequestMetrics(this._getRequestId(headers), responseEvent.elapsed, usage);\n            };\n            const stream = res.toStream(streamCompleteCallback);\n            // This is here for backwards compatibility, as the stream is a raw\n            // HTTP response in Node and the legacy behavior was to mutate this\n            // response.\n            this._addHeadersDirectlyToObject(stream, headers);\n            return callback(null, stream);\n        };\n    }\n    /**\n     * Default handler for Stripe responses. Buffers the response into memory,\n     * parses the JSON and returns it (i.e. passes it to the callback) if there\n     * is no \"error\" field. Otherwise constructs/passes an appropriate Error.\n     */\n    _jsonResponseHandler(requestEvent, apiMode, usage, callback) {\n        return (res) => {\n            const headers = res.getHeaders();\n            const requestId = this._getRequestId(headers);\n            const statusCode = res.getStatusCode();\n            const responseEvent = this._makeResponseEvent(requestEvent, statusCode, headers);\n            this._stripe._emitter.emit('response', responseEvent);\n            res\n                .toJSON()\n                .then((jsonResponse) => {\n                if (jsonResponse.error) {\n                    let err;\n                    // Convert OAuth error responses into a standard format\n                    // so that the rest of the error logic can be shared\n                    if (typeof jsonResponse.error === 'string') {\n                        jsonResponse.error = {\n                            type: jsonResponse.error,\n                            message: jsonResponse.error_description,\n                        };\n                    }\n                    jsonResponse.error.headers = headers;\n                    jsonResponse.error.statusCode = statusCode;\n                    jsonResponse.error.requestId = requestId;\n                    if (statusCode === 401) {\n                        err = new StripeAuthenticationError(jsonResponse.error);\n                    }\n                    else if (statusCode === 403) {\n                        err = new StripePermissionError(jsonResponse.error);\n                    }\n                    else if (statusCode === 429) {\n                        err = new StripeRateLimitError(jsonResponse.error);\n                    }\n                    else if (apiMode === 'v2') {\n                        err = generateV2Error(jsonResponse.error);\n                    }\n                    else {\n                        err = generateV1Error(jsonResponse.error);\n                    }\n                    throw err;\n                }\n                return jsonResponse;\n            }, (e) => {\n                throw new StripeAPIError({\n                    message: 'Invalid JSON received from the Stripe API',\n                    exception: e,\n                    requestId: headers['request-id'],\n                });\n            })\n                .then((jsonResponse) => {\n                this._recordRequestMetrics(requestId, responseEvent.elapsed, usage);\n                // Expose raw response object.\n                const rawResponse = res.getRawResponse();\n                this._addHeadersDirectlyToObject(rawResponse, headers);\n                Object.defineProperty(jsonResponse, 'lastResponse', {\n                    enumerable: false,\n                    writable: false,\n                    value: rawResponse,\n                });\n                callback(null, jsonResponse);\n            }, (e) => callback(e, null));\n        };\n    }\n    static _generateConnectionErrorMessage(requestRetries) {\n        return `An error occurred with our connection to Stripe.${requestRetries > 0 ? ` Request was retried ${requestRetries} times.` : ''}`;\n    }\n    // For more on when and how to retry API requests, see https://stripe.com/docs/error-handling#safely-retrying-requests-with-idempotency\n    static _shouldRetry(res, numRetries, maxRetries, error) {\n        if (error &&\n            numRetries === 0 &&\n            HttpClient.CONNECTION_CLOSED_ERROR_CODES.includes(error.code)) {\n            return true;\n        }\n        // Do not retry if we are out of retries.\n        if (numRetries >= maxRetries) {\n            return false;\n        }\n        // Retry on connection error.\n        if (!res) {\n            return true;\n        }\n        // The API may ask us not to retry (e.g., if doing so would be a no-op)\n        // or advise us to retry (e.g., in cases of lock timeouts); we defer to that.\n        if (res.getHeaders()['stripe-should-retry'] === 'false') {\n            return false;\n        }\n        if (res.getHeaders()['stripe-should-retry'] === 'true') {\n            return true;\n        }\n        // Retry on conflict errors.\n        if (res.getStatusCode() === 409) {\n            return true;\n        }\n        // Retry on 500, 503, and other internal errors.\n        //\n        // Note that we expect the stripe-should-retry header to be false\n        // in most cases when a 500 is returned, since our idempotency framework\n        // would typically replay it anyway.\n        if (res.getStatusCode() >= 500) {\n            return true;\n        }\n        return false;\n    }\n    _getSleepTimeInMS(numRetries, retryAfter = null) {\n        const initialNetworkRetryDelay = this._stripe.getInitialNetworkRetryDelay();\n        const maxNetworkRetryDelay = this._stripe.getMaxNetworkRetryDelay();\n        // Apply exponential backoff with initialNetworkRetryDelay on the\n        // number of numRetries so far as inputs. Do not allow the number to exceed\n        // maxNetworkRetryDelay.\n        let sleepSeconds = Math.min(initialNetworkRetryDelay * Math.pow(2, numRetries - 1), maxNetworkRetryDelay);\n        // Apply some jitter by randomizing the value in the range of\n        // (sleepSeconds / 2) to (sleepSeconds).\n        sleepSeconds *= 0.5 * (1 + Math.random());\n        // But never sleep less than the base sleep seconds.\n        sleepSeconds = Math.max(initialNetworkRetryDelay, sleepSeconds);\n        // And never sleep less than the time the API asks us to wait, assuming it's a reasonable ask.\n        if (Number.isInteger(retryAfter) && retryAfter <= MAX_RETRY_AFTER_WAIT) {\n            sleepSeconds = Math.max(sleepSeconds, retryAfter);\n        }\n        return sleepSeconds * 1000;\n    }\n    // Max retries can be set on a per request basis. Favor those over the global setting\n    _getMaxNetworkRetries(settings = {}) {\n        return settings.maxNetworkRetries !== undefined &&\n            Number.isInteger(settings.maxNetworkRetries)\n            ? settings.maxNetworkRetries\n            : this._stripe.getMaxNetworkRetries();\n    }\n    _defaultIdempotencyKey(method, settings, apiMode) {\n        // If this is a POST and we allow multiple retries, ensure an idempotency key.\n        const maxRetries = this._getMaxNetworkRetries(settings);\n        const genKey = () => `stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`;\n        // more verbose than it needs to be, but gives clear separation between V1 and V2 behavior\n        if (apiMode === 'v2') {\n            if (method === 'POST' || method === 'DELETE') {\n                return genKey();\n            }\n        }\n        else if (apiMode === 'v1') {\n            if (method === 'POST' && maxRetries > 0) {\n                return genKey();\n            }\n        }\n        return null;\n    }\n    _makeHeaders({ contentType, contentLength, apiVersion, clientUserAgent, method, userSuppliedHeaders, userSuppliedSettings, stripeAccount, stripeContext, apiMode, }) {\n        const defaultHeaders = {\n            Accept: 'application/json',\n            'Content-Type': contentType,\n            'User-Agent': this._getUserAgentString(apiMode),\n            'X-Stripe-Client-User-Agent': clientUserAgent,\n            'X-Stripe-Client-Telemetry': this._getTelemetryHeader(),\n            'Stripe-Version': apiVersion,\n            'Stripe-Account': stripeAccount,\n            'Stripe-Context': stripeContext,\n            'Idempotency-Key': this._defaultIdempotencyKey(method, userSuppliedSettings, apiMode),\n        };\n        // As per https://datatracker.ietf.org/doc/html/rfc7230#section-3.3.2:\n        //   A user agent SHOULD send a Content-Length in a request message when\n        //   no Transfer-Encoding is sent and the request method defines a meaning\n        //   for an enclosed payload body.  For example, a Content-Length header\n        //   field is normally sent in a POST request even when the value is 0\n        //   (indicating an empty payload body).  A user agent SHOULD NOT send a\n        //   Content-Length header field when the request message does not contain\n        //   a payload body and the method semantics do not anticipate such a\n        //   body.\n        //\n        // These method types are expected to have bodies and so we should always\n        // include a Content-Length.\n        const methodHasPayload = method == 'POST' || method == 'PUT' || method == 'PATCH';\n        // If a content length was specified, we always include it regardless of\n        // whether the method semantics anticipate such a body. This keeps us\n        // consistent with historical behavior. We do however want to warn on this\n        // and fix these cases as they are semantically incorrect.\n        if (methodHasPayload || contentLength) {\n            if (!methodHasPayload) {\n                emitWarning(`${method} method had non-zero contentLength but no payload is expected for this verb`);\n            }\n            defaultHeaders['Content-Length'] = contentLength;\n        }\n        return Object.assign(removeNullish(defaultHeaders), \n        // If the user supplied, say 'idempotency-key', override instead of appending by ensuring caps are the same.\n        normalizeHeaders(userSuppliedHeaders));\n    }\n    _getUserAgentString(apiMode) {\n        const packageVersion = this._stripe.getConstant('PACKAGE_VERSION');\n        const appInfo = this._stripe._appInfo\n            ? this._stripe.getAppInfoAsString()\n            : '';\n        return `Stripe/${apiMode} NodeBindings/${packageVersion} ${appInfo}`.trim();\n    }\n    _getTelemetryHeader() {\n        if (this._stripe.getTelemetryEnabled() &&\n            this._stripe._prevRequestMetrics.length > 0) {\n            const metrics = this._stripe._prevRequestMetrics.shift();\n            return JSON.stringify({\n                last_request_metrics: metrics,\n            });\n        }\n    }\n    _recordRequestMetrics(requestId, requestDurationMs, usage) {\n        if (this._stripe.getTelemetryEnabled() && requestId) {\n            if (this._stripe._prevRequestMetrics.length > this._maxBufferedRequestMetric) {\n                emitWarning('Request metrics buffer is full, dropping telemetry message.');\n            }\n            else {\n                const m = {\n                    request_id: requestId,\n                    request_duration_ms: requestDurationMs,\n                };\n                if (usage && usage.length > 0) {\n                    m.usage = usage;\n                }\n                this._stripe._prevRequestMetrics.push(m);\n            }\n        }\n    }\n    _rawRequest(method, path, params, options, usage) {\n        const requestPromise = new Promise((resolve, reject) => {\n            let opts;\n            try {\n                const requestMethod = method.toUpperCase();\n                if (requestMethod !== 'POST' &&\n                    params &&\n                    Object.keys(params).length !== 0) {\n                    throw new Error('rawRequest only supports params on POST requests. Please pass null and add your parameters to path.');\n                }\n                const args = [].slice.call([params, options]);\n                // Pull request data and options (headers, auth) from args.\n                const dataFromArgs = getDataFromArgs(args);\n                const data = requestMethod === 'POST' ? Object.assign({}, dataFromArgs) : null;\n                const calculatedOptions = getOptionsFromArgs(args);\n                const headers = calculatedOptions.headers;\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                const authenticator = calculatedOptions.authenticator;\n                opts = {\n                    requestMethod,\n                    requestPath: path,\n                    bodyData: data,\n                    queryData: {},\n                    authenticator,\n                    headers,\n                    host: calculatedOptions.host,\n                    streaming: !!calculatedOptions.streaming,\n                    settings: {},\n                    // We use this for thin event internals, so we should record the more specific `usage`, when available\n                    usage: usage || ['raw_request'],\n                };\n            }\n            catch (err) {\n                reject(err);\n                return;\n            }\n            function requestCallback(err, response) {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(response);\n                }\n            }\n            const { headers, settings } = opts;\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            const authenticator = opts.authenticator;\n            this._request(opts.requestMethod, opts.host, path, opts.bodyData, authenticator, { headers, settings, streaming: opts.streaming }, opts.usage, requestCallback);\n        });\n        return requestPromise;\n    }\n    _request(method, host, path, data, authenticator, options, usage = [], callback, requestDataProcessor = null) {\n        var _a;\n        let requestData;\n        authenticator = (_a = authenticator !== null && authenticator !== void 0 ? authenticator : this._stripe._authenticator) !== null && _a !== void 0 ? _a : null;\n        const apiMode = getAPIMode(path);\n        const retryRequest = (requestFn, apiVersion, headers, requestRetries, retryAfter) => {\n            return setTimeout(requestFn, this._getSleepTimeInMS(requestRetries, retryAfter), apiVersion, headers, requestRetries + 1);\n        };\n        const makeRequest = (apiVersion, headers, numRetries) => {\n            // timeout can be set on a per-request basis. Favor that over the global setting\n            const timeout = options.settings &&\n                options.settings.timeout &&\n                Number.isInteger(options.settings.timeout) &&\n                options.settings.timeout >= 0\n                ? options.settings.timeout\n                : this._stripe.getApiField('timeout');\n            const request = {\n                host: host || this._stripe.getApiField('host'),\n                port: this._stripe.getApiField('port'),\n                path: path,\n                method: method,\n                headers: Object.assign({}, headers),\n                body: requestData,\n                protocol: this._stripe.getApiField('protocol'),\n            };\n            authenticator(request)\n                .then(() => {\n                const req = this._stripe\n                    .getApiField('httpClient')\n                    .makeRequest(request.host, request.port, request.path, request.method, request.headers, request.body, request.protocol, timeout);\n                const requestStartTime = Date.now();\n                const requestEvent = removeNullish({\n                    api_version: apiVersion,\n                    account: parseHttpHeaderAsString(headers['Stripe-Account']),\n                    idempotency_key: parseHttpHeaderAsString(headers['Idempotency-Key']),\n                    method,\n                    path,\n                    request_start_time: requestStartTime,\n                });\n                const requestRetries = numRetries || 0;\n                const maxRetries = this._getMaxNetworkRetries(options.settings || {});\n                this._stripe._emitter.emit('request', requestEvent);\n                req\n                    .then((res) => {\n                    if (RequestSender._shouldRetry(res, requestRetries, maxRetries)) {\n                        return retryRequest(makeRequest, apiVersion, headers, requestRetries, parseHttpHeaderAsNumber(res.getHeaders()['retry-after']));\n                    }\n                    else if (options.streaming && res.getStatusCode() < 400) {\n                        return this._streamingResponseHandler(requestEvent, usage, callback)(res);\n                    }\n                    else {\n                        return this._jsonResponseHandler(requestEvent, apiMode, usage, callback)(res);\n                    }\n                })\n                    .catch((error) => {\n                    if (RequestSender._shouldRetry(null, requestRetries, maxRetries, error)) {\n                        return retryRequest(makeRequest, apiVersion, headers, requestRetries, null);\n                    }\n                    else {\n                        const isTimeoutError = error.code && error.code === HttpClient.TIMEOUT_ERROR_CODE;\n                        return callback(new StripeConnectionError({\n                            message: isTimeoutError\n                                ? `Request aborted due to timeout being reached (${timeout}ms)`\n                                : RequestSender._generateConnectionErrorMessage(requestRetries),\n                            detail: error,\n                        }));\n                    }\n                });\n            })\n                .catch((e) => {\n                throw new StripeError({\n                    message: 'Unable to authenticate the request',\n                    exception: e,\n                });\n            });\n        };\n        const prepareAndMakeRequest = (error, data) => {\n            if (error) {\n                return callback(error);\n            }\n            requestData = data;\n            this._stripe.getClientUserAgent((clientUserAgent) => {\n                var _a, _b, _c;\n                const apiVersion = this._stripe.getApiField('version');\n                const headers = this._makeHeaders({\n                    contentType: apiMode == 'v2'\n                        ? 'application/json'\n                        : 'application/x-www-form-urlencoded',\n                    contentLength: new TextEncoder().encode(requestData).length,\n                    apiVersion: apiVersion,\n                    clientUserAgent,\n                    method,\n                    // other callers expect null, but .headers being optional means it's undefined if not supplied. So we normalize to null.\n                    userSuppliedHeaders: (_a = options.headers) !== null && _a !== void 0 ? _a : null,\n                    userSuppliedSettings: (_b = options.settings) !== null && _b !== void 0 ? _b : {},\n                    stripeAccount: (_c = options.stripeAccount) !== null && _c !== void 0 ? _c : this._stripe.getApiField('stripeAccount'),\n                    stripeContext: this._normalizeStripeContext(options.stripeContext, this._stripe.getApiField('stripeContext')),\n                    apiMode: apiMode,\n                });\n                makeRequest(apiVersion, headers, 0);\n            });\n        };\n        if (requestDataProcessor) {\n            requestDataProcessor(method, data, options.headers, prepareAndMakeRequest);\n        }\n        else {\n            let stringifiedData;\n            if (apiMode == 'v2') {\n                stringifiedData = data ? jsonStringifyRequestData(data) : '';\n            }\n            else {\n                stringifiedData = queryStringifyRequestData(data || {}, apiMode);\n            }\n            prepareAndMakeRequest(null, stringifiedData);\n        }\n    }\n}\n","import { callbackifyPromiseWithTimeout, getDataFromArgs, getAPIMode, } from './utils.js';\nclass V1Iterator {\n    constructor(firstPagePromise, requestArgs, spec, stripeResource) {\n        this.index = 0;\n        this.pagePromise = firstPagePromise;\n        this.promiseCache = { currentPromise: null };\n        this.requestArgs = requestArgs;\n        this.spec = spec;\n        this.stripeResource = stripeResource;\n    }\n    async iterate(pageResult) {\n        if (!(pageResult &&\n            pageResult.data &&\n            typeof pageResult.data.length === 'number')) {\n            throw Error('Unexpected: Stripe API response does not have a well-formed `data` array.');\n        }\n        const reverseIteration = isReverseIteration(this.requestArgs);\n        if (this.index < pageResult.data.length) {\n            const idx = reverseIteration\n                ? pageResult.data.length - 1 - this.index\n                : this.index;\n            const value = pageResult.data[idx];\n            this.index += 1;\n            return { value, done: false };\n        }\n        else if (pageResult.has_more) {\n            // Reset counter, request next page, and recurse.\n            this.index = 0;\n            this.pagePromise = this.getNextPage(pageResult);\n            const nextPageResult = await this.pagePromise;\n            return this.iterate(nextPageResult);\n        }\n        return { done: true, value: undefined };\n    }\n    /** @abstract */\n    getNextPage(_pageResult) {\n        throw new Error('Unimplemented');\n    }\n    async _next() {\n        return this.iterate(await this.pagePromise);\n    }\n    next() {\n        /**\n         * If a user calls `.next()` multiple times in parallel,\n         * return the same result until something has resolved\n         * to prevent page-turning race conditions.\n         */\n        if (this.promiseCache.currentPromise) {\n            return this.promiseCache.currentPromise;\n        }\n        const nextPromise = (async () => {\n            const ret = await this._next();\n            this.promiseCache.currentPromise = null;\n            return ret;\n        })();\n        this.promiseCache.currentPromise = nextPromise;\n        return nextPromise;\n    }\n}\nclass V1ListIterator extends V1Iterator {\n    getNextPage(pageResult) {\n        const reverseIteration = isReverseIteration(this.requestArgs);\n        const lastId = getLastId(pageResult, reverseIteration);\n        return this.stripeResource._makeRequest(this.requestArgs, this.spec, {\n            [reverseIteration ? 'ending_before' : 'starting_after']: lastId,\n        });\n    }\n}\nclass V1SearchIterator extends V1Iterator {\n    getNextPage(pageResult) {\n        if (!pageResult.next_page) {\n            throw Error('Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.');\n        }\n        return this.stripeResource._makeRequest(this.requestArgs, this.spec, {\n            page: pageResult.next_page,\n        });\n    }\n}\nclass V2ListIterator {\n    constructor(firstPagePromise, requestArgs, spec, stripeResource) {\n        this.currentPageIterator = (async () => {\n            const page = await firstPagePromise;\n            return page.data[Symbol.iterator]();\n        })();\n        this.nextPageUrl = (async () => {\n            const page = await firstPagePromise;\n            return page.next_page_url || null;\n        })();\n        this.requestArgs = requestArgs;\n        this.spec = spec;\n        this.stripeResource = stripeResource;\n    }\n    async turnPage() {\n        const nextPageUrl = await this.nextPageUrl;\n        if (!nextPageUrl)\n            return null;\n        this.spec.fullPath = nextPageUrl;\n        const page = await this.stripeResource._makeRequest([], this.spec, {});\n        this.nextPageUrl = Promise.resolve(page.next_page_url);\n        this.currentPageIterator = Promise.resolve(page.data[Symbol.iterator]());\n        return this.currentPageIterator;\n    }\n    async next() {\n        {\n            const result = (await this.currentPageIterator).next();\n            if (!result.done)\n                return { done: false, value: result.value };\n        }\n        const nextPageIterator = await this.turnPage();\n        if (!nextPageIterator) {\n            return { done: true, value: undefined };\n        }\n        const result = nextPageIterator.next();\n        if (!result.done)\n            return { done: false, value: result.value };\n        return { done: true, value: undefined };\n    }\n}\nexport const makeAutoPaginationMethods = (stripeResource, requestArgs, spec, firstPagePromise) => {\n    const apiMode = getAPIMode(spec.fullPath || spec.path);\n    if (apiMode !== 'v2' && spec.methodType === 'search') {\n        return makeAutoPaginationMethodsFromIterator(new V1SearchIterator(firstPagePromise, requestArgs, spec, stripeResource));\n    }\n    if (apiMode !== 'v2' && spec.methodType === 'list') {\n        return makeAutoPaginationMethodsFromIterator(new V1ListIterator(firstPagePromise, requestArgs, spec, stripeResource));\n    }\n    if (apiMode === 'v2' && spec.methodType === 'list') {\n        return makeAutoPaginationMethodsFromIterator(new V2ListIterator(firstPagePromise, requestArgs, spec, stripeResource));\n    }\n    return null;\n};\nconst makeAutoPaginationMethodsFromIterator = (iterator) => {\n    const autoPagingEach = makeAutoPagingEach((...args) => iterator.next(...args));\n    const autoPagingToArray = makeAutoPagingToArray(autoPagingEach);\n    const autoPaginationMethods = {\n        autoPagingEach,\n        autoPagingToArray,\n        // Async iterator functions:\n        next: () => iterator.next(),\n        return: () => {\n            // This is required for `break`.\n            return {};\n        },\n        [getAsyncIteratorSymbol()]: () => {\n            return autoPaginationMethods;\n        },\n    };\n    return autoPaginationMethods;\n};\n/**\n * ----------------\n * Private Helpers:\n * ----------------\n */\nfunction getAsyncIteratorSymbol() {\n    if (typeof Symbol !== 'undefined' && Symbol.asyncIterator) {\n        return Symbol.asyncIterator;\n    }\n    // Follow the convention from libraries like iterall: https://github.com/leebyron/iterall#asynciterator-1\n    return '@@asyncIterator';\n}\nfunction getDoneCallback(args) {\n    if (args.length < 2) {\n        return null;\n    }\n    const onDone = args[1];\n    if (typeof onDone !== 'function') {\n        throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof onDone}`);\n    }\n    return onDone;\n}\n/**\n * We allow four forms of the `onItem` callback (the middle two being equivalent),\n *\n *   1. `.autoPagingEach((item) => { doSomething(item); return false; });`\n *   2. `.autoPagingEach(async (item) => { await doSomething(item); return false; });`\n *   3. `.autoPagingEach((item) => doSomething(item).then(() => false));`\n *   4. `.autoPagingEach((item, next) => { doSomething(item); next(false); });`\n *\n * In addition to standard validation, this helper\n * coalesces the former forms into the latter form.\n */\nfunction getItemCallback(args) {\n    if (args.length === 0) {\n        return undefined;\n    }\n    const onItem = args[0];\n    if (typeof onItem !== 'function') {\n        throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof onItem}`);\n    }\n    // 4. `.autoPagingEach((item, next) => { doSomething(item); next(false); });`\n    if (onItem.length === 2) {\n        return onItem;\n    }\n    if (onItem.length > 2) {\n        throw Error(`The \\`onItem\\` callback function passed to autoPagingEach must accept at most two arguments; got ${onItem}`);\n    }\n    // This magically handles all three of these usecases (the latter two being functionally identical):\n    // 1. `.autoPagingEach((item) => { doSomething(item); return false; });`\n    // 2. `.autoPagingEach(async (item) => { await doSomething(item); return false; });`\n    // 3. `.autoPagingEach((item) => doSomething(item).then(() => false));`\n    return function _onItem(item, next) {\n        const shouldContinue = onItem(item);\n        next(shouldContinue);\n    };\n}\nfunction getLastId(listResult, reverseIteration) {\n    const lastIdx = reverseIteration ? 0 : listResult.data.length - 1;\n    const lastItem = listResult.data[lastIdx];\n    const lastId = lastItem && lastItem.id;\n    if (!lastId) {\n        throw Error('Unexpected: No `id` found on the last item while auto-paging a list.');\n    }\n    return lastId;\n}\nfunction makeAutoPagingEach(asyncIteratorNext) {\n    return function autoPagingEach( /* onItem?, onDone? */) {\n        const args = [].slice.call(arguments);\n        const onItem = getItemCallback(args);\n        const onDone = getDoneCallback(args);\n        if (args.length > 2) {\n            throw Error(`autoPagingEach takes up to two arguments; received ${args}`);\n        }\n        const autoPagePromise = wrapAsyncIteratorWithCallback(asyncIteratorNext, \n        // @ts-ignore we might need a null check\n        onItem);\n        return callbackifyPromiseWithTimeout(autoPagePromise, onDone);\n    };\n}\nfunction makeAutoPagingToArray(autoPagingEach) {\n    return function autoPagingToArray(opts, onDone) {\n        const limit = opts && opts.limit;\n        if (!limit) {\n            throw Error('You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.');\n        }\n        if (limit > 10000) {\n            throw Error('You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.');\n        }\n        const promise = new Promise((resolve, reject) => {\n            const items = [];\n            autoPagingEach((item) => {\n                items.push(item);\n                if (items.length >= limit) {\n                    return false;\n                }\n            })\n                .then(() => {\n                resolve(items);\n            })\n                .catch(reject);\n        });\n        // @ts-ignore\n        return callbackifyPromiseWithTimeout(promise, onDone);\n    };\n}\nfunction wrapAsyncIteratorWithCallback(asyncIteratorNext, onItem) {\n    return new Promise((resolve, reject) => {\n        function handleIteration(iterResult) {\n            if (iterResult.done) {\n                resolve();\n                return;\n            }\n            const item = iterResult.value;\n            return new Promise((next) => {\n                // Bit confusing, perhaps; we pass a `resolve` fn\n                // to the user, so they can decide when and if to continue.\n                // They can return false, or a promise which resolves to false, to break.\n                onItem(item, next);\n            }).then((shouldContinue) => {\n                if (shouldContinue === false) {\n                    return handleIteration({ done: true, value: undefined });\n                }\n                else {\n                    return asyncIteratorNext().then(handleIteration);\n                }\n            });\n        }\n        asyncIteratorNext()\n            .then(handleIteration)\n            .catch(reject);\n    });\n}\nfunction isReverseIteration(requestArgs) {\n    const args = [].slice.call(requestArgs);\n    const dataFromArgs = getDataFromArgs(args);\n    return !!dataFromArgs.ending_before;\n}\n","import { getDataFromArgs, getOptionsFromArgs, makeURLInterpolator, protoExtend, queryStringifyRequestData, getAPIMode, } from './utils.js';\nimport { stripeMethod } from './StripeMethod.js';\n// Provide extension mechanism for Stripe Resource Sub-Classes\nStripeResource.extend = protoExtend;\n// Expose method-creator\nStripeResource.method = stripeMethod;\nStripeResource.MAX_BUFFERED_REQUEST_METRICS = 100;\n/**\n * Encapsulates request logic for a Stripe Resource\n */\nfunction StripeResource(stripe, deprecatedUrlData) {\n    this._stripe = stripe;\n    if (deprecatedUrlData) {\n        throw new Error('Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.');\n    }\n    this.basePath = makeURLInterpolator(\n    // @ts-ignore changing type of basePath\n    this.basePath || stripe.getApiField('basePath'));\n    // @ts-ignore changing type of path\n    this.resourcePath = this.path;\n    // @ts-ignore changing type of path\n    this.path = makeURLInterpolator(this.path);\n    this.initialize(...arguments);\n}\nStripeResource.prototype = {\n    _stripe: null,\n    // @ts-ignore the type of path changes in ctor\n    path: '',\n    resourcePath: '',\n    // Methods that don't use the API's default '/v1' path can override it with this setting.\n    basePath: null,\n    initialize() { },\n    // Function to override the default data processor. This allows full control\n    // over how a StripeResource's request data will get converted into an HTTP\n    // body. This is useful for non-standard HTTP requests. The function should\n    // take method name, data, and headers as arguments.\n    requestDataProcessor: null,\n    // Function to add a validation checks before sending the request, errors should\n    // be thrown, and they will be passed to the callback/promise.\n    validateRequest: null,\n    createFullPath(commandPath, urlData) {\n        const urlParts = [this.basePath(urlData), this.path(urlData)];\n        if (typeof commandPath === 'function') {\n            const computedCommandPath = commandPath(urlData);\n            // If we have no actual command path, we just omit it to avoid adding a\n            // trailing slash. This is important for top-level listing requests, which\n            // do not have a command path.\n            if (computedCommandPath) {\n                urlParts.push(computedCommandPath);\n            }\n        }\n        else {\n            urlParts.push(commandPath);\n        }\n        return this._joinUrlParts(urlParts);\n    },\n    // Creates a relative resource path with symbols left in (unlike\n    // createFullPath which takes some data to replace them with). For example it\n    // might produce: /invoices/{id}\n    createResourcePathWithSymbols(pathWithSymbols) {\n        // If there is no path beyond the resource path, we want to produce just\n        // /<resource path> rather than /<resource path>/.\n        if (pathWithSymbols) {\n            return `/${this._joinUrlParts([this.resourcePath, pathWithSymbols])}`;\n        }\n        else {\n            return `/${this.resourcePath}`;\n        }\n    },\n    _joinUrlParts(parts) {\n        // Replace any accidentally doubled up slashes. This previously used\n        // path.join, which would do this as well. Unfortunately we need to do this\n        // as the functions for creating paths are technically part of the public\n        // interface and so we need to preserve backwards compatibility.\n        return parts.join('/').replace(/\\/{2,}/g, '/');\n    },\n    _getRequestOpts(requestArgs, spec, overrideData) {\n        var _a;\n        // Extract spec values with defaults.\n        const requestMethod = (spec.method || 'GET').toUpperCase();\n        const usage = spec.usage || [];\n        const urlParams = spec.urlParams || [];\n        const encode = spec.encode || ((data) => data);\n        const isUsingFullPath = !!spec.fullPath;\n        const commandPath = makeURLInterpolator(isUsingFullPath ? spec.fullPath : spec.path || '');\n        // When using fullPath, we ignore the resource path as it should already be\n        // fully qualified.\n        const path = isUsingFullPath\n            ? spec.fullPath\n            : this.createResourcePathWithSymbols(spec.path);\n        // Don't mutate args externally.\n        const args = [].slice.call(requestArgs);\n        // Generate and validate url params.\n        const urlData = urlParams.reduce((urlData, param) => {\n            const arg = args.shift();\n            if (typeof arg !== 'string') {\n                throw new Error(`Stripe: Argument \"${param}\" must be a string, but got: ${arg} (on API request to \\`${requestMethod} ${path}\\`)`);\n            }\n            urlData[param] = arg;\n            return urlData;\n        }, {});\n        // Pull request data and options (headers, auth) from args.\n        const dataFromArgs = getDataFromArgs(args);\n        const data = encode(Object.assign({}, dataFromArgs, overrideData));\n        const options = getOptionsFromArgs(args);\n        const host = options.host || spec.host;\n        const streaming = !!spec.streaming || !!options.streaming;\n        // Validate that there are no more args.\n        if (args.filter((x) => x != null).length) {\n            throw new Error(`Stripe: Unknown arguments (${args}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${requestMethod} \\`${path}\\`)`);\n        }\n        // When using full path, we can just invoke the URL interpolator directly\n        // as we don't need to use the resource to create a full path.\n        const requestPath = isUsingFullPath\n            ? commandPath(urlData)\n            : this.createFullPath(commandPath, urlData);\n        const headers = Object.assign(options.headers, spec.headers);\n        if (spec.validator) {\n            spec.validator(data, { headers });\n        }\n        const dataInQuery = spec.method === 'GET' || spec.method === 'DELETE';\n        const bodyData = dataInQuery ? null : data;\n        const queryData = dataInQuery ? data : {};\n        return {\n            requestMethod,\n            requestPath,\n            bodyData,\n            queryData,\n            authenticator: (_a = options.authenticator) !== null && _a !== void 0 ? _a : null,\n            headers,\n            host: host !== null && host !== void 0 ? host : null,\n            streaming,\n            settings: options.settings,\n            usage,\n        };\n    },\n    _makeRequest(requestArgs, spec, overrideData) {\n        return new Promise((resolve, reject) => {\n            var _a;\n            let opts;\n            try {\n                opts = this._getRequestOpts(requestArgs, spec, overrideData);\n            }\n            catch (err) {\n                reject(err);\n                return;\n            }\n            function requestCallback(err, response) {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(spec.transformResponseData\n                        ? spec.transformResponseData(response)\n                        : response);\n                }\n            }\n            const emptyQuery = Object.keys(opts.queryData).length === 0;\n            const path = [\n                opts.requestPath,\n                emptyQuery ? '' : '?',\n                queryStringifyRequestData(opts.queryData, getAPIMode(opts.requestPath)),\n            ].join('');\n            const { headers, settings } = opts;\n            this._stripe._requestSender._request(opts.requestMethod, opts.host, path, opts.bodyData, opts.authenticator, {\n                headers,\n                settings,\n                streaming: opts.streaming,\n            }, opts.usage, requestCallback, (_a = this.requestDataProcessor) === null || _a === void 0 ? void 0 : _a.bind(this));\n        });\n    },\n};\nexport { StripeResource };\n","import { callbackifyPromiseWithTimeout, extractUrlParams } from './utils.js';\nimport { makeAutoPaginationMethods } from './autoPagination.js';\n/**\n * Create an API method from the declared spec.\n *\n * @param [spec.method='GET'] Request Method (POST, GET, DELETE, PUT)\n * @param [spec.path=''] Path to be appended to the API BASE_PATH, joined with\n *  the instance's path (e.g. 'charges' or 'customers')\n * @param [spec.fullPath=''] Fully qualified path to the method (eg. /v1/a/b/c).\n *  If this is specified, path should not be specified.\n * @param [spec.urlParams=[]] Array of required arguments in the order that they\n *  must be passed by the consumer of the API. Subsequent optional arguments are\n *  optionally passed through a hash (Object) as the penultimate argument\n *  (preceding the also-optional callback argument\n * @param [spec.encode] Function for mutating input parameters to a method.\n *  Usefully for applying transforms to data on a per-method basis.\n * @param [spec.host] Hostname for the request.\n *\n * <!-- Public API accessible via Stripe.StripeResource.method -->\n */\nexport function stripeMethod(spec) {\n    if (spec.path !== undefined && spec.fullPath !== undefined) {\n        throw new Error(`Method spec specified both a 'path' (${spec.path}) and a 'fullPath' (${spec.fullPath}).`);\n    }\n    return function (...args) {\n        const callback = typeof args[args.length - 1] == 'function' && args.pop();\n        spec.urlParams = extractUrlParams(spec.fullPath || this.createResourcePathWithSymbols(spec.path || ''));\n        const requestPromise = callbackifyPromiseWithTimeout(this._makeRequest(args, spec, {}), callback);\n        Object.assign(requestPromise, makeAutoPaginationMethods(this, args, spec, requestPromise));\n        return requestPromise;\n    };\n}\n","/**\n * The StripeContext class provides an immutable container and convenience methods for interacting with the `Stripe-Context` header. All methods return a new instance of StripeContext.\n * You can use it whenever you're initializing a `Stripe` instance or sending `stripeContext` with a request. It's also found in the `EventNotification.context` property.\n */\nexport class StripeContext {\n    /**\n     * Creates a new StripeContext with the given segments.\n     */\n    constructor(segments = []) {\n        this._segments = [...segments];\n    }\n    /**\n     * Gets a copy of the segments of this Context.\n     */\n    get segments() {\n        return [...this._segments];\n    }\n    /**\n     * Creates a new StripeContext with an additional segment appended.\n     */\n    push(segment) {\n        if (!segment) {\n            throw new Error('Segment cannot be null or undefined');\n        }\n        return new StripeContext([...this._segments, segment]);\n    }\n    /**\n     * Creates a new StripeContext with the last segment removed.\n     * If there are no segments, throws an error.\n     */\n    pop() {\n        if (this._segments.length === 0) {\n            throw new Error('Cannot pop from an empty context');\n        }\n        return new StripeContext(this._segments.slice(0, -1));\n    }\n    /**\n     * Converts this context to its string representation.\n     */\n    toString() {\n        return this._segments.join('/');\n    }\n    /**\n     * Parses a context string into a StripeContext instance.\n     */\n    static parse(contextStr) {\n        if (!contextStr) {\n            return new StripeContext([]);\n        }\n        return new StripeContext(contextStr.split('/'));\n    }\n}\n","// File generated from our OpenAPI spec\nexport const ApiVersion = '2025-11-17.clover';\nexport const ApiMajorVersion = 'clover';\n","// ResourceNamespace allows you to create nested resources, i.e. `stripe.issuing.cards`.\n// It also works recursively, so you could do i.e. `stripe.billing.invoicing.pay`.\nfunction ResourceNamespace(stripe, resources) {\n    for (const name in resources) {\n        if (!Object.prototype.hasOwnProperty.call(resources, name)) {\n            continue;\n        }\n        const camelCaseName = name[0].toLowerCase() + name.substring(1);\n        const resource = new resources[name](stripe);\n        this[camelCaseName] = resource;\n    }\n}\nexport function resourceNamespace(namespace, resources) {\n    return function (stripe) {\n        return new ResourceNamespace(stripe, resources);\n    };\n}\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Accounts = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/financial_connections/accounts/{account}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/financial_connections/accounts',\n        methodType: 'list',\n    }),\n    disconnect: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/financial_connections/accounts/{account}/disconnect',\n    }),\n    listOwners: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/financial_connections/accounts/{account}/owners',\n        methodType: 'list',\n    }),\n    refresh: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/financial_connections/accounts/{account}/refresh',\n    }),\n    subscribe: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/financial_connections/accounts/{account}/subscribe',\n    }),\n    unsubscribe: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/financial_connections/accounts/{account}/unsubscribe',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ActiveEntitlements = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/entitlements/active_entitlements/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/entitlements/active_entitlements',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Alerts = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/billing/alerts' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/billing/alerts/{id}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/alerts',\n        methodType: 'list',\n    }),\n    activate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/alerts/{id}/activate',\n    }),\n    archive: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/alerts/{id}/archive',\n    }),\n    deactivate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/alerts/{id}/deactivate',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Associations = StripeResource.extend({\n    find: stripeMethod({ method: 'GET', fullPath: '/v1/tax/associations/find' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Authorizations = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/authorizations/{authorization}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/authorizations/{authorization}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/authorizations',\n        methodType: 'list',\n    }),\n    approve: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/authorizations/{authorization}/approve',\n    }),\n    decline: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/authorizations/{authorization}/decline',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Authorizations = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/authorizations',\n    }),\n    capture: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/authorizations/{authorization}/capture',\n    }),\n    expire: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/authorizations/{authorization}/expire',\n    }),\n    finalizeAmount: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount',\n    }),\n    increment: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/authorizations/{authorization}/increment',\n    }),\n    respond: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond',\n    }),\n    reverse: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/authorizations/{authorization}/reverse',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Calculations = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/tax/calculations' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax/calculations/{calculation}',\n    }),\n    listLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax/calculations/{calculation}/line_items',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Cardholders = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/issuing/cardholders' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/cardholders/{cardholder}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/cardholders/{cardholder}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/cardholders',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Cards = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/issuing/cards' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/issuing/cards/{card}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/issuing/cards/{card}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/cards',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Cards = StripeResource.extend({\n    deliverCard: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/cards/{card}/shipping/deliver',\n    }),\n    failCard: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/cards/{card}/shipping/fail',\n    }),\n    returnCard: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/cards/{card}/shipping/return',\n    }),\n    shipCard: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/cards/{card}/shipping/ship',\n    }),\n    submitCard: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/cards/{card}/shipping/submit',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Configurations = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing_portal/configurations',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing_portal/configurations/{configuration}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing_portal/configurations/{configuration}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing_portal/configurations',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Configurations = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/configurations',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/terminal/configurations/{configuration}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/configurations/{configuration}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/terminal/configurations',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/terminal/configurations/{configuration}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ConfirmationTokens = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/confirmation_tokens',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ConnectionTokens = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/connection_tokens',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const CreditBalanceSummary = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/credit_balance_summary',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const CreditBalanceTransactions = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/credit_balance_transactions/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/credit_balance_transactions',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const CreditGrants = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/billing/credit_grants' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/credit_grants/{id}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/credit_grants/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/credit_grants',\n        methodType: 'list',\n    }),\n    expire: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/credit_grants/{id}/expire',\n    }),\n    voidGrant: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/credit_grants/{id}/void',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const CreditReversals = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/credit_reversals',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/credit_reversals/{credit_reversal}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/credit_reversals',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Customers = StripeResource.extend({\n    fundCashBalance: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/customers/{customer}/fund_cash_balance',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const DebitReversals = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/debit_reversals',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/debit_reversals/{debit_reversal}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/debit_reversals',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Disputes = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/issuing/disputes' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/disputes/{dispute}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/disputes/{dispute}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/disputes',\n        methodType: 'list',\n    }),\n    submit: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/disputes/{dispute}/submit',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const EarlyFraudWarnings = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/radar/early_fraud_warnings/{early_fraud_warning}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/radar/early_fraud_warnings',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const EventDestinations = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/core/event_destinations',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v2/core/event_destinations/{id}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/core/event_destinations/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v2/core/event_destinations',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v2/core/event_destinations/{id}',\n    }),\n    disable: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/core/event_destinations/{id}/disable',\n    }),\n    enable: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/core/event_destinations/{id}/enable',\n    }),\n    ping: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/core/event_destinations/{id}/ping',\n    }),\n});\n","// This file is manually maintained\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Events = StripeResource.extend({\n    retrieve(...args) {\n        const transformResponseData = (response) => {\n            return this.addFetchRelatedObjectIfNeeded(response);\n        };\n        return stripeMethod({\n            method: 'GET',\n            fullPath: '/v2/core/events/{id}',\n            transformResponseData,\n        }).apply(this, args);\n    },\n    list(...args) {\n        const transformResponseData = (response) => {\n            return Object.assign(Object.assign({}, response), { data: response.data.map(this.addFetchRelatedObjectIfNeeded.bind(this)) });\n        };\n        return stripeMethod({\n            method: 'GET',\n            fullPath: '/v2/core/events',\n            methodType: 'list',\n            transformResponseData,\n        }).apply(this, args);\n    },\n    /**\n     * @private\n     *\n     * For internal use in stripe-node.\n     *\n     * @param pulledEvent The retrieved event object\n     * @returns The retrieved event object with a fetchRelatedObject method,\n     * if pulledEvent.related_object is valid (non-null and has a url)\n     */\n    addFetchRelatedObjectIfNeeded(pulledEvent) {\n        if (!pulledEvent.related_object || !pulledEvent.related_object.url) {\n            return pulledEvent;\n        }\n        return Object.assign(Object.assign({}, pulledEvent), { fetchRelatedObject: () => \n            // call stripeMethod with 'this' resource to fetch\n            // the related object. 'this' is needed to construct\n            // and send the request, but the method spec controls\n            // the url endpoint and method, so it doesn't matter\n            // that 'this' is an Events resource object here\n            stripeMethod({\n                method: 'GET',\n                fullPath: pulledEvent.related_object.url,\n            }).apply(this, [\n                {\n                    stripeContext: pulledEvent.context,\n                },\n            ]) });\n    },\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Features = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/entitlements/features' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/entitlements/features/{id}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/entitlements/features/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/entitlements/features',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const FinancialAccounts = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/financial_accounts',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/financial_accounts/{financial_account}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/financial_accounts/{financial_account}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/financial_accounts',\n        methodType: 'list',\n    }),\n    close: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/financial_accounts/{financial_account}/close',\n    }),\n    retrieveFeatures: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/financial_accounts/{financial_account}/features',\n    }),\n    updateFeatures: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/financial_accounts/{financial_account}/features',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const InboundTransfers = StripeResource.extend({\n    fail: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/inbound_transfers/{id}/fail',\n    }),\n    returnInboundTransfer: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/inbound_transfers/{id}/return',\n    }),\n    succeed: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/inbound_transfers/{id}/succeed',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const InboundTransfers = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/inbound_transfers',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/inbound_transfers/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/inbound_transfers',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/inbound_transfers/{inbound_transfer}/cancel',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Locations = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/terminal/locations' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/terminal/locations/{location}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/locations/{location}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/terminal/locations',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/terminal/locations/{location}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const MeterEventAdjustments = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/meter_event_adjustments',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const MeterEventAdjustments = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/billing/meter_event_adjustments',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const MeterEventSession = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/billing/meter_event_session',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const MeterEventStream = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/billing/meter_event_stream',\n        host: 'meter-events.stripe.com',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const MeterEvents = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/billing/meter_events' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const MeterEvents = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v2/billing/meter_events' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Meters = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/billing/meters' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/billing/meters/{id}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/billing/meters/{id}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/meters',\n        methodType: 'list',\n    }),\n    deactivate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/meters/{id}/deactivate',\n    }),\n    listEventSummaries: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/meters/{id}/event_summaries',\n        methodType: 'list',\n    }),\n    reactivate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/meters/{id}/reactivate',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const OnboardingLinks = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/onboarding_links',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Orders = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/climate/orders' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/climate/orders/{order}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/climate/orders/{order}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/climate/orders',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/climate/orders/{order}/cancel',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const OutboundPayments = StripeResource.extend({\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_payments/{id}',\n    }),\n    fail: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_payments/{id}/fail',\n    }),\n    post: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_payments/{id}/post',\n    }),\n    returnOutboundPayment: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_payments/{id}/return',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const OutboundPayments = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/outbound_payments',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/outbound_payments/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/outbound_payments',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/outbound_payments/{id}/cancel',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const OutboundTransfers = StripeResource.extend({\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}',\n    }),\n    fail: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail',\n    }),\n    post: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post',\n    }),\n    returnOutboundTransfer: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const OutboundTransfers = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/outbound_transfers',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/outbound_transfers/{outbound_transfer}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/outbound_transfers',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/outbound_transfers/{outbound_transfer}/cancel',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PersonalizationDesigns = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/personalization_designs',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/personalization_designs/{personalization_design}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/personalization_designs/{personalization_design}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/personalization_designs',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PersonalizationDesigns = StripeResource.extend({\n    activate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate',\n    }),\n    deactivate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate',\n    }),\n    reject: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PhysicalBundles = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/physical_bundles/{physical_bundle}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/physical_bundles',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Products = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/climate/products/{product}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/climate/products',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Readers = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/terminal/readers' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/terminal/readers/{reader}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/terminal/readers',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/terminal/readers/{reader}',\n    }),\n    cancelAction: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}/cancel_action',\n    }),\n    collectInputs: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}/collect_inputs',\n    }),\n    collectPaymentMethod: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}/collect_payment_method',\n    }),\n    confirmPaymentIntent: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}/confirm_payment_intent',\n    }),\n    processPaymentIntent: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}/process_payment_intent',\n    }),\n    processSetupIntent: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}/process_setup_intent',\n    }),\n    refundPayment: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}/refund_payment',\n    }),\n    setReaderDisplay: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}/set_reader_display',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Readers = StripeResource.extend({\n    presentPaymentMethod: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/terminal/readers/{reader}/present_payment_method',\n    }),\n    succeedInputCollection: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/terminal/readers/{reader}/succeed_input_collection',\n    }),\n    timeoutInputCollection: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/terminal/readers/{reader}/timeout_input_collection',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ReceivedCredits = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/received_credits',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ReceivedCredits = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/received_credits/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/received_credits',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ReceivedDebits = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/received_debits',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ReceivedDebits = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/received_debits/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/received_debits',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Refunds = StripeResource.extend({\n    expire: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/refunds/{refund}/expire',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Registrations = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/tax/registrations' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax/registrations/{id}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/tax/registrations/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax/registrations',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ReportRuns = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/reporting/report_runs' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/reporting/report_runs/{report_run}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/reporting/report_runs',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ReportTypes = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/reporting/report_types/{report_type}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/reporting/report_types',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Requests = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/forwarding/requests' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/forwarding/requests/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/forwarding/requests',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ScheduledQueryRuns = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/sigma/scheduled_query_runs/{scheduled_query_run}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/sigma/scheduled_query_runs',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Secrets = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/apps/secrets' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/apps/secrets',\n        methodType: 'list',\n    }),\n    deleteWhere: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/apps/secrets/delete',\n    }),\n    find: stripeMethod({ method: 'GET', fullPath: '/v1/apps/secrets/find' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Sessions = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing_portal/sessions',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Sessions = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/checkout/sessions' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/checkout/sessions/{session}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/checkout/sessions/{session}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/checkout/sessions',\n        methodType: 'list',\n    }),\n    expire: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/checkout/sessions/{session}/expire',\n    }),\n    listLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/checkout/sessions/{session}/line_items',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Sessions = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/financial_connections/sessions',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/financial_connections/sessions/{session}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Settings = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/tax/settings' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/tax/settings' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Suppliers = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/climate/suppliers/{supplier}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/climate/suppliers',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const TestClocks = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/test_clocks',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/test_helpers/test_clocks/{test_clock}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/test_helpers/test_clocks',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/test_helpers/test_clocks/{test_clock}',\n    }),\n    advance: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/test_clocks/{test_clock}/advance',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Tokens = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/tokens/{token}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/tokens/{token}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/tokens',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const TransactionEntries = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/transaction_entries/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/transaction_entries',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Transactions = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/financial_connections/transactions/{transaction}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/financial_connections/transactions',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Transactions = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/transactions/{transaction}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/transactions/{transaction}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/transactions',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Transactions = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax/transactions/{transaction}',\n    }),\n    createFromCalculation: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/tax/transactions/create_from_calculation',\n    }),\n    createReversal: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/tax/transactions/create_reversal',\n    }),\n    listLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax/transactions/{transaction}/line_items',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Transactions = StripeResource.extend({\n    createForceCapture: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/transactions/create_force_capture',\n    }),\n    createUnlinkedRefund: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/transactions/create_unlinked_refund',\n    }),\n    refund: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/transactions/{transaction}/refund',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Transactions = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/transactions/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/transactions',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ValueListItems = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/radar/value_list_items',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/radar/value_list_items/{item}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/radar/value_list_items',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/radar/value_list_items/{item}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ValueLists = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/radar/value_lists' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/radar/value_lists/{value_list}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/radar/value_lists/{value_list}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/radar/value_lists',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/radar/value_lists/{value_list}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const VerificationReports = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/identity/verification_reports/{report}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/identity/verification_reports',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const VerificationSessions = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/identity/verification_sessions',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/identity/verification_sessions/{session}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/identity/verification_sessions/{session}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/identity/verification_sessions',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/identity/verification_sessions/{session}/cancel',\n    }),\n    redact: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/identity/verification_sessions/{session}/redact',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\n// Since path can either be `account` or `accounts`, support both through stripeMethod path\nexport const Accounts = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/accounts' }),\n    retrieve(id, ...args) {\n        // No longer allow an api key to be passed as the first string to this function due to ambiguity between\n        // old account ids and api keys. To request the account for an api key, send null as the id\n        if (typeof id === 'string') {\n            return stripeMethod({\n                method: 'GET',\n                fullPath: '/v1/accounts/{id}',\n            }).apply(this, [id, ...args]);\n        }\n        else {\n            if (id === null || id === undefined) {\n                // Remove id as stripeMethod would complain of unexpected argument\n                [].shift.apply([id, ...args]);\n            }\n            return stripeMethod({\n                method: 'GET',\n                fullPath: '/v1/account',\n            }).apply(this, [id, ...args]);\n        }\n    },\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/accounts/{account}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/accounts',\n        methodType: 'list',\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/accounts/{account}' }),\n    createExternalAccount: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/accounts/{account}/external_accounts',\n    }),\n    createLoginLink: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/accounts/{account}/login_links',\n    }),\n    createPerson: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/accounts/{account}/persons',\n    }),\n    deleteExternalAccount: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/accounts/{account}/external_accounts/{id}',\n    }),\n    deletePerson: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/accounts/{account}/persons/{person}',\n    }),\n    listCapabilities: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/accounts/{account}/capabilities',\n        methodType: 'list',\n    }),\n    listExternalAccounts: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/accounts/{account}/external_accounts',\n        methodType: 'list',\n    }),\n    listPersons: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/accounts/{account}/persons',\n        methodType: 'list',\n    }),\n    reject: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/accounts/{account}/reject',\n    }),\n    retrieveCurrent: stripeMethod({ method: 'GET', fullPath: '/v1/account' }),\n    retrieveCapability: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/accounts/{account}/capabilities/{capability}',\n    }),\n    retrieveExternalAccount: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/accounts/{account}/external_accounts/{id}',\n    }),\n    retrievePerson: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/accounts/{account}/persons/{person}',\n    }),\n    updateCapability: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/accounts/{account}/capabilities/{capability}',\n    }),\n    updateExternalAccount: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/accounts/{account}/external_accounts/{id}',\n    }),\n    updatePerson: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/accounts/{account}/persons/{person}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const AccountLinks = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/account_links' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const AccountSessions = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/account_sessions' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ApplePayDomains = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/apple_pay/domains' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/apple_pay/domains/{domain}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/apple_pay/domains',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/apple_pay/domains/{domain}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ApplicationFees = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/application_fees/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/application_fees',\n        methodType: 'list',\n    }),\n    createRefund: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/application_fees/{id}/refunds',\n    }),\n    listRefunds: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/application_fees/{id}/refunds',\n        methodType: 'list',\n    }),\n    retrieveRefund: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/application_fees/{fee}/refunds/{id}',\n    }),\n    updateRefund: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/application_fees/{fee}/refunds/{id}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Balance = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/balance' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const BalanceSettings = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/balance_settings' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/balance_settings' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const BalanceTransactions = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/balance_transactions/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/balance_transactions',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Charges = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/charges' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/charges/{charge}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/charges/{charge}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/charges',\n        methodType: 'list',\n    }),\n    capture: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/charges/{charge}/capture',\n    }),\n    search: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/charges/search',\n        methodType: 'search',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ConfirmationTokens = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/confirmation_tokens/{confirmation_token}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const CountrySpecs = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/country_specs/{country}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/country_specs',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Coupons = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/coupons' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/coupons/{coupon}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/coupons/{coupon}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/coupons',\n        methodType: 'list',\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/coupons/{coupon}' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const CreditNotes = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/credit_notes' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/credit_notes/{id}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/credit_notes/{id}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/credit_notes',\n        methodType: 'list',\n    }),\n    listLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/credit_notes/{credit_note}/lines',\n        methodType: 'list',\n    }),\n    listPreviewLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/credit_notes/preview/lines',\n        methodType: 'list',\n    }),\n    preview: stripeMethod({ method: 'GET', fullPath: '/v1/credit_notes/preview' }),\n    voidCreditNote: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/credit_notes/{id}/void',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const CustomerSessions = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/customer_sessions' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Customers = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/customers' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/customers/{customer}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/customers/{customer}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers',\n        methodType: 'list',\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/customers/{customer}' }),\n    createBalanceTransaction: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/balance_transactions',\n    }),\n    createFundingInstructions: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/funding_instructions',\n    }),\n    createSource: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/sources',\n    }),\n    createTaxId: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/tax_ids',\n    }),\n    deleteDiscount: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/customers/{customer}/discount',\n    }),\n    deleteSource: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/customers/{customer}/sources/{id}',\n    }),\n    deleteTaxId: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/customers/{customer}/tax_ids/{id}',\n    }),\n    listBalanceTransactions: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/balance_transactions',\n        methodType: 'list',\n    }),\n    listCashBalanceTransactions: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/cash_balance_transactions',\n        methodType: 'list',\n    }),\n    listPaymentMethods: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/payment_methods',\n        methodType: 'list',\n    }),\n    listSources: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/sources',\n        methodType: 'list',\n    }),\n    listTaxIds: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/tax_ids',\n        methodType: 'list',\n    }),\n    retrieveBalanceTransaction: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/balance_transactions/{transaction}',\n    }),\n    retrieveCashBalance: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/cash_balance',\n    }),\n    retrieveCashBalanceTransaction: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/cash_balance_transactions/{transaction}',\n    }),\n    retrievePaymentMethod: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/payment_methods/{payment_method}',\n    }),\n    retrieveSource: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/sources/{id}',\n    }),\n    retrieveTaxId: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/tax_ids/{id}',\n    }),\n    search: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/search',\n        methodType: 'search',\n    }),\n    updateBalanceTransaction: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/balance_transactions/{transaction}',\n    }),\n    updateCashBalance: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/cash_balance',\n    }),\n    updateSource: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/sources/{id}',\n    }),\n    verifySource: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/sources/{id}/verify',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Disputes = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/disputes/{dispute}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/disputes/{dispute}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/disputes',\n        methodType: 'list',\n    }),\n    close: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/disputes/{dispute}/close',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const EphemeralKeys = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/ephemeral_keys',\n        validator: (data, options) => {\n            if (!options.headers || !options.headers['Stripe-Version']) {\n                throw new Error('Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node');\n            }\n        },\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/ephemeral_keys/{key}' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Events = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/events/{id}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/events',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ExchangeRates = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/exchange_rates/{rate_id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/exchange_rates',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const FileLinks = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/file_links' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/file_links/{link}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/file_links/{link}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/file_links',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { multipartRequestDataProcessor } from '../multipart.js';\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Files = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/files',\n        headers: {\n            'Content-Type': 'multipart/form-data',\n        },\n        host: 'files.stripe.com',\n    }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/files/{file}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/files',\n        methodType: 'list',\n    }),\n    requestDataProcessor: multipartRequestDataProcessor,\n});\n","import { flattenAndStringify, queryStringifyRequestData } from './utils.js';\n// Method for formatting HTTP body for the multipart/form-data specification\n// Mostly taken from Fermata.js\n// https://github.com/natevw/fermata/blob/5d9732a33d776ce925013a265935facd1626cc88/fermata.js#L315-L343\nconst multipartDataGenerator = (method, data, headers) => {\n    const segno = (Math.round(Math.random() * 1e16) + Math.round(Math.random() * 1e16)).toString();\n    headers['Content-Type'] = `multipart/form-data; boundary=${segno}`;\n    const textEncoder = new TextEncoder();\n    let buffer = new Uint8Array(0);\n    const endBuffer = textEncoder.encode('\\r\\n');\n    function push(l) {\n        const prevBuffer = buffer;\n        const newBuffer = l instanceof Uint8Array ? l : new Uint8Array(textEncoder.encode(l));\n        buffer = new Uint8Array(prevBuffer.length + newBuffer.length + 2);\n        buffer.set(prevBuffer);\n        buffer.set(newBuffer, prevBuffer.length);\n        buffer.set(endBuffer, buffer.length - 2);\n    }\n    function q(s) {\n        return `\"${s.replace(/\"|\"/g, '%22').replace(/\\r\\n|\\r|\\n/g, ' ')}\"`;\n    }\n    const flattenedData = flattenAndStringify(data);\n    for (const k in flattenedData) {\n        if (!Object.prototype.hasOwnProperty.call(flattenedData, k)) {\n            continue;\n        }\n        const v = flattenedData[k];\n        push(`--${segno}`);\n        if (Object.prototype.hasOwnProperty.call(v, 'data')) {\n            const typedEntry = v;\n            push(`Content-Disposition: form-data; name=${q(k)}; filename=${q(typedEntry.name || 'blob')}`);\n            push(`Content-Type: ${typedEntry.type || 'application/octet-stream'}`);\n            push('');\n            push(typedEntry.data);\n        }\n        else {\n            push(`Content-Disposition: form-data; name=${q(k)}`);\n            push('');\n            push(v);\n        }\n    }\n    push(`--${segno}--`);\n    return buffer;\n};\nexport function multipartRequestDataProcessor(method, data, headers, callback) {\n    data = data || {};\n    if (method !== 'POST') {\n        return callback(null, queryStringifyRequestData(data));\n    }\n    this._stripe._platformFunctions\n        .tryBufferData(data)\n        .then((bufferedData) => {\n        const buffer = multipartDataGenerator(method, bufferedData, headers);\n        return callback(null, buffer);\n    })\n        .catch((err) => callback(err, null));\n}\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const InvoiceItems = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/invoiceitems' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoiceitems/{invoiceitem}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoiceitems/{invoiceitem}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoiceitems',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/invoiceitems/{invoiceitem}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const InvoicePayments = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoice_payments/{invoice_payment}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoice_payments',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const InvoiceRenderingTemplates = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoice_rendering_templates/{template}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoice_rendering_templates',\n        methodType: 'list',\n    }),\n    archive: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoice_rendering_templates/{template}/archive',\n    }),\n    unarchive: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoice_rendering_templates/{template}/unarchive',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Invoices = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/invoices' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/invoices/{invoice}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/invoices/{invoice}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoices',\n        methodType: 'list',\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/invoices/{invoice}' }),\n    addLines: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/add_lines',\n    }),\n    attachPayment: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/attach_payment',\n    }),\n    createPreview: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/create_preview',\n    }),\n    finalizeInvoice: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/finalize',\n    }),\n    listLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoices/{invoice}/lines',\n        methodType: 'list',\n    }),\n    markUncollectible: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/mark_uncollectible',\n    }),\n    pay: stripeMethod({ method: 'POST', fullPath: '/v1/invoices/{invoice}/pay' }),\n    removeLines: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/remove_lines',\n    }),\n    search: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoices/search',\n        methodType: 'search',\n    }),\n    sendInvoice: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/send',\n    }),\n    updateLines: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/update_lines',\n    }),\n    updateLineItem: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/lines/{line_item_id}',\n    }),\n    voidInvoice: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/void',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Mandates = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/mandates/{mandate}' }),\n});\n","'use strict';\nimport { StripeResource } from '../StripeResource.js';\nimport { queryStringifyRequestData } from '../utils.js';\nconst stripeMethod = StripeResource.method;\nconst oAuthHost = 'connect.stripe.com';\nexport const OAuth = StripeResource.extend({\n    basePath: '/',\n    authorizeUrl(params, options) {\n        params = params || {};\n        options = options || {};\n        let path = 'oauth/authorize';\n        // For Express accounts, the path changes\n        if (options.express) {\n            path = `express/${path}`;\n        }\n        if (!params.response_type) {\n            params.response_type = 'code';\n        }\n        if (!params.client_id) {\n            params.client_id = this._stripe.getClientId();\n        }\n        if (!params.scope) {\n            params.scope = 'read_write';\n        }\n        return `https://${oAuthHost}/${path}?${queryStringifyRequestData(params)}`;\n    },\n    token: stripeMethod({\n        method: 'POST',\n        path: 'oauth/token',\n        host: oAuthHost,\n    }),\n    deauthorize(spec, ...args) {\n        if (!spec.client_id) {\n            spec.client_id = this._stripe.getClientId();\n        }\n        return stripeMethod({\n            method: 'POST',\n            path: 'oauth/deauthorize',\n            host: oAuthHost,\n        }).apply(this, [spec, ...args]);\n    },\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PaymentAttemptRecords = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_attempt_records/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_attempt_records',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PaymentIntents = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/payment_intents' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_intents/{intent}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_intents/{intent}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_intents',\n        methodType: 'list',\n    }),\n    applyCustomerBalance: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_intents/{intent}/apply_customer_balance',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_intents/{intent}/cancel',\n    }),\n    capture: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_intents/{intent}/capture',\n    }),\n    confirm: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_intents/{intent}/confirm',\n    }),\n    incrementAuthorization: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_intents/{intent}/increment_authorization',\n    }),\n    listAmountDetailsLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_intents/{intent}/amount_details_line_items',\n        methodType: 'list',\n    }),\n    search: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_intents/search',\n        methodType: 'search',\n    }),\n    verifyMicrodeposits: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_intents/{intent}/verify_microdeposits',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PaymentLinks = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/payment_links' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_links/{payment_link}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_links/{payment_link}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_links',\n        methodType: 'list',\n    }),\n    listLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_links/{payment_link}/line_items',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PaymentMethodConfigurations = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_method_configurations',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_method_configurations/{configuration}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_method_configurations/{configuration}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_method_configurations',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PaymentMethodDomains = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_method_domains',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_method_domains/{payment_method_domain}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_method_domains/{payment_method_domain}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_method_domains',\n        methodType: 'list',\n    }),\n    validate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_method_domains/{payment_method_domain}/validate',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PaymentMethods = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/payment_methods' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_methods/{payment_method}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_methods/{payment_method}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_methods',\n        methodType: 'list',\n    }),\n    attach: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_methods/{payment_method}/attach',\n    }),\n    detach: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_methods/{payment_method}/detach',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PaymentRecords = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/payment_records/{id}' }),\n    reportPayment: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_records/report_payment',\n    }),\n    reportPaymentAttempt: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_records/{id}/report_payment_attempt',\n    }),\n    reportPaymentAttemptCanceled: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_records/{id}/report_payment_attempt_canceled',\n    }),\n    reportPaymentAttemptFailed: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_records/{id}/report_payment_attempt_failed',\n    }),\n    reportPaymentAttemptGuaranteed: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_records/{id}/report_payment_attempt_guaranteed',\n    }),\n    reportPaymentAttemptInformational: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_records/{id}/report_payment_attempt_informational',\n    }),\n    reportRefund: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_records/{id}/report_refund',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Payouts = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/payouts' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/payouts/{payout}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/payouts/{payout}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payouts',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payouts/{payout}/cancel',\n    }),\n    reverse: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payouts/{payout}/reverse',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Plans = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/plans' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/plans/{plan}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/plans/{plan}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/plans',\n        methodType: 'list',\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/plans/{plan}' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Prices = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/prices' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/prices/{price}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/prices/{price}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/prices',\n        methodType: 'list',\n    }),\n    search: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/prices/search',\n        methodType: 'search',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Products = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/products' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/products/{id}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/products/{id}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/products',\n        methodType: 'list',\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/products/{id}' }),\n    createFeature: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/products/{product}/features',\n    }),\n    deleteFeature: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/products/{product}/features/{id}',\n    }),\n    listFeatures: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/products/{product}/features',\n        methodType: 'list',\n    }),\n    retrieveFeature: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/products/{product}/features/{id}',\n    }),\n    search: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/products/search',\n        methodType: 'search',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PromotionCodes = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/promotion_codes' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/promotion_codes/{promotion_code}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/promotion_codes/{promotion_code}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/promotion_codes',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Quotes = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/quotes' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/quotes/{quote}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/quotes/{quote}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/quotes',\n        methodType: 'list',\n    }),\n    accept: stripeMethod({ method: 'POST', fullPath: '/v1/quotes/{quote}/accept' }),\n    cancel: stripeMethod({ method: 'POST', fullPath: '/v1/quotes/{quote}/cancel' }),\n    finalizeQuote: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/quotes/{quote}/finalize',\n    }),\n    listComputedUpfrontLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/quotes/{quote}/computed_upfront_line_items',\n        methodType: 'list',\n    }),\n    listLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/quotes/{quote}/line_items',\n        methodType: 'list',\n    }),\n    pdf: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/quotes/{quote}/pdf',\n        host: 'files.stripe.com',\n        streaming: true,\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Refunds = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/refunds' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/refunds/{refund}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/refunds/{refund}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/refunds',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/refunds/{refund}/cancel',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Reviews = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/reviews/{review}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/reviews',\n        methodType: 'list',\n    }),\n    approve: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/reviews/{review}/approve',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const SetupAttempts = StripeResource.extend({\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/setup_attempts',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const SetupIntents = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/setup_intents' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/setup_intents/{intent}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/setup_intents/{intent}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/setup_intents',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/setup_intents/{intent}/cancel',\n    }),\n    confirm: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/setup_intents/{intent}/confirm',\n    }),\n    verifyMicrodeposits: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/setup_intents/{intent}/verify_microdeposits',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ShippingRates = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/shipping_rates' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/shipping_rates/{shipping_rate_token}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/shipping_rates/{shipping_rate_token}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/shipping_rates',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Sources = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/sources' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/sources/{source}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/sources/{source}' }),\n    listSourceTransactions: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/sources/{source}/source_transactions',\n        methodType: 'list',\n    }),\n    verify: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/sources/{source}/verify',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const SubscriptionItems = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/subscription_items' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscription_items/{item}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscription_items/{item}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscription_items',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/subscription_items/{item}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const SubscriptionSchedules = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscription_schedules',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscription_schedules/{schedule}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscription_schedules/{schedule}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscription_schedules',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscription_schedules/{schedule}/cancel',\n    }),\n    release: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscription_schedules/{schedule}/release',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Subscriptions = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/subscriptions' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscriptions/{subscription_exposed_id}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscriptions/{subscription_exposed_id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscriptions',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/subscriptions/{subscription_exposed_id}',\n    }),\n    deleteDiscount: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/subscriptions/{subscription_exposed_id}/discount',\n    }),\n    migrate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscriptions/{subscription}/migrate',\n    }),\n    resume: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscriptions/{subscription}/resume',\n    }),\n    search: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscriptions/search',\n        methodType: 'search',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const TaxCodes = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/tax_codes/{id}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax_codes',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const TaxIds = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/tax_ids' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/tax_ids/{id}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax_ids',\n        methodType: 'list',\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/tax_ids/{id}' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const TaxRates = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/tax_rates' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/tax_rates/{tax_rate}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/tax_rates/{tax_rate}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax_rates',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Tokens = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/tokens' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/tokens/{token}' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Topups = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/topups' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/topups/{topup}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/topups/{topup}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/topups',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({ method: 'POST', fullPath: '/v1/topups/{topup}/cancel' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Transfers = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/transfers' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/transfers/{transfer}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/transfers/{transfer}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/transfers',\n        methodType: 'list',\n    }),\n    createReversal: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/transfers/{id}/reversals',\n    }),\n    listReversals: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/transfers/{id}/reversals',\n        methodType: 'list',\n    }),\n    retrieveReversal: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/transfers/{transfer}/reversals/{id}',\n    }),\n    updateReversal: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/transfers/{transfer}/reversals/{id}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const WebhookEndpoints = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/webhook_endpoints' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/webhook_endpoints/{webhook_endpoint}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/webhook_endpoints/{webhook_endpoint}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/webhook_endpoints',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/webhook_endpoints/{webhook_endpoint}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { resourceNamespace } from './ResourceNamespace.js';\nimport { Accounts as FinancialConnectionsAccounts } from './resources/FinancialConnections/Accounts.js';\nimport { ActiveEntitlements as EntitlementsActiveEntitlements } from './resources/Entitlements/ActiveEntitlements.js';\nimport { Alerts as BillingAlerts } from './resources/Billing/Alerts.js';\nimport { Associations as TaxAssociations } from './resources/Tax/Associations.js';\nimport { Authorizations as IssuingAuthorizations } from './resources/Issuing/Authorizations.js';\nimport { Authorizations as TestHelpersIssuingAuthorizations } from './resources/TestHelpers/Issuing/Authorizations.js';\nimport { Calculations as TaxCalculations } from './resources/Tax/Calculations.js';\nimport { Cardholders as IssuingCardholders } from './resources/Issuing/Cardholders.js';\nimport { Cards as IssuingCards } from './resources/Issuing/Cards.js';\nimport { Cards as TestHelpersIssuingCards } from './resources/TestHelpers/Issuing/Cards.js';\nimport { Configurations as BillingPortalConfigurations } from './resources/BillingPortal/Configurations.js';\nimport { Configurations as TerminalConfigurations } from './resources/Terminal/Configurations.js';\nimport { ConfirmationTokens as TestHelpersConfirmationTokens } from './resources/TestHelpers/ConfirmationTokens.js';\nimport { ConnectionTokens as TerminalConnectionTokens } from './resources/Terminal/ConnectionTokens.js';\nimport { CreditBalanceSummary as BillingCreditBalanceSummary } from './resources/Billing/CreditBalanceSummary.js';\nimport { CreditBalanceTransactions as BillingCreditBalanceTransactions } from './resources/Billing/CreditBalanceTransactions.js';\nimport { CreditGrants as BillingCreditGrants } from './resources/Billing/CreditGrants.js';\nimport { CreditReversals as TreasuryCreditReversals } from './resources/Treasury/CreditReversals.js';\nimport { Customers as TestHelpersCustomers } from './resources/TestHelpers/Customers.js';\nimport { DebitReversals as TreasuryDebitReversals } from './resources/Treasury/DebitReversals.js';\nimport { Disputes as IssuingDisputes } from './resources/Issuing/Disputes.js';\nimport { EarlyFraudWarnings as RadarEarlyFraudWarnings } from './resources/Radar/EarlyFraudWarnings.js';\nimport { EventDestinations as V2CoreEventDestinations } from './resources/V2/Core/EventDestinations.js';\nimport { Events as V2CoreEvents } from './resources/V2/Core/Events.js';\nimport { Features as EntitlementsFeatures } from './resources/Entitlements/Features.js';\nimport { FinancialAccounts as TreasuryFinancialAccounts } from './resources/Treasury/FinancialAccounts.js';\nimport { InboundTransfers as TestHelpersTreasuryInboundTransfers } from './resources/TestHelpers/Treasury/InboundTransfers.js';\nimport { InboundTransfers as TreasuryInboundTransfers } from './resources/Treasury/InboundTransfers.js';\nimport { Locations as TerminalLocations } from './resources/Terminal/Locations.js';\nimport { MeterEventAdjustments as BillingMeterEventAdjustments } from './resources/Billing/MeterEventAdjustments.js';\nimport { MeterEventAdjustments as V2BillingMeterEventAdjustments } from './resources/V2/Billing/MeterEventAdjustments.js';\nimport { MeterEventSession as V2BillingMeterEventSession } from './resources/V2/Billing/MeterEventSession.js';\nimport { MeterEventStream as V2BillingMeterEventStream } from './resources/V2/Billing/MeterEventStream.js';\nimport { MeterEvents as BillingMeterEvents } from './resources/Billing/MeterEvents.js';\nimport { MeterEvents as V2BillingMeterEvents } from './resources/V2/Billing/MeterEvents.js';\nimport { Meters as BillingMeters } from './resources/Billing/Meters.js';\nimport { OnboardingLinks as TerminalOnboardingLinks } from './resources/Terminal/OnboardingLinks.js';\nimport { Orders as ClimateOrders } from './resources/Climate/Orders.js';\nimport { OutboundPayments as TestHelpersTreasuryOutboundPayments } from './resources/TestHelpers/Treasury/OutboundPayments.js';\nimport { OutboundPayments as TreasuryOutboundPayments } from './resources/Treasury/OutboundPayments.js';\nimport { OutboundTransfers as TestHelpersTreasuryOutboundTransfers } from './resources/TestHelpers/Treasury/OutboundTransfers.js';\nimport { OutboundTransfers as TreasuryOutboundTransfers } from './resources/Treasury/OutboundTransfers.js';\nimport { PersonalizationDesigns as IssuingPersonalizationDesigns } from './resources/Issuing/PersonalizationDesigns.js';\nimport { PersonalizationDesigns as TestHelpersIssuingPersonalizationDesigns } from './resources/TestHelpers/Issuing/PersonalizationDesigns.js';\nimport { PhysicalBundles as IssuingPhysicalBundles } from './resources/Issuing/PhysicalBundles.js';\nimport { Products as ClimateProducts } from './resources/Climate/Products.js';\nimport { Readers as TerminalReaders } from './resources/Terminal/Readers.js';\nimport { Readers as TestHelpersTerminalReaders } from './resources/TestHelpers/Terminal/Readers.js';\nimport { ReceivedCredits as TestHelpersTreasuryReceivedCredits } from './resources/TestHelpers/Treasury/ReceivedCredits.js';\nimport { ReceivedCredits as TreasuryReceivedCredits } from './resources/Treasury/ReceivedCredits.js';\nimport { ReceivedDebits as TestHelpersTreasuryReceivedDebits } from './resources/TestHelpers/Treasury/ReceivedDebits.js';\nimport { ReceivedDebits as TreasuryReceivedDebits } from './resources/Treasury/ReceivedDebits.js';\nimport { Refunds as TestHelpersRefunds } from './resources/TestHelpers/Refunds.js';\nimport { Registrations as TaxRegistrations } from './resources/Tax/Registrations.js';\nimport { ReportRuns as ReportingReportRuns } from './resources/Reporting/ReportRuns.js';\nimport { ReportTypes as ReportingReportTypes } from './resources/Reporting/ReportTypes.js';\nimport { Requests as ForwardingRequests } from './resources/Forwarding/Requests.js';\nimport { ScheduledQueryRuns as SigmaScheduledQueryRuns } from './resources/Sigma/ScheduledQueryRuns.js';\nimport { Secrets as AppsSecrets } from './resources/Apps/Secrets.js';\nimport { Sessions as BillingPortalSessions } from './resources/BillingPortal/Sessions.js';\nimport { Sessions as CheckoutSessions } from './resources/Checkout/Sessions.js';\nimport { Sessions as FinancialConnectionsSessions } from './resources/FinancialConnections/Sessions.js';\nimport { Settings as TaxSettings } from './resources/Tax/Settings.js';\nimport { Suppliers as ClimateSuppliers } from './resources/Climate/Suppliers.js';\nimport { TestClocks as TestHelpersTestClocks } from './resources/TestHelpers/TestClocks.js';\nimport { Tokens as IssuingTokens } from './resources/Issuing/Tokens.js';\nimport { TransactionEntries as TreasuryTransactionEntries } from './resources/Treasury/TransactionEntries.js';\nimport { Transactions as FinancialConnectionsTransactions } from './resources/FinancialConnections/Transactions.js';\nimport { Transactions as IssuingTransactions } from './resources/Issuing/Transactions.js';\nimport { Transactions as TaxTransactions } from './resources/Tax/Transactions.js';\nimport { Transactions as TestHelpersIssuingTransactions } from './resources/TestHelpers/Issuing/Transactions.js';\nimport { Transactions as TreasuryTransactions } from './resources/Treasury/Transactions.js';\nimport { ValueListItems as RadarValueListItems } from './resources/Radar/ValueListItems.js';\nimport { ValueLists as RadarValueLists } from './resources/Radar/ValueLists.js';\nimport { VerificationReports as IdentityVerificationReports } from './resources/Identity/VerificationReports.js';\nimport { VerificationSessions as IdentityVerificationSessions } from './resources/Identity/VerificationSessions.js';\nexport { Accounts as Account } from './resources/Accounts.js';\nexport { AccountLinks } from './resources/AccountLinks.js';\nexport { AccountSessions } from './resources/AccountSessions.js';\nexport { Accounts } from './resources/Accounts.js';\nexport { ApplePayDomains } from './resources/ApplePayDomains.js';\nexport { ApplicationFees } from './resources/ApplicationFees.js';\nexport { Balance } from './resources/Balance.js';\nexport { BalanceSettings } from './resources/BalanceSettings.js';\nexport { BalanceTransactions } from './resources/BalanceTransactions.js';\nexport { Charges } from './resources/Charges.js';\nexport { ConfirmationTokens } from './resources/ConfirmationTokens.js';\nexport { CountrySpecs } from './resources/CountrySpecs.js';\nexport { Coupons } from './resources/Coupons.js';\nexport { CreditNotes } from './resources/CreditNotes.js';\nexport { CustomerSessions } from './resources/CustomerSessions.js';\nexport { Customers } from './resources/Customers.js';\nexport { Disputes } from './resources/Disputes.js';\nexport { EphemeralKeys } from './resources/EphemeralKeys.js';\nexport { Events } from './resources/Events.js';\nexport { ExchangeRates } from './resources/ExchangeRates.js';\nexport { FileLinks } from './resources/FileLinks.js';\nexport { Files } from './resources/Files.js';\nexport { InvoiceItems } from './resources/InvoiceItems.js';\nexport { InvoicePayments } from './resources/InvoicePayments.js';\nexport { InvoiceRenderingTemplates } from './resources/InvoiceRenderingTemplates.js';\nexport { Invoices } from './resources/Invoices.js';\nexport { Mandates } from './resources/Mandates.js';\nexport { OAuth } from './resources/OAuth.js';\nexport { PaymentAttemptRecords } from './resources/PaymentAttemptRecords.js';\nexport { PaymentIntents } from './resources/PaymentIntents.js';\nexport { PaymentLinks } from './resources/PaymentLinks.js';\nexport { PaymentMethodConfigurations } from './resources/PaymentMethodConfigurations.js';\nexport { PaymentMethodDomains } from './resources/PaymentMethodDomains.js';\nexport { PaymentMethods } from './resources/PaymentMethods.js';\nexport { PaymentRecords } from './resources/PaymentRecords.js';\nexport { Payouts } from './resources/Payouts.js';\nexport { Plans } from './resources/Plans.js';\nexport { Prices } from './resources/Prices.js';\nexport { Products } from './resources/Products.js';\nexport { PromotionCodes } from './resources/PromotionCodes.js';\nexport { Quotes } from './resources/Quotes.js';\nexport { Refunds } from './resources/Refunds.js';\nexport { Reviews } from './resources/Reviews.js';\nexport { SetupAttempts } from './resources/SetupAttempts.js';\nexport { SetupIntents } from './resources/SetupIntents.js';\nexport { ShippingRates } from './resources/ShippingRates.js';\nexport { Sources } from './resources/Sources.js';\nexport { SubscriptionItems } from './resources/SubscriptionItems.js';\nexport { SubscriptionSchedules } from './resources/SubscriptionSchedules.js';\nexport { Subscriptions } from './resources/Subscriptions.js';\nexport { TaxCodes } from './resources/TaxCodes.js';\nexport { TaxIds } from './resources/TaxIds.js';\nexport { TaxRates } from './resources/TaxRates.js';\nexport { Tokens } from './resources/Tokens.js';\nexport { Topups } from './resources/Topups.js';\nexport { Transfers } from './resources/Transfers.js';\nexport { WebhookEndpoints } from './resources/WebhookEndpoints.js';\nexport const Apps = resourceNamespace('apps', { Secrets: AppsSecrets });\nexport const Billing = resourceNamespace('billing', {\n    Alerts: BillingAlerts,\n    CreditBalanceSummary: BillingCreditBalanceSummary,\n    CreditBalanceTransactions: BillingCreditBalanceTransactions,\n    CreditGrants: BillingCreditGrants,\n    MeterEventAdjustments: BillingMeterEventAdjustments,\n    MeterEvents: BillingMeterEvents,\n    Meters: BillingMeters,\n});\nexport const BillingPortal = resourceNamespace('billingPortal', {\n    Configurations: BillingPortalConfigurations,\n    Sessions: BillingPortalSessions,\n});\nexport const Checkout = resourceNamespace('checkout', {\n    Sessions: CheckoutSessions,\n});\nexport const Climate = resourceNamespace('climate', {\n    Orders: ClimateOrders,\n    Products: ClimateProducts,\n    Suppliers: ClimateSuppliers,\n});\nexport const Entitlements = resourceNamespace('entitlements', {\n    ActiveEntitlements: EntitlementsActiveEntitlements,\n    Features: EntitlementsFeatures,\n});\nexport const FinancialConnections = resourceNamespace('financialConnections', {\n    Accounts: FinancialConnectionsAccounts,\n    Sessions: FinancialConnectionsSessions,\n    Transactions: FinancialConnectionsTransactions,\n});\nexport const Forwarding = resourceNamespace('forwarding', {\n    Requests: ForwardingRequests,\n});\nexport const Identity = resourceNamespace('identity', {\n    VerificationReports: IdentityVerificationReports,\n    VerificationSessions: IdentityVerificationSessions,\n});\nexport const Issuing = resourceNamespace('issuing', {\n    Authorizations: IssuingAuthorizations,\n    Cardholders: IssuingCardholders,\n    Cards: IssuingCards,\n    Disputes: IssuingDisputes,\n    PersonalizationDesigns: IssuingPersonalizationDesigns,\n    PhysicalBundles: IssuingPhysicalBundles,\n    Tokens: IssuingTokens,\n    Transactions: IssuingTransactions,\n});\nexport const Radar = resourceNamespace('radar', {\n    EarlyFraudWarnings: RadarEarlyFraudWarnings,\n    ValueListItems: RadarValueListItems,\n    ValueLists: RadarValueLists,\n});\nexport const Reporting = resourceNamespace('reporting', {\n    ReportRuns: ReportingReportRuns,\n    ReportTypes: ReportingReportTypes,\n});\nexport const Sigma = resourceNamespace('sigma', {\n    ScheduledQueryRuns: SigmaScheduledQueryRuns,\n});\nexport const Tax = resourceNamespace('tax', {\n    Associations: TaxAssociations,\n    Calculations: TaxCalculations,\n    Registrations: TaxRegistrations,\n    Settings: TaxSettings,\n    Transactions: TaxTransactions,\n});\nexport const Terminal = resourceNamespace('terminal', {\n    Configurations: TerminalConfigurations,\n    ConnectionTokens: TerminalConnectionTokens,\n    Locations: TerminalLocations,\n    OnboardingLinks: TerminalOnboardingLinks,\n    Readers: TerminalReaders,\n});\nexport const TestHelpers = resourceNamespace('testHelpers', {\n    ConfirmationTokens: TestHelpersConfirmationTokens,\n    Customers: TestHelpersCustomers,\n    Refunds: TestHelpersRefunds,\n    TestClocks: TestHelpersTestClocks,\n    Issuing: resourceNamespace('issuing', {\n        Authorizations: TestHelpersIssuingAuthorizations,\n        Cards: TestHelpersIssuingCards,\n        PersonalizationDesigns: TestHelpersIssuingPersonalizationDesigns,\n        Transactions: TestHelpersIssuingTransactions,\n    }),\n    Terminal: resourceNamespace('terminal', {\n        Readers: TestHelpersTerminalReaders,\n    }),\n    Treasury: resourceNamespace('treasury', {\n        InboundTransfers: TestHelpersTreasuryInboundTransfers,\n        OutboundPayments: TestHelpersTreasuryOutboundPayments,\n        OutboundTransfers: TestHelpersTreasuryOutboundTransfers,\n        ReceivedCredits: TestHelpersTreasuryReceivedCredits,\n        ReceivedDebits: TestHelpersTreasuryReceivedDebits,\n    }),\n});\nexport const Treasury = resourceNamespace('treasury', {\n    CreditReversals: TreasuryCreditReversals,\n    DebitReversals: TreasuryDebitReversals,\n    FinancialAccounts: TreasuryFinancialAccounts,\n    InboundTransfers: TreasuryInboundTransfers,\n    OutboundPayments: TreasuryOutboundPayments,\n    OutboundTransfers: TreasuryOutboundTransfers,\n    ReceivedCredits: TreasuryReceivedCredits,\n    ReceivedDebits: TreasuryReceivedDebits,\n    TransactionEntries: TreasuryTransactionEntries,\n    Transactions: TreasuryTransactions,\n});\nexport const V2 = resourceNamespace('v2', {\n    Billing: resourceNamespace('billing', {\n        MeterEventAdjustments: V2BillingMeterEventAdjustments,\n        MeterEventSession: V2BillingMeterEventSession,\n        MeterEventStream: V2BillingMeterEventStream,\n        MeterEvents: V2BillingMeterEvents,\n    }),\n    Core: resourceNamespace('core', {\n        EventDestinations: V2CoreEventDestinations,\n        Events: V2CoreEvents,\n    }),\n});\n","import * as _Error from './Error.js';\nimport { RequestSender } from './RequestSender.js';\nimport { StripeResource } from './StripeResource.js';\nimport { StripeContext } from './StripeContext.js';\nimport { createWebhooks } from './Webhooks.js';\nimport { ApiVersion } from './apiVersion.js';\nimport { CryptoProvider } from './crypto/CryptoProvider.js';\nimport { HttpClient, HttpClientResponse } from './net/HttpClient.js';\nimport * as resources from './resources.js';\nimport { createApiKeyAuthenticator, determineProcessUserAgentProperties, pascalToCamelCase, validateInteger, } from './utils.js';\nconst DEFAULT_HOST = 'api.stripe.com';\nconst DEFAULT_PORT = '443';\nconst DEFAULT_BASE_PATH = '/v1/';\nconst DEFAULT_API_VERSION = ApiVersion;\nconst DEFAULT_TIMEOUT = 80000;\nconst MAX_NETWORK_RETRY_DELAY_SEC = 5;\nconst INITIAL_NETWORK_RETRY_DELAY_SEC = 0.5;\nconst APP_INFO_PROPERTIES = ['name', 'version', 'url', 'partner_id'];\nconst ALLOWED_CONFIG_PROPERTIES = [\n    'authenticator',\n    'apiVersion',\n    'typescript',\n    'maxNetworkRetries',\n    'httpAgent',\n    'httpClient',\n    'timeout',\n    'host',\n    'port',\n    'protocol',\n    'telemetry',\n    'appInfo',\n    'stripeAccount',\n    'stripeContext',\n];\nconst defaultRequestSenderFactory = (stripe) => new RequestSender(stripe, StripeResource.MAX_BUFFERED_REQUEST_METRICS);\nexport function createStripe(platformFunctions, requestSender = defaultRequestSenderFactory) {\n    Stripe.PACKAGE_VERSION = '20.0.0';\n    Stripe.API_VERSION = ApiVersion;\n    Stripe.USER_AGENT = Object.assign({ bindings_version: Stripe.PACKAGE_VERSION, lang: 'node', publisher: 'stripe', uname: null, typescript: false }, determineProcessUserAgentProperties());\n    Stripe.StripeResource = StripeResource;\n    Stripe.StripeContext = StripeContext;\n    Stripe.resources = resources;\n    Stripe.HttpClient = HttpClient;\n    Stripe.HttpClientResponse = HttpClientResponse;\n    Stripe.CryptoProvider = CryptoProvider;\n    Stripe.webhooks = createWebhooks(platformFunctions);\n    function Stripe(key, config = {}) {\n        if (!(this instanceof Stripe)) {\n            return new Stripe(key, config);\n        }\n        const props = this._getPropsFromConfig(config);\n        this._platformFunctions = platformFunctions;\n        Object.defineProperty(this, '_emitter', {\n            value: this._platformFunctions.createEmitter(),\n            enumerable: false,\n            configurable: false,\n            writable: false,\n        });\n        this.VERSION = Stripe.PACKAGE_VERSION;\n        this.on = this._emitter.on.bind(this._emitter);\n        this.once = this._emitter.once.bind(this._emitter);\n        this.off = this._emitter.removeListener.bind(this._emitter);\n        const agent = props.httpAgent || null;\n        this._api = {\n            host: props.host || DEFAULT_HOST,\n            port: props.port || DEFAULT_PORT,\n            protocol: props.protocol || 'https',\n            basePath: DEFAULT_BASE_PATH,\n            version: props.apiVersion || DEFAULT_API_VERSION,\n            timeout: validateInteger('timeout', props.timeout, DEFAULT_TIMEOUT),\n            maxNetworkRetries: validateInteger('maxNetworkRetries', props.maxNetworkRetries, 2),\n            agent: agent,\n            httpClient: props.httpClient ||\n                (agent\n                    ? this._platformFunctions.createNodeHttpClient(agent)\n                    : this._platformFunctions.createDefaultHttpClient()),\n            dev: false,\n            stripeAccount: props.stripeAccount || null,\n            stripeContext: props.stripeContext || null,\n        };\n        const typescript = props.typescript || false;\n        if (typescript !== Stripe.USER_AGENT.typescript) {\n            // The mutation here is uncomfortable, but likely fastest;\n            // serializing the user agent involves shelling out to the system,\n            // and given some users may instantiate the library many times without switching between TS and non-TS,\n            // we only want to incur the performance hit when that actually happens.\n            Stripe.USER_AGENT.typescript = typescript;\n        }\n        if (props.appInfo) {\n            this._setAppInfo(props.appInfo);\n        }\n        this._prepResources();\n        this._setAuthenticator(key, props.authenticator);\n        this.errors = _Error;\n        this.webhooks = Stripe.webhooks;\n        this._prevRequestMetrics = [];\n        this._enableTelemetry = props.telemetry !== false;\n        this._requestSender = requestSender(this);\n        // Expose StripeResource on the instance too\n        // @ts-ignore\n        this.StripeResource = Stripe.StripeResource;\n    }\n    Stripe.errors = _Error;\n    Stripe.createNodeHttpClient = platformFunctions.createNodeHttpClient;\n    /**\n     * Creates an HTTP client for issuing Stripe API requests which uses the Web\n     * Fetch API.\n     *\n     * A fetch function can optionally be passed in as a parameter. If none is\n     * passed, will default to the default `fetch` function in the global scope.\n     */\n    Stripe.createFetchHttpClient = platformFunctions.createFetchHttpClient;\n    /**\n     * Create a CryptoProvider which uses the built-in Node crypto libraries for\n     * its crypto operations.\n     */\n    Stripe.createNodeCryptoProvider = platformFunctions.createNodeCryptoProvider;\n    /**\n     * Creates a CryptoProvider which uses the Subtle Crypto API from the Web\n     * Crypto API spec for its crypto operations.\n     *\n     * A SubtleCrypto interface can optionally be passed in as a parameter. If none\n     * is passed, will default to the default `crypto.subtle` object in the global\n     * scope.\n     */\n    Stripe.createSubtleCryptoProvider =\n        platformFunctions.createSubtleCryptoProvider;\n    Stripe.prototype = {\n        // Properties are set in the constructor above\n        _appInfo: undefined,\n        on: null,\n        off: null,\n        once: null,\n        VERSION: null,\n        StripeResource: null,\n        webhooks: null,\n        errors: null,\n        _api: null,\n        _prevRequestMetrics: null,\n        _emitter: null,\n        _enableTelemetry: null,\n        _requestSender: null,\n        _platformFunctions: null,\n        rawRequest(method, path, params, options) {\n            return this._requestSender._rawRequest(method, path, params, options);\n        },\n        /**\n         * @private\n         */\n        _setAuthenticator(key, authenticator) {\n            if (key && authenticator) {\n                throw new Error(\"Can't specify both apiKey and authenticator\");\n            }\n            if (!key && !authenticator) {\n                throw new Error('Neither apiKey nor config.authenticator provided');\n            }\n            this._authenticator = key\n                ? createApiKeyAuthenticator(key)\n                : authenticator;\n        },\n        /**\n         * @private\n         * This may be removed in the future.\n         */\n        _setAppInfo(info) {\n            if (info && typeof info !== 'object') {\n                throw new Error('AppInfo must be an object.');\n            }\n            if (info && !info.name) {\n                throw new Error('AppInfo.name is required');\n            }\n            info = info || {};\n            this._appInfo = APP_INFO_PROPERTIES.reduce((accum, prop) => {\n                if (typeof info[prop] == 'string') {\n                    accum = accum || {};\n                    accum[prop] = info[prop];\n                }\n                return accum;\n            }, {});\n        },\n        /**\n         * @private\n         * This may be removed in the future.\n         */\n        _setApiField(key, value) {\n            this._api[key] = value;\n        },\n        /**\n         * @private\n         * Please open or upvote an issue at github.com/stripe/stripe-node\n         * if you use this, detailing your use-case.\n         *\n         * It may be deprecated and removed in the future.\n         */\n        getApiField(key) {\n            return this._api[key];\n        },\n        setClientId(clientId) {\n            this._clientId = clientId;\n        },\n        getClientId() {\n            return this._clientId;\n        },\n        /**\n         * @private\n         * Please open or upvote an issue at github.com/stripe/stripe-node\n         * if you use this, detailing your use-case.\n         *\n         * It may be deprecated and removed in the future.\n         */\n        getConstant: (c) => {\n            switch (c) {\n                case 'DEFAULT_HOST':\n                    return DEFAULT_HOST;\n                case 'DEFAULT_PORT':\n                    return DEFAULT_PORT;\n                case 'DEFAULT_BASE_PATH':\n                    return DEFAULT_BASE_PATH;\n                case 'DEFAULT_API_VERSION':\n                    return DEFAULT_API_VERSION;\n                case 'DEFAULT_TIMEOUT':\n                    return DEFAULT_TIMEOUT;\n                case 'MAX_NETWORK_RETRY_DELAY_SEC':\n                    return MAX_NETWORK_RETRY_DELAY_SEC;\n                case 'INITIAL_NETWORK_RETRY_DELAY_SEC':\n                    return INITIAL_NETWORK_RETRY_DELAY_SEC;\n            }\n            return Stripe[c];\n        },\n        getMaxNetworkRetries() {\n            return this.getApiField('maxNetworkRetries');\n        },\n        /**\n         * @private\n         * This may be removed in the future.\n         */\n        _setApiNumberField(prop, n, defaultVal) {\n            const val = validateInteger(prop, n, defaultVal);\n            this._setApiField(prop, val);\n        },\n        getMaxNetworkRetryDelay() {\n            return MAX_NETWORK_RETRY_DELAY_SEC;\n        },\n        getInitialNetworkRetryDelay() {\n            return INITIAL_NETWORK_RETRY_DELAY_SEC;\n        },\n        /**\n         * @private\n         * Please open or upvote an issue at github.com/stripe/stripe-node\n         * if you use this, detailing your use-case.\n         *\n         * It may be deprecated and removed in the future.\n         *\n         * Gets a JSON version of a User-Agent and uses a cached version for a slight\n         * speed advantage.\n         */\n        getClientUserAgent(cb) {\n            return this.getClientUserAgentSeeded(Stripe.USER_AGENT, cb);\n        },\n        /**\n         * @private\n         * Please open or upvote an issue at github.com/stripe/stripe-node\n         * if you use this, detailing your use-case.\n         *\n         * It may be deprecated and removed in the future.\n         *\n         * Gets a JSON version of a User-Agent by encoding a seeded object and\n         * fetching a uname from the system.\n         */\n        getClientUserAgentSeeded(seed, cb) {\n            this._platformFunctions.getUname().then((uname) => {\n                var _a;\n                const userAgent = {};\n                for (const field in seed) {\n                    if (!Object.prototype.hasOwnProperty.call(seed, field)) {\n                        continue;\n                    }\n                    userAgent[field] = encodeURIComponent((_a = seed[field]) !== null && _a !== void 0 ? _a : 'null');\n                }\n                // URI-encode in case there are unusual characters in the system's uname.\n                userAgent.uname = encodeURIComponent(uname || 'UNKNOWN');\n                const client = this.getApiField('httpClient');\n                if (client) {\n                    userAgent.httplib = encodeURIComponent(client.getClientName());\n                }\n                if (this._appInfo) {\n                    userAgent.application = this._appInfo;\n                }\n                cb(JSON.stringify(userAgent));\n            });\n        },\n        /**\n         * @private\n         * Please open or upvote an issue at github.com/stripe/stripe-node\n         * if you use this, detailing your use-case.\n         *\n         * It may be deprecated and removed in the future.\n         */\n        getAppInfoAsString() {\n            if (!this._appInfo) {\n                return '';\n            }\n            let formatted = this._appInfo.name;\n            if (this._appInfo.version) {\n                formatted += `/${this._appInfo.version}`;\n            }\n            if (this._appInfo.url) {\n                formatted += ` (${this._appInfo.url})`;\n            }\n            return formatted;\n        },\n        getTelemetryEnabled() {\n            return this._enableTelemetry;\n        },\n        /**\n         * @private\n         * This may be removed in the future.\n         */\n        _prepResources() {\n            for (const name in resources) {\n                if (!Object.prototype.hasOwnProperty.call(resources, name)) {\n                    continue;\n                }\n                // @ts-ignore\n                this[pascalToCamelCase(name)] = new resources[name](this);\n            }\n        },\n        /**\n         * @private\n         * This may be removed in the future.\n         */\n        _getPropsFromConfig(config) {\n            // If config is null or undefined, just bail early with no props\n            if (!config) {\n                return {};\n            }\n            // config can be an object or a string\n            const isString = typeof config === 'string';\n            const isObject = config === Object(config) && !Array.isArray(config);\n            if (!isObject && !isString) {\n                throw new Error('Config must either be an object or a string');\n            }\n            // If config is a string, we assume the old behavior of passing in a string representation of the api version\n            if (isString) {\n                return {\n                    apiVersion: config,\n                };\n            }\n            // If config is an object, we assume the new behavior and make sure it doesn't contain any unexpected values\n            const values = Object.keys(config).filter((value) => !ALLOWED_CONFIG_PROPERTIES.includes(value));\n            if (values.length > 0) {\n                throw new Error(`Config object may only contain the following: ${ALLOWED_CONFIG_PROPERTIES.join(', ')}`);\n            }\n            return config;\n        },\n        parseEventNotification(payload, header, secret, tolerance, cryptoProvider, receivedAt\n        // this return type is ignored?? picks up types from `types/index.d.ts` instead\n        ) {\n            // parses and validates the event payload all in one go\n            const eventNotification = this.webhooks.constructEvent(payload, header, secret, tolerance, cryptoProvider, receivedAt);\n            // Parse string context into StripeContext object if present\n            if (eventNotification.context) {\n                eventNotification.context = StripeContext.parse(eventNotification.context);\n            }\n            eventNotification.fetchEvent = () => {\n                return this._requestSender._rawRequest('GET', `/v2/core/events/${eventNotification.id}`, undefined, {\n                    stripeContext: eventNotification.context,\n                }, ['fetch_event']);\n            };\n            eventNotification.fetchRelatedObject = () => {\n                if (!eventNotification.related_object) {\n                    return Promise.resolve(null);\n                }\n                return this._requestSender._rawRequest('GET', eventNotification.related_object.url, undefined, {\n                    stripeContext: eventNotification.context,\n                }, ['fetch_related_object']);\n            };\n            return eventNotification;\n        },\n    };\n    return Stripe;\n}\n","import { NodePlatformFunctions } from './platform/NodePlatformFunctions.js';\nimport { createStripe } from './stripe.core.js';\nexport const Stripe = createStripe(new NodePlatformFunctions());\nexport default Stripe;\n","import { StripeError, StripeSignatureVerificationError } from './Error.js';\nimport { CryptoProviderOnlySupportsAsyncError, } from './crypto/CryptoProvider.js';\nexport function createWebhooks(platformFunctions) {\n    const Webhook = {\n        DEFAULT_TOLERANCE: 300,\n        signature: null,\n        constructEvent(payload, header, secret, tolerance, cryptoProvider, receivedAt) {\n            try {\n                if (!this.signature) {\n                    throw new Error('ERR: missing signature helper, unable to verify');\n                }\n                this.signature.verifyHeader(payload, header, secret, tolerance || Webhook.DEFAULT_TOLERANCE, cryptoProvider, receivedAt);\n            }\n            catch (e) {\n                if (e instanceof CryptoProviderOnlySupportsAsyncError) {\n                    e.message +=\n                        '\\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`';\n                }\n                throw e;\n            }\n            const jsonPayload = payload instanceof Uint8Array\n                ? JSON.parse(new TextDecoder('utf8').decode(payload))\n                : JSON.parse(payload);\n            return jsonPayload;\n        },\n        async constructEventAsync(payload, header, secret, tolerance, cryptoProvider, receivedAt) {\n            if (!this.signature) {\n                throw new Error('ERR: missing signature helper, unable to verify');\n            }\n            await this.signature.verifyHeaderAsync(payload, header, secret, tolerance || Webhook.DEFAULT_TOLERANCE, cryptoProvider, receivedAt);\n            const jsonPayload = payload instanceof Uint8Array\n                ? JSON.parse(new TextDecoder('utf8').decode(payload))\n                : JSON.parse(payload);\n            return jsonPayload;\n        },\n        /**\n         * Generates a header to be used for webhook mocking\n         *\n         * @typedef {object} opts\n         * @property {number} timestamp - Timestamp of the header. Defaults to Date.now()\n         * @property {string} payload - JSON stringified payload object, containing the 'id' and 'object' parameters\n         * @property {string} secret - Stripe webhook secret 'whsec_...'\n         * @property {string} scheme - Version of API to hit. Defaults to 'v1'.\n         * @property {string} signature - Computed webhook signature\n         * @property {CryptoProvider} cryptoProvider - Crypto provider to use for computing the signature if none was provided. Defaults to NodeCryptoProvider.\n         */\n        generateTestHeaderString: function (opts) {\n            const preparedOpts = prepareOptions(opts);\n            const signature = preparedOpts.signature ||\n                preparedOpts.cryptoProvider.computeHMACSignature(preparedOpts.payloadString, preparedOpts.secret);\n            return preparedOpts.generateHeaderString(signature);\n        },\n        generateTestHeaderStringAsync: async function (opts) {\n            const preparedOpts = prepareOptions(opts);\n            const signature = preparedOpts.signature ||\n                (await preparedOpts.cryptoProvider.computeHMACSignatureAsync(preparedOpts.payloadString, preparedOpts.secret));\n            return preparedOpts.generateHeaderString(signature);\n        },\n    };\n    const signature = {\n        EXPECTED_SCHEME: 'v1',\n        verifyHeader(encodedPayload, encodedHeader, secret, tolerance, cryptoProvider, receivedAt) {\n            const { decodedHeader: header, decodedPayload: payload, details, suspectPayloadType, } = parseEventDetails(encodedPayload, encodedHeader, this.EXPECTED_SCHEME);\n            const secretContainsWhitespace = /\\s/.test(secret);\n            cryptoProvider = cryptoProvider || getCryptoProvider();\n            const expectedSignature = cryptoProvider.computeHMACSignature(makeHMACContent(payload, details), secret);\n            validateComputedSignature(payload, header, details, expectedSignature, tolerance, suspectPayloadType, secretContainsWhitespace, receivedAt);\n            return true;\n        },\n        async verifyHeaderAsync(encodedPayload, encodedHeader, secret, tolerance, cryptoProvider, receivedAt) {\n            const { decodedHeader: header, decodedPayload: payload, details, suspectPayloadType, } = parseEventDetails(encodedPayload, encodedHeader, this.EXPECTED_SCHEME);\n            const secretContainsWhitespace = /\\s/.test(secret);\n            cryptoProvider = cryptoProvider || getCryptoProvider();\n            const expectedSignature = await cryptoProvider.computeHMACSignatureAsync(makeHMACContent(payload, details), secret);\n            return validateComputedSignature(payload, header, details, expectedSignature, tolerance, suspectPayloadType, secretContainsWhitespace, receivedAt);\n        },\n    };\n    function makeHMACContent(payload, details) {\n        return `${details.timestamp}.${payload}`;\n    }\n    function parseEventDetails(encodedPayload, encodedHeader, expectedScheme) {\n        if (!encodedPayload) {\n            throw new StripeSignatureVerificationError(encodedHeader, encodedPayload, {\n                message: 'No webhook payload was provided.',\n            });\n        }\n        const suspectPayloadType = typeof encodedPayload != 'string' &&\n            !(encodedPayload instanceof Uint8Array);\n        const textDecoder = new TextDecoder('utf8');\n        const decodedPayload = encodedPayload instanceof Uint8Array\n            ? textDecoder.decode(encodedPayload)\n            : encodedPayload;\n        // Express's type for `Request#headers` is `string | []string`\n        // which is because the `set-cookie` header is an array,\n        // but no other headers are an array (docs: https://nodejs.org/api/http.html#http_message_headers)\n        // (Express's Request class is an extension of http.IncomingMessage, and doesn't appear to be relevantly modified: https://github.com/expressjs/express/blob/master/lib/request.js#L31)\n        if (Array.isArray(encodedHeader)) {\n            throw new Error('Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.');\n        }\n        if (encodedHeader == null || encodedHeader == '') {\n            throw new StripeSignatureVerificationError(encodedHeader, encodedPayload, {\n                message: 'No stripe-signature header value was provided.',\n            });\n        }\n        const decodedHeader = encodedHeader instanceof Uint8Array\n            ? textDecoder.decode(encodedHeader)\n            : encodedHeader;\n        const details = parseHeader(decodedHeader, expectedScheme);\n        if (!details || details.timestamp === -1) {\n            throw new StripeSignatureVerificationError(decodedHeader, decodedPayload, {\n                message: 'Unable to extract timestamp and signatures from header',\n            });\n        }\n        if (!details.signatures.length) {\n            throw new StripeSignatureVerificationError(decodedHeader, decodedPayload, {\n                message: 'No signatures found with expected scheme',\n            });\n        }\n        return {\n            decodedPayload,\n            decodedHeader,\n            details,\n            suspectPayloadType,\n        };\n    }\n    function validateComputedSignature(payload, header, details, expectedSignature, tolerance, suspectPayloadType, secretContainsWhitespace, receivedAt) {\n        const signatureFound = !!details.signatures.filter(platformFunctions.secureCompare.bind(platformFunctions, expectedSignature)).length;\n        const docsLocation = '\\nLearn more about webhook signing and explore webhook integration examples for various frameworks at ' +\n            'https://docs.stripe.com/webhooks/signature';\n        const whitespaceMessage = secretContainsWhitespace\n            ? '\\n\\nNote: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value'\n            : '';\n        if (!signatureFound) {\n            if (suspectPayloadType) {\n                throw new StripeSignatureVerificationError(header, payload, {\n                    message: 'Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.' +\n                        'Payload was provided as a parsed JavaScript object instead. \\n' +\n                        'Signature verification is impossible without access to the original signed material. \\n' +\n                        docsLocation +\n                        '\\n' +\n                        whitespaceMessage,\n                });\n            }\n            throw new StripeSignatureVerificationError(header, payload, {\n                message: 'No signatures found matching the expected signature for payload.' +\n                    ' Are you passing the raw request body you received from Stripe? \\n' +\n                    ' If a webhook request is being forwarded by a third-party tool,' +\n                    ' ensure that the exact request body, including JSON formatting and new line style, is preserved.\\n' +\n                    docsLocation +\n                    '\\n' +\n                    whitespaceMessage,\n            });\n        }\n        const timestampAge = Math.floor((typeof receivedAt === 'number' ? receivedAt : Date.now()) / 1000) - details.timestamp;\n        if (tolerance > 0 && timestampAge > tolerance) {\n            throw new StripeSignatureVerificationError(header, payload, {\n                message: 'Timestamp outside the tolerance zone',\n            });\n        }\n        return true;\n    }\n    function parseHeader(header, scheme) {\n        if (typeof header !== 'string') {\n            return null;\n        }\n        return header.split(',').reduce((accum, item) => {\n            const kv = item.split('=');\n            if (kv[0] === 't') {\n                accum.timestamp = parseInt(kv[1], 10);\n            }\n            if (kv[0] === scheme) {\n                accum.signatures.push(kv[1]);\n            }\n            return accum;\n        }, {\n            timestamp: -1,\n            signatures: [],\n        });\n    }\n    let webhooksCryptoProviderInstance = null;\n    /**\n     * Lazily instantiate a CryptoProvider instance. This is a stateless object\n     * so a singleton can be used here.\n     */\n    function getCryptoProvider() {\n        if (!webhooksCryptoProviderInstance) {\n            webhooksCryptoProviderInstance = platformFunctions.createDefaultCryptoProvider();\n        }\n        return webhooksCryptoProviderInstance;\n    }\n    function prepareOptions(opts) {\n        if (!opts) {\n            throw new StripeError({\n                message: 'Options are required',\n            });\n        }\n        const timestamp = Math.floor(opts.timestamp) || Math.floor(Date.now() / 1000);\n        const scheme = opts.scheme || signature.EXPECTED_SCHEME;\n        const cryptoProvider = opts.cryptoProvider || getCryptoProvider();\n        const payloadString = `${timestamp}.${opts.payload}`;\n        const generateHeaderString = (signature) => {\n            return `t=${timestamp},${scheme}=${signature}`;\n        };\n        return Object.assign(Object.assign({}, opts), { timestamp,\n            scheme,\n            cryptoProvider,\n            payloadString,\n            generateHeaderString });\n    }\n    Webhook.signature = signature;\n    return Webhook;\n}\n"],"names":["Object","Uint8Array","DataView","n","BigInt","TextEncoder","TextDecoder","r","Map","Error","Number","ArrayBuffer","Array","Uint16Array","Uint32Array","Int8Array","Int16Array","Int32Array","BigInt64Array","Float32Array","Float64Array","Set","i","String","e","Function","Reflect","EvalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError","t","Math","arguments","f","m","T","AggregateError","Symbol","Atomics","BigUint64Array","Boolean","Date","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","eval","Float16Array","FinalizationRegistry","isFinite","isNaN","JSON","parseFloat","parseInt","Promise","Proxy","RegExp","SharedArrayBuffer","Uint8ClampedArray","WeakMap","WeakRef","WeakSet","HTMLElement","window","globalThis","global","s","l","o","a","k","unescape","escape","Blob","URL","y","p","b","v","h","d","P","crypto","setTimeout","process","console","fetch","w","C","NaN","clearTimeout","AbortController","c"],"mappings":"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"}